// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/3d/interactive/editingTools/draw/DrawGraphicTool":function(){define("require exports tslib ../../../../../Graphic ../../../../../core/compilerUtils ../../../../../core/Evented ../../../../../core/maybe ../../../../../core/accessorSupport/decorators ../../../../../layers/GraphicsLayer ../../../../../support/elevationInfoUtils ../settings ./DrawOperation ./drawSurfaces ../../visualElements/OutlineVisualElement ../../visualElements/VerticesVisualElement ../../../../draw/support/createUtils ../../../../interactive/InteractiveToolBase".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E){function r(d){switch(d){case "point":case "polyline":case "polygon":return d;case "circle":case "rectangle":return"segment";default:return B.neverReached(d),null}}Object.defineProperty(l,"__esModule",{value:!0});D=function(E){function v(d){d=E.call(this,d)||this;d.drawOperation=null;d._createGraphic=null;d._outlineVisualElement=null;d._verticesVisualElement=null;d._stagedVerticesVisualElement=null;d.hasZ=!0;d.defaultZ=0;d.elevationInfo=null;d.snapToScene=
!1;d.mode="hybrid";d.geometryType=null;d.type="draw-3d";return d}u.__extends(v,E);v.prototype.initialize=function(){var A=this,n=d.unwrapOr(this.elevationInfo,{mode:this.hasZ?"absolute-height":"on-the-ground",offset:0});this._internalGraphicsLayer=new h({elevationInfo:n});this.view.map.layers.add(this._internalGraphicsLayer);this.drawOperation=new O.DrawOperation({view:this.view,manipulators:this.manipulators,geometryType:r(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,
snappingEnabled:this.snapToScene,snappingDrawSurface:new I.SceneDrawSurface(this.view,n,[this._internalGraphicsLayer]),hasM:!1,elevationInfo:n});this.drawOperation.on("vertex-add",function(d){return A.onVertexAdd(d)});this.drawOperation.on("vertex-remove",function(d){return A.onVertexRemove(d)});this.drawOperation.on("vertex-update",function(d){return A.onVertexUpdate(d)});this.drawOperation.on("cursor-update",function(d){return A.onCursorUpdate(d)});this.drawOperation.on("complete",function(d){return A.onComplete(d)})};
v.prototype.destroy=function(){this.drawOperation.destroy();this.drawOperation=null;this._destroyAllVisualisations();this.view.map.remove(this._internalGraphicsLayer);this._set("view",null)};v.prototype.onInputEvent=function(d){this.drawOperation.onInputEvent(d)};v.prototype._getCreateGeometry=function(r,A){void 0===A&&(A=!1);if(null==this.drawOperation)return null;var n=d.isSome(r)?r:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null;r=this.drawOperation.vertices;if(0===r.length)return null;
var h=this.drawOperation.spatialReference,v=r.slice(),C=[];d.isSome(n)&&(v.splice(n,1),C.push(r[n]));var n={regularVertices:null,stagedVertices:null,full:null,outline:null},E="3d"===this.view.type&&"global"===this.view.viewingMode;switch(this.geometryType){case "point":n.regularVertices=v;n.stagedVertices=C;n.full=this.drawOperation.coordinateHelper.createPointFromArray(r[0]);break;case "polyline":n.regularVertices=v;n.stagedVertices=C;1<r.length&&(n.full=F.createPolyline([r],h,E));break;case "polygon":n.regularVertices=
v;n.stagedVertices=C;2<r.length&&(n.full=F.createPolygon([r],h,E,!0));break;case "circle":0<r.length&&(v=F.createViewAlignedCoordinateSystem(this.view,r[0]),1===r.length&&A?(A=r[0],C=v.makeMapPoint(A[0]+N*this.view.resolution,A[1]),n.full=F.createCircle([A,C],v,!0)):2===r.length&&(n.full=this.forceUniformSize?F.createCircle(r,v,this.centered):F.createEllipse(r,v,this.centered)));break;case "rectangle":0<r.length&&(v=F.createViewAlignedCoordinateSystem(this.view,r[0]),1===r.length&&A?(A=r[0],C=v.makeMapPoint(A[0]+
N*this.view.resolution,A[1]),n.full=F.createSquare([A,C],v,!0)):2===r.length&&(n.full=this.forceUniformSize?F.createSquare(r,v,this.centered):F.createRectangle(r,v,this.centered)));break;default:return null}switch(this.geometryType){case "polyline":1<r.length&&(n.outline=F.createPolyline([r],h,E));break;case "polygon":if(1<r.length){var I=[r[r.length-1]];r.forEach(function(d){I.push(d)});n.outline=F.createPolyline([I],h,E)}break;case "circle":case "rectangle":d.isSome(n.full)&&"polygon"===n.full.type&&
(n.outline=F.createPolyline(n.full.rings,h,E))}return n};v.prototype._destroyAllVisualisations=function(){this._destroyCreateGraphic();this._destroyOutlineVisualElement();this._destroyVerticesVisualElement();this._destroyStagedVerticesVisualElement()};v.prototype._destroyCreateGraphic=function(){d.isSome(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null)};v.prototype._destroyOutlineVisualElement=function(){d.isSome(this._outlineVisualElement)&&
(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)};v.prototype._destroyVerticesVisualElement=function(){d.isSome(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)};v.prototype._destroyStagedVerticesVisualElement=function(){d.isSome(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)};v.prototype._updateCreateGraphic=function(r){void 0===r&&(r=null);r=this._getCreateGeometry(r);
if(d.isNone(r))this._destroyAllVisualisations();else{var v=this._internalGraphicsLayer.elevationInfo,h="on-the-ground"===n.getEffectiveElevationMode(this.hasZ,v);d.isSome(r.outline)?d.isNone(this._outlineVisualElement)?(this._outlineVisualElement=new C.OutlineVisualElement({view:this.view,geometry:r.outline,elevationInfo:d.unwrap(v),isDraped:h,attached:!1}),A.settings.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),A.settings.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),
this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=r.outline:this._destroyOutlineVisualElement();d.isSome(r.regularVertices)?d.isNone(this._verticesVisualElement)?(this._verticesVisualElement=new Q.VerticesVisualElement({view:this.view,spatialReference:this.view.spatialReference,vertices:r.regularVertices,elevationInfo:d.unwrap(this._internalGraphicsLayer.elevationInfo),attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=
r.regularVertices:this._destroyVerticesVisualElement();d.isSome(r.stagedVertices)?d.isNone(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new Q.VerticesVisualElement({view:this.view,spatialReference:this.view.spatialReference,vertices:r.stagedVertices,elevationInfo:d.unwrap(this._internalGraphicsLayer.elevationInfo),attached:!1}),this._stagedVerticesVisualElement.color=A.settings.colorToVec4(A.settings.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=
!0):this._stagedVerticesVisualElement.vertices=r.stagedVertices:this._destroyStagedVerticesVisualElement();d.isSome(r.full)?d.isNone(this._createGraphic)?(this._createGraphic=new y({geometry:r.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic)):this._createGraphic.geometry=r.full:this._destroyCreateGraphic()}};Object.defineProperty(v.prototype,"createGraphic",{get:function(){return this._createGraphic},enumerable:!0,
configurable:!0});Object.defineProperty(v.prototype,"enabled",{set:function(d){this.drawOperation.interactive=d;this._set("enabled",d)},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"centered",{set:function(d){this._set("centered",d);this._updateCreateGraphic()},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"forceUniformSize",{set:function(d){this._set("forceUniformSize",d);this._updateCreateGraphic()},enumerable:!0,configurable:!0});v.prototype.reset=function(){};
Object.defineProperty(v.prototype,"canRedo",{get:function(){return this.drawOperation.canRedo},enumerable:!0,configurable:!0});v.prototype.redo=function(){this.drawOperation.redo()};Object.defineProperty(v.prototype,"canUndo",{get:function(){return this.drawOperation.canUndo},enumerable:!0,configurable:!0});v.prototype.undo=function(){this.drawOperation.undo()};v.prototype.completeCreateOperation=function(){this.drawOperation.complete()};v.prototype.activate=function(){};v.prototype.deactivate=function(){this.drawOperation.isCompleted||
this.emit("complete",{graphic:null,type:"complete"})};v.prototype.getVertexCoords=function(){return this.drawOperation.vertices};v.prototype.onVertexAdd=function(d){this._updateCreateGraphic();this.emit("vertex-add",d)};v.prototype.onVertexRemove=function(d){this._updateCreateGraphic();this.emit("vertex-remove",d)};v.prototype.onVertexUpdate=function(d){this._updateCreateGraphic();this.emit("vertex-update",d)};v.prototype.onCursorUpdate=function(d){this._updateCreateGraphic(1===d.vertices.length?
d.vertices[0].vertexIndex:null);this.emit("cursor-update",d)};v.prototype.onComplete=function(r){this._updateCreateGraphic();r=null;if(this.drawOperation.isCompleted){var n=this._getCreateGeometry(null,!0);d.isSome(n)&&(r=new y({geometry:n.full,symbol:this.createGraphicSymbol}))}this.emit("complete",{graphic:r,type:"complete"})};u.__decorate([z.property({constructOnly:!0,nonNullable:!0})],v.prototype,"view",void 0);u.__decorate([z.property()],v.prototype,"createGraphicSymbol",void 0);u.__decorate([z.property()],
v.prototype,"createGraphic",null);u.__decorate([z.property({value:!0})],v.prototype,"enabled",null);u.__decorate([z.property({value:!0})],v.prototype,"centered",null);u.__decorate([z.property({value:!0})],v.prototype,"forceUniformSize",null);u.__decorate([z.property({constructOnly:!0})],v.prototype,"hasZ",void 0);u.__decorate([z.property({nonNullable:!0})],v.prototype,"defaultZ",void 0);u.__decorate([z.property({constructOnly:!0})],v.prototype,"elevationInfo",void 0);u.__decorate([z.property()],v.prototype,
"snapToScene",void 0);u.__decorate([z.property({constructOnly:!0})],v.prototype,"mode",void 0);u.__decorate([z.property({constructOnly:!0})],v.prototype,"geometryType",void 0);u.__decorate([z.property({readOnly:!0})],v.prototype,"type",void 0);return v=u.__decorate([z.subclass("esri.views.3d.interactive.editingTools.draw3D.DrawTool")],v)}(p.EventedMixin(E.InteractiveToolBase));l.DrawGraphicTool=D;var N=48})},"esri/layers/GraphicsLayer":function(){define("require exports tslib ../core/accessorSupport/decorators ./Layer ./mixins/ScaleRangeLayer ../support/GraphicsCollection ../symbols/support/ElevationInfo".split(" "),
function(D,l,u,y,B,p,d,z){return function(h){function n(n){n=h.call(this,n)||this;n.elevationInfo=null;n.graphics=new d.default;n.screenSizePerspectiveEnabled=!0;n.type="graphics";return n}u.__extends(n,h);n.prototype.destroy=function(){this.removeAll()};n.prototype.add=function(d){this.graphics.add(d);return this};n.prototype.addMany=function(d){this.graphics.addMany(d);return this};n.prototype.removeAll=function(){this.graphics.removeAll();return this};n.prototype.remove=function(d){this.graphics.remove(d)};
n.prototype.removeMany=function(d){this.graphics.removeMany(d)};n.prototype.on=function(d,n){return h.prototype.on.call(this,d,n)};n.prototype.graphicChanged=function(d){this.emit("graphic-update",d)};u.__decorate([y.property({type:z})],n.prototype,"elevationInfo",void 0);u.__decorate([y.property(d.graphicsCollectionProperty)],n.prototype,"graphics",void 0);u.__decorate([y.property({type:["show","hide"]})],n.prototype,"listMode",void 0);u.__decorate([y.property()],n.prototype,"screenSizePerspectiveEnabled",
void 0);u.__decorate([y.property({readOnly:!0})],n.prototype,"type",void 0);return n=u.__decorate([y.subclass("esri.layers.GraphicsLayer")],n)}(p.ScaleRangeLayer(B))})},"esri/support/elevationInfoUtils":function(){define(["require","exports","../core/compilerUtils","../core/maybe","../symbols/support/unitConversionUtils"],function(D,l,u,y,B){function p(d,A){return y.isNone(A)||!A.mode?d?"absolute-height":"on-the-ground":A.mode}function d(d,A){return p(y.isSome(d)?d.hasZ:!1,A)}function z(n){var A=
h(n);return d(n.geometry,A)}function h(d){return d.layer&&"elevationInfo"in d.layer?d.layer.elevationInfo:null}Object.defineProperty(l,"__esModule",{value:!0});l.getEffectiveElevationMode=p;l.getGeometryEffectiveElevationMode=d;l.getGraphicEffectiveElevationMode=z;l.getGraphicEffectiveElevationInfo=function(n){var A=h(n);n=d(n.geometry,A);A=y.isSome(A)&&"on-the-ground"!==n?y.unwrapOr(A.offset,0)*B.getMetersPerUnit(y.unwrapOr(A.unit,"meters")):0;return{mode:n,offset:A}};l.hasGraphicFeatureExpressionInfo=
function(d){if("on-the-ground"===z(d))return!1;d=h(d);d=y.isSome(d)&&d.featureExpressionInfo?d.featureExpressionInfo.expression:null;return!(!d||"0"===d)};l.getZForElevationMode=function(d,A,h){if(!y.isNone(h)&&h.mode){var n=d.hasZ?d.z:0,C=y.isSome(h.offset)?h.offset:0;switch(h.mode){case "absolute-height":return n-C;case "on-the-ground":return 0;case "relative-to-ground":return d=(A.elevationProvider.getElevation(d.x,d.y,d.z,d.spatialReference,"ground")||0)+C,n-d;case "relative-to-scene":return d=
(A.elevationProvider.getElevation(d.x,d.y,d.z,d.spatialReference,"scene")||0)+C,n-d}}};l.getConvertedElevation=function(d,h,p,I){void 0===I&&(I=null);if(!y.isNone(p)){var n=y.isSome(I)?I.mode:"absolute-height";if("on-the-ground"===n)return 0;var A=h.hasZ?h.z:0,z=y.isSome(p.offset)?p.offset:0;switch(p.mode){case "absolute-height":A+=z;break;case "on-the-ground":A=d.elevationProvider.getElevation(h.x,h.y,0,h.spatialReference,"ground")||0;break;case "relative-to-ground":p=(d.elevationProvider.getElevation(h.x,
h.y,h.z,h.spatialReference,"ground")||0)+z;A+=p;break;case "relative-to-scene":p=(d.elevationProvider.getElevation(h.x,h.y,h.z,h.spatialReference,"scene")||0)+z,A+=p}I=y.isSome(I)&&y.isSome(I.offset)?I.offset:0;switch(n){case "absolute-height":return A-I;case "relative-to-ground":return d=(d.elevationProvider.getElevation(h.x,h.y,h.z,h.spatialReference,"ground")||0)+I,A-d;case "relative-to-scene":return p=(d.elevationProvider.getElevation(h.x,h.y,h.z,h.spatialReference,"scene")||0)+I,A-p;default:return u.neverReached(n),
null}}}})},"esri/views/3d/interactive/editingTools/settings":function(){define("require exports tslib ../../../../Color ../../../../core/colorUtils ../../../../core/compilerUtils ../../../../core/libs/gl-matrix-2/vec4f64 ../../webgl-engine/materials/lineStippleUtils".split(" "),function(D,l,u,y,B,p,d,z){function h(d,r){d=d.clone();d.a*=r;return d}function n(d,r){if(r)for(var h in r)d[h]=r[h]}function A(r){return d.vec4f64.fromArray(y.toUnitRGBA(r))}function O(d,r){r=r&&"foreground"===r.layer;switch(d){case "always":return r?
32:16;case "transparent":return r?8:4;case "always-transparent":return 2;default:p.neverReached(d)}return 1}Object.defineProperty(l,"__esModule",{value:!0});l.colors={main:new y([255,127,0]),selected:new y([255,255,255]),staged:new y([12,207,255]),outline:new y([0,0,0,.5]),selectedOutline:new y([255,255,255])};var I=function(){function d(d){this.color=l.colors.main;this.height=90;this.coneHeight=40;this.coneWidth=23;this.width=3;this.occludedMode="always";n(this,d)}Object.defineProperty(d.prototype,
"occludedFlag",{get:function(){return O(this.occludedMode)},enumerable:!0,configurable:!0});return d}(),C=function(){function d(d){this.size=11;this.outlineSize=1;this.collisionPadding=9;this.color=l.colors.main;this.outlineColor=l.colors.outline;this.occludedMode="always";this.hoverOutlineColor=l.colors.selectedOutline;n(this,d)}Object.defineProperty(d.prototype,"renderOccludedFlag",{get:function(){return O(this.occludedMode)},enumerable:!0,configurable:!0});d.prototype.apply=function(d,r){var h=
this[d];r.setParameterValues({color:A(h),transparent:"color"===d?1>h.a:!0});r.renderOccluded=this.renderOccludedFlag};return d}(),Q=function(){return function(d){this.vertex=new C({color:l.colors.main,outlineColor:l.colors.outline});var r=h(l.colors.main,2/3).clone(),v=B.toHSV(r);v.s*=.5;v=B.toRGB(v);r.r=v.r;r.g=v.g;r.b=v.b;this.edge=new C({color:r,outlineColor:h(l.colors.outline,.5),size:8,collisionPadding:8});this.selected=new C({color:l.colors.selected,outlineColor:l.colors.outline});n(this,d)}}(),
F=function(){function d(d){this.color=l.colors.selected;this.width=1.5;this.stipplePattern=z.createStipplePattern([5,5]);this.stippleOffColor=l.colors.outline;this.falloff=0;this.innerWidth=1.5;this.innerColor=l.colors.selected;this.occludedMode="transparent";this.occludedLayer="default";n(this,d)}d.prototype.apply=function(d){d.color=A(this.color);d.width=this.width;d.stipplePattern=this.stipplePattern;d.stippleOffColor=A(this.stippleOffColor);d.falloff=this.falloff;d.innerWidth=this.innerWidth;
d.innerColor=A(this.innerColor);d.occludedMode=O(this.occludedMode,{layer:this.occludedLayer})};return d}(),E=function(){function d(d){this.color=l.colors.selected;this.size=4;this.outlineSize=1;this.outlineColor=l.colors.outline;this.shape="square";n(this,d)}d.prototype.apply=function(d){d.color=A(this.color);d.size=this.size;d.outlineSize=this.outlineSize;d.outlineColor=A(this.outlineColor);d.primitive=this.shape};return d}(),r=function(){function d(d){this.innerColor=l.colors.selected;this.innerWidth=
1;this.glowColor=l.colors.main;this.glowFalloff=this.glowWidth=8;this.globalAlpha=.3;this.globalAlphaContrastBoost=1.5;this.radius=3;this.heightFillColor=l.colors.main;n(this,d)}d.prototype.apply=function(d,r){void 0===r&&(r=1);r={glowColor:y.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:y.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*r,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};
"style"in d?d.style=r:d.laserlineStyle=r};return d}(),N=function(){return function(d){this.outline=new F({color:l.colors.selected,occludedMode:"transparent",occludedLayer:"foreground",stippleOffColor:l.colors.outline,stipplePattern:z.createStipplePattern([5,5]),width:1.5});this.staged=new F({color:l.colors.selected,occludedMode:"transparent",occludedLayer:"foreground",innerColor:l.colors.staged,stippleOffColor:l.colors.outline,stipplePattern:z.createStipplePattern([5,5]),width:1.5});this.shadowStyle=
new r({globalAlpha:.3,glowColor:l.colors.main,glowFalloff:8,glowWidth:8,innerColor:l.colors.selected,innerWidth:1});n(this,d)}}(),v=function(){return function(d){this.outline=new E({color:l.colors.selected,outlineColor:l.colors.outline,outlineSize:1,shape:"circle",size:4});this.shadowStyle=new r({globalAlpha:.3,glowColor:l.colors.main,glowFalloff:1.5,glowWidth:6,innerColor:l.colors.selected,innerWidth:1,radius:2});n(this,d)}}(),M=function(d){function r(r){var h=d.call(this)||this;h.infinite="ground";
n(h,r);return h}u.__extends(r,d);Object.defineProperty(r.prototype,"infiniteType",{get:function(){switch(this.infinite){case "single":return 1;case "double":return 2;case "ground":return 3;default:return p.neverReached(this.infinite),1}},enumerable:!0,configurable:!0});return r}(F),U=function(){return function(d){this.lineGraphics=new N;this.pointGraphics=new v;this.heightPlane=new r({globalAlpha:.3,glowColor:l.colors.main,glowFalloff:8,glowWidth:8,innerColor:l.colors.selected,innerWidth:1});this.heightBox=
new r({globalAlpha:.3,glowColor:l.colors.main,glowFalloff:8,glowWidth:8,innerColor:l.colors.selected,innerWidth:0,heightFillColor:l.colors.main});this.zVerticalLine=new M({color:h(l.colors.main,.5),falloff:2,innerColor:h(l.colors.selected,0),occludedMode:"transparent",stipplePattern:null,width:5,infinite:"ground"});this.laserlineAlphaMultiplier=1.5;this.heightPlaneAngleCutoff=20;n(this,d)}}();D=function(){function d(d){this.visualElements=new U;this.reshapeManipulators=new Q;this.zManipulator=new I;
n(this,d)}d.prototype.colorToVec4=function(d){return A(d)};return d}();l.settings=new D})},"esri/core/colorUtils":function(){define(["require","exports"],function(D,l){function u(d,h){var n=[],A,p;if(d[0].length!==h.length)throw"dimensions do not match";var z=d.length,E=d[0].length,r=0;for(A=0;A<z;A++){for(p=r=0;p<E;p++)r+=d[A][p]*h[p];n.push(r)}return n}function y(d){d=[d.r/255,d.g/255,d.b/255].map(function(d){return.04045>=d?d/12.92:Math.pow((d+.055)/1.055,2.4)});d=u(h,d);return{x:100*d[0],y:100*
d[1],z:100*d[2]}}function B(d){d=u(n,[d.x/100,d.y/100,d.z/100]).map(function(d){return Math.min(1,Math.max(.0031308>=d?12.92*d:1.055*Math.pow(d,1/2.4)-.055,0))});return{r:Math.round(255*d[0]),g:Math.round(255*d[1]),b:Math.round(255*d[2])}}function p(d){d=[d.x/95.047,d.y/100,d.z/108.883].map(function(d){return d>Math.pow(6/29,3)?Math.pow(d,1/3):1/3*Math.pow(29/6,2)*d+4/29});return{l:116*d[1]-16,a:500*(d[0]-d[1]),b:200*(d[1]-d[2])}}function d(d){var h=d.l;d=[(h+16)/116+d.a/500,(h+16)/116,(h+16)/116-
d.b/200].map(function(d){return d>6/29?Math.pow(d,3):3*Math.pow(6/29,2)*(d-4/29)});return{x:95.047*d[0],y:100*d[1],z:108.883*d[2]}}function z(h){if("r"in h&&"g"in h&&"b"in h)return h;if("l"in h&&"c"in h&&"h"in h){var n=h.c,p=h.h;return B(d({l:h.l,a:n*Math.cos(p),b:n*Math.sin(p)}))}if("l"in h&&"a"in h&&"b"in h)return B(d(h));if("x"in h&&"y"in h&&"z"in h)return B(h);if("h"in h&&"s"in h&&"v"in h){p=(h.h+360)%360/60;n=h.v/100*255;h=h.s/100*n;var C=h*(1-Math.abs(p%2-1));switch(Math.floor(p)){case 0:p=
{r:h,g:C,b:0};break;case 1:p={r:C,g:h,b:0};break;case 2:p={r:0,g:h,b:C};break;case 3:p={r:0,g:C,b:h};break;case 4:p={r:C,g:0,b:h};break;case 5:case 6:p={r:h,g:0,b:C};break;default:p={r:0,g:0,b:0}}p.r=Math.round(p.r+n-h);p.g=Math.round(p.g+n-h);p.b=Math.round(p.b+n-h);return p}}Object.defineProperty(l,"__esModule",{value:!0});var h=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],n=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];l.toRGB=z;l.toHSV=function(d){if("h"in
d&&"s"in d&&"v"in d)return d;var h=z(d);d=h.r;var n=h.g,h=h.b,C=Math.max(d,n,h),p=C-Math.min(d,n,h),l;0===p?l=0:C===d?l=(n-h)/p%6:C===n?l=(h-d)/p+2:C===h&&(l=(d-n)/p+4);0>l&&(l+=6);return{h:60*l,s:100*(0===p?0:p/C),v:100/255*C}};l.toLAB=function(d){return"l"in d&&"a"in d&&"b"in d?d:p(y(z(d)))};l.toLCH=function(d){if(!("l"in d&&"c"in d&&"h"in d)){var h=p(y(z(d)));d=h.l;var n=h.a,C=h.b,h=Math.sqrt(n*n+C*C),n=Math.atan2(C,n),n=0<n?n:n+2*Math.PI;d={l:d,c:h,h:n}}return d};l.toXYZ=function(d){return"x"in
d&&"y"in d&&"z"in d?d:y(z(d))};l.darken=function(h,n){h=p(y(h));h.l*=1-n;return B(d(h))}})},"esri/views/3d/interactive/editingTools/draw/DrawOperation":function(){define("require exports tslib ../../../../../geometry ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/screenUtils ../../../../../core/accessorSupport/decorators ../coordinateHelper ./DrawManipulator ./drawSurfaces ../editGeometry/EditGeometryHelper ../../../../interactive/dragEventPipeline".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C){Object.defineProperty(l,"__esModule",{value:!0});D=function(l){function E(r){var h=l.call(this)||this;h._manipulator=null;h._stagedVertex=null;h.drawingMode="hybrid";h.geometryType=null;h.elevationInfo=null;h.snappingEnabled=null;h._handles=new p;h._defaultZ=0;h._elevationDrawSurface=null;h._snappingDrawSurface=null;h._createOperationCompleted=!1;h.view=r.view;h.drawingMode=r.drawingMode;h.geometryType=r.geometryType;h.elevationInfo=r.elevationInfo;h.coordinateHelper=
n.createCoordinateHelper(r.hasZ,r.hasM,h.view.spatialReference,h.view.viewingMode);h._defaultZ=r.defaultZ;h.snappingEnabled=r.snappingEnabled;h._snappingDrawSurface=d.unwrap(r.snappingDrawSurface);h._elevationDrawSurface=new O.ElevationDrawSurface(h.elevationInfo,h._defaultZ,h.view);h._editGeometry=new I.EditGeometryHelper(new I.EditGeometry(h.coordinateHelper),"segment"===h.geometryType?"polyline":h.geometryType);h._activeComponent=new I.Component(h._editGeometry.data);h._editGeometry.data.components.push(h._activeComponent);
h._editGeometry.on(["vertex-add","vertex-update","vertex-remove"],function(d){var r=d.vertices.map(function(d){return{componentIndex:0,vertexIndex:d.index,coordinates:h.coordinateHelper.toArray(d.pos)}}),n=r.map(function(d){return d.coordinates});switch(d.type){case "vertex-add":h.emit(d.type,u.__assign(u.__assign({},d),{added:n,vertices:r}));break;case "vertex-update":h.emit(d.type,u.__assign(u.__assign({},d),{updated:n,vertices:r}));break;case "vertex-remove":h.emit(d.type,u.__assign(u.__assign({},
d),{removed:n,vertices:r}))}});h._manipulator=new A.DrawManipulator;r.manipulators.add(h._manipulator);h._manipulator.grabbable="point"!==h.geometryType;r=C.createManipulatorDragEventPipeline(h._manipulator,function(d,r,n,v){"click"===h.drawingMode||h.isCompleted||(r.next(h._screenToMapDragEventStep()).next(function(d){"start"===d.action&&(h.stagedVertex=d.mapStart,"segment"!==h.geometryType&&"hybrid"!==h.drawingMode||h.commitStagedVertex());return d}).next(function(d){switch(d.action){case "start":case "update":switch(h.drawingMode){case "freehand":case "hybrid":h.stagedVertex=
d.mapEnd,"polygon"!==h.geometryType&&"polyline"!==h.geometryType||h.commitStagedVertex()}break;case "end":"freehand"!==h.drawingMode&&"segment"!==h.geometryType&&"point"!==h.geometryType||h.complete()}return d}),n.next(function(d){}))});var v=h._manipulator.events.on("immediate-double-click",function(d){h.complete();d.stopPropagation()}),E=h._manipulator.events.on("immediate-click",function(r){var n=h._activeComponent,v=h._closeOnClickVertexIndex(r.screenPoint);if(d.isSome(v))h.discardStagedVertex(),
h.complete();else if(v=h._screenToMap(r.screenPoint),d.isSome(v))switch(h.drawingMode){case "click":case "hybrid":h.discardStagedVertex(),h._editGeometry.appendVertex(h.coordinateHelper.fromPoint(v)),("point"===h.geometryType||"segment"===h.geometryType&&2===n.vertices.length||"segment"===h.geometryType&&"hybrid"===h.drawingMode&&1===n.vertices.length)&&h.complete()}r.stopPropagation()});h._handles.add([r,E,v]);return h}u.__extends(E,l);Object.defineProperty(E.prototype,"isCompleted",{get:function(){return this._createOperationCompleted},
enumerable:!0,configurable:!0});E.prototype.destroy=function(){this._handles.destroy();this._handles=null};E.prototype.onInputEvent=function(h){if(!(this._manipulator.dragging||this._manipulator.grabbing&&"pointer-move"===h.type))switch(h.type){case "pointer-move":var r=z.createScreenPoint(h.x,h.y),n=this._closeOnClickVertexIndex(r);d.isSome(n)?(this.discardStagedVertex(),r={componentIndex:0,vertexIndex:n,coordinates:this.coordinateHelper.toArray(this._activeComponent.vertices[n].pos)},this.emit("cursor-update",
{updated:null,vertices:[r],operation:"apply",type:"vertex-update"})):(r=this._screenToMap(r),d.isSome(r)?(this.stagedVertex=r,this._manipulator.cursor="crosshair"):this._manipulator.cursor=null);h.stopPropagation()}};Object.defineProperty(E.prototype,"canRedo",{get:function(){return this._editGeometry.canRedo},enumerable:!0,configurable:!0});E.prototype.redo=function(){this._editGeometry.redo()};Object.defineProperty(E.prototype,"canUndo",{get:function(){return this._editGeometry.canUndo},enumerable:!0,
configurable:!0});E.prototype.undo=function(){this._editGeometry.undo()};E.prototype.complete=function(){this.commitStagedVertex();this._createOperationCompleted=!0;this.emit("complete",{vertices:this.vertices.map(function(d,h){return{componentIndex:0,vertexIndex:h,coordinates:d}}),aborted:!1,type:"complete"})};Object.defineProperty(E.prototype,"interactive",{get:function(){return this._manipulator.interactive},set:function(d){this._manipulator.interactive=d},enumerable:!0,configurable:!0});Object.defineProperty(E.prototype,
"numVertices",{get:function(){return d.isSome(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length},enumerable:!0,configurable:!0});Object.defineProperty(E.prototype,"vertices",{get:function(){var h=this,n=this._activeComponent.vertices.map(function(d){return h.coordinateHelper.toArray(d.pos)});d.isSome(this._stagedVertex)&&n.push(this.coordinateHelper.pointToArray(this._stagedVertex));return n},enumerable:!0,configurable:!0});Object.defineProperty(E.prototype,
"spatialReference",{get:function(){return this.view.spatialReference},enumerable:!0,configurable:!0});Object.defineProperty(E.prototype,"hasStagedVertex",{get:function(){return d.isSome(this._stagedVertex)},enumerable:!0,configurable:!0});Object.defineProperty(E.prototype,"stagedVertex",{get:function(){return this._stagedVertex},set:function(h){d.isNone(h)?this.discardStagedVertex():(this._stagedVertex=h,h={componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(h)},
this.emit("cursor-update",{updated:null,vertices:[h],operation:"apply",type:"vertex-update"}))},enumerable:!0,configurable:!0});E.prototype.commitStagedVertex=function(){if(d.isSome(this._stagedVertex)){var h=this._stagedVertex;this._stagedVertex=null;this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(h))}};E.prototype.discardStagedVertex=function(){this._stagedVertex=null};E.prototype._screenToMapDragEventStep=function(){var h=this,n=null;return function(r){"start"===r.action&&(n=h._screenToMap(r.screenStart));
if(d.isNone(n))return null;var v=h._screenToMap(r.screenEnd);return d.isSome(v)?u.__assign(u.__assign({},r),{mapStart:n,mapEnd:v}):null}};E.prototype._screenToMap=function(d){return this._getDrawSurface().screenToMap(d)};E.prototype._mapToScreen=function(d){return this._getDrawSurface().mapToScreen(d)};E.prototype._getDrawSurface=function(){var h=null;if(this.coordinateHelper.hasZ){var h=this._defaultZ,n=!1;d.isSome(this.elevationInfo)&&"absolute-height"===this.elevationInfo.mode&&(n=!0);d.isSome(this.snappingEnabled)&&
(n=this.snappingEnabled);d.isSome(this.elevationInfo)&&"on-the-ground"===this.elevationInfo.mode&&(n=!1);var v=this.vertices,C=this.hasStagedVertex?v.length-1:v.length;("segment"===this.geometryType||"polygon"===this.geometryType)&&0<C&&(h=this.coordinateHelper.zFromArray(v[0]),n=!1);n?h=this._snappingDrawSurface:(this._elevationDrawSurface.defaultZ=h,h=this._elevationDrawSurface)}else this._elevationDrawSurface.defaultZ=null,h=this._elevationDrawSurface;return h};E.prototype._vertexWithinPointerDistance=
function(h,n){var r=this._mapToScreen(h);d.isSome(r)?(h=r.x-n.x,n=r.y-n.y,n=5>=Math.sqrt(h*h+n*n)):n=!1;return n};E.prototype._closeOnClickVertexIndex=function(d){var h=this._activeComponent;if("polygon"===this.geometryType&&2<h.vertices.length){if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(h.vertices[0].pos,Q),d))return 0;if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(h.vertices[h.vertices.length-1].pos,Q),d))return h.vertices.length-1}return null};return E=
u.__decorate([h.subclass("esri.views.3d.interactive.editingTools.draw3D.DrawOperation")],E)}(B);l.DrawOperation=D;var Q=new y.Point({x:0,y:0,z:0})})},"esri/views/3d/interactive/editingTools/coordinateHelper":function(){define("require exports ../../../../geometry ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec2f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../../../../geometry/support/spatialReferenceUtils".split(" "),
function(D,l,u,y,B,p,d,z,h,n){function A(d,h){if(h.supported){var r=Infinity,n=-Infinity,v=h.upperBoundX-h.lowerBoundX;d.forEach(function(d){for(var C=d.pos[0];C<h.lowerBoundX;)C+=v;for(;C>h.upperBoundX;)C-=v;r=Math.min(r,C);n=Math.max(n,C);d.pos[0]=C});var C=n-r;v-C<C&&d.forEach(function(d){0>d.pos[0]&&(d.pos[0]+=v)})}}function O(d,h){d=n.getInfo(d);return"global"===h&&d?{supported:!0,lowerBoundX:d.valid[0],upperBoundX:d.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}Object.defineProperty(l,
"__esModule",{value:!0});var I=function(){function d(d,h){this.spatialReference=d;this.viewingMode=h;this._unnormalizationInfo=O(d,h)}d.prototype.createNew=function(){return B.vec2f64.create()};d.prototype.fromPoint=function(d){return B.vec2f64.fromValues(d.x,d.y)};d.prototype.fromArray=function(d){return B.vec2f64.fromValues(d[0],d[1])};d.prototype.toArray=function(d){return[d[0],d[1]]};d.prototype.toPoint=function(d,h){h.x=d[0];h.y=d[1];h.hasZ=!1;h.hasM=!1;h.spatialReference=this.spatialReference;
return h};d.prototype.createPoint=function(d){return new u.Point({x:d[0],y:d[1],z:void 0,m:void 0,spatialReference:this.spatialReference})};d.prototype.createPointFromArray=function(d){return new u.Point({x:d[0],y:d[1],z:void 0,m:void 0,spatialReference:this.spatialReference})};d.prototype.lerp=function(d,h,n,v){return y.vec2.lerp(v,d,h,n)};d.prototype.addDelta=function(d,h,n){d[0]+=h;d[1]+=n};d.prototype.pointToArray=function(d){return[d.x,d.y]};d.prototype.zFromArray=function(d){};d.prototype.hasZ=
function(){return!1};d.prototype.unnormalize=function(d){A(d,this._unnormalizationInfo)};return d}();l.CoordinateHelper2D=I;var C=function(){function h(d,h,n){this.valueType=d;this.spatialReference=h;this._unnormalizationInfo=O(h,n)}h.prototype.createNew=function(){return d.vec3f64.create()};h.prototype.fromPoint=function(h){return d.vec3f64.fromValues(h.x,h.y,0===this.valueType?h.z:h.m)};h.prototype.fromArray=function(h){return d.vec3f64.fromValues(h[0],h[1],h[2]||0)};h.prototype.toArray=function(d){return[d[0],
d[1],d[2]]};h.prototype.toPoint=function(d,h){h.x=d[0];h.y=d[1];0===this.valueType?(h.z=d[2],h.hasZ=!0,h.hasM=!1):(h.m=d[2],h.hasZ=!1,h.hasM=!0);h.spatialReference=this.spatialReference;return h};h.prototype.createPoint=function(d){return new u.Point({x:d[0],y:d[1],z:0===this.valueType?d[2]:void 0,m:1===this.valueType?d[2]:void 0,spatialReference:this.spatialReference})};h.prototype.createPointFromArray=function(d){return new u.Point({x:d[0],y:d[1],z:0===this.valueType?d[2]:void 0,m:1===this.valueType?
d[2]:void 0,spatialReference:this.spatialReference})};h.prototype.lerp=function(d,h,n,v){return p.vec3.lerp(v,d,h,n)};h.prototype.addDelta=function(d,h,n,v){d[0]+=h;d[1]+=n;0===this.valueType&&(d[2]+=v)};h.prototype.pointToArray=function(d){return 0===this.valueType?[d.x,d.y,d.z]:[d.x,d.y,d.m]};h.prototype.zFromArray=function(d){return 0===this.valueType?d[2]:void 0};h.prototype.hasZ=function(){return 0===this.valueType};h.prototype.unnormalize=function(d){A(d,this._unnormalizationInfo)};return h}();
l.CoordinateHelper3D=C;var Q=function(){function d(d,h){this.spatialReference=d;this._unnormalizationInfo=O(d,h)}d.prototype.createNew=function(){return h.vec4f64.create()};d.prototype.fromPoint=function(d){return h.vec4f64.fromValues(d.x,d.y,d.z,d.m)};d.prototype.fromArray=function(d){return h.vec4f64.fromValues(d[0],d[1],d[2]||0,d[3]||0)};d.prototype.toArray=function(d){return[d[0],d[1],d[2],d[3]]};d.prototype.toPoint=function(d,h){h.x=d[0];h.y=d[1];h.z=d[2];h.m=d[3];h.hasZ=!0;h.hasM=!0;h.spatialReference=
this.spatialReference;return h};d.prototype.createPoint=function(d){return new u.Point({x:d[0],y:d[1],z:d[2],m:d[3],spatialReference:this.spatialReference})};d.prototype.createPointFromArray=function(d){return new u.Point({x:d[0],y:d[1],z:d[2],m:d[3],spatialReference:this.spatialReference})};d.prototype.lerp=function(d,h,n,v){return z.vec4.lerp(v,d,h,n)};d.prototype.addDelta=function(d,h,n,v){d[0]+=h;d[1]+=n;d[2]+=v};d.prototype.pointToArray=function(d){return[d.x,d.y,d.z,d.m]};d.prototype.zFromArray=
function(d){return d[2]};d.prototype.hasZ=function(){return!0};d.prototype.unnormalize=function(d){A(d,this._unnormalizationInfo)};return d}();l.CoordinateHelper4D=Q;l.createCoordinateHelper=function(d,h,n,p){return d&&h?new Q(n,p):h?new C(1,n,p):d?new C(0,n,p):new I(n,p)}})},"esri/views/3d/interactive/editingTools/draw/DrawManipulator":function(){define(["require","exports","../../../../../core/Evented"],function(D,l,u){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function l(){this.events=
new u;this.interactive=!0;this.selectable=!1;this.cursor=null;this.grabbable=!0}l.prototype.intersectionDistance=function(l,p){return 0};l.prototype.attach=function(){};l.prototype.detach=function(){};return l}();l.DrawManipulator=D})},"esri/views/3d/interactive/editingTools/draw/drawSurfaces":function(){define("require exports ../../../../../core/maybe ../../../../../core/screenUtils ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils".split(" "),function(D,
l,u,y,B,p){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function d(d,h,n){this.elevationInfo=d;this.defaultZ=h;this.view=n}d.prototype.screenToMap=function(d){if(u.isSome(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(y.createScreenPointArray(d.x,d.y),this.elevationInfo,this.defaultZ);d=this.view.sceneIntersectionHelper.intersectElevationFromScreen(y.createScreenPointArray(d.x,d.y),this.elevationInfo,0);u.isSome(d)&&(d.z=void 0);return d};d.prototype.mapToScreen=
function(d){d=B.makeDehydratedPoint(d.x,d.y,p.getConvertedElevation(this.view,d,this.elevationInfo),d.spatialReference);return this.view.toScreen(d)};return d}();l.ElevationDrawSurface=D;D=function(){function d(d,h,n){void 0===n&&(n=[]);this.view=d;this.elevationInfo=h;this.exclude=n}d.prototype.screenToMap=function(d){d=this.view.toMap(d,{exclude:this.exclude});u.isSome(d)&&(d.z=p.getZForElevationMode(d,this.view,this.elevationInfo));return d};d.prototype.mapToScreen=function(d){var h=d;u.isSome(this.elevationInfo)&&
(h=B.makeDehydratedPoint(d.x,d.y,p.getConvertedElevation(this.view,d,this.elevationInfo),d.spatialReference));return this.view.toScreen(h)};return d}();l.SceneDrawSurface=D})},"esri/views/3d/interactive/editingTools/editGeometry/EditGeometryHelper":function(){define("require exports tslib ../../../../../core/Evented ../../../../../core/maybe ./EditGeometry ./EditGeometry".split(" "),function(D,l,u,y,B,p,d){Object.defineProperty(l,"__esModule",{value:!0});l.EditGeometry=d.EditGeometry;l.Vertex=d.Vertex;
l.Edge=d.Edge;l.Component=d.Component;D=function(d){function p(h,n){var C=d.call(this)||this;C.data=h;C.type=n;C._dirty=!0;C._geometry=null;return C}u.__extends(p,d);p.prototype.splitEdge=function(d,h){d=new z(this,d,h);this.data.apply(d);this._dirty=!0;return d};p.prototype.moveVertices=function(d,n,p,l){var r=null;this.data.lastOperation instanceof h&&this.data.lastOperation.canAccumulate(d)?(r=this.data.lastOperation,r.accumulate(n,p,l)):(r=new h(this,d,n,p,l),this.data.apply(r));this._dirty=!0;
return r};p.prototype.removeVertices=function(d){var h=0;switch(this.type){case "point":h=1;break;case "polyline":h=2;break;case "polygon":h=3}d=new n(this,d,h);this.data.apply(d);this._dirty=!0;return d};p.prototype.appendVertex=function(d){if(0===this.data.components.length)return null;d=new A(this,this.data.components[0],d);this.data.apply(d);this._dirty=!0;return d};p.prototype.canRemoveVertex=function(){var d=0;switch(this.type){case "point":d=1;break;case "polyline":d=2;break;case "polygon":d=
3}return this.data.components[0].vertices.length>d};p.prototype.undo=function(){this.data.undo();this._dirty=!0};Object.defineProperty(p.prototype,"canUndo",{get:function(){return this.data.canUndo},enumerable:!0,configurable:!0});p.prototype.redo=function(){this.data.redo();this._dirty=!0};Object.defineProperty(p.prototype,"canRedo",{get:function(){return this.data.canRedo},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"geometry",{get:function(){if(this._dirty){switch(this.type){case "point":this._geometry=
this.data.toPoint();break;case "polyline":this._geometry=this.data.toPolyline();break;case "polygon":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry},enumerable:!0,configurable:!0});return p}(y);l.EditGeometryHelper=D;var z=function(){function d(d,h,n){this.helper=d;this.edge=h;this.t=n;this.right=this.left=this.createdVertex=null}d.prototype.apply=function(){var d="redo",h=this.edge,n=h.component,l=h.component.data,z=h.left,r=h.right;n.edges.splice(n.edges.indexOf(h),1);
B.isNone(this.createdVertex)&&(d="apply",this.createdVertex=new p.Vertex(h.component));n.vertices.push(this.createdVertex);this.createdVertex.pos=l.coordinateHelper.lerp(h.left.pos,h.right.pos,this.t,l.coordinateHelper.createNew());B.isNone(this.left)&&(this.left=new p.Edge(n,z,this.createdVertex));n.edges.push(this.left);z.right=this.left;B.isNone(this.right)&&(this.right=new p.Edge(n,this.createdVertex,r));n.edges.push(this.right);r.left=this.right;n.updateVertexIndex(this.createdVertex,z.index+
1);this.helper.emit("vertex-add",{type:"vertex-add",vertices:[this.createdVertex],operation:d})};d.prototype.undo=function(){if(B.isNone(this.createdVertex)||B.isNone(this.left)||B.isNone(this.right))return null;var d=this.edge,h=d.component,n=this.createdVertex.left.left,p=this.createdVertex.right.right;h.vertices.splice(h.vertices.indexOf(this.createdVertex),1);h.edges.splice(h.edges.indexOf(this.left),1);h.edges.splice(h.edges.indexOf(this.right),1);h.edges.push(this.edge);n.right=d;p.left=d;h.updateVertexIndex(n,
n.index);this.helper.emit("vertex-remove",{type:"vertex-remove",vertices:[this.createdVertex],operation:"undo"})};return d}();l.SplitEdgeOperation=z;var h=function(){function d(d,h,n,p,l){this.helper=d;this.applied=!1;this.vertices=h;this.dx=n;this.dy=p;this.dz=l}d.prototype.apply=function(){var d=this;this.vertices.forEach(function(h){d.helper.data.coordinateHelper.addDelta(h.pos,d.dx,d.dy,d.dz)});this.helper.data.components.forEach(function(d){d.unnormalizeVertexPositions()});this.helper.emit("vertex-update",
{type:"vertex-update",vertices:this.vertices,operation:this.applied?"redo":"apply"});this.applied=!0};d.prototype.undo=function(){var d=this;this.vertices.forEach(function(h){d.helper.data.coordinateHelper.addDelta(h.pos,-d.dx,-d.dy,-d.dz)});this.helper.emit("vertex-update",{type:"vertex-update",vertices:this.vertices,operation:"undo"})};d.prototype.canAccumulate=function(d){if(d.length!==this.vertices.length)return!1;for(var h=0;h<d.length;++h)if(d[h]!==this.vertices[h])return!1;return!0};d.prototype.accumulate=
function(d,h,n){var p=this;this.vertices.forEach(function(l){p.helper.data.coordinateHelper.addDelta(l.pos,d,h,n)});this.dx+=d;this.dy+=h;this.dz+=n;this.helper.emit("vertex-update",{type:"vertex-update",vertices:this.vertices,operation:"apply"})};return d}();l.UpdateVerticesOperation=h;var n=function(){function d(d,h,n){void 0===n&&(n=0);this.helper=d;this.removedVertices=null;this._minNumberOfVertices=0;this.vertices=h;this._minNumberOfVertices=n}d.prototype.apply=function(){var d=this,h="redo";
null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach(function(h){h=d._removeVertex(h);B.isSome(h)&&d.removedVertices.push(h)}),h="apply"):this.removedVertices.forEach(function(h){d._redoRemoveVertex(h)});this.helper.emit("vertex-remove",{type:"vertex-remove",vertices:this.vertices,operation:h})};d.prototype.undo=function(){var d=this;this.removedVertices.forEach(function(h){d._undoRemoveVertex(h)});this.helper.emit("vertex-add",{type:"vertex-add",vertices:this.vertices,operation:"undo"})};
d.prototype._removeVertex=function(d){var h=d.component;if(h.vertices.length<=this._minNumberOfVertices)return null;var n={removedVertex:d,createdEdge:null},l=d.left,z=d.right;h.vertices.splice(h.vertices.indexOf(d),1);l&&(h.edges.splice(h.edges.indexOf(l),1),l.left.right=null);z&&(h.edges.splice(h.edges.indexOf(z),1),z.right.left=null);0===d.index&&z&&0<this.vertices.length&&h.swapVertices(h.vertices.indexOf(z.right),0);l&&z&&(n.createdEdge=new p.Edge(h,l.left,z.right),h.edges.push(n.createdEdge));
z&&h.updateVertexIndex(z.right,z.right.index-1);return n};d.prototype._redoRemoveVertex=function(d){console.warn("redo remove vertex not implemented yet")};d.prototype._undoRemoveVertex=function(d){var h=d.removedVertex,n=d.removedVertex.component,p=h.left,l=h.right;d.createdEdge&&n.edges.splice(n.edges.indexOf(d.createdEdge),1);n.vertices.push(h);p&&(n.edges.push(p),p.left.right=p);l&&(n.edges.push(l),l.right.left=l);n.updateVertexIndex(h,h.index)};return d}();l.RemoveVerticesOperation=n;var A=function(){function d(d,
h,n){this.helper=d;this.component=h;this.pos=n;this.right=this.left=this.originalEdge=this.addedVertex=null}d.prototype.apply=function(){var d="redo";B.isNone(this.addedVertex)&&(d="apply",this.addedVertex=new p.Vertex(this.component));if(0===this.component.vertices.length)this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{var h=B.unwrap(this.component.findEndVertex()),n=null;h.right&&(this.originalEdge=h.right,n=this.originalEdge.right,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),
1));this.component.vertices.push(this.addedVertex);this.addedVertex.pos=this.pos;B.isNone(this.left)&&(this.left=new p.Edge(this.component,h,this.addedVertex));this.component.edges.push(this.left);h.right=this.left;B.isSome(this.originalEdge)&&B.isSome(n)&&(B.isNone(this.right)&&(this.right=new p.Edge(this.component,this.addedVertex,n)),this.component.edges.push(this.right),n.left=this.right);this.component.updateVertexIndex(this.addedVertex,h.index+1)}this.helper.emit("vertex-add",{type:"vertex-add",
vertices:[this.addedVertex],operation:d})};d.prototype.undo=function(){if(B.isNone(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1);B.isSome(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.left.right=null);B.isSome(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.right.left=null);B.isSome(this.originalEdge)&&(this.component.edges.push(this.originalEdge),
this.originalEdge.left.right=this.originalEdge,this.originalEdge.right.left=this.originalEdge);B.isSome(this.left)?this.component.updateVertexIndex(this.left.left,this.left.left.index):this.component.updateVertexIndex(this.addedVertex,0);this.helper.emit("vertex-remove",{type:"vertex-remove",vertices:[this.addedVertex],operation:"undo"})};return d}();l.AppendVertexOperation=A})},"esri/views/3d/interactive/editingTools/editGeometry/EditGeometry":function(){define(["require","exports","../../../../../geometry",
"../../../../../core/arrayUtils","../coordinateHelper"],function(D,l,u,y,B){Object.defineProperty(l,"__esModule",{value:!0});var p=function(){function d(d){this.right=this.left=null;this.type="vertex";this.index=null;this.component=d}Object.defineProperty(d.prototype,"pos",{get:function(){return this._pos},set:function(d){this._pos=d;this.component.unnormalizeVertexPositions()},enumerable:!0,configurable:!0});return d}();l.Vertex=p;var d=function(){return function(d,n,p){this.type="edge";this.component=
d;this.left=n;this.right=p;n.right=this;p.left=this}}();l.Edge=d;var z=function(){function d(d){this.vertices=[];this.edges=[];this.data=d}d.prototype.unnormalizeVertexPositions=function(){1>=this.vertices.length||this.data.coordinateHelper.unnormalize(this.vertices)};d.prototype.updateVertexIndex=function(d,h){if(0!==this.vertices.length){var n=this.vertices[0],p=null;do p=d,p.index=h++,d=p.right?p.right.right:null;while(null!=d&&d!==n);p.left&&p!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(p),
this.vertices.length-1)}};d.prototype.findEndVertex=function(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]};d.prototype.swapVertices=function(d,h){var n=this.vertices[d];this.vertices[d]=this.vertices[h];this.vertices[h]=n};return d}();l.Component=z;D=function(){function h(d){this.coordinateHelper=d;this.undoStack=[];this.redoStack=[];this.components=[]}h.prototype.apply=function(d){d.apply();this.undoStack.push(d);this.redoStack=[]};h.prototype.undo=function(){if(0<
this.undoStack.length){var d=this.undoStack.pop();d.undo();this.redoStack.push(d)}};Object.defineProperty(h.prototype,"canUndo",{get:function(){return 0<this.undoStack.length},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"lastOperation",{get:function(){return 0<this.undoStack.length?this.undoStack[this.undoStack.length-1]:null},enumerable:!0,configurable:!0});h.prototype.redo=function(){if(0<this.redoStack.length){var d=this.redoStack.pop();d.apply();this.undoStack.push(d)}};
Object.defineProperty(h.prototype,"canRedo",{get:function(){return 0<this.redoStack.length},enumerable:!0,configurable:!0});h.prototype.toPoint=function(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.createPoint(this.components[0].vertices[0].pos)};h.prototype.toPolyline=function(){var d=[],h=this.coordinateHelper.toArray;this.components.forEach(function(n,p){p=[];var l=n=y.find(n.vertices,function(d){return null==d.left});do p.push(h(n.pos)),
n=n.right?n.right.right:null;while(n&&n!==l);d.push(p)});return new u.Polyline({paths:d,spatialReference:this.coordinateHelper.spatialReference})};h.prototype.toPolygon=function(){var d=[],h=this.coordinateHelper.toArray;this.components.forEach(function(n,p){p=[];var l=n=n.vertices[0],z=l;do p.push(h(l.pos)),l=l.right.right;while(l&&l!==z);p.push(h(n.pos));d.push(p)});return new u.Polygon({rings:d,spatialReference:this.coordinateHelper.spatialReference})};h.fromGeometry=function(n,l){l=B.createCoordinateHelper(n.hasZ,
n.hasM,n.spatialReference,l);var u=new h(l);switch(n.type){case "polygon":for(var A=n.rings,C=0;C<A.length;++C){var y=A[C];n=new z(u);for(var F=y.length-1,E=0;E<F;++E){var r=l.fromArray(y[E]),N=new p(n);n.vertices.push(N);N.pos=r;N.index=E}F=n.vertices.length-1;for(E=0;E<F;++E)r=n.vertices[E],N=n.vertices[E+1],r=new d(n,r,N),n.edges.push(r);F=new d(n,n.vertices[n.vertices.length-1],n.vertices[0]);n.edges.push(F);u.components.push(n)}break;case "polyline":for(A=n.paths,C=0;C<A.length;++C){y=A[C];n=
new z(u);F=y.length;for(E=0;E<F;++E)r=l.fromArray(y[E]),N=new p(n),n.vertices.push(N),N.pos=r,N.index=E;F=n.vertices.length-1;for(E=0;E<F;++E)r=n.vertices[E],N=n.vertices[E+1],r=new d(n,r,N),n.edges.push(r);u.components.push(n)}}return u};return h}();l.EditGeometry=D})},"esri/views/interactive/dragEventPipeline":function(){define("require exports tslib ../../core/handleUtils ../../core/lang ../../core/mathUtils ../../core/maybe ../../core/screenUtils ../../geometry/support/webMercatorUtils ../draw/support/drawUtils".split(" "),
function(D,l,u,y,B,p,d,z,h,n){function A(h,n){var r=null,p=null;return function(v){if("cancel"===v.action)d.isSome(p)&&(p.execute({action:"cancel"}),p=r=null);else{var l={action:v.action,screenStart:v.start,screenEnd:v.screenPoint};"start"===v.action&&d.isNone(r)&&(r=new E,p=new E,n(h,r,p,l));d.isSome(r)&&r.execute(l);"end"===v.action&&d.isSome(r)&&(p=r=null)}}}function O(d,h){return d.events.on("drag",A(d,h))}function I(r,p){var v=null,l=d.isSome(r[p])?r[p].spatialReference:null;return function(z){if("start"===
z.action&&d.isSome(r[p])){var C=r[p],A=z.mapStart.spatialReference;v=d.isNone(C)||"mesh"===C.type?null:C.spatialReference.equals(A)?C.clone():h.canProject(C,A)?h.project(C,A):null}if(d.isNone(v))return null;var C=z.mapEnd.x-z.mapStart.x,A=z.mapEnd.y-z.mapStart.y,R=z.mapEnd.z-z.mapStart.z,ea=n.move(v.clone(),C,A,R);ea.spatialReference.equals(l)?r[p]=ea:r[p]=h.project(ea,l);return u.__assign(u.__assign({},z),{translationX:C,translationY:A,translationZ:R})}}function C(d){return I(d,"geometry")}function Q(d,
h){for(var n=new Map,r=0;r<h.length;r++){var p=h[r];n.set(p,B.clone(d[p]))}return function(h){n.forEach(function(h,n){d[n]=h});return h}}function F(d){return Q(d,["geometry"])}Object.defineProperty(l,"__esModule",{value:!0});l.createDragEventPipelineCallback=A;l.createManipulatorDragEventPipeline=O;l.createManipulatorDragEventPipelineMany=function(d,h){for(var n=[],r=0;r<d.length;r++)n.push(O(d[r],h));return y.handlesGroup(n)};l.constrainToMapAxis=function(d,h){var n=[d.x,d.y,d.z],r=[Math.cos(h),
Math.sin(h)];d=Math.sqrt(r[0]*r[0]+r[1]*r[1]);if(0===d)return null;r[0]/=d;r[1]/=d;var p=function(d){var h=(d.x-n[0])*r[0]+(d.y-n[1])*r[1];d.x=n[0]+h*r[0];d.y=n[1]+h*r[1]};return function(d){p(d.mapStart);p(d.mapEnd);return d}};l.dragGeometry=I;l.dragGraphic=C;l.screenToMap=function(n,p,v){void 0===p&&(p=null);var r=null,l=d.isSome(p)&&!n.spatialReference.equals(p)?function(n){return d.isSome(n)?h.project(n,p):n}:function(d){return d},z=u.__assign({exclude:[]},v);return function(h){"start"===h.action&&
(r=l(n.toMap(h.screenStart,z)));if(d.isNone(r))return null;var p=l(n.toMap(h.screenEnd,z));return d.isSome(p)?u.__assign(u.__assign({},h),{mapStart:r,mapEnd:p}):null}};l.dragGraphicMany=function(h){var n=h.map(function(h){return d.unwrap(C(h))}).filter(function(h){return d.isSome(h)});return function(d){var h=d.mapEnd.x-d.mapStart.x,r=d.mapEnd.y-d.mapStart.y,p=d.mapEnd.z-d.mapStart.z;n.forEach(function(h){return h(d)});return u.__assign(u.__assign({},d),{translationX:h,translationY:r,translationZ:p})}};
l.resetProperties=Q;l.resetGraphic=F;l.resetGraphicMany=function(h){var n=h.map(function(h){return d.unwrap(F(h))}).filter(function(h){return d.isSome(h)});return function(d){n.forEach(function(h){return h(d)});return d}};l.resetSymbol=function(h){var n=d.isSome(h.symbol)?h.symbol.clone():null;return function(d){h.symbol=n;return d}};l.horizontalDegreesOfFreedom=3;l.verticalDegreesOfFreedom=4;l.allDegreesOfFreedom=7;l.addMapDelta=function(d){void 0===d&&(d=l.allDegreesOfFreedom);var h=0,n=0,p=0;return function(r){"start"===
r.action&&(h=r.mapStart.x,n=r.mapStart.y,p=r.mapStart.z);var l=d&1?r.mapEnd.x-h:0,v=d&2?r.mapEnd.y-n:0,R=d&4?r.mapEnd.z-p:0;h=r.mapEnd.x;n=r.mapEnd.y;p=r.mapEnd.z;return u.__assign(u.__assign({},r),{mapDeltaX:l,mapDeltaY:v,mapDeltaZ:R,mapDeltaSpatialReference:r.mapStart.spatialReference})}};l.addScreenDelta=function(d){void 0===d&&(d=l.allDegreesOfFreedom);var h=0,n=0;return function(r){"start"===r.action&&(h=r.screenStart.x,n=r.screenStart.y);var p=d&1?r.screenEnd.x-h:0,l=d&2?r.screenEnd.y-n:0;h=
r.screenEnd.x;n=r.screenEnd.y;return u.__assign(u.__assign({},r),{screenDeltaX:p,screenDeltaY:l})}};l.dragAtLocation=function(d,h){var n=null,r=0,l=0;return function(v){"start"===v.action&&(n=d.toScreen(h),0>n.x||n.x>d.width||0>n.y||n.y>d.height?n=null:(r=v.screenStart.x-n.x,l=v.screenStart.y-n.y));if(null==n)return null;var C=p.clamp(v.screenEnd.x-r,0,d.width),R=p.clamp(v.screenEnd.y-l,0,d.height),C=z.createScreenPoint(C,R);v.screenStart=n;v.screenEnd=C;return v}};var E=function(){function h(){this.execute=
function(){}}h.prototype.next=function(n,r){void 0===r&&(r=new h);d.isSome(n)&&(this.execute=function(h){h=n(h);d.isSome(h)&&r.execute(h)});return r};return h}();l.EventPipeline=E})},"esri/views/draw/support/drawUtils":function(){define(["require","exports","../../../geometry/support/aaBoundingRect","../../../geometry/support/boundsUtils","../../../geometry/support/coordsUtils"],function(D,l,u,y,B){function p(h,n,p,l){null==l||h.hasZ||(l=void 0);if("point"===h.type)return h.x+=n,h.y+=p,h.hasZ&&null!=
l&&(h.z+=l),h;if("multipoint"===h.type){for(var z=h.points,C=0;C<z.length;C++)z[C]=d(z[C],n,p,l);return h}if("extent"===h.type)return h.xmin+=n,h.xmax+=n,h.ymin+=p,h.ymax+=p,null!=l&&(h.zmin+=l,h.zmax+=l),h;for(var z=B.geometryToCoordinates(h),u="polyline"===h.type?h.paths:h.rings,A=0;A<z.length;A++)for(var y=z[A],C=0;C<y.length;C++)y[C]=d(y[C],n,p,l);"paths"in h?h.paths=u:h.rings=u;return h}function d(d,n,p,l){return z(d,d[0]+n,d[1]+p,null!=d[2]&&null!=l?d[2]+l:void 0)}function z(d,n,p,l){n=[n,p];
2<d.length&&n.push(null!=l?l:d[2]);3<d.length&&n.push(d[3]);return n}Object.defineProperty(l,"__esModule",{value:!0});l.move=p;l.cloneMove=function(d,n,l,u,y){d=d.clone();var h=u.resolution;if("point"===d.type){if(y)p(d,n*h,-l*h);else{y=u.state.transform;u=u.state.inverseTransform;var A=y[0]*d.x+y[2]*d.y+y[4],F=y[1]*d.x+y[3]*d.y+y[5];d.x=u[0]*(A+n)+u[2]*(F+l)+u[4];d.y=u[1]*(A+n)+u[3]*(F+l)+u[5]}return d}if("multipoint"===d.type){if(y)p(d,n*h,-l*h);else{h=d.points;y=u.state.transform;u=u.state.inverseTransform;
for(var E=0;E<h.length;E++){var r=h[E],F=y[0]*r[0]+y[2]*r[1]+y[4],N=y[1]*r[0]+y[3]*r[1]+y[5],A=u[0]*(F+n)+u[2]*(N+l)+u[4],F=u[1]*(F+n)+u[3]*(N+l)+u[5];h[E]=z(r,A,F,void 0)}}return d}if("extent"===d.type){if(y)p(d,n*h,-l*h);else{y=u.state.transform;u=u.state.inverseTransform;var h=y[0]*d.xmin+y[2]*d.ymin+y[4],v=y[1]*d.xmin+y[3]*d.ymin+y[5],A=y[0]*d.xmax+y[2]*d.ymax+y[4];y=y[1]*d.xmax+y[3]*d.ymax+y[5];d.xmin=u[0]*(h+n)+u[2]*(v+l)+u[4];d.ymin=u[1]*(h+n)+u[3]*(v+l)+u[5];d.xmax=u[0]*(A+n)+u[2]*(y+l)+u[4];
d.ymax=u[1]*(A+n)+u[3]*(y+l)+u[5]}return d}if(y)p(d,n*h,-l*h);else{v=B.geometryToCoordinates(d);h="polyline"===d.type?d.paths:d.rings;y=u.state.transform;u=u.state.inverseTransform;for(var M=0;M<v.length;M++)for(var I=v[M],E=0;E<I.length;E++)r=I[E],F=y[0]*r[0]+y[2]*r[1]+y[4],N=y[1]*r[0]+y[3]*r[1]+y[5],A=u[0]*(F+n)+u[2]*(N+l)+u[4],F=u[1]*(F+n)+u[3]*(N+l)+u[5],I[E]=z(r,A,F,void 0);"paths"in d?d.paths=h:d.rings=h}return d};l.scale=function(d,n,p,l){if("point"===d.type){var h=d.x,C=d.y,A=l?l[0]:h;l=l?
l[1]:C;d=d.clone();d.x=(h-A)*n+A;d.y=(C-l)*p+l;return d}if("multipoint"===d.type){var C=B.geometryToCoordinates(d),A=u.create(),F=y.getRingsOrPathsBounds(A,[C]),A=F[0],C=F[1],h=F[2],F=F[3],A=l?l[0]:(A+h)/2,F=l?l[1]:(F+C)/2,E=d.clone(),r=E.points;for(d=0;d<r.length;d++)l=r[d],h=l[0],C=l[1],h=(h-A)*n+A,C=(C-F)*p+F,r[d]=z(l,h,C,void 0);return E}if("extent"===d.type)return C=d.xmin,A=d.xmax,h=d.ymin,F=d.ymax,E=l?l[0]:(C+A)/2,l=l?l[1]:(F+h)/2,d=d.clone(),d.xmin=(C-E)*n+E,d.ymax=(F-l)*p+l,d.xmax=(A-E)*
n+E,d.ymin=(h-l)*p+l,d.xmin>d.xmax&&(n=d.xmin,d.xmin=d.xmax,d.xmax=n),d.ymin>d.ymax&&(n=d.ymin,d.ymin=d.ymax,d.ymax=n),d;for(var A=B.geometryToCoordinates(d),C=u.create(),E=y.getRingsOrPathsBounds(C,A),h=E[0],C=E[1],F=E[2],E=E[3],F=l?l[0]:(h+F)/2,E=l?l[1]:(E+C)/2,r=d.clone(),N="polyline"===r.type?r.paths:r.rings,v=0;v<A.length;v++){var M=A[v];for(d=0;d<M.length;d++)l=M[d],h=l[0],C=l[1],h=(h-F)*n+F,C=(C-E)*p+E,N[v][d]=z(l,h,C,void 0)}"paths"in r?r.paths=N:r.rings=N;return r};l.getScaleRatio=function(d,
n,p,l,u,z){return Math.sqrt((u-d)*(u-d)+(z-n)*(z-n))/Math.sqrt((p-d)*(p-d)+(l-n)*(l-n))};l.getRotationAngle=function(d,n,p,l,u,z){return 180*Math.atan2(n-z,d-u)/Math.PI-180*Math.atan2(n-l,d-p)/Math.PI}})},"esri/views/3d/interactive/visualElements/OutlineVisualElement":function(){define("require exports ../../../../core/Evented ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f32 ../../../../geometry/support/aaBoundingBox ../../../../layers/graphics/dehydratedFeatures ./DrapedVisualElementResources ./LaserlineVisualElement ./VisualElementResources ../../layers/graphics/ElevationContext ../../layers/graphics/lineUtils ../../support/projectionUtils ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/geometryDataUtils ../../webgl-engine/lib/RenderGeometry ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/shaders/RibbonLineTechnique".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v,M){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function p(d){var h=this;this.view=null;this._attachmentOrigin=n.makeDehydratedPoint(0,0,0,null);this._attachmentOriginDirty=!0;this.events=new u;this._isDraped=!1;this._geometry=null;this._width=1;this._color=z.vec4f32.fromValues(1,0,1,1);this._innerWidth=1;this._innerColor=z.vec4f32.fromValues(1,1,1,1);this._stippleOffColor=this._stipplePattern=null;this._falloff=0;this._laserlineStyle=
this._elevationInfo=null;this._laserlineEnabled=!1;this._occludedMode=8;this.resources=new I.VisualElementResources({view:d.view,createResources:function(d){return h.createResources(d)},recreateGeometry:function(d,n){d.geometries.length=0;h.recreateGeometry(n,d.material,d.geometries);return d.geometries}});this._attachmentOrigin.spatialReference=d.view.spatialReference;this.drapedResources=new A.DrapedVisualElementResources({view:d.view,createResources:function(){return h.createDrapedResources()},
recreateGeometry:function(d){d.geometries=h.createRenderGeometriesDraped(d.material);h.attachmentOriginChanged()}});var p=!0;this._laserline=new O.LaserlineVisualElement({view:d.view});for(var r in d)r in this?"attached"===r?p=d[r]:this[r]=d[r]:console.error("Cannot set unknown property",r);this.attached=p}p.prototype.destroy=function(){this.resources.destroy();this.drapedResources.destroy();this._laserline.destroy()};Object.defineProperty(p.prototype,"isDraped",{get:function(){return this._isDraped},
set:function(d){d!==this._isDraped&&(this._isDraped=d,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"laserlineAttached",{get:function(){return this.attached&&!this.hidden&&y.isSome(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(d){this.resources.hidden=
d;this.drapedResources.hidden=d;this._laserline.attached=this.laserlineAttached},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"attached",{get:function(){return this.resources.attached||this.drapedResources.attached},set:function(d){this.updateAttached(d)},enumerable:!0,configurable:!0});p.prototype.updateAttached=function(d){this.resources.attached=!this.isDraped&&d;this.drapedResources.attached=this.isDraped&&d;this._laserline.attached=this.laserlineAttached;this.attached&&this.attachmentOriginChanged()};
Object.defineProperty(p.prototype,"geometry",{get:function(){return this._geometry},set:function(d){this._geometry=d;this.resources.recreateGeometry();this.drapedResources.recreateGeometry()},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"width",{get:function(){return this._width},set:function(d){d!==this._width&&(this._width=d,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"color",{get:function(){return this._color},set:function(h){d.vec4.exactEquals(h,
this._color)||(d.vec4.copy(this._color,h),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"innerWidth",{get:function(){return this._innerWidth},set:function(d){d!==this._innerWidth&&(this._innerWidth=d,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"innerColor",{get:function(){return this._innerColor},set:function(h){d.vec4.exactEquals(h,this._innerColor)||(d.vec4.copy(this._innerColor,h),this.updateMaterial())},
enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"stipplePattern",{get:function(){return this._stipplePattern},set:function(d){var h=y.isSome(d)!==y.isSome(this._stipplePattern);this._stipplePattern=d;h?this.resources.recreate():this.updateMaterial()},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"stippleOffColor",{get:function(){return this._stippleOffColor},set:function(h){h&&this._stippleOffColor&&d.vec4.exactEquals(h,this._stippleOffColor)||(this._stippleOffColor=
h?z.vec4f32.clone(h):null,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"falloff",{get:function(){return this._falloff},set:function(d){d!==this._falloff&&(this._falloff=d,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"elevationInfo",{get:function(){return this._elevationInfo},set:function(d){this._elevationInfo=d;this.resources.recreateGeometry()},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,
"laserlineStyle",{get:function(){return this._laserlineStyle},set:function(d){this._laserlineStyle=d;this._laserline.attached=this.laserlineAttached;y.isSome(d)&&(this._laserline.style=d)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"laserlineEnabled",{get:function(){return this._laserlineEnabled},set:function(d){this._laserlineEnabled!==d&&(this._laserlineEnabled=d,this._laserline.attached=this.laserlineAttached)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,
"occludedMode",{get:function(){return this._occludedMode},set:function(d){d!==this._occludedMode&&(this._occludedMode=d,y.isSome(this.resources.resources)&&(this.resources.resources.material.renderOccluded=d),y.isSome(this.drapedResources.resources)&&(this.drapedResources.resources.material.renderOccluded=d))},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"attachmentOrigin",{get:function(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;var d=y.isSome(this.resources.resources)?
this.resources.resources.geometries:null;if(!d||0===d.length)return null;B.vec3.set(Y,0,0,0);for(var h=M.RibbonVertexAttributeConstants.POSITION,n=0,p=y.unwrap(this.resources.resources).material.getParameters().isClosed,l=0;l<d.length;l++){var v=d[l];r.computeAttachmentOriginLines(v.getAttribute(h),v.getIndices(h),p,W)&&(B.vec3.add(Y,Y,W),n++)}if(0===n)return null;B.vec3.scale(Y,Y,1/n);this.view.renderCoordsHelper.fromRenderCoords(Y,this._attachmentOrigin);this._attachmentOriginDirty=!1;return this._attachmentOrigin},
enumerable:!0,configurable:!0});p.prototype.updateMaterial=function(){y.isSome(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters);y.isSome(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)};Object.defineProperty(p.prototype,"isClosed",{get:function(){return y.isSome(this.geometry)&&"polygon"===this.geometry.type},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,
"materialParameters",{get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:"round",stippleIntegerRepeats:!0,polygonOffset:!0}},enumerable:!0,configurable:!0});p.prototype.recreateGeometry=function(d,h,n){for(var p=0,r=this.createRenderGeometries();p<r.length;p++){var l=r[p];d.addGeometry(l,h);n.push(l)}this.attachmentOriginChanged()};
p.prototype.attachmentOriginChanged=function(){this._attachmentOriginDirty=!0;this.events.emit("attachment-origin-changed")};p.prototype.createResources=function(d){var h=new v(this.materialParameters,"lineVisualElement");h.renderOccluded=8;var n=[];this.recreateGeometry(d,h,n);return{material:h,geometries:n,forEach:function(d){d(h);n.forEach(d)}}};p.prototype.createDrapedResources=function(){var d=new v(this.materialParameters,"lineVisualElement");d.renderOccluded=4;var h=this.createRenderGeometriesDraped(d);
return{material:d,geometries:h}};p.prototype.createRenderGeometriesDraped=function(d){var n=this.geometry;if(y.isNone(n))return[];for(var p=[],r=0,n=Q.geometryToRenderInfoDraped(n,this.view.basemapTerrain.spatialReference).lines;r<n.length;r++){var l=n[r].position,v=new N(Q.createGeometryData({attributeData:{position:l},removeDuplicateStartEnd:this.isClosed?1:0}));v.material=d;var u=h.empty(U);h.expandWithBuffer(u,l);B.vec3.set(v.center,.5*(u[0]+u[3]),.5*(u[1]+u[4]),0);v.bsRadius=.5*Math.sqrt((u[3]-
u[0])*(u[3]-u[0])+(u[4]-u[1])*(u[4]-u[1]));p.push(v)}return p};p.prototype.calculateMapBounds=function(d){if(y.isNone(this.resources.resources))return!1;for(var n=this.view.renderCoordsHelper,p=0,r=this.resources.resources.geometries;p<r.length;p++){var l=r[p].data.getAttribute("position"),v=l.data,u=new Float64Array(v.length);F.bufferToBuffer(l.data,n.spatialReference,0,u,this.view.spatialReference,0,v.length/3);h.expandWithBuffer(d,u)}return!0};p.prototype.createRenderGeometries=function(){var d=
this.geometry;if(y.isNone(d))return[];for(var h=[],n=[],p=0,d=Q.geometryToRenderInfo(d,this.view.elevationProvider,this.view.renderCoordsHelper,C.ElevationContext.fromElevationInfo(this.elevationInfo)).lines;p<d.length;p++){var r=d[p],l=r.position,r=Q.createGeometryData({attributeData:{position:l,mapPosition:r.mapPosition},removeDuplicateStartEnd:this.isClosed?1:0});h.push(new E(r,"geometryOutlineVisualElement"));n.push(l)}this._laserline.pathVerticalPlane=n;return h};return p}();l.OutlineVisualElement=
D;var U=h.create(),W=p.vec3f64.create(),Y=p.vec3f64.create()})},"esri/views/3d/interactive/visualElements/DrapedVisualElementResources":function(){define(["require","exports","../../../../core/maybe"],function(D,l,u){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function l(l){this.resourceFactory=l;this._resources=null;this._attached=this._hidden=!1}l.prototype.destroy=function(){this._destroyResources()};Object.defineProperty(l.prototype,"resources",{get:function(){return u.isSome(this._resources)?
this._resources.external:null},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"hidden",{get:function(){return this._hidden},set:function(l){l!==this._hidden&&(this._hidden=l,this._syncGeometriesToRenderer())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"attached",{get:function(){return this._attached},set:function(l){l!==this._attached&&(this._attached=l,this._createOrDestroyResources())},enumerable:!0,configurable:!0});l.prototype.recreate=function(){this.attached&&
this._createResources()};l.prototype.recreateGeometry=function(){this.resourceFactory.recreateGeometry?u.isNone(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()};l.prototype._createOrDestroyResources=function(){this._attached?u.isNone(this._resources)&&this._createResources():this._destroyResources()};l.prototype._createResources=function(){this._destroyResources();var l=this.resourceFactory.createResources();
this._resources={layerView:{view:this.resourceFactory.view,notifyGraphicUpdate:function(){},watch:function(){return{remove:function(){}}}},external:l,geometriesAdded:!1};this._syncGeometriesToRenderer()};l.prototype._destroyResources=function(){u.isNone(this._resources)||(this.ensureRenderGeometriesRemoved(),this._resources=null)};l.prototype._syncGeometriesToRenderer=function(){this._hidden?this.ensureRenderGeometriesRemoved():this._hidden||this.ensureRenderGeometriesAdded()};l.prototype.ensureRenderGeometriesRemoved=
function(){!u.isNone(this._resources)&&this._resources.geometriesAdded&&(this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1)};l.prototype.ensureRenderGeometriesAdded=function(){u.isNone(this._resources)||this._resources.geometriesAdded||(this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,
2),this._resources.geometriesAdded=!0)};return l}();l.DrapedVisualElementResources=D})},"esri/views/3d/interactive/visualElements/LaserlineVisualElement":function(){define("require exports ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../support/geometryUtils ../../support/LaserLineRenderer ../../webgl-engine/shaders/Laserlines.glsl".split(" "),function(D,l,u,y,B,p,d,z){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function n(d){this.view=
null;this._angleCutoff=z.defaultAngleCutoff;this._style={};this._heightManifoldTarget=B.vec3f64.create();this._heightManifoldEnabled=!1;this._intersectsLine=p.lineSegment.create();this._intersectsLineInfinite=this._intersectsLineEnabled=!1;this._pathVerticalPlaneBuffers=null;var h=!0,n;for(n in d)n in this?"attached"===n?h=d[n]:this[n]=d[n]:console.error("Cannot set unknown property",n);this.attached=h}n.prototype.destroy=function(){this.disposeRenderer()};Object.defineProperty(n.prototype,"attached",
{get:function(){return!!this.renderer},set:function(d){d?this.ensureRenderer():this.disposeRenderer()},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"angleCutoff",{get:function(){return this._angleCutoff},set:function(d){this._angleCutoff!==d&&(this._angleCutoff=d,this.syncAngleCutoff())},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"style",{get:function(){return this._style},set:function(d){this._style=d;this.syncStyle()},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,
"heightManifoldTarget",{get:function(){return this._heightManifoldEnabled?this._heightManifoldTarget:null},set:function(d){u.isSome(d)?(y.vec3.copy(this._heightManifoldTarget,d),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1;this.syncRenderer();this.syncHeightManifold()},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"intersectsWorldUpAtLocation",{set:function(d){if(u.isNone(d))this.intersectsLine=null;else{var n=this.view.renderCoordsHelper.worldUpAtPosition(d,
h);this.intersectsLine=p.lineSegment.fromValues(d,n);this.intersectsLineInfinite=!0}},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"intersectsLine",{get:function(){return this._intersectsLineEnabled?this._intersectsLine:null},set:function(d){u.isSome(d)?(p.lineSegment.copy(d,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1;this.syncIntersectsLine();this.syncRenderer()},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"intersectsLineInfinite",
{get:function(){return this._intersectsLineInfinite},set:function(d){this._intersectsLineInfinite=d;this.syncIntersectsLineInfinite()},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"pathVerticalPlane",{get:function(){return this._pathVerticalPlaneBuffers},set:function(d){this._pathVerticalPlaneBuffers=d;this.syncPathVerticalPlane();this.syncRenderer()},enumerable:!0,configurable:!0});n.prototype.syncRenderer=function(){this.attached&&(this._intersectsLineEnabled||this._heightManifoldEnabled||
u.isSome(this._pathVerticalPlaneBuffers))?this.ensureRenderer():this.disposeRenderer()};n.prototype.ensureRenderer=function(){u.isSome(this.renderer)||(this.renderer=new d.LaserLineRenderer(this.view.renderCoordsHelper,void 0,{contrastControlEnabled:!0}),this.syncStyle(),this.syncHeightManifold(),this.syncIntersectsLine(),this.syncIntersectsLineInfinite(),this.syncPathVerticalPlane(),this.syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))};
n.prototype.syncStyle=function(){u.isNone(this.renderer)||(this.renderer.setParameterValues(this._style),null!=this._style.intersectsLineRadius&&(this.renderer.intersectsLineRadius=this._style.intersectsLineRadius))};n.prototype.syncAngleCutoff=function(){u.isNone(this.renderer)||this.renderer.setParameterValues({angleCutoff:this._angleCutoff})};n.prototype.syncHeightManifold=function(){!u.isNone(this.renderer)&&(this.renderer.heightManifoldEnabled=this._heightManifoldEnabled)&&(this.renderer.heightManifoldTarget=
this._heightManifoldTarget)};n.prototype.syncIntersectsLine=function(){!u.isNone(this.renderer)&&(this.renderer.intersectsLineEnabled=this._intersectsLineEnabled)&&(this.renderer.intersectsLineSegment=this._intersectsLine)};n.prototype.syncIntersectsLineInfinite=function(){u.isNone(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)};n.prototype.syncPathVerticalPlane=function(){u.isNone(this.renderer)||(this.renderer.pathVerticalPlaneEnabled=u.isSome(this._pathVerticalPlaneBuffers),
u.isSome(this._pathVerticalPlaneBuffers)&&(this.renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))};n.prototype.disposeRenderer=function(){u.isSome(this.renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)};return n}();l.LaserlineVisualElement=D;var h=B.vec3f64.create()})},"esri/views/3d/support/LaserLineRenderer":function(){define("require exports ../../../core/mathUtils ../../../core/maybe ../../../core/libs/gl-matrix-2/vec2f64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../core/libs/gl-matrix-2/vec4 ../../../core/libs/gl-matrix-2/vec4f64 ./geometryUtils ./LaserlinePathData ../webgl-engine/lib/glUtil3D ../webgl-engine/lib/Util ../webgl-engine/materials/internal/MaterialUtil ../webgl-engine/shaders/LaserlinePathTechnique ../webgl-engine/shaders/LaserlineTechnique".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F){function E(d,h,l,v){var u=r,R=N;p.vec3.transformMat4(u,h,v);p.vec3.copy(R,l);R[3]=0;z.vec4.transformMat4(R,R,v);n.plane.fromPositionAndNormal(u,R,d)}Object.defineProperty(l,"__esModule",{value:!0});var r=d.vec3f64.create(),N=h.vec4f64.create(),v={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:u.deg2rad(6),globalAlphaContrastBoost:2};D=function(){function l(l,p,r){void 0===p&&(p={});void 0===r&&(r={contrastControlEnabled:!1});
this._technique=null;this._projInfo=h.vec4f64.create();this._zScale=B.vec2f64.create();this._heightManifoldEnabled=!1;this._heightManifoldTarget=d.vec3f64.create();this._pointDistanceEnabled=!1;this._pointDistanceOrigin=d.vec3f64.create();this._pointDistanceTarget=d.vec3f64.create();this._lineVerticalPlaneEnabled=!1;this._lineVerticalPlaneSegment=n.lineSegment.create();this._intersectsLineEnabled=!1;this._intersectsLineSegment=n.lineSegment.create();this._intersectsLineRadius=3;this._pathVerticalPlaneEnabled=
this._intersectsLineInfinite=!1;this._pathTechnique=this._pathVerticalPlaneData=null;this.canRender=!0;this._tempNormal=d.vec3f64.create();this._tempDir=d.vec3f64.create();this._tempUp=d.vec3f64.create();this._tempVec3A=d.vec3f64.create();this._tempVec3B=d.vec3f64.create();this._tempVec4=h.vec4f64.create();this._tempPlane=n.plane.create();this._tempSphere=n.sphere.create();this._renderCoordsHelper=l;this._params=C.copyParameters(p,v);this._config=r}Object.defineProperty(l.prototype,"renderSlots",
{get:function(){return[this._config.contrastControlEnabled?17:16]},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"needsLinearDepth",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"heightManifoldEnabled",{get:function(){return this._heightManifoldEnabled},set:function(d){this._heightManifoldEnabled!==d&&(this._heightManifoldEnabled=d,this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"heightManifoldTarget",
{get:function(){return this._heightManifoldTarget},set:function(d){p.vec3.copy(this._heightManifoldTarget,d);this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pointDistanceEnabled",{get:function(){return this._pointDistanceEnabled},set:function(d){d!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=d,this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pointDistanceTarget",{get:function(){return this._pointDistanceTarget},
set:function(d){p.vec3.copy(this._pointDistanceTarget,d);this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pointDistanceOrigin",{get:function(){return this._pointDistanceOrigin},set:function(d){p.vec3.copy(this._pointDistanceOrigin,d);this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"lineVerticalPlaneEnabled",{get:function(){return this._lineVerticalPlaneEnabled},set:function(d){d!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=
d,this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"lineVerticalPlaneSegment",{get:function(){return this._lineVerticalPlaneSegment},set:function(d){n.lineSegment.copy(d,this._lineVerticalPlaneSegment);this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"intersectsLineEnabled",{get:function(){return this._intersectsLineEnabled},set:function(d){d!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=d,this._requestRender())},
enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"intersectsLineSegment",{get:function(){return this._intersectsLineSegment},set:function(d){n.lineSegment.copy(d,this._intersectsLineSegment);this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"intersectsLineRadius",{get:function(){return this._intersectsLineRadius},set:function(d){d!==this._intersectsLineRadius&&(this._intersectsLineRadius=d,this._requestRender())},enumerable:!0,configurable:!0});
Object.defineProperty(l.prototype,"intersectsLineInfinite",{get:function(){return this._intersectsLineInfinite},set:function(d){d!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=d,this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pathVerticalPlaneEnabled",{get:function(){return this._pathVerticalPlaneEnabled},set:function(d){d!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=d,y.isSome(this._pathVerticalPlaneData)&&this._requestRender())},
enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pathVerticalPlaneVertices",{set:function(d){y.isNone(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new A.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.vertices=d;this.pathVerticalPlaneEnabled&&this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pathVerticalPlaneBuffers",{set:function(d){y.isNone(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=
new A.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.buffers=d;this.pathVerticalPlaneEnabled&&this._requestRender()},enumerable:!0,configurable:!0});l.prototype.setParameterValues=function(d){C.updateParameters(this._params,d)&&this._requestRender()};l.prototype.initializeRenderContext=function(d){this._initContext=d;this._quadVAO=O.createQuadVAO(d.rctx);this._techniqueRepository=d.shaderTechniqueRep;this._techniqueConfig=new F.LaserlineTechniqueConfiguration;this._pathTechniqueConfig=
new Q.LaserlinePathTechniqueConfiguration};l.prototype.uninitializeRenderContext=function(){this._quadVAO.dispose();this._quadVAO=null;y.isSome(this._technique)&&this._techniqueRepository.release(this._technique);y.isSome(this._pathVerticalPlaneData)&&this._pathVerticalPlaneData.dispose();y.isSome(this._pathTechnique)&&this._techniqueRepository.release(this._pathTechnique)};l.prototype.render=function(d){var h=this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled,
n=this.pathVerticalPlaneEnabled;if(!h&&!n)return!0;var l=d.camera;I.inverseProjectionInfo(l.projectionMatrix,l.fullWidth,l.fullHeight,this._projInfo,this._zScale);h&&this.renderUnified(d);n&&this.renderPath(d);return!0};l.prototype.renderUnified=function(d){var h=d.rctx,n=this._selectTechnique(),l=n.program;h.bindProgram(l);n.bindPipelineState(h);this.bindGlobalUniforms(d,l);this.bindHeightManifoldUniforms(d,l);this.bindPointDistanceUniforms(d,l);this.bindLineVerticalPlaneUniforms(d,l);this.bindIntersectsLineUniforms(d,
l);n.bind(this._params,d.camera);h.bindVAO(this._quadVAO);h.drawArrays(5,0,4)};l.prototype.renderPath=function(d){if(!y.isNone(this._pathVerticalPlaneData)){this._pathTechniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled;this._pathTechnique=this._techniqueRepository.acquireAndReleaseExisting(Q.LaserlinePathTechnique,this._pathTechniqueConfig,this._pathTechnique);var h=d.rctx,n=this._pathTechnique,l=n.program;h.bindProgram(l);n.bindPipelineState(h);this.bindGlobalUniforms(d,l);
n.bind(this._params,this._pathVerticalPlaneData.origin,d.camera);this._pathVerticalPlaneData.draw(d.rctx)}};l.prototype.bindHeightManifoldUniforms=function(d,h){if(this.heightManifoldEnabled){var n=this._tempVec3A,l=this._tempPlane;this._renderCoordsHelper.worldUpAtPosition(this._heightManifoldTarget,n);E(l,this._heightManifoldTarget,n,d.camera.viewMatrix);h.setUniform4fv("heightPlane",l)}};l.prototype.bindPointDistanceUniforms=function(d,h){if(this._pointDistanceEnabled){d=d.camera;var n=this._tempSphere;
p.vec3.copy(n.center,this._pointDistanceOrigin);p.vec3.transformMat4(n.center,n.center,d.viewMatrix);n.radius=p.vec3.distance(this._pointDistanceOrigin,this._pointDistanceTarget);h.setUniform4f("pointDistanceSphere",n.center[0],n.center[1],n.center[2],n.radius)}};l.prototype.bindLineVerticalPlaneUniforms=function(d,h){if(this._lineVerticalPlaneEnabled){var l=this._renderCoordsHelper;d=d.camera;var r=this._tempPlane,v=this._tempVec3A,u=this._tempUp,z=this._tempDir,C=this._tempNormal;n.lineSegment.pointAt(this._lineVerticalPlaneSegment,
.5,v);l.worldUpAtPosition(v,u);p.vec3.normalize(z,this._lineVerticalPlaneSegment.vector);p.vec3.cross(C,u,z);p.vec3.normalize(C,C);E(r,this._lineVerticalPlaneSegment.origin,C,d.viewMatrix);h.setUniform4fv("lineVerticalPlane",r);r=this._tempVec3A;p.vec3.copy(r,this._lineVerticalPlaneSegment.origin);l.setAltitude(0,r);p.vec3.transformMat4(r,r,d.viewMatrix);h.setUniform3fv("lineVerticalStart",r);r=this._tempVec3B;p.vec3.add(r,this._lineVerticalPlaneSegment.origin,this._lineVerticalPlaneSegment.vector);
l.setAltitude(0,r);p.vec3.transformMat4(r,r,d.viewMatrix);h.setUniform3fv("lineVerticalEnd",r)}};l.prototype.bindIntersectsLineUniforms=function(d,h){if(this._intersectsLineEnabled){var l=U,r=W;if(this._intersectsLineInfinite){var v=d.camera;n.clipRay.fromRay(n.ray.wrap(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),M);M.c0=-Number.MAX_VALUE;if(!n.frustum.intersectClipRay(v.frustum.planes,M))return;n.clipRay.getStart(M,l);n.clipRay.getEnd(M,r)}else p.vec3.copy(l,this._intersectsLineSegment.origin),
p.vec3.add(r,this._intersectsLineSegment.origin,this._intersectsLineSegment.vector);v=this._tempVec3A;p.vec3.transformMat4(v,l,d.camera.viewMatrix);h.setUniform3fv("intersectsLineStart",v);l=this._tempVec4;p.vec3.copy(l,this._intersectsLineSegment.vector);this._tempVec4[3]=0;z.vec4.transformMat4(this._tempVec4,this._tempVec4,d.camera.viewMatrix);p.vec3.transformMat4(r,r,d.camera.viewMatrix);h.setUniform3fv("intersectsLineEnd",r);p.vec3.normalize(l,l);h.setUniform3f("intersectsLineDirection",l[0],
l[1],l[2]);h.setUniform1f("intersectsLineRadius",this._intersectsLineRadius)}};l.prototype.bindGlobalUniforms=function(d,h){var n=d.camera;h.setUniform4fv("projInfo",this._projInfo);h.setUniform2fv("zScale",this._zScale);h.setUniform2f("nearFar",n.near,n.far);this._heightManifoldEnabled?h.setUniform1f("maxPixelDistance",2*n.computeScreenPixelSizeAt(this._heightManifoldTarget)):this._pointDistanceEnabled?h.setUniform1f("maxPixelDistance",2*n.computeScreenPixelSizeAt(this._pointDistanceTarget)):this._lineVerticalPlaneEnabled&&
h.setUniform1f("maxPixelDistance",2*n.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin));h.setUniform1i("depthMap",0);d.rctx.bindTexture(d.offscreenRenderingHelper.linearDepthTexture,0);h.setUniform1i("frameColor",1);d.rctx.bindTexture(d.offscreenRenderingHelper.mainColorTexture,1)};l.prototype._requestRender=function(){this._initContext&&this._initContext.requestRender()};l.prototype._selectTechnique=function(){this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled;
this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled;this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled;this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled;this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled;return this._technique=this._techniqueRepository.acquireAndReleaseExisting(F.LaserlineTechnique,this._techniqueConfig,this._technique)};return l}();l.LaserLineRenderer=D;var M=n.clipRay.create(),U=d.vec3f64.create(),
W=d.vec3f64.create()})},"esri/views/3d/support/LaserlinePathData":function(){define("require exports ../../../core/maybe ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../webgl ./buffer/glUtil ./buffer/InterleavedLayout ../webgl-engine/shaders/LaserlinePathTechnique".split(" "),function(D,l,u,y,B,p,d,z,h){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function l(d){this._renderCoordsHelper=d;this._buffers=null;this._origin=B.vec3f64.create();this._dirty=
!1;this._count=0;this._vao=null}Object.defineProperty(l.prototype,"vertices",{set:function(d){for(var h=new Float64Array(3*d.length),n=0,l=0;l<d.length;l++){var p=d[l];h[n++]=p[0];h[n++]=p[1];h[n++]=p[2]}this.buffers=[h]},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"buffers",{set:function(d){this._buffers=d;if(0<this._buffers.length){d=this._buffers[0];var h=3*Math.floor(d.length/3/2);y.vec3.set(this._origin,d[h+0],d[h+1],d[h+2])}else y.vec3.set(this._origin,0,0,0);this._dirty=
!0},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"origin",{get:function(){return this._origin},enumerable:!0,configurable:!0});l.prototype.draw=function(d){var h=this.ensureVAO(d);u.isSome(h)&&(d.bindVAO(h),d.drawArrays(4,0,this._count))};l.prototype.dispose=function(){u.isSome(this._vao)&&this._vao.dispose()};l.prototype.ensureVAO=function(d){if(u.isNone(this._buffers))return null;u.isNone(this._vao)&&(this._vao=this.createVAO(d,this._buffers));this.ensureVertexData(this._vao,
this._buffers);return this._vao};l.prototype.createVAO=function(n,l){l=this.createDataBuffer(l);this._dirty=!1;return new p.VertexArrayObject(n,h.LaserlinePathTechnique.attributeLocations,{data:d.glLayout(O)},{data:p.BufferObject.createVertex(n,35044,l)})};l.prototype.ensureVertexData=function(d,h){this._dirty&&(h=this.createDataBuffer(h),d.vertexBuffers.data.setData(h),this._dirty=!1)};l.prototype.numberOfRenderVertices=function(d){return 6*(d.length/3-1)};l.prototype.createDataBuffer=function(d){var h=
this,l=d.reduce(function(d,n){return d+h.numberOfRenderVertices(n)},0);this._count=l;for(var l=O.createBuffer(l),p=this._origin,r=0,u=0,v=0;v<d.length;v++){for(var z=d[v],C=0;C<z.length;C+=3){var B=y.vec3.set(A,z[C+0],z[C+1],z[C+2]);0===C?u=this._renderCoordsHelper.getAltitude(B):this._renderCoordsHelper.setAltitude(u,B);var I=this._renderCoordsHelper.worldUpAtPosition(B,n),R=r+2*C,B=y.vec3.subtract(A,B,p);if(C<z.length-3){l.up.setVec(R,I);l.up.setVec(R+3,I);l.up.setVec(R+5,I);for(var ea=0;6>ea;ea++)l.start.setVec(R+
ea,B);l.extrude.setValues(R+0,0,-1);l.extrude.setValues(R+1,1,-1);l.extrude.setValues(R+2,1,1);l.extrude.setValues(R+3,0,-1);l.extrude.setValues(R+4,1,1);l.extrude.setValues(R+5,0,1)}if(0<C)for(l.up.setVec(R-2,I),l.up.setVec(R-4,I),l.up.setVec(R-5,I),ea=-6;0>ea;ea++)l.end.setVec(R+ea,B)}r+=this.numberOfRenderVertices(z)}return l.buffer};return l}();l.LaserlinePathData=D;var n=B.vec3f64.create(),A=B.vec3f64.create(),O=z.newLayout().vec3f("start").vec3f("end").vec3f("up").vec2f("extrude")})},"esri/views/3d/webgl-engine/shaders/LaserlinePathTechnique":function(){define("require exports tslib ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/mat4f64 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ./LaserlinePath.glsl ../../../webgl/Program ../../../webgl/renderState ../../../webgl/renderState @dojo/framework/shim/Promise".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O){Object.defineProperty(l,"__esModule",{value:!0});d=function(d){function l(){return null!==d&&d.apply(this,arguments)||this}u.__extends(l,d);l.prototype.initializeProgram=function(d){var h=l.shader.get().build(this.configuration);return new n(d.rctx,h.generateSource("vertex"),h.generateSource("fragment"),l.attributeLocations)};l.prototype.bind=function(d,h,n){this.program.setUniform3fv("innerColor",d.innerColor);this.program.setUniform1f("innerWidth",d.innerWidth*
n.pixelRatio);this.program.setUniform3fv("glowColor",d.glowColor);this.program.setUniform1f("glowWidth",d.glowWidth*n.pixelRatio);this.program.setUniform1f("glowFalloff",d.glowFalloff);this.program.setUniform1f("globalAlpha",d.globalAlpha);this.program.setUniform1f("perScreenPixelRatio",n.perScreenPixelRatio);this.program.setUniform2f("pixelToNDC",2/n.fullWidth,2/n.fullHeight);this.program.setUniformMatrix4fv("uProjectionMatrix",n.projectionMatrix);y.mat4.translate(I,n.viewMatrix,h);this.program.setUniformMatrix4fv("uModelViewMatrix",
I);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=d.globalAlphaContrastBoost?d.globalAlphaContrastBoost:1)};l.prototype.initializePipeline=function(){return O.makePipelineState({blending:A.simpleBlendingParams(1,771),colorWrite:O.defaultColorWriteParams})};l.prototype.bindPipelineState=function(d){d.setPipelineState(this.pipeline)};l.shader=new p.ReloadableShaderModule(h,function(){return new Promise(function(d,h){D(["./LaserlinePath.glsl"],d,
h)})});l.attributeLocations={start:0,end:1,up:2,extrude:3};return l}(d.ShaderTechnique);l.LaserlinePathTechnique=d;d=function(d){function h(){var h=null!==d&&d.apply(this,arguments)||this;h.contrastControlEnabled=!1;return h}u.__extends(h,d);u.__decorate([z.parameter()],h.prototype,"contrastControlEnabled",void 0);return h}(z.ShaderTechniqueConfiguration);l.LaserlinePathTechniqueConfiguration=d;var I=B.mat4f64.create()})},"esri/views/3d/webgl-engine/shaders/LaserlinePath.glsl":function(){define("require exports tslib ../core/shaderLibrary/Laserline.glsl ../core/shaderModules/interfaces ../core/shaderModules/ShaderBuilder".split(" "),
function(D,l,u,y,B,p){Object.defineProperty(l,"__esModule",{value:!0});l.build=function(h){var n=new p.ShaderBuilder;n.include(y.Laserline,h);n.vertex.uniforms.add("uModelViewMatrix","mat4");n.vertex.uniforms.add("uProjectionMatrix","mat4");n.attributes.add("start","vec3");n.attributes.add("end","vec3");n.attributes.add("up","vec3");n.attributes.add("extrude","vec2");n.varyings.add("uv","vec2");n.varyings.add("vViewStart","vec3");n.varyings.add("vViewEnd","vec3");n.varyings.add("vViewPlane","vec4");
n.vertex.uniforms.add("glowWidth","float");n.vertex.uniforms.add("pixelToNDC","vec2");n.vertex.code.add(B.glsl(d||(d=u.__makeTemplateObject(["\n  void main() {\n    vec3 pos \x3d mix(start, end, extrude.x);\n\n    vec4 viewPos \x3d uModelViewMatrix * vec4(pos, 1);\n    vec4 projPos \x3d uProjectionMatrix * viewPos;\n    vec2 ndcPos \x3d projPos.xy / projPos.w;\n\n    vec3 viewUp \x3d (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;\n    vec4 projPosUp \x3d uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);\n    vec2 projExtrudeDir \x3d normalize(projPosUp.xy / projPosUp.w - ndcPos);\n\n    vec2 lxy \x3d abs(sign(projExtrudeDir) - ndcPos);\n    ndcPos +\x3d length(lxy) * projExtrudeDir;\n\n    vec3 worldPlaneNormal \x3d normalize(cross(up, normalize(end - start)));\n    vec3 viewPlaneNormal \x3d (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;\n\n    vViewStart \x3d (uModelViewMatrix * vec4(start, 1)).xyz;\n    vViewEnd \x3d (uModelViewMatrix * vec4(end, 1)).xyz;\n    vViewPlane \x3d vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\n\n    // Add enough padding in the X screen space direction for glow\n    float xPaddingPixels \x3d sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\n    ndcPos.x +\x3d xPaddingPixels * pixelToNDC.x;\n\n    uv \x3d ndcPos * 0.5 + 0.5;\n    gl_Position \x3d vec4(ndcPos, 0, 1);\n  }\n  "],
["\n  void main() {\n    vec3 pos \x3d mix(start, end, extrude.x);\n\n    vec4 viewPos \x3d uModelViewMatrix * vec4(pos, 1);\n    vec4 projPos \x3d uProjectionMatrix * viewPos;\n    vec2 ndcPos \x3d projPos.xy / projPos.w;\n\n    vec3 viewUp \x3d (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;\n    vec4 projPosUp \x3d uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);\n    vec2 projExtrudeDir \x3d normalize(projPosUp.xy / projPosUp.w - ndcPos);\n\n    vec2 lxy \x3d abs(sign(projExtrudeDir) - ndcPos);\n    ndcPos +\x3d length(lxy) * projExtrudeDir;\n\n    vec3 worldPlaneNormal \x3d normalize(cross(up, normalize(end - start)));\n    vec3 viewPlaneNormal \x3d (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;\n\n    vViewStart \x3d (uModelViewMatrix * vec4(start, 1)).xyz;\n    vViewEnd \x3d (uModelViewMatrix * vec4(end, 1)).xyz;\n    vViewPlane \x3d vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\n\n    // Add enough padding in the X screen space direction for glow\n    float xPaddingPixels \x3d sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\n    ndcPos.x +\x3d xPaddingPixels * pixelToNDC.x;\n\n    uv \x3d ndcPos * 0.5 + 0.5;\n    gl_Position \x3d vec4(ndcPos, 0, 1);\n  }\n  "]))));
n.fragment.uniforms.add("globalAlpha","float");n.fragment.uniforms.add("perScreenPixelRatio","float");n.fragment.code.add(B.glsl(z||(z=u.__makeTemplateObject(["\n  float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\n    vec3 origin \x3d mix(start, end, 0.5);\n    vec3 basis \x3d end - origin;\n    vec3 posAtOrigin \x3d pos - origin;\n\n    float x \x3d dot(normalize(basis), posAtOrigin);\n    float y \x3d dot(plane.xyz, posAtOrigin);\n\n    float dx \x3d max(abs(x) - length(basis), 0.0);\n    float dy \x3d y;\n\n    float dist \x3d length(vec2(dx, dy));\n\n    float width \x3d fwidth(y);\n    float maxPixelDistance \x3d length(pos) * perScreenPixelRatio * 2.0;\n    float pixelDist \x3d dist / min(width, maxPixelDistance);\n    return abs(pixelDist);\n  }\n\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    float distance \x3d planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\n\n    vec4 color \x3d laserlineProfile(distance);\n    float alpha \x3d 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));\n\n    gl_FragColor \x3d laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n  }\n  "],
["\n  float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\n    vec3 origin \x3d mix(start, end, 0.5);\n    vec3 basis \x3d end - origin;\n    vec3 posAtOrigin \x3d pos - origin;\n\n    float x \x3d dot(normalize(basis), posAtOrigin);\n    float y \x3d dot(plane.xyz, posAtOrigin);\n\n    float dx \x3d max(abs(x) - length(basis), 0.0);\n    float dy \x3d y;\n\n    float dist \x3d length(vec2(dx, dy));\n\n    float width \x3d fwidth(y);\n    float maxPixelDistance \x3d length(pos) * perScreenPixelRatio * 2.0;\n    float pixelDist \x3d dist / min(width, maxPixelDistance);\n    return abs(pixelDist);\n  }\n\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    float distance \x3d planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\n\n    vec4 color \x3d laserlineProfile(distance);\n    float alpha \x3d 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));\n\n    gl_FragColor \x3d laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n  }\n  "]))));
return n};var d,z})},"esri/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl":function(){define("require exports tslib ./output/ReadLinearDepth.glsl ./util/CameraSpace.glsl ../shaderModules/interfaces".split(" "),function(D,l,u,y,B,p){Object.defineProperty(l,"__esModule",{value:!0});l.Laserline=function(l,C){l.extensions.add("GL_OES_standard_derivatives");l.include(y.ReadLinearDepth);l.include(B.CameraSpace);l.fragment.uniforms.add("glowColor","vec3");l.fragment.uniforms.add("glowWidth","float");
l.fragment.uniforms.add("glowFalloff","float");l.fragment.uniforms.add("innerColor","vec3");l.fragment.uniforms.add("innerWidth","float");l.fragment.uniforms.add("depthMap","sampler2D");l.fragment.uniforms.add("nearFar","vec2");l.fragment.uniforms.add("frameColor","sampler2D");C.contrastControlEnabled&&l.fragment.uniforms.add("globalAlphaContrastBoost","float");l.fragment.code.add(p.glsl(d||(d=u.__makeTemplateObject(["\n  vec4 blendPremultiplied(vec4 source, vec4 dest) {\n    float oneMinusSourceAlpha \x3d 1.0 - source.a;\n\n    return vec4(\n      source.rgb + dest.rgb * oneMinusSourceAlpha,\n      source.a + dest.a * oneMinusSourceAlpha\n    );\n  }\n  "],
["\n  vec4 blendPremultiplied(vec4 source, vec4 dest) {\n    float oneMinusSourceAlpha \x3d 1.0 - source.a;\n\n    return vec4(\n      source.rgb + dest.rgb * oneMinusSourceAlpha,\n      source.a + dest.a * oneMinusSourceAlpha\n    );\n  }\n  "]))));l.fragment.code.add(p.glsl(z||(z=u.__makeTemplateObject(["\n  vec4 premultipliedColor(vec3 rgb, float alpha) {\n    return vec4(rgb * alpha, alpha);\n  }\n  "],["\n  vec4 premultipliedColor(vec3 rgb, float alpha) {\n    return vec4(rgb * alpha, alpha);\n  }\n  "]))));
l.fragment.code.add(p.glsl(h||(h=u.__makeTemplateObject(["\n  vec4 laserlineProfile(float dist) {\n    if (dist \x3e glowWidth) {\n      return vec4(0.0);\n    }\n\n    float innerAlpha \x3d (1.0 - smoothstep(0.0, innerWidth, dist));\n    float glowAlpha \x3d pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\n\n    return blendPremultiplied(\n      premultipliedColor(innerColor, innerAlpha),\n      premultipliedColor(glowColor, glowAlpha)\n    );\n  }\n  "],["\n  vec4 laserlineProfile(float dist) {\n    if (dist \x3e glowWidth) {\n      return vec4(0.0);\n    }\n\n    float innerAlpha \x3d (1.0 - smoothstep(0.0, innerWidth, dist));\n    float glowAlpha \x3d pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\n\n    return blendPremultiplied(\n      premultipliedColor(innerColor, innerAlpha),\n      premultipliedColor(glowColor, glowAlpha)\n    );\n  }\n  "]))));
l.fragment.code.add(p.glsl(n||(n=u.__makeTemplateObject(["\n  bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {\n    float depth \x3d linearDepthFromTexture(depthMap, uv, nearFar);\n\n    if (-depth \x3d\x3d nearFar[0]) {\n      return false;\n    }\n\n    pos \x3d reconstructPosition(gl_FragCoord.xy, depth);\n    normal \x3d normalize(cross(dFdx(pos), dFdy(pos)));\n\n    float ddepth \x3d fwidth(depth);\n    depthDiscontinuityAlpha \x3d 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);\n\n    return true;\n  }\n  "],
["\n  bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {\n    float depth \x3d linearDepthFromTexture(depthMap, uv, nearFar);\n\n    if (-depth \x3d\x3d nearFar[0]) {\n      return false;\n    }\n\n    pos \x3d reconstructPosition(gl_FragCoord.xy, depth);\n    normal \x3d normalize(cross(dFdx(pos), dFdy(pos)));\n\n    float ddepth \x3d fwidth(depth);\n    depthDiscontinuityAlpha \x3d 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);\n\n    return true;\n  }\n  "]))));
C.contrastControlEnabled?l.fragment.code.add(p.glsl(A||(A=u.__makeTemplateObject(["\n    float rgbToLuminance(vec3 color) {\n      return dot(vec3(0.2126, 0.7152, 0.0722), color);\n    }\n\n    vec4 laserlineOutput(vec4 color) {\n      float backgroundLuminance \x3d rgbToLuminance(texture2D(frameColor, uv).rgb);\n      float alpha \x3d clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\n\n      return color * alpha;\n    }\n    "],["\n    float rgbToLuminance(vec3 color) {\n      return dot(vec3(0.2126, 0.7152, 0.0722), color);\n    }\n\n    vec4 laserlineOutput(vec4 color) {\n      float backgroundLuminance \x3d rgbToLuminance(texture2D(frameColor, uv).rgb);\n      float alpha \x3d clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\n\n      return color * alpha;\n    }\n    "])))):
l.fragment.code.add(p.glsl(O||(O=u.__makeTemplateObject(["\n    vec4 laserlineOutput(vec4 color) {\n      return color * globalAlpha;\n    }\n    "],["\n    vec4 laserlineOutput(vec4 color) {\n      return color * globalAlpha;\n    }\n    "]))))};var d,z,h,n,A,O})},"esri/views/3d/webgl-engine/shaders/LaserlineTechnique":function(){define("require exports tslib ../../../../core/mathUtils ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ./Laserlines.glsl ../../../webgl/Program ../../../webgl/renderState ../../../webgl/renderState @dojo/framework/shim/Promise".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O){Object.defineProperty(l,"__esModule",{value:!0});p=function(d){function l(){return null!==d&&d.apply(this,arguments)||this}u.__extends(l,d);l.prototype.initializeProgram=function(d){var h=l.shader.get().build(this.configuration);return new n(d.rctx,h.generateSource("vertex"),h.generateSource("fragment"),z.Default3D)};l.prototype.bind=function(d,n){this.program.setUniform3fv("innerColor",d.innerColor);this.program.setUniform1f("innerWidth",d.innerWidth*n.pixelRatio);
this.program.setUniform3fv("glowColor",d.glowColor);this.program.setUniform1f("glowWidth",d.glowWidth*n.pixelRatio);this.program.setUniform1f("glowFalloff",d.glowFalloff);this.program.setUniform1f("globalAlpha",d.globalAlpha);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=d.globalAlphaContrastBoost?d.globalAlphaContrastBoost:1);d=null!=d.angleCutoff?d.angleCutoff:h.defaultAngleCutoff;this.program.setUniform2f("angleCutoff",Math.cos(d),Math.cos(Math.max(0,
d-y.deg2rad(2))));this.configuration.intersectsLineEnabled&&this.program.setUniform1f("perScreenPixelRatio",n.perScreenPixelRatio)};l.prototype.initializePipeline=function(){return O.makePipelineState({blending:A.simpleBlendingParams(1,771),colorWrite:O.defaultColorWriteParams})};l.shader=new B.ReloadableShaderModule(h,function(){return new Promise(function(d,h){D(["./Laserlines.glsl"],d,h)})});return l}(p.ShaderTechnique);l.LaserlineTechnique=p;p=function(h){function n(){var d=null!==h&&h.apply(this,
arguments)||this;d.heightManifoldEnabled=!1;d.pointDistanceEnabled=!1;d.lineVerticalPlaneEnabled=!1;d.intersectsLineEnabled=!1;d.contrastControlEnabled=!1;return d}u.__extends(n,h);u.__decorate([d.parameter()],n.prototype,"heightManifoldEnabled",void 0);u.__decorate([d.parameter()],n.prototype,"pointDistanceEnabled",void 0);u.__decorate([d.parameter()],n.prototype,"lineVerticalPlaneEnabled",void 0);u.__decorate([d.parameter()],n.prototype,"intersectsLineEnabled",void 0);u.__decorate([d.parameter()],
n.prototype,"contrastControlEnabled",void 0);return n}(d.ShaderTechniqueConfiguration);l.LaserlineTechniqueConfiguration=p})},"esri/views/3d/webgl-engine/shaders/Laserlines.glsl":function(){define("require exports tslib ../../../../core/mathUtils ../core/shaderLibrary/Laserline.glsl ../core/shaderLibrary/ScreenSpacePass ../core/shaderModules/interfaces ../core/shaderModules/ShaderBuilder".split(" "),function(D,l,u,y,B,p,d,z){Object.defineProperty(l,"__esModule",{value:!0});l.defaultAngleCutoff=y.deg2rad(6);
l.build=function(l){var v=new z.ShaderBuilder;v.extensions.add("GL_OES_standard_derivatives");v.include(p.ScreenSpacePass);v.include(B.Laserline,l);v.fragment.uniforms.add("angleCutoff","vec2");v.fragment.uniforms.add("globalAlpha","float");l.heightManifoldEnabled&&v.fragment.uniforms.add("heightPlane","vec4");l.pointDistanceEnabled&&v.fragment.uniforms.add("pointDistanceSphere","vec4");l.lineVerticalPlaneEnabled&&v.fragment.uniforms.add("lineVerticalPlane","vec4").add("lineVerticalStart","vec3").add("lineVerticalEnd",
"vec3");(l.heightManifoldEnabled||l.pointDistanceEnabled||l.lineVerticalPlaneEnabled)&&v.fragment.uniforms.add("maxPixelDistance","float");l.intersectsLineEnabled&&v.fragment.uniforms.add("intersectsLineStart","vec3").add("intersectsLineEnd","vec3").add("intersectsLineDirection","vec3").add("intersectsLineRadius","float").add("perScreenPixelRatio","float");(l.lineVerticalPlaneEnabled||l.heightManifoldEnabled)&&v.fragment.code.add(d.glsl(h||(h=u.__makeTemplateObject(["\n      float planeDistancePixels(vec4 plane, vec3 pos) {\n        float dist \x3d dot(plane.xyz, pos) + plane.w;\n        float width \x3d fwidth(dist);\n        dist /\x3d min(width, maxPixelDistance);\n        return abs(dist);\n      }"],
["\n      float planeDistancePixels(vec4 plane, vec3 pos) {\n        float dist \x3d dot(plane.xyz, pos) + plane.w;\n        float width \x3d fwidth(dist);\n        dist /\x3d min(width, maxPixelDistance);\n        return abs(dist);\n      }"]))));l.pointDistanceEnabled&&v.fragment.code.add(d.glsl(n||(n=u.__makeTemplateObject(["\n    float sphereDistancePixels(vec4 sphere, vec3 pos) {\n      float dist \x3d distance(sphere.xyz, pos) - sphere.w;\n      float width \x3d fwidth(dist);\n      dist /\x3d min(width, maxPixelDistance);\n      return abs(dist);\n    }\n    "],
["\n    float sphereDistancePixels(vec4 sphere, vec3 pos) {\n      float dist \x3d distance(sphere.xyz, pos) - sphere.w;\n      float width \x3d fwidth(dist);\n      dist /\x3d min(width, maxPixelDistance);\n      return abs(dist);\n    }\n    "]))));l.intersectsLineEnabled&&v.fragment.code.add(d.glsl(A||(A=u.__makeTemplateObject(["\n    float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\n      float dist \x3d length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\n      return abs(dist) - radius;\n    }\n    "],
["\n    float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\n      float dist \x3d length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\n      return abs(dist) - radius;\n    }\n    "]))));(l.lineVerticalPlaneEnabled||l.intersectsLineEnabled)&&v.fragment.code.add(d.glsl(O||(O=u.__makeTemplateObject(["\n    bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\n      vec3 dir \x3d end - start;\n      float t2 \x3d dot(dir, pos - start);\n      float l2 \x3d dot(dir, dir);\n      return t2 \x3e\x3d 0.0 \x26\x26 t2 \x3c\x3d l2;\n    }\n    "],
["\n    bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\n      vec3 dir \x3d end - start;\n      float t2 \x3d dot(dir, pos - start);\n      float l2 \x3d dot(dir, dir);\n      return t2 \x3e\x3d 0.0 \x26\x26 t2 \x3c\x3d l2;\n    }\n    "]))));v.fragment.code.add(d.glsl(I||(I=u.__makeTemplateObject(["\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    vec4 color \x3d vec4(0, 0, 0, 0);\n  "],
["\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    vec4 color \x3d vec4(0, 0, 0, 0);\n  "]))));l.heightManifoldEnabled&&v.fragment.code.add(d.glsl(C||(C=u.__makeTemplateObject(["\n    {\n      float heightManifoldAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));\n      vec4 heightManifoldColor \x3d laserlineProfile(planeDistancePixels(heightPlane, pos));\n      color \x3d max(color, heightManifoldColor * heightManifoldAlpha);\n    }\n    "],
["\n    {\n      float heightManifoldAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));\n      vec4 heightManifoldColor \x3d laserlineProfile(planeDistancePixels(heightPlane, pos));\n      color \x3d max(color, heightManifoldColor * heightManifoldAlpha);\n    }\n    "]))));l.pointDistanceEnabled&&v.fragment.code.add(d.glsl(Q||(Q=u.__makeTemplateObject(["\n    {\n      // distance to sphere\n      float pointDistanceSphereDistance \x3d sphereDistancePixels(pointDistanceSphere, pos);\n      vec4 pointDistanceSphereColor \x3d laserlineProfile(pointDistanceSphereDistance);\n      float pointDistanceSphereAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\n\n      color \x3d max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n    }\n    "],
["\n    {\n      // distance to sphere\n      float pointDistanceSphereDistance \x3d sphereDistancePixels(pointDistanceSphere, pos);\n      vec4 pointDistanceSphereColor \x3d laserlineProfile(pointDistanceSphereDistance);\n      float pointDistanceSphereAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\n\n      color \x3d max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n    }\n    "]))));l.lineVerticalPlaneEnabled&&
v.fragment.code.add(d.glsl(F||(F=u.__makeTemplateObject(["\n    {\n      if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\n        float lineVerticalDistance \x3d planeDistancePixels(lineVerticalPlane, pos);\n\n        vec4 lineVerticalColor \x3d laserlineProfile(lineVerticalDistance);\n        float lineVerticalAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\n\n        color \x3d max(color, lineVerticalColor * lineVerticalAlpha);\n      }\n    }\n    "],
["\n    {\n      if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\n        float lineVerticalDistance \x3d planeDistancePixels(lineVerticalPlane, pos);\n\n        vec4 lineVerticalColor \x3d laserlineProfile(lineVerticalDistance);\n        float lineVerticalAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\n\n        color \x3d max(color, lineVerticalColor * lineVerticalAlpha);\n      }\n    }\n    "]))));l.intersectsLineEnabled&&
v.fragment.code.add(d.glsl(E||(E=u.__makeTemplateObject(["\n    {\n      if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\n        float intersectsLineDistance \x3d lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\n        vec4 intersectsLineColor \x3d laserlineProfile(intersectsLineDistance);\n        float intersectsLineAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\n\n        color \x3d max(color, intersectsLineColor * intersectsLineAlpha);\n      }\n    }\n    "],
["\n    {\n      if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\n        float intersectsLineDistance \x3d lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\n        vec4 intersectsLineColor \x3d laserlineProfile(intersectsLineDistance);\n        float intersectsLineAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\n\n        color \x3d max(color, intersectsLineColor * intersectsLineAlpha);\n      }\n    }\n    "]))));
v.fragment.code.add(d.glsl(r||(r=u.__makeTemplateObject(["\n    gl_FragColor \x3d laserlineOutput(color * depthDiscontinuityAlpha);\n  }\n  "],["\n    gl_FragColor \x3d laserlineOutput(color * depthDiscontinuityAlpha);\n  }\n  "]))));return v};var h,n,A,O,I,C,Q,F,E,r})},"esri/views/3d/interactive/visualElements/VisualElementResources":function(){define("require exports ../../../../core/maybe ../../../../core/watchUtils ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/Layer ../../webgl-engine/lib/Object3D ../../webgl-engine/lib/Texture".split(" "),
function(D,l,u,y,B,p,d,z){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function h(d){this.resourceFactory=d;this._resources=null;this._attached=this._hidden=!1}h.prototype.destroy=function(){this._destroyResources()};Object.defineProperty(h.prototype,"object",{get:function(){return u.isSome(this._resources)?this._resources.object:null},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"resources",{get:function(){return u.isSome(this._resources)?this._resources.external:
null},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"hidden",{get:function(){return this._hidden},set:function(d){d!==this._hidden&&(this._hidden=d,this._syncHidden())},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"attached",{get:function(){return this._attached},set:function(d){d!==this._attached&&(this._attached=d,this._createOrDestroyResources())},enumerable:!0,configurable:!0});h.prototype.recreate=function(){this.attached&&this._createResources()};h.prototype.recreateGeometry=
function(){if(!this.resourceFactory.recreateGeometry)this.recreate();else if(!u.isNone(this._resources)){var d=this._resources.object,h=this.resourceFactory.view._stage;this._resources.external.forEach(function(d){d instanceof B&&h.remove(2,d.id)});d.removeAllGeometries();for(var l=0,d=this.resourceFactory.recreateGeometry(this._resources.external,d,this._resources.layer);l<d.length;l++)h.add(2,d[l])}};h.prototype._createOrDestroyResources=function(){this._attached?this._resources||this._createResources():
this._destroyResources()};h.prototype._createResources=function(){var h=this;this._destroyResources();var l=this.resourceFactory.view._stage;if(l){var u=new p("element",{isPickable:!1});l.add(0,u);l.addToViewContent([u.id]);var z=new d({idHint:"element",castShadow:!1}),C=this.resourceFactory.createResources(z,u);C.forEach(function(d){l.add(h._contentTypeFromResource(d),d)});l.add(1,z);u.addObject(z);this._hidden&&z.setVisible(!1);var B=this.resourceFactory.cameraChanged?y.init(this.resourceFactory.view.state,
"camera",function(d){return h.resourceFactory.cameraChanged(d)}):null;this._resources={layer:u,object:z,external:C,cameraHandle:B}}};h.prototype._contentTypeFromResource=function(d){return d instanceof B?2:d instanceof z?4:3};h.prototype._destroyResources=function(){var d=this;if(!u.isNone(this._resources)){var h=this.resourceFactory.view._stage;h.remove(1,this._resources.object.id);h.remove(0,this._resources.layer.id);this._resources.external.forEach(function(l){h.remove(d._contentTypeFromResource(l),
l.id);"dispose"in l&&l.dispose()});this._resources.object.dispose();this._resources.cameraHandle&&this._resources.cameraHandle.remove();this._resources=null}};h.prototype._syncHidden=function(){u.isNone(this._resources)||this._resources.object.setVisible(!this._hidden)};return h}();l.VisualElementResources=D})},"esri/views/3d/interactive/visualElements/VerticesVisualElement":function(){define("require exports ../../../../core/Evented ../../../../core/maybe ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../../../../geometry/support/aaBoundingBox ../editingTools/settings ./DrapedVisualElementResources ./VisualElementResources ../../layers/graphics/ElevationContext ../../layers/graphics/pointUtils ../../support/projectionUtils ../../webgl-engine/lib/Camera ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/ColorMaterial ../../webgl-engine/materials/ShadedColorMaterial".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v,M,U,W){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function h(d){var h=this;this.view=null;this.camera=new N.default;this.events=new u;this._isDraped=!1;this._spatialReference=this._vertices=null;this._color=I.settings.colorToVec4(I.settings.reshapeManipulators.vertex.color);this._elevationInfo=null;this._occludedMode=8;this.resources=new Q.VisualElementResources({view:d.view,createResources:function(d){return h.createResources(d)},
recreateGeometry:function(d,l){d.geometries.length=0;h.recreateGeometry(l,d.vertexMaterial,d.vertexOutlineMaterial,d.geometries);return d.geometries}});this.drapedResources=new C.DrapedVisualElementResources({view:d.view,createResources:function(){return h.createDrapedResources()},recreateGeometry:function(d){}});var l=!0,n;for(n in d)n in this?"attached"===n?l=d[n]:this[n]=d[n]:console.error("Cannot set unknown property",n);this.attached=l}h.prototype.onViewChange=function(){this.camera.copyFrom(this.view.state.camera)};
h.prototype.destroy=function(){this.resources.destroy();this.drapedResources.destroy()};Object.defineProperty(h.prototype,"isDraped",{get:function(){return this._isDraped},set:function(d){d!==this._isDraped&&(this._isDraped=d,this.updateAttached(this.attached))},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(d){this.resources.hidden=d;this.drapedResources.hidden=d},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,
"attached",{get:function(){return this.resources.attached||this.drapedResources.attached},set:function(d){this.updateAttached(d)},enumerable:!0,configurable:!0});h.prototype.updateAttached=function(d){this.resources.attached=!this.isDraped&&d;this.drapedResources.attached=this.isDraped&&d};Object.defineProperty(h.prototype,"vertices",{get:function(){return this._vertices},set:function(d){this._vertices=d;this.resources.recreateGeometry();this.drapedResources.recreateGeometry()},enumerable:!0,configurable:!0});
Object.defineProperty(h.prototype,"spatialReference",{get:function(){return this._spatialReference},set:function(d){this._spatialReference=d;this.resources.recreateGeometry();this.drapedResources.recreateGeometry()},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"color",{get:function(){return this._color},set:function(d){n.vec4.exactEquals(d,this._color)||(n.vec4.copy(this._color,d),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"elevationInfo",
{get:function(){return this._elevationInfo},set:function(d){this._elevationInfo=d;this.resources.recreateGeometry()},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"occludedMode",{get:function(){return this._occludedMode},set:function(d){d!==this._occludedMode&&(this._occludedMode=d,y.isSome(this.resources.resources)&&(this.resources.resources.vertexMaterial.renderOccluded=d,this.resources.resources.vertexOutlineMaterial.renderOccluded=d),y.isSome(this.drapedResources.resources))},
enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"vertexMaterialParameters",{get:function(){return{color:this._color,transparent:1>this._color[3]}},enumerable:!0,configurable:!0});h.prototype.updateMaterial=function(){y.isSome(this.resources.resources)&&this.resources.resources.vertexMaterial.setParameterValues(this.vertexMaterialParameters)};h.prototype.recreateGeometry=function(d,h,l,n){for(var p=0,r=this.createRenderGeometries();p<r.length;p++){var v=r[p];d.addGeometry(v.vertexGeometry,
h,v.xform);n.push(v.vertexGeometry);d.addGeometry(v.vertexOutlineGeometry,l,v.xform);n.push(v.vertexOutlineGeometry)}};h.prototype.createResources=function(d){var h=this.color,l=A.vec4f64.fromValues(h[0],h[1],h[2],3<h.length?h[3]:1),n=new W.ShadedColorMaterial({color:l,transparent:1>h[3],writeDepth:!0,cullFace:2},"manipulator");n.renderOccluded=I.settings.reshapeManipulators.vertex.renderOccludedFlag;var h=I.settings.colorToVec4(I.settings.reshapeManipulators.vertex.outlineColor),h=A.vec4f64.fromValues(h[0],
h[1],h[2],4===h.length?h[3]:1),p=new U({color:h,transparent:!0,writeDepth:!0,cullFace:1},"manipulator-outline");p.renderOccluded=I.settings.reshapeManipulators.vertex.renderOccludedFlag;var r=[];this.recreateGeometry(d,n,p,r);return{vertexMaterial:n,vertexOutlineMaterial:p,geometries:r,forEach:function(d){d(n);d(p);r.forEach(d)}}};h.prototype.createDrapedResources=function(){return{geometries:null}};h.prototype.calculateMapBounds=function(d){if(y.isNone(this.resources.resources))return!1;for(var h=
this.view.renderCoordsHelper,l=0,n=this.resources.resources.geometries;l<n.length;l++){var p=n[l].data.getAttribute("position"),v=p.data,u=new Float64Array(v.length);r.bufferToBuffer(p.data,h.spatialReference,0,u,this.view.spatialReference,0,v.length/3);O.expandWithBuffer(d,u)}return!0};h.prototype.computeScreenLocation=function(d,h){h.pixelSize=this.camera.computeScreenPixelSizeAt(d);this.camera.projectPoint(d,h.renderScreenPointArray);this.camera.renderToScreen(h.renderScreenPointArray,h.screenPointArray);
return h};h.prototype.computeTransform=function(h,l){var n=d.mat4f64.create(),r=this.computeScreenLocation(h,Y);l*=r.pixelSize;p.mat4.set(n,l,0,0,0,0,l,0,0,0,0,l,0,0,0,0,1);n[12]+=h[0];n[13]+=h[1];n[14]+=h[2];n[15]=1;return n};h.prototype.createRenderGeometries=function(){var d=this.vertices;if(!y.isNone(d)&&0!==d.length&&this.view.state&&this.view.state.camera)this.camera.copyFrom(this.view.state.camera);else return[];for(var h=I.settings.reshapeManipulators.vertex,l=h.size/2,n=l+h.collisionPadding,
p=l/n,h=(l+h.outlineSize)/n,r=E.geometryToRenderInfo(d,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,F.ElevationContext.fromElevationInfo(this.elevationInfo)),d=[],l=r.numVertices,r=r.position,u=0;u<l;++u){var C=new v(M.createSphereGeometry(p,16,16),"VerticesVisualElement-vertex"),A=new v(M.createSphereGeometry(h,16,16),"VerticesVisualElement-vertexOutline"),B=z.vec3.set(R,r[3*u+0],r[3*u+1],r[3*u+2]),B=this.computeTransform(B,n);d.push({vertexGeometry:C,vertexOutlineGeometry:A,
xform:B})}return d};return h}();l.VerticesVisualElement=D;var Y={screenPointArray:B.createScreenPointArray(),renderScreenPointArray:B.createRenderScreenPointArray3(),pixelSize:0},R=h.vec3f64.create()})},"esri/views/3d/webgl-engine/materials/ShadedColorMaterial":function(){define("require exports tslib ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../support/buffer/InterleavedLayout ../lib/GLMaterial ../lib/Material ../lib/Util ./internal/DefaultBufferWriter ./internal/MaterialUtil ./internal/MaterialUtil ./renderers/MergedRenderer ../shaders/ShadedColorMaterialTechnique".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C){Object.defineProperty(l,"__esModule",{value:!0});var Q=p.newLayout().vec3f(h.VertexAttrConstants.POSITION).vec3f(h.VertexAttrConstants.NORMAL);D=function(d){function h(h,l){l=d.call(this,l)||this;l.supportsEdges=!0;l.techniqueConfig=new C.ShadedColorMaterialTechniqueConfiguration;l.params=O.copyParameters(h,E);return l}u.__extends(h,d);h.prototype.setParameterValues=function(d){A.updateParameters(this.params,d)&&this.parametersChanged()};h.prototype.getParameters=
function(){return this.params};h.prototype.getTechniqueConfig=function(d){this.techniqueConfig.output=d;this.techniqueConfig.cullFace=this.params.cullFace;this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled;this.techniqueConfig.transparent=this.params.transparent;this.techniqueConfig.writeDepth=this.params.writeDepth;return this.techniqueConfig};h.prototype.getPassParameters=function(){return this.params};h.prototype.intersect=function(d,h,l,n,p,r,u){O.intersectTriangleGeometry(d,
h,n,p,r,void 0,u)};h.prototype.getGLMaterial=function(d){return 0===d.output||4===d.output?new F(d):void 0};h.prototype.createBufferWriter=function(){return new n.DefaultBufferWriter(Q)};h.prototype.createRenderer=function(d,h){return new I(d,h,this)};return h}(z.Material);l.ShadedColorMaterial=D;var F=function(d){function h(h){h=d.call(this,h)||this;h.updateParameters();return h}u.__extends(h,d);h.prototype.updateParameters=function(){this.technique=this.techniqueRep.acquireAndReleaseExisting(C.ShadedColorMaterialTechnique,
this.material.getTechniqueConfig(this.output),this.technique)};h.prototype.beginSlot=function(d){if(4===this.output)return 3===d;var h=3;this.technique.configuration.transparent&&(h=this.technique.configuration.writeDepth?5:8);return d===h};h.prototype.bind=function(d,h){d.bindProgram(this.technique.program);this.technique.bindPass(d,this.material.getPassParameters(),h)};return h}(d.GLMaterial),E={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:y.vec3.normalize(B.vec3f64.create(),[.5,-.5,
-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0}})},"esri/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique":function(){define("require exports tslib ../../../../core/libs/gl-matrix-2/vec4f64 ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/Transform.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ./ShadedColorMaterial.glsl ../../../webgl/Program ../../../webgl/renderState @dojo/framework/shim/Promise".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I){Object.defineProperty(l,"__esModule",{value:!0});z=function(h){function l(){return null!==h&&h.apply(this,arguments)||this}u.__extends(l,h);l.prototype.initializeProgram=function(d){var h=l.shader.get(),p=this.configuration,h=h.build({slicePlaneEnabled:p.slicePlaneEnabled,sliceHighlightDisabled:p.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1});return new O(d.rctx,h.generateSource("vertex"),h.generateSource("fragment"),n.Default3D)};l.prototype.bindPass=
function(d,h,l){d=h.color;var n=h.shadingTint;this.program.setUniform4fv("color",d);this.program.setUniform4fv("shadedColor",this.blendColor(C,n,d));this.program.setUniform3fv("shadingDirection",h.shadingDirection);this.program.setUniformMatrix4fv("viewNormal",l.viewInvTransp)};l.prototype.blendColor=function(d,h,l){var n=1-h[3],p=h[3]+l[3]*n;if(0===p)return d[3]=p,d;d[0]=(h[0]*h[3]+l[0]*l[3]*n)/p;d[1]=(h[1]*h[3]+l[1]*l[3]*n)/p;d[2]=(h[2]*h[3]+l[2]*l[3]*n)/p;d[3]=l[3];return d};l.prototype.bindDraw=
function(d){p.Transform.bindUniforms(this.program,d);B.Slice.bindUniformsWithOrigin(this.program,this.configuration,d)};l.prototype.initializePipeline=function(){var d=this.configuration,h=0===d.output?d.transparent&&I.separateBlendingParams(770,1,771,771):null;return I.makePipelineState({blending:h,culling:function(d){return 0!==d&&{face:1===d?1028:1029,mode:2305}}(d.cullFace),depthTest:{func:515},depthWrite:d.writeDepth&&I.defaultDepthWriteParams,colorWrite:I.defaultColorWriteParams})};l.shader=
new d.ReloadableShaderModule(A,function(){return new Promise(function(d,h){D(["./ShadedColorMaterial.glsl"],d,h)})});return l}(z.ShaderTechnique);l.ShadedColorMaterialTechnique=z;z=function(d){function l(){var h=null!==d&&d.apply(this,arguments)||this;h.output=0;h.cullFace=0;h.slicePlaneEnabled=!1;h.sliceHighlightDisabled=!1;h.transparent=!1;h.writeDepth=!0;return h}u.__extends(l,d);u.__decorate([h.parameter({count:7})],l.prototype,"output",void 0);u.__decorate([h.parameter({count:3})],l.prototype,
"cullFace",void 0);u.__decorate([h.parameter()],l.prototype,"slicePlaneEnabled",void 0);u.__decorate([h.parameter()],l.prototype,"sliceHighlightDisabled",void 0);u.__decorate([h.parameter()],l.prototype,"transparent",void 0);u.__decorate([h.parameter()],l.prototype,"writeDepth",void 0);return l}(h.ShaderTechniqueConfiguration);l.ShadedColorMaterialTechniqueConfiguration=z;var C=y.vec4f64.create()})},"esri/views/3d/webgl-engine/shaders/ShadedColorMaterial.glsl":function(){define("require exports tslib ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/Transform.glsl ../core/shaderModules/interfaces ../core/shaderModules/ShaderBuilder".split(" "),
function(D,l,u,y,B,p,d){Object.defineProperty(l,"__esModule",{value:!0});l.build=function(l){var n=new d.ShaderBuilder;n.include(B.Transform,{linearDepth:!1});n.vertex.uniforms.add("proj","mat4").add("view","mat4").add("viewNormal","mat4");n.fragment.uniforms.add("color","vec4").add("shadedColor","vec4").add("shadingDirection","vec3");n.attributes.add("position","vec3");n.attributes.add("normal","vec3");n.varyings.add("vWorldPosition","vec3");n.varyings.add("vViewNormal","vec3");n.varyings.add("vViewDirection",
"vec3");n.vertex.code.add(p.glsl(z||(z=u.__makeTemplateObject(["\n    void main(void) {\n      vWorldPosition \x3d position;\n\n      vec3 worldNormal \x3d normal;\n      vViewNormal \x3d (viewNormal * vec4(worldNormal, 1)).xyz;\n\n      gl_Position \x3d transformPosition(proj, view, vWorldPosition);\n    }\n  "],["\n    void main(void) {\n      vWorldPosition \x3d position;\n\n      vec3 worldNormal \x3d normal;\n      vViewNormal \x3d (viewNormal * vec4(worldNormal, 1)).xyz;\n\n      gl_Position \x3d transformPosition(proj, view, vWorldPosition);\n    }\n  "]))));
n.include(y.Slice,l);n.fragment.code.add(p.glsl(h||(h=u.__makeTemplateObject(["\n    void main() {\n      discardBySlice(vWorldPosition);\n\n      vec3 viewNormalNorm \x3d normalize(vViewNormal);\n\n      float shadingFactor \x3d 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 colorWithShading \x3d mix(color, shadedColor, shadingFactor);\n\n      gl_FragColor \x3d highlightSlice(colorWithShading, vWorldPosition);\n    }\n    "],["\n    void main() {\n      discardBySlice(vWorldPosition);\n\n      vec3 viewNormalNorm \x3d normalize(vViewNormal);\n\n      float shadingFactor \x3d 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 colorWithShading \x3d mix(color, shadedColor, shadingFactor);\n\n      gl_FragColor \x3d highlightSlice(colorWithShading, vWorldPosition);\n    }\n    "]))));
return n};var z,h})},"esri/views/draw/support/createUtils":function(){define("require exports tslib ../../../geometry ../../../core/arrayUtils ../../../core/lang ../../../core/maybe ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat2d ../../../core/libs/gl-matrix-2/mat2df64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Circle ../../../geometry/geometryEngine ../../../geometry/support/coordsUtils ../../../geometry/support/spatialReferenceUtils".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r){function N(h,l,n){void 0===n&&(n=null);return d.isSome(n)?[h,l,n]:[h,l]}function v(h,l,n){void 0===n&&(n=null);return d.isSome(n)?{x:h,y:l,z:n}:{x:h,y:l}}function M(d,h){h=new y.Point({x:d[0],y:d[1],spatialReference:h});2<d.length&&(h.z=d[2]);return h}function U(d,h,l,n){void 0===n&&(n=!0);d=p.clone(d);d.forEach(function(d){B.equals(d[0],d[d.length-1])||d.push(d[0])});d=new y.Polygon({rings:d,spatialReference:h});d.rings.forEach(function(d){E.isClockwise(d,
!1,!1)||d.reverse()});l&&E.unnormalizeGeometryOnDatelineCrossing(d);n&&d.isSelfIntersecting&&r.isValid(h)&&(d=F.simplify(d));return d}Object.defineProperty(l,"__esModule",{value:!0});l.makeMapPoint=N;l.makeSurfacePoint=v;D=function(){function d(d){this.spatialReference=d}d.prototype.mapToLocalMultiple=function(d){var h=this;return d.map(function(d){return h.mapToLocal(d)})};Object.defineProperty(d.prototype,"doUnnormalization",{get:function(){return!1},enumerable:!0,configurable:!0});return d}();
l.SurfaceCoordinateSystem=D;var W=function(d){function l(l,p,r){void 0===r&&(r=null);p=d.call(this,p)||this;p.defaultZ=r;p.transform=n.mat2df64.create();p.transformInv=n.mat2df64.create();p.transform=n.mat2df64.clone(l);h.mat2d.invert(p.transformInv,p.transform);return p}u.__extends(l,d);l.prototype.makeMapPoint=function(d,h){return N(d,h,this.defaultZ)};l.prototype.mapToLocal=function(d){return v(this.transform[0]*d[0]+this.transform[2]*d[1]+this.transform[4],this.transform[1]*d[0]+this.transform[3]*
d[1]+this.transform[5])};l.prototype.localToMap=function(d){return N(this.transformInv[0]*d.x+this.transformInv[2]*d.y+this.transformInv[4],this.transformInv[1]*d.x+this.transformInv[3]*d.y+this.transformInv[5],this.defaultZ)};return l}(D);l.AffineCoordinateSystem=W;var Y=function(d){function h(h,l){var n=d.call(this,h.spatialReference)||this;n.view=h;n.defaultZ=null;n.pWS=C.vec3f64.create();n.tangentFrameUpWS=C.vec3f64.create();n.tangentFrameRightWS=C.vec3f64.create();n.tangentFrameForwardWS=C.vec3f64.create();
n.localFrameRightWS=C.vec3f64.create();n.localFrameUpWS=C.vec3f64.create();n.worldToLocalTransform=O.quatf64.create();n.localToWorldTransform=O.quatf64.create();n.scale=1;n.scale=h.resolution;n.referenceMapPoint=l;n.defaultZ=l.hasZ?l.z:null;h=h.state.camera.viewRight;n.view.renderCoordsHelper.toRenderCoords(n.referenceMapPoint,n.pWS);n.view.renderCoordsHelper.worldBasisAtPosition(n.pWS,0,n.tangentFrameRightWS);n.view.renderCoordsHelper.worldBasisAtPosition(n.pWS,1,n.tangentFrameUpWS);n.view.renderCoordsHelper.worldBasisAtPosition(n.pWS,
2,n.tangentFrameForwardWS);l=C.vec3f64.create();I.vec3.scale(l,n.tangentFrameForwardWS,I.vec3.dot(h,n.tangentFrameForwardWS));I.vec3.subtract(n.localFrameRightWS,h,l);I.vec3.normalize(n.localFrameRightWS,n.localFrameRightWS);I.vec3.cross(n.localFrameUpWS,n.tangentFrameForwardWS,n.localFrameRightWS);A.quat.rotationTo(n.worldToLocalTransform,n.localFrameRightWS,n.tangentFrameRightWS);A.quat.invert(n.localToWorldTransform,n.worldToLocalTransform);return n}u.__extends(h,d);Object.defineProperty(h.prototype,
"doUnnormalization",{get:function(){return"global"===this.view.viewingMode},enumerable:!0,configurable:!0});h.prototype.makeMapPoint=function(d,h){return N(d,h,this.defaultZ)};h.prototype.mapToLocal=function(d){var h=C.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new y.Point({x:d[0],y:d[1],spatialReference:this.spatialReference}),h);I.vec3.transformQuat(h,h,this.worldToLocalTransform);d=this.view.renderCoordsHelper.fromRenderCoords(h,this.view.spatialReference);return v(d.x/this.scale,
d.y/this.scale)};h.prototype.localToMap=function(d){var h=C.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new y.Point({x:d.x*this.scale,y:d.y*this.scale,spatialReference:this.spatialReference}),h);I.vec3.transformQuat(h,h,this.localToWorldTransform);d=this.view.renderCoordsHelper.fromRenderCoords(h,this.view.spatialReference);return N(d.x,d.y,this.defaultZ)};return h}(D);l.SceneViewCoordinateSystem=Y;l.createViewAlignedCoordinateSystem=function(d,h){return"2d"===d.type?new W(d.state.transform,
d.spatialReference,2<h.length?h[2]:null):"3d"===d.type?(h=2<h.length?new y.Point({x:h[0],y:h[1],z:h[2],spatialReference:d.spatialReference}):new y.Point({x:h[0],y:h[1],spatialReference:d.spatialReference}),new Y(d,h)):null};l.createPoint=M;l.createMultipoint=function(d,h){return new y.Multipoint({points:d,spatialReference:h})};l.createPolyline=function(d,h,l){d=new y.Polyline({paths:d,spatialReference:h});l&&E.unnormalizeGeometryOnDatelineCrossing(d);return d};l.createPolygon=U;l.createSquare=function(d,
h,l){var n=h.mapToLocalMultiple(d);d=[];var p=n[0].x,r=n[0].y,u=Math.round(n[1].x-p),z=Math.round(n[1].y-r),n=Math.max(Math.abs(u),Math.abs(z));l?(l=p+n,u=r+n,p-=n,r-=n,d.push(v(l,r),v(p,r),v(p,u),v(l,u))):(l=0<u?p+n:p-n,n=0<z?r+n:r-n,d.push(v(p,r),v(l,r),v(l,n),v(p,n)));return U([d.map(function(d){return h.localToMap(d)})],h.spatialReference,h.doUnnormalization,!0)};l.createRectangle=function(d,h,n){var l=h.mapToLocalMultiple(d);1===l.length&&(d=l[0],l=[v(d.x-48,d.y+48),v(d.x+48,d.y-48),v(d.x+48,
d.y-48),v(d.x-48,d.y+48)]);d=[];var p=l[0].x,r=l[0].y,u=l[1].x,l=l[1].y;if(n){n=Math.round(u-p);var z=Math.round(l-r);d.push(v(p-n,r-z),v(u,r-z),v(u,l),v(p-n,l))}else d.push(v(p,r),v(u,r),v(u,l),v(p,l));return U([d.map(function(d){return h.localToMap(d)})],h.spatialReference,h.doUnnormalization,!0)};l.createCircle=function(d,h,l,n){var p=h.mapToLocalMultiple(d),u=d=null;l?(d=p[0],u=p[1]):(d=p[0],u=p[1],l=Math.round(u.x-d.x),u=Math.round(u.y-d.y),p=Math.max(Math.abs(l),Math.abs(u)),d=v(0<l?d.x+p/2:
d.x-p/2,0<u?d.y+p/2:d.y-p/2),u=v(Math.abs(l)>Math.abs(u)?d.x-p/2:d.x,Math.abs(l)>Math.abs(u)?d.y:d.y-p/2));p=h.localToMap(d);l=h.localToMap(u);h.doUnnormalization&&E.unnormalizeVerticesOnDatelineCrossing([[p,l]],h.spatialReference);p=M(p,h.spatialReference);l=M(l,h.spatialReference);var C=z.getMetersPerUnitForSR(h.spatialReference),y=0;r.isValid(h.spatialReference)?y=C*F.distance(p,l,null):(l=d.x-u.x,u=d.y-u.y,y=C*Math.sqrt(l*l+u*u)*(n||1));h=new Q({center:p,radius:y,radiusUnit:"meters",spatialReference:h.spatialReference});
return U(h.rings,h.spatialReference,!1)};l.createEllipse=function(d,h,l){var n=h.mapToLocalMultiple(d);d=n[0];var p=n[1],n=Math.round(p.x-d.x),p=Math.round(p.y-d.y);d=v(l?d.x:d.x+n/2,l?d.y:d.y+p/2);n=l?n:n/2;l=l?p:p/2;for(var p=[],r=2*Math.PI/60,u=0;60>u;u++){var z=v(n*Math.cos(u*r)+d.x,l*Math.sin(u*r)+d.y);p.push(z)}p.push(p[0]);return U([p.map(function(d){return h.localToMap(d)})],h.spatialReference,h.doUnnormalization,!1)}})},"esri/geometry/Circle":function(){define("require exports tslib ../core/unitUtils ../core/accessorSupport/decorators ./Point ./Polygon ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),
function(D,l,u,y,B,p,d,z,h,n){return function(l){function A(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];d=l.apply(this,d)||this;d.center=null;d.geodesic=!1;d.numberOfPoints=60;d.radius=1E3;d.radiusUnit="meters";return d}u.__extends(A,l);I=A;A.prototype.normalizeCtorArgs=function(d,h){if(!d||!d.center){if(d&&d.rings)return l.prototype.normalizeCtorArgs.call(this,d,h);d={center:d}}return u.__assign(u.__assign(u.__assign({},l.prototype.normalizeCtorArgs.call(this)),d),h)};A.prototype.initialize=
function(){var d=this.center,l=this.numberOfPoints;this.hasZ=d&&d.hasZ;if(0===this.rings.length&&d){var p=y.convertUnit(this.radius,this.radiusUnit,"meters"),u=d.spatialReference,r="geographic";if(u.isWebMercator)r="webMercator";else if(null!=n[u.wkid]||u.wkt&&0===u.wkt.indexOf("PROJCS"))r="projected";if(this.geodesic){u=void 0;switch(r){case "webMercator":u=h.webMercatorToGeographic(d);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");
break;case "geographic":u=d}d=this._createGeodesicCircle(u,p,l);"webMercator"===r&&(d=h.geographicToWebMercator(d))}else u=void 0,"webMercator"===r||"projected"===r?u=p/this._convert2Meters(1,d.spatialReference):"geographic"===r&&(u=y.lengthToDegrees(p,"meters")),d=this._createPlanarCircle(d,u,l);this.spatialReference=d.spatialReference;this.addRing(d.rings[0])}};A.prototype.clone=function(){var d=this.numberOfPoints,h=this.radius,l=this.radiusUnit,n=this.geodesic;return new I({center:this.center.clone(),
numberOfPoints:d,radius:h,radiusUnit:l,geodesic:n})};A.prototype._createGeodesicCircle=function(h,l,n){for(var p=0,r=[];360>p;){var u=[0,0];z.directGeodeticSolver(u,[h.x,h.y],p,l);this.hasZ&&u.push(h.z);r.push(u);p+=360/n}r.push(r[0]);return new d(r)};A.prototype._createPlanarCircle=function(h,l,n){for(var p=0,r=[];p<2*Math.PI;){var u=[h.x+Math.cos(-p)*l,h.y+Math.sin(-p)*l];this.hasZ&&u.push(h.z);r.push(u);p+=Math.PI/(n/2)}r.push(r[0]);return new d({spatialReference:h.spatialReference,rings:[r]})};
A.prototype._convert2Meters=function(d,h){if(null!=n[h.wkid])h=n.values[n[h.wkid]];else{h=h.wkt;var l=h.lastIndexOf(",")+1,p=h.lastIndexOf("]]");h=parseFloat(h.substring(l,p))}return d*h};var I;u.__decorate([B.property({type:p})],A.prototype,"center",void 0);u.__decorate([B.property()],A.prototype,"geodesic",void 0);u.__decorate([B.property()],A.prototype,"numberOfPoints",void 0);u.__decorate([B.property()],A.prototype,"radius",void 0);u.__decorate([B.property()],A.prototype,"radiusUnit",void 0);
return A=I=u.__decorate([B.subclass("esri.geometry.Circle")],A)}(d)})},"esri/geometry/support/geodesicUtils":function(){define("require exports @dojo/framework/shim/object ../. ../../core/Error ../../core/unitUtils".split(" "),function(D,l,u,y,B,p){function d(d){if(!d||!d.isGeographic)return null;if(d.wkid){var h=E[d.wkid];if(h)return h}if(d.wkt){d=F.exec(d.wkt);if(!d||2!==d.length)return null;h=d[1].split(",");if(!h||3!==h.length)return null;d=parseFloat(h[1]);h=parseFloat(h[2]);return isNaN(d)||
isNaN(h)?null:{a:d,f:0===h?0:1/h}}return null}function z(h){h=d(h||Q);if("b"in h&&"eSq"in h&&"radius"in h)return h;var l=h.a*(1-h.f);return u.assign(h,{b:l,eSq:1-Math.pow(l/h.a,2),radius:(2*h.a+l)/3})}function h(d,h,l){var n=z(l);l=n.a;var n=n.eSq,p=Math.sqrt(n),r=Math.sin(h[1]*C);h=l*h[0]*C;l=0<n?l*(1-n)*(r/(1-n*r*r)-1/(2*p)*Math.log((1-p*r)/(1+p*r)))*.5:l*r;d[0]=h;d[1]=l;return d}function n(h){return null!==d(h)}function A(d,h){if("polyline"!==d.type&&"polygon"!==d.type)throw new B("geodesic-densify:invalid-geometry",
"the input geometry is neither polyline nor polygon");var l=d.spatialReference;if(!n(l))throw new B("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var p=z(l).radius/1E4;h<p&&(h=p);for(var p=[],r=[0,0],u={distance:null},A=0,C="polyline"===d.type?d.paths:d.rings;A<C.length;A++){var E=C[A],F=[];p.push(F);F.push([E[0][0],E[0][1]]);for(var X=E[0][0],ca=E[0][1],aa=void 0,ga=void 0,N=0;N<E.length-1;N++)if(aa=E[N+1][0],ga=E[N+1][1],X!==aa||ca!==ga){var D=
[X,ca];I(u,[X,ca],[aa,ga],l);X=u.azimuth;ca=u.distance;aa=ca/h;if(1<aa){for(ga=1;ga<=aa-1;ga++)O(r,D,X,ga*h,l),F.push(r.slice(0));O(r,D,X,(ca+Math.floor(aa-1)*h)/2,l);F.push(r.slice(0))}O(r,D,X,ca,l);F.push(r.slice(0));X=r[0];ca=r[1]}}return"polyline"===d.type?new y.Polyline({paths:p,spatialReference:l}):new y.Polygon({rings:p,spatialReference:l})}function O(d,h,l,n,p){var r=h[0]*C,u=h[1]*C;h=l*C;p=z(p);var v=p.a,A=p.b;p=p.f;l=Math.sin(h);h=Math.cos(h);for(var y=(1-p)*Math.tan(u),u=1/Math.sqrt(1+
y*y),B=y*u,E=Math.atan2(y,h),y=u*l,M=y*y,F=1-M,v=F*(v*v-A*A)/(A*A),U=1+v/16384*(4096+v*(-768+v*(320-175*v))),I=v/1024*(256+v*(-128+v*(74-47*v))),v=n/(A*U),D=2*Math.PI,N,H,J,V;1E-12<Math.abs(v-D);)J=Math.cos(2*E+v),N=Math.sin(v),H=Math.cos(v),V=I*N*(J+I/4*(H*(-1+2*J*J)-I/6*J*(-3+4*N*N)*(-3+4*J*J))),D=v,v=n/(A*U)+V;n=B*N-u*H*h;A=p/16*F*(4+p*(4-3*F));n=Math.atan2(B*H+u*N*h,(1-p)*Math.sqrt(M+n*n))/C;r=(r+(Math.atan2(N*l,u*H-B*N*h)-(1-A)*p*y*(v+A*N*(J+A*H*(-1+2*J*J)))))/C;d.splice(0,d.length);d.push(r,
n);return d}function I(d,h,l,n){var p=h[0]*C;h=h[1]*C;var r=l[0]*C;l=l[1]*C;var u=z(n),v=u.a;n=u.b;var A=u.f,y=u.radius,B=r-p,E=Math.atan((1-A)*Math.tan(h)),M=Math.atan((1-A)*Math.tan(l)),u=Math.sin(E),E=Math.cos(E),F=Math.sin(M),M=Math.cos(M),I=1E3,D=B,N,O,H,J,V,ba,ka,Q;do{J=Math.sin(D);V=Math.cos(D);H=Math.sqrt(M*J*M*J+(E*F-u*M*V)*(E*F-u*M*V));if(0===H)return{distance:0};V=u*F+E*M*V;ba=Math.atan2(H,V);ka=E*M*J/H;O=1-ka*ka;J=V-2*u*F/O;isNaN(J)&&(J=0);Q=A/16*O*(4+A*(4-3*O));N=D;D=B+(1-Q)*A*ka*(ba+
Q*H*(J+Q*V*(-1+2*J*J)))}while(1E-12<Math.abs(D-N)&&0<--I);if(0===I)return d=r-p,{azimuth:Math.atan2(Math.sin(d)*Math.cos(l),Math.cos(h)*Math.sin(l)-Math.sin(h)*Math.cos(l)*Math.cos(d))/C,distance:Math.acos(Math.sin(h)*Math.sin(l)+Math.cos(h)*Math.cos(l)*Math.cos(r-p))*y};p=O*(v*v-n*n)/(n*n);h=p/1024*(256+p*(-128+p*(74-47*p)));r=Math.atan2(E*Math.sin(D),E*F*Math.cos(D)-u*M);d.azimuth=Math.atan2(M*Math.sin(D),E*F-u*M*Math.cos(D))/C;d.distance=n*(1+p/16384*(4096+p*(-768+p*(320-175*p))))*(ba-h*H*(J+h/
4*(V*(-1+2*J*J)-h/6*J*(-3+4*H*H)*(-3+4*J*J))));d.reverseAzimuth=r/C;return d}Object.defineProperty(l,"__esModule",{value:!0});var C=Math.PI/180,Q=y.SpatialReference.WGS84,F=/SPHEROID\[([^\]]+)]/i,E={4326:{a:6378137,f:1/298.257223563},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:1737400,f:0},104904:{a:3393400,f:.005207166853303471},104905:{a:3396190,f:.005886007555525457},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,
f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,
f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},
104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:3396190,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};l.isSupported=n;l.geodesicAreas=function(d,l){void 0===l&&(l="square-meters");if(d.some(function(d){return!n(d.spatialReference)}))throw new B("geodesic-areas:invalid-spatial-reference",
"the input geometries spatial reference is not supported");for(var r=[],u=0;u<d.length;u++){var y=d[u],C=y.spatialReference,C=.0015696101447650193*z(C).radius;r.push(A(y,C))}d=[];for(var u=[0,0],y=[0,0],E=0;E<r.length;E++){for(var C=r[E],F=C.rings,C=C.spatialReference,D=0,I=0;I<F.length;I++){var X=F[I];h(u,X[0],C);h(y,X[X.length-1],C);for(var ca=y[0]*u[1]-u[0]*y[1],aa=0;aa<X.length-1;aa++)h(u,X[aa+1],C),h(y,X[aa],C),ca+=y[0]*u[1]-u[0]*y[1];D+=ca}D=p.convertUnit(D,"square-meters",l);d.push(D/-2)}return d};
l.geodesicLengths=function(d,h){void 0===h&&(h="meters");if(!d&&!d)throw new B("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(d.some(function(d){return!n(d.spatialReference)}))throw new B("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var l=[],u=0;u<d.length;u++){for(var r=d[u],z=r.spatialReference,r="polyline"===r.type?r.paths:r.rings,y=0,A=0;A<r.length;A++){for(var C=r[A],E=0,F=1;F<C.length;F++){var D=
C[F-1][0],aa=C[F][0],ga=C[F-1][1],N=C[F][1];if(ga!==N||D!==aa){var O={distance:null};I(O,[D,ga],[aa,N],z);E+=O.distance}}y+=E}y=p.convertUnit(y,"meters",h);l.push(y)}return l};l.geodesicDensify=A;l.directGeodeticSolver=O;l.inverseGeodeticSolver=I;l.geodesicDistance=function(d,h,l){void 0===l&&(l="meters");if(!d||!h)throw new B("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!d.spatialReference||!h.spatialReference)throw new B("geodesic-distance:invalid-parameters",
"one or both input points do not have a spatial reference");if(!d.spatialReference.equals(h.spatialReference))throw new B("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");var u=d.spatialReference;if(!n(u))throw new B("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(d.equals(h))return{distance:0,azimuth:0,reverseAzimuth:0};var r={distance:null};I(r,[d.x,d.y],[h.x,h.y],u);r.distance=p.convertUnit(r.distance,"meters",
l);return r};l.pointFromDistance=function(d,h,l){if(!d||null==h||null==l)throw new B("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(0>l||360<l)throw new B("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees");if(!d.spatialReference)throw new B("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");var p=d.spatialReference;if(!n(p))throw new B("geodesic-distance:not-supported",
"input geometry spatial reference is not supported");var u=[0,0];O(u,[d.x,d.y],l,h,p);return new y.Point({x:u[0],y:u[1],spatialReference:p})}})},"@dojo/framework/shim/object":function(){(function(D){"object"===typeof module&&"object"===typeof module.exports?(D=D(require,exports),void 0!==D&&(module.exports=D)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],D)})(function(D,l){Object.defineProperty(l,"__esModule",{value:!0});var u=D("./global"),
y=D("../has/has"),B=D("./Symbol");y.default("es6-object")?(D=u.default.Object,l.assign=D.assign,l.getOwnPropertyDescriptor=D.getOwnPropertyDescriptor,l.getOwnPropertyNames=D.getOwnPropertyNames,l.getOwnPropertySymbols=D.getOwnPropertySymbols,l.is=D.is,l.keys=D.keys):(l.keys=function(l){return Object.keys(l).filter(function(d){return!d.match(/^@@.+/)})},l.assign=function(p){for(var d=[],u=1;u<arguments.length;u++)d[u-1]=arguments[u];if(null==p)throw new TypeError("Cannot convert undefined or null to object");
var h=Object(p);d.forEach(function(d){d&&l.keys(d).forEach(function(l){h[l]=d[l]})});return h},l.getOwnPropertyDescriptor=function(l,d){B.isSymbol(d);return Object.getOwnPropertyDescriptor(l,d)},l.getOwnPropertyNames=function(l){return Object.getOwnPropertyNames(l).filter(function(d){return!d.match(/^@@.+/)})},l.getOwnPropertySymbols=function(l){return Object.getOwnPropertyNames(l).filter(function(d){return!!d.match(/^@@.+/)}).map(function(d){return Symbol.for(d.substring(2))})},l.is=function(l,d){return l===
d?0!==l||1/l===1/d:l!==l&&d!==d});y.default("es2017-object")?(D=u.default.Object,l.getOwnPropertyDescriptors=D.getOwnPropertyDescriptors,l.entries=D.entries,l.values=D.values):(l.getOwnPropertyDescriptors=function(p){return l.getOwnPropertyNames(p).reduce(function(d,u){d[u]=l.getOwnPropertyDescriptor(p,u);return d},{})},l.entries=function(p){return l.keys(p).map(function(d){return[d,p[d]]})},l.values=function(p){return l.keys(p).map(function(d){return p[d]})})})},"esri/geometry/geometryEngine":function(){define(["require",
"exports","./geometryEngineBase","./geometryAdapters/hydrated"],function(D,l,u,y){function B(d){return Array.isArray(d)?d[0].spatialReference:d&&d.spatialReference}function p(d){return"xmin"in d?"center"in d?d.center:null:"x"in d?d:"extent"in d?d.extent.center:null}Object.defineProperty(l,"__esModule",{value:!0});l.extendedSpatialReferenceInfo=function(d){return u.extendedSpatialReferenceInfo(d)};l.clip=function(d,l){return u.clip(y.hydratedAdapter,B(d),d,l)};l.cut=function(d,l){return u.cut(y.hydratedAdapter,
B(d),d,l)};l.contains=function(d,l){return u.contains(y.hydratedAdapter,B(d),d,l)};l.crosses=function(d,l){return u.crosses(y.hydratedAdapter,B(d),d,l)};l.distance=function(d,l,h){return u.distance(y.hydratedAdapter,B(d),d,l,h)};l.equals=function(d,l){return u.equals(y.hydratedAdapter,B(d),d,l)};l.intersects=function(d,l){return u.intersects(y.hydratedAdapter,B(d),d,l)};l.touches=function(d,l){return u.touches(y.hydratedAdapter,B(d),d,l)};l.within=function(d,l){return u.within(y.hydratedAdapter,B(d),
d,l)};l.disjoint=function(d,l){return u.disjoint(y.hydratedAdapter,B(d),d,l)};l.overlaps=function(d,l){return u.overlaps(y.hydratedAdapter,B(d),d,l)};l.relate=function(d,l,h){return u.relate(y.hydratedAdapter,B(d),d,l,h)};l.isSimple=function(d){return u.isSimple(y.hydratedAdapter,B(d),d)};l.simplify=function(d){return u.simplify(y.hydratedAdapter,B(d),d)};l.convexHull=function(d,l){void 0===l&&(l=!1);return u.convexHull(y.hydratedAdapter,B(d),d,l)};l.difference=function(d,l){return u.difference(y.hydratedAdapter,
B(d),d,l)};l.symmetricDifference=function(d,l){return u.symmetricDifference(y.hydratedAdapter,B(d),d,l)};l.intersect=function(d,l){return u.intersect(y.hydratedAdapter,B(d),d,l)};l.union=function(d,l){void 0===l&&(l=null);return u.union(y.hydratedAdapter,B(d),d,l)};l.offset=function(d,l,h,n,p,D){return u.offset(y.hydratedAdapter,B(d),d,l,h,n,p,D)};l.buffer=function(d,l,h,n){void 0===n&&(n=!1);return u.buffer(y.hydratedAdapter,B(d),d,l,h,n)};l.geodesicBuffer=function(d,l,h,n,p,D){return u.geodesicBuffer(y.hydratedAdapter,
B(d),d,l,h,n,p,D)};l.nearestCoordinate=function(d,l,h){void 0===h&&(h=!0);return u.nearestCoordinate(y.hydratedAdapter,B(d),d,l,h)};l.nearestVertex=function(d,l){return u.nearestVertex(y.hydratedAdapter,B(d),d,l)};l.nearestVertices=function(d,l,h,n){return u.nearestVertices(y.hydratedAdapter,B(d),d,l,h,n)};l.rotate=function(d,l,h){if(null==d)throw Error("Illegal Argument Exception");var n=d.spatialReference;h=null!==h&&void 0!==h?h:p(d);if(null==h)throw Error("Illegal Argument Exception");d=d.constructor.fromJSON(u.rotate(d,
l,h));d.spatialReference=n;return d};l.flipHorizontal=function(d,l){if(null==d)throw Error("Illegal Argument Exception");var h=d.spatialReference;l=null!==l&&void 0!==l?l:p(d);if(null==l)throw Error("Illegal Argument Exception");d=d.constructor.fromJSON(u.flipHorizontal(d,l));d.spatialReference=h;return d};l.flipVertical=function(d,l){if(null==d)throw Error("Illegal Argument Exception");var h=d.spatialReference;l=null!==l&&void 0!==l?l:p(d);if(null==l)throw Error("Illegal Argument Exception");d=d.constructor.fromJSON(u.flipVertical(d,
l));d.spatialReference=h;return d};l.generalize=function(d,l,h,n){return u.generalize(y.hydratedAdapter,B(d),d,l,h,n)};l.densify=function(d,l,h){return u.densify(y.hydratedAdapter,B(d),d,l,h)};l.geodesicDensify=function(d,l,h,n){void 0===n&&(n=0);return u.geodesicDensify(y.hydratedAdapter,B(d),d,l,h,n)};l.planarArea=function(d,l){return u.planarArea(y.hydratedAdapter,B(d),d,l)};l.planarLength=function(d,l){return u.planarLength(y.hydratedAdapter,B(d),d,l)};l.geodesicArea=function(d,l,h){return u.geodesicArea(y.hydratedAdapter,
B(d),d,l,h)};l.geodesicLength=function(d,l,h){return u.geodesicLength(y.hydratedAdapter,B(d),d,l,h)}})},"esri/geometry/geometryEngineBase":function(){define(["require","exports"],function(){function D(e){if("number"===typeof e)return x.$c.vh(e);if(null==e)return null;if(null!=wa[e])return x.$c.vh(wa[e]);throw Error("Unrecognised Unit Type");}function l(e){if("number"===typeof e)return x.$c.vh(e);if(null==e)return null;if(null!=xa[e])return x.$c.vh(xa[e]);throw Error("Unrecognised Unit Type");}function u(e){if(e)switch(e){case "loxodrome":return 1;
case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function y(e,d,m,b){if(null==m||m.u())return null;switch(m.G()){case x.po.Point:return e.exportPoint(d,m,b);case x.po.Polygon:return e.exportPolygon(d,m,b);case x.po.Polyline:return e.exportPolyline(d,m,b);case x.po.MultiPoint:return e.exportMultipoint(d,m,b);case x.po.Envelope:return e.exportExtent(d,m,b)}return null}function B(e,d,m,b){if(m.G()!==x.po.Point)throw Error("Geometry not Point");return e.exportPoint(d,
m,b)}function p(e){var d=e.wkid;e=e.wkt;var m=va.get(d||e);null==m&&(-1!==d&&null!=d?(m=x.ve.create(d),va.set(d,m)):e&&(m=x.ve.MQ(e),va.set(e,m)));return m}function d(e){var d;if(null==e)return null;var m=p(e);e=m.Td();m=m.Ho();return d={},d.tolerance=m,d.unitType=null==e?-1:e.sd,d.unitID=null==e?-1:e.Bc(),d.unitBaseFactor=null==e?0:e.Bi,d.unitSquareDerivative=null==e?0:x.$c.cH(e).Bc(),d}function z(e,d,m,b){if(null==m)return null;m=x.gc.clip(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d));
return y(e,T,m,d)}function h(e,d,m,b){m=x.gc.Ml(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d));b=[];for(var a=0;a<m.length;a++)b.push(y(e,T,m[a],d));return b}function n(e,d,m,b){if(null==m||null==b)throw Error("Illegal Argument Exception");return x.gc.contains(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d))}function A(e,d,m,b){if(null==m||null==b)throw Error("Illegal Argument Exception");return x.gc.VQ(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d))}function O(e,
d,m,b,a){if(null==m||null==b)throw Error("Illegal Argument Exception");return x.gc.Cb(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d),D(a))}function I(e,d,m,b){return null==m&&null!=b||null==b&&null!=m?!1:x.gc.Eb(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d))}function C(e,d,m,b){if(null==m||null==b)throw Error("Illegal Argument Exception");return x.gc.pU(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d))}function Q(e,d,m,b){if(null==m||null==b)throw Error("Illegal Argument Exception");
return x.gc.touches(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d))}function F(e,d,m,b){if(null==m||null==b)throw Error("Illegal Argument Exception");return x.gc.WY(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d))}function E(e,d,m,b){if(null==m||null==b)throw Error("Illegal Argument Exception");return x.gc.mR(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d))}function r(e,d,m,b){if(null==m||null==b)throw Error("Illegal Argument Exception");return x.gc.TV(e.convertToGEGeometry(T,
m),e.convertToGEGeometry(T,b),p(d))}function N(e,d,m,b,a){if(null==m||null==b)throw Error("Illegal Argument Exception");return x.gc.aC(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d),a)}function v(e,d,m){if(null==m)throw Error("Illegal Argument Exception");return x.gc.AU(e.convertToGEGeometry(T,m),p(d))}function M(e,d,m){if(null==m)throw Error("Illegal Argument Exception");m=x.gc.FC(e.convertToGEGeometry(T,m),p(d));return y(e,T,m,d)}function U(e,d,m,b){void 0===b&&(b=!1);if(null==m)throw Error("Illegal Argument Exception");
if(Array.isArray(m)){var a=b,c=[];for(b=0;b<m.length;b++)c.push(e.convertToGEGeometry(T,m[b]));m=x.gc.GQ(c,a);a=Array(m.length);for(b=0;b<m.length;b++)a[b]=y(e,T,m[b],d);return a}b=x.gc.FQ(e.convertToGEGeometry(T,m),p(d));return y(e,T,b,d)}function W(e,d,m,b){if(null==m||null==b)throw Error("Illegal Argument Exception");if(Array.isArray(m)){for(var a=[],c=0;c<m.length;c++)a.push(e.convertToGEGeometry(T,m[c]));m=x.gc.jR(a,e.convertToGEGeometry(T,b),p(d));b=Array(m.length);for(c=0;c<m.length;c++)b[c]=
y(e,T,m[c],d);return b}c=x.gc.an(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d));return y(e,T,c,d)}function Y(e,d,m,b){if(null==m||null==b)throw Error("Illegal Argument Exception");if(Array.isArray(m)){for(var a=[],c=0;c<m.length;c++)a.push(e.convertToGEGeometry(T,m[c]));m=x.gc.sY(a,e.convertToGEGeometry(T,b),p(d));b=Array(m.length);for(c=0;c<m.length;c++)b[c]=y(e,T,m[c],d);return b}c=x.gc.Wp(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d));return y(e,T,c,d)}function R(e,d,
m,b){if(null==m||null==b)throw Error("Illegal Argument Exception");if(Array.isArray(m)){for(var a=[],c=0;c<m.length;c++)a.push(e.convertToGEGeometry(T,m[c]));m=x.gc.nU(a,e.convertToGEGeometry(T,b),p(d));b=Array(m.length);for(c=0;c<m.length;c++)b[c]=y(e,T,m[c],d);return b}c=x.gc.Ma(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),p(d));return y(e,T,c,d)}function ea(e,d,m,b){if(null==m)return null;var a=[];if(Array.isArray(m)){if(0===m.length)return null;for(b=0;b<m.length;b++)a.push(e.convertToGEGeometry(T,
m[b]))}else a.push(e.convertToGEGeometry(T,m)),null!=b&&a.push(e.convertToGEGeometry(T,b));return y(e,T,x.gc.LY(a,p(d)),d)}function Z(e,d,m,b,a,c,f,g){var k=0;if(null!=c)switch(c){case "round":k=0;break;case "bevel":k=1;break;case "miter":k=2;break;case "square":k=3}if(Array.isArray(m)){if(null==m)e=null;else if(0===m.length)e=[];else{var q=[];for(c=0;c<m.length;c++)q.push(e.convertToGEGeometry(T,m[c]));m=x.gc.RV(q,p(d),b,k,f,g,D(a));b=Array(m.length);for(c=0;c<m.length;c++)b[c]=y(e,T,m[c],d);e=b}return e}m=
x.gc.offset(e.convertToGEGeometry(T,m),p(d),b,k,f,g,D(a));return y(e,T,m,d)}function X(e,d,m,b,a,c){void 0===c&&(c=!1);if(Array.isArray(m)){if(!Array.isArray(b)){for(var f=[],g=0;g<m.length;g++)f.push(b);b=f}if(b.length!=m.length){if(0==b.length)throw Error("Illegal Argument Exception");for(var f=[],k=0,g=0;g<m.length;g++)void 0===b[g]?f.push(k):(f.push(b[g]),k=b[g]);b=f}return aa(e,d,m,b,a,!1,c,"geodesic",NaN)}m=x.gc.buffer(e.convertToGEGeometry(T,m),p(d),b,D(a),!1,0,NaN);return y(e,T,m,d)}function ca(e,
d,m,b,a,c,f,g){if(Array.isArray(m)){if(!Array.isArray(b)){for(var k=[],q=0;q<m.length;q++)k.push(b);b=k}if(b.length!==m.length){if(0===b.length)throw Error("Illegal Argument Exception");for(var k=[],t=0,q=0;q<m.length;q++)void 0===b[q]?k.push(t):(k.push(b[q]),t=b[q]);b=k}return aa(e,d,m,b,a,!0,c,f,g)}void 0===f&&(f=NaN);m=x.gc.buffer(e.convertToGEGeometry(T,m),p(d),b,D(a),!0,u(c),f);return y(e,T,m,d)}function aa(e,d,m,b,a,c,f,g,k){void 0===k&&(k=NaN);if(null==m)return null;if(0===m.length)return[];
for(var q=[],t=0;t<m.length;t++)q.push(e.convertToGEGeometry(T,m[t]));m=x.gc.mP(q,p(d),b,D(a),c,f,u(g),k);b=Array(m.length);for(t=0;t<m.length;t++)b[t]=y(e,T,m[t],d);return b}function ga(e,d,m,b,a){var c;void 0===a&&(a=!0);m=x.gc.bA(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),a);return c={},c.coordinate=B(e,T,m.Qz(),d),c.distance=m.Tz(),c.isRightSide=m.CA(),c.vertexIndex=m.Za(),c.isEmpty=m.u(),c}function na(e,d,m,b){var a;m=x.gc.cA(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b));
return a={},a.coordinate=B(e,T,m.Qz(),d),a.distance=m.Tz(),a.isRightSide=m.CA(),a.vertexIndex=m.Za(),a.isEmpty=m.u(),a}function pa(e,d,m,b,a,c){var f;m=x.gc.dA(e.convertToGEGeometry(T,m),e.convertToGEGeometry(T,b),a,c);b=[];for(a=0;a<m.length;a++)!1===m[a].u()&&b.push((f={},f.coordinate=B(e,T,m[a].Qz(),d),f.distance=m[a].Tz(),f.isRightSide=m[a].CA(),f.vertexIndex=m[a].Za(),f.isEmpty=m[a].u(),f));return b}function da(e,d,m,b,a,c){m=x.gc.gS(e.convertToGEGeometry(T,m),p(d),b,a,D(c));return y(e,T,m,d)}
function oa(e,d,m,b,a){m=x.gc.Js(e.convertToGEGeometry(T,m),p(d),b,D(a));return y(e,T,m,d)}function H(e,d,m,b,a,c){void 0===c&&(c=0);m=x.gc.Hz(e.convertToGEGeometry(T,m),p(d),b,D(a),c);return y(e,T,m,d)}function J(e,d,m,b){if(null==m)throw Error("Illegal Argument Exception");return x.gc.aW(e.convertToGEGeometry(T,m),p(d),l(b))}function V(e,d,m,b){if(null==m)throw Error("Illegal Argument Exception");return x.gc.bW(e.convertToGEGeometry(T,m),p(d),D(b))}function ba(e,d,m,b,a){if(null==m)throw Error("Illegal Argument Exception");
return x.gc.mS(e.convertToGEGeometry(T,m),p(d),l(b),u(a))}function ka(e,d,m,b,a){if(null==m)throw Error("Illegal Argument Exception");return x.gc.qS(e.convertToGEGeometry(T,m),p(d),D(b),u(a))}function ua(e){x.dN.bind(e)}function ya(e,d,m,b,a){var c=null,f=null;if(b){if(!a)throw x.g.F("AOI missing Spatial Reference");c=e.convertToGEGeometry(T,b);f=p(a).Bh()}e=x.Su.rT(p(d).Bh(),p(m).Bh(),c,f);return null!==e?e:null}function ha(e,d,m,b,a){var c=null,f=null;if(b){if(!a)throw x.g.F("AOI missing Spatial Reference");
c=e.convertToGEGeometry(T,b);f=p(a).Bh()}return x.Su.sT(p(d).Bh(),p(m).Bh(),c,f)}function za(e,d,m,b,a){void 0===a&&(a=null);if(!1===this.VZ)throw Error("Projection Engine must be enabled using enableProjection");if(0===d.length)return[];if(a){var c=a.getCachedGeTransformation(m,b);if(!c)a:{c=a;a=null;if(c){var f=c.getGTListEntry();if(null!==f){a=new x.ky(null);for(var g=0,k=f.steps;g<k.length;g++){var f=k[g],q=new x.oo(f.geogtran);f.isInverse&&q.mt();a.add(q)}a=x.rs.Gs(p(m).Bh(),p(b).Bh(),a);c.assignCachedGe(m,
b,a);c=a;break a}}if(null===a&&c&&c.steps&&0<c.steps.length){a=new x.ky(null);g=0;for(k=c.steps;g<k.length;g++)f=k[g],-1!=f.wkid&&null!=f.wkid?a.add(x.oo.create(f.wkid,f.isInverse)):a.add(x.oo.eG(f.wkt,f.isInverse));a=x.rs.Gs(p(m).Bh(),p(b).Bh(),a);c.assignCachedGe(m,b,a);c=a}else c=x.rs.Gs(p(m).Bh(),p(b).Bh(),a)}}else c=x.rs.Gs(p(m).Bh(),p(b).Bh(),null);m=[];for(f=0;f<d.length;f++)a=d[f],m.push(Aa(e,a,b,c));return m}function Aa(e,d,m,b){d=x.gc.Vg(e.convertToGEGeometry(T,d),b);return y(e,T,d,m)}var ma,
fa=this&&this.__extends||function(){function e(d,m){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return e(d,m)}return function(d,m){function b(){this.constructor=d}e(d,m);d.prototype=null===m?Object.create(m):(b.prototype=m.prototype,new b)}}(),x;(function(e){var d=function(){function b(){}b.Gm=!1;b.jw=!1;b.yz="";return b}();e.Yh=d;if("undefined"!==typeof window)e.Yh.yz="browser","Float64Array"in
window&&(e.Yh.jw=!0),"ArrayBuffer"in window&&(e.Yh.Gm=!0);else if("undefined"!==typeof process)d.yz="node",e.Yh.Gm=!0,e.Yh.jw=!0;else{d.yz="browser";try{var m=new ArrayBuffer(0);new Uint8Array(m);e.Yh.Gm=!0;e.Yh.jw=!0}catch(b){e.Yh.Gm=!1}}})(x||(x={}));(function(e){(function(e){e[e.Unknown=0]="Unknown";e[e.Point=33]="Point";e[e.Line=322]="Line";e[e.Envelope=197]="Envelope";e[e.MultiPoint=550]="MultiPoint";e[e.Polyline=1607]="Polyline";e[e.Polygon=1736]="Polygon"})(e.po||(e.po={}));(function(e){e[e.enumMild=
0]="enumMild";e[e.enumMedium=1]="enumMedium";e[e.enumHot=2]="enumHot"})(e.eM||(e.eM={}));var d=function(){function m(){this.description=null;this.EB=0}m.prototype.G=function(){return 0};m.prototype.ub=function(){return-1};m.prototype.Eg=function(b){this.zc();b!=this.description&&this.to(b)};m.prototype.to=function(){};m.prototype.tm=function(b){this.zc();b!=this.description&&(b=e.we.WS(this.description,b),b!=this.description&&this.to(b))};m.prototype.hasAttribute=function(b){return this.description.hasAttribute(b)};
m.prototype.Rd=function(b){this.zc();this.description.hasAttribute(b)||(b=e.we.VS(this.description,b),this.to(b))};m.prototype.hg=function(){return null};m.prototype.Wn=function(){};m.prototype.s=function(){};m.prototype.Jp=function(){};m.prototype.ac=function(b){this.s(b)};m.prototype.u=function(){return!0};m.prototype.Oa=function(){};m.prototype.Vc=function(){};m.prototype.Ka=function(){return null};m.prototype.copyTo=function(){};m.prototype.ef=function(){return 0};m.prototype.Rb=function(){return 0};
m.prototype.kH=function(){return this.hasAttribute(1)};m.hf=function(b){return((b&192)>>6)+1>>1};m.Po=function(b){return 0!=(b&32)};m.g_=function(b){return 0!=(b&64)};m.qU=function(b){return 0!=(b&128)};m.Nc=function(b){return 0!=(b&256)};m.fh=function(b){return 0!=(b&512)};m.Hc=function(b){return 0!=(b&1024)};m.prototype.Sf=function(){var b=this.Ka();this.copyTo(b);return b};m.prototype.Fg=function(){return null};m.me=function(b){var a=b.Ka();b.copyTo(a);return a};m.prototype.zc=function(){0<=this.EB&&
(this.EB+=2147483649)};m.gy=function(b){var a=b.G();if(m.fh(a))return b.D();if(b.u())return 0;if(197==a)return 4;if(33==a)return 1;if(m.Nc(a))return 2;throw e.g.X("missing type");};return m}();e.T=d})(x||(x={}));(function(e){var d=function(){function m(){this.y=this.x=0}m.pa=function(b,a){var c=new m;c.x=b;c.y=a;return c};m.Jl=function(b){var a=new m;a.x=b.x;a.y=b.y;return a};m.prototype.ja=function(b,a){this.x=b;this.y=a};m.prototype.L=function(b){this.x=b.x;this.y=b.y};m.prototype.Uq=function(b,
a){return this.x===b&&this.y===a};m.prototype.zA=function(b){return 2.220446049250313E-16>=Math.abs(this.x-b.x)&&2.220446049250313E-16>=Math.abs(this.y-b.y)};m.prototype.vb=function(b){return this.x===b.x&&this.y===b.y};m.prototype.Eb=function(b){return b==this?!0:b instanceof m?this.x==b.x&&this.y==b.y:!1};m.prototype.sub=function(b){this.x-=b.x;this.y-=b.y};m.prototype.xc=function(b,a){this.x=b.x-a.x;this.y=b.y-a.y};m.prototype.add=function(b,a){void 0!==a?(this.x=b.x+a.x,this.y=b.y+a.y):(this.x+=
b.x,this.y+=b.y)};m.prototype.Kr=function(){this.x=-this.x;this.y=-this.y};m.prototype.du=function(b){this.x=-b.x;this.y=-b.y};m.prototype.kU=function(b,a,c){this.x=b.x*(1-c)+a.x*c;this.y=b.y*(1-c)+a.y*c};m.prototype.tu=function(b,a){this.x=this.x*b+a.x;this.y=this.y*b+a.y};m.prototype.iX=function(b,a,c){this.x=a.x*b+c.x;this.y=a.y*b+c.y};m.prototype.scale=function(b){this.x*=b;this.y*=b};m.prototype.compare=function(b){return this.y<b.y?-1:this.y>b.y?1:this.x<b.x?-1:this.x>b.x?1:0};m.prototype.normalize=
function(){var b=this.length();0==b&&(this.x=1,this.y=0);this.x/=b;this.y/=b};m.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};m.prototype.uk=function(){return this.x*this.x+this.y*this.y};m.Cb=function(b,a){return Math.sqrt(this.sc(b,a))};m.wz=function(b,a,c,f){b-=c;a-=f;return Math.sqrt(b*b+a*a)};m.prototype.pi=function(b){return this.x*b.x+this.y*b.y};m.prototype.CE=function(b){return Math.abs(this.x*b.x)+Math.abs(this.y*b.y)};m.prototype.Vi=function(b){return this.x*
b.y-this.y*b.x};m.prototype.su=function(b,a){var c=-this.x*a+this.y*b;this.x=this.x*b+this.y*a;this.y=c};m.prototype.uw=function(){var b=this.x;this.x=-this.y;this.y=b};m.prototype.OH=function(b){this.x=-b.y;this.y=b.x};m.prototype.Tr=function(){var b=this.x;this.x=this.y;this.y=-b};m.prototype.iv=function(){this.y=this.x=NaN};m.prototype.Dy=function(){return isNaN(this.x)};m.prototype.ev=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};m.ts=function(b,a){var c=b.ev(),f=a.ev();return f==
c?(c=b.Vi(a),0>c?1:0<c?-1:0):c<f?-1:1};m.LZ=function(b,a){return m.ts(b,a)};m.sc=function(b,a){var c=b.x-a.x;b=b.y-a.y;return c*c+b*b};m.prototype.toString=function(){return"("+this.x+" , "+this.y+")"};m.prototype.Yc=function(){this.y=this.x=NaN};m.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)};m.prototype.nO=function(){return this.Dy()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};m.prototype.offset=function(b,a){var c=m.Cb(b,a),f=m.pa(this.x,this.y);
if(0==c)return m.Cb(f,b);var g=new m;g.L(a);g.sub(b);f.sub(b);return f.Vi(g)/c};m.Gp=function(b,a,c){var f=new e.Xb;f.set(a.x);f.sub(b.x);var g=new e.Xb;g.set(c.y);g.sub(b.y);var k=new e.Xb;k.set(a.y);k.sub(b.y);var q=new e.Xb;q.set(c.x);q.sub(b.x);f.Tg(g);k.Tg(q);f.sub(k);if(!f.nt())return c=f.value(),0>c?-1:0<c?1:0;f=new e.$p(a.x);g=new e.$p(b.x);k=new e.$p(b.y);f=f.au(g);b=new e.$p(c.y);b=b.au(k);a=new e.$p(a.y);a=a.au(k);c=new e.$p(c.x);c=c.au(g);f=f.cs(b);a=a.cs(c);f=f.cs(a);return f.SU()?-1:
f.BT()?1:0};m.prototype.kc=function(){return e.J.$i(e.J.$i())};return m}();e.b=d})(x||(x={}));(function(e){var d=function(){function e(b){this.iz=this.Cu=0;this.lY=b}e.prototype.reset=function(){this.iz=this.Cu=0};e.prototype.add=function(b){b-=this.iz;var a=this.Cu+b;this.iz=a-this.Cu-b;this.Cu=a};e.prototype.sub=function(b){this.add(-b)};e.prototype.ln=function(){return this.lY+this.Cu};return e}();e.ny=d;d=function(){function e(){}e.Kl=function(b,a){return 0<=a?Math.abs(b):-Math.abs(b)};e.sign=
function(b){return 0>b?-1:0<b?1:0};e.TL=function(b){return b-360*Math.floor(b/360)};e.round=function(b){return Math.floor(b+.5)};e.Yx=function(b){return b*b};e.Xq=function(b,a,c){var f;.5>=c?f=b+(a-b)*c:f=a-(a-b)*(1-c);return f};e.QH=function(b,a,c,f){.5>=c?(f.x=b.x+(a.x-b.x)*c,f.y=b.y+(a.y-b.y)*c):(f.x=a.x-(a.x-b.x)*(1-c),f.y=a.y-(a.y-b.y)*(1-c))};e.QU=function(b,a,c,f,g,k){.5>=g?(k.x=b+(c-b)*g,k.y=a+(f-a)*g):(k.x=c-(c-b)*(1-g),k.y=f-(f-a)*(1-g))};return e}();e.Ub=d})(x||(x={}));(function(e){var d=
function(m){function b(){var a=m.call(this)||this;a.ua=0;a.ra=0;a.sa=0;a.oa=0;a.ka=null;return a}fa(b,m);b.prototype.ec=function(){return e.b.pa(this.ua,this.ra)};b.prototype.Oq=function(a){a.x=this.ua;a.y=this.ra};b.prototype.Lc=function(a){this.Wm(0,a)};b.prototype.zC=function(a,c){this.Wm(0,e.b.pa(a,c))};b.prototype.Kp=function(a){this.EE(0,a)};b.prototype.setStart=function(a){this.NE(0,a)};b.prototype.bt=function(a,c){return this.Zd(0,a,c)};b.prototype.Tx=function(a,c,f){this.vo(0,a,c,f)};b.prototype.Ac=
function(){return e.b.pa(this.sa,this.oa)};b.prototype.Ns=function(a){a.x=this.sa;a.y=this.oa};b.prototype.Xc=function(a){this.Wm(1,a)};b.prototype.Am=function(a,c){this.Wm(1,e.b.pa(a,c))};b.prototype.Ip=function(a){this.EE(1,a)};b.prototype.setEnd=function(a){this.NE(1,a)};b.prototype.Ms=function(a,c){return this.Zd(1,a,c)};b.prototype.Lx=function(a,c,f){this.vo(1,a,c,f)};b.prototype.ub=function(){return 1};b.prototype.u=function(){return this.Gc()};b.prototype.Oa=function(){};b.prototype.ef=function(){return 0};
b.prototype.Ma=function(a,c,f,b,k){return this.kO(a,c,f,b,k)};b.prototype.Yb=function(a,c){return 0!=this.ws(a,c,!1)};b.prototype.ot=function(a,c){return this.fv(a,c,!1)};b.prototype.fv=function(){return null};b.prototype.Gc=function(){return!1};b.prototype.Fy=function(a){this.zc();if(null==this.ka&&0<a)this.ka=e.J.df(2*a);else if(null!=this.ka&&this.ka.length<2*a){for(var c=this.ka.slice(0),f=this.ka.length;f<2*a;f++)c[f]=0;this.ka=c}};b.Dj=function(a,c,f){if(0<f)var b=0;for(var k=0;k<f;k++)c[0+
b]=a[0],b++};b.prototype.Wm=function(a,c){0!=a?(this.sa=c.x,this.oa=c.y):(this.ua=c.x,this.ra=c.y)};b.prototype.to=function(a){if(null!=this.ka){for(var c=e.we.vx(a,this.description),f=[],g=b.tb(this.description,0),k=b.tb(this.description,1),q=b.tb(a,0),t=b.tb(a,1),w=0,m=1,d=a.Ga;m<d;m++){var L=a.pd(m),h=e.ma.Xa(L);if(-1==c[m])for(var l=e.ma.be(L),L=0;L<h;L++)f[q+w]=l,f[t+w]=l,w++;else for(l=this.description.zk(c[m])-2,L=0;L<h;L++)f[q+w]=this.ka[g+l],f[t+w]=this.ka[k+l],w++,l++}this.ka=f}this.description=
a};b.prototype.EE=function(a,c){if(this.Gc())throw e.g.X("empty geometry");c.Eg(this.description);c.Gc()&&c.nq();for(var f=0;f<this.description.Ga;f++)for(var b=this.description.Qd(f),k=0,q=e.ma.Xa(b);k<q;k++){var t=this.Zd(a,b,k);c.setAttribute(b,k,t)}};b.prototype.NE=function(a,c){this.zc();if(c.Gc())throw e.g.X("empty geometry");for(var f=c.description,b=0,k=f.Ga;b<k;b++)for(var q=f.Qd(b),t=e.ma.Xa(q),w=0;w<t;w++){var m=c.Wc(q,w);this.vo(a,q,w,m)}};b.prototype.Zd=function(a,c,f){if(this.Gc())throw e.g.X("This operation was performed on an Empty Geometry.");
if(0==c)return 0!=a?0!=f?this.oa:this.sa:0!=f?this.ra:this.ua;if(f>=e.ma.Xa(c))throw e.g.vd();var g=this.description.lg(c);return 0<=g?(null!=this.ka&&this.Fy(this.description.Ye.length-2),this.ka[b.tb(this.description,a)+this.description.zk(g)-2+f]):e.ma.be(c)};b.prototype.vo=function(a,c,f,g){this.zc();if(f>=e.ma.Xa(c))throw e.g.vd();var k=this.description.lg(c);0>k&&(this.Rd(c),k=this.description.lg(c));0==c?0!=a?0!=f?this.oa=g:this.sa=g:0!=f?this.ra=g:this.ua=g:(null==this.ka&&this.Fy(this.description.Ye.length-
2),this.ka[b.tb(this.description,a)+this.description.zk(k)-2+f]=g)};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.description=this.description;a.Fy(this.description.Ye.length-2);b.Dj(this.ka,a.ka,2*(this.description.Ye.length-2));a.ua=this.ua;a.ra=this.ra;a.sa=this.sa;a.oa=this.oa;a.zc();this.iq(a)};b.prototype.hg=function(a,c){var f=new e.yc;if(this.Gc())return f.Oa(),f;f.ga=this.Zd(0,a,c);f.la=f.ga;f.ol(this.Zd(1,a,c));return f};b.prototype.GJ=function(a){this.Gc()?a.Oa():(a.ga=
this.Zd(0,0,0),a.la=a.ga,a.ol(this.Zd(1,0,0)))};b.prototype.Fx=function(a,c){c.Eg(this.description);c.rb(this.hc(a));for(var f=1,b=this.description.Ga;f<b;f++)for(var k=this.description.Qd(f),q=e.ma.Xa(k),t=0;t<q;t++){var w=this.Wc(a,k,t);c.setAttribute(k,t,w)}};b.prototype.hO=function(a){if(this.description!=a.description||this.ua!=a.ua||this.sa!=a.sa||this.ra!=a.ra||this.oa!=a.oa)return!1;for(var c=0;c<2*(this.description.Ye.length-2);c++)if(this.ka[c]!=a.ka[c])return!1;return!0};b.prototype.CH=
function(){return this.ua==this.sa&&this.ra==this.oa};b.prototype.reverse=function(){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=1,c=this.description.Ga;a<c;a++)for(var f=this.description.pd(a),b=0,k=e.ma.Xa(f);b<k;b++){var q=this.Zd(0,f,b),t=this.Zd(1,f,b);this.vo(0,f,b,t);this.vo(1,f,b,q)}};b.prototype.ws=function(a,c,f){var b=a.G();switch(this.G()){case 322:if(322==b)return e.Hb.lO(this,a,c,f);throw e.g.za();default:throw e.g.za();}};b.prototype.kO=function(a,
c,f,b,k){var g=a.G();switch(this.G()){case 322:if(322==g)return e.Hb.Cy(this,a,c,f,b,k);throw e.g.za();default:throw e.g.za();}};b.prototype.yy=function(){return null};b.tb=function(a,c){return c*(a.Ye.length-2)};b.prototype.hc=function(a,c){if(void 0===c)return c=new e.b,this.hc(a,c),c;e.Ub.QU(this.ua,this.ra,this.sa,this.oa,a,c)};b.prototype.ne=function(){return null};b.prototype.hH=function(){return null};b.prototype.Tq=function(){return null};b.prototype.eh=function(){return null};b.prototype.Mo=
function(){return null};b.prototype.Dg=function(){return null};b.prototype.zy=function(a,c){return void 0!==c?this.cy(c)-this.cy(a):this.cy(a)};b.prototype.iq=function(){};b.prototype.Ml=function(){return null};b.prototype.yh=function(){};b.prototype.Wc=function(){return null};b.prototype.kf=function(){return null};b.prototype.cy=function(){return null};b.prototype.PH=function(){return null};b.prototype.Cb=function(a,c){if(!c&&0!=this.ws(a,0,!1))return 0;c=1.7976931348623157E308;var f,b;f=this.ec();
b=a.ne(f,!1);f.sub(a.hc(b));f=f.length();f<c&&(c=f);f=this.Ac();b=a.ne(f,!1);f.sub(a.hc(b));f=f.length();f<c&&(c=f);f=a.ec();b=this.ne(f,!1);f.sub(this.hc(b));f=f.length();f<c&&(c=f);f=a.Ac();b=this.ne(f,!1);f.sub(this.hc(b));f=f.length();f<c&&(c=f);return c};b.prototype.Fg=function(){return e.Pi.Xm(this,null)};return b}(e.T);e.iE=d})(x||(x={}));new x.b;(function(e){(function(e){e[e.Unknown=-1]="Unknown";e[e.Not=0]="Not";e[e.Weak=1]="Weak";e[e.Strong=2]="Strong"})(e.gM||(e.gM={}));(function(e){e[e.DirtyIsKnownSimple=
1]="DirtyIsKnownSimple";e[e.IsWeakSimple=2]="IsWeakSimple";e[e.IsStrongSimple=4]="IsStrongSimple";e[e.DirtyOGCFlags=8]="DirtyOGCFlags";e[e.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";e[e.DirtyExactIntervals=64]="DirtyExactIntervals";e[e.DirtyLooseIntervals=128]="DirtyLooseIntervals";e[e.DirtyIntervals=192]="DirtyIntervals";e[e.DirtyIsEnvelope=256]="DirtyIsEnvelope";e[e.DirtyLength2D=512]="DirtyLength2D";e[e.DirtyRingAreas2D=1024]="DirtyRingAreas2D";e[e.DirtyCoordinates=1993]="DirtyCoordinates";
e[e.DirtyAllInternal=65535]="DirtyAllInternal";e[e.DirtyAll=16777215]="DirtyAll"})(e.NL||(e.NL={}));var d=function(m){function b(){var a=m.call(this)||this;a.zn=65535;a.qa=0;a.kh=-1;a.ob=null;return a}fa(b,m);b.prototype.iq=function(){};b.prototype.Ey=function(){};b.prototype.My=function(){};b.prototype.D=function(){return this.qa};b.prototype.u=function(){return this.Gc()};b.prototype.Gc=function(){return 0==this.qa};b.prototype.Ak=function(a){return 0!=(this.zn&a)};b.prototype.kg=function(a,c){this.zn=
c?this.zn|a:this.zn&~a};b.prototype.vc=function(){this.Ak(32)&&this.vO()};b.prototype.Eu=function(){if(this.Gc())throw e.g.X("This operation was performed on an Empty Geometry.");};b.prototype.xe=function(a,c){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");this.vc();c.Eg(this.description);c.u()&&c.nq();for(var f=0;f<this.description.Ga;f++)for(var b=this.description.Qd(f),k=0,q=e.ma.Xa(b);k<q;k++){var t=this.ya[f].Lf(q*a+k);c.setAttribute(b,k,t)}};b.prototype.xu=function(a,c){this.vc();for(var f=
c.description,b=0;b<f.Ga;b++)for(var k=f.Qd(b),q=e.ma.Xa(k),t=0;t<q;t++){var w=c.Wc(k,t);this.setAttribute(k,a,t,w)}};b.prototype.w=function(a,c){if(0>a||a>=this.D())throw e.g.vd();this.vc();this.ya[0].fc(2*a,c)};b.prototype.Ba=function(a){var c=new e.b;this.w(a,c);return c};b.prototype.Mc=function(a,c){this.ya[0].fc(2*a,c)};b.prototype.rb=function(a,c,f){if(0>a||a>=this.qa)throw e.g.vd();this.vc();var b=this.ya[0];void 0!==f?(b.write(2*a,c),b.write(2*a+1,f)):b.mo(2*a,c);this.Cc(1993)};b.prototype.oA=
function(a){if(0>a||a>=this.D())throw e.g.vd();this.vc();var c=this.ya[0],f=new e.od;f.x=c.read(2*a);f.y=c.read(2*a+1);f.z=this.hasAttribute(1)?this.ya[1].Lf(a):e.ma.be(1);return f};b.prototype.EC=function(a,c){if(0>a||a>=this.D())throw e.g.vd();this.Rd(1);this.vc();this.Cc(1993);var f=this.ya[0];f.write(2*a,c.x);f.write(2*a+1,c.y);this.ya[1].Im(a,c.z)};b.prototype.Wc=function(a,c,f){if(0>c||c>=this.qa)throw e.g.vd();var b=e.ma.Xa(a);if(f>=b)throw e.g.vd();this.vc();var k=this.description.lg(a);return 0<=
k?this.ya[k].Lf(c*b+f):e.ma.be(a)};b.prototype.CG=function(a,c,f){return this.Wc(a,c,f)};b.prototype.setAttribute=function(a,c,f,b){if(0>c||c>=this.qa)throw e.g.vd();var g=e.ma.Xa(a);if(f>=g)throw e.g.vd();this.Rd(a);this.vc();a=this.description.lg(a);this.Cc(1993);this.ya[a].Im(c*g+f,b)};b.prototype.Qa=function(a){this.Eu();this.Rd(a);this.vc();return this.ya[this.description.lg(a)]};b.prototype.eo=function(a,c){if(null!=c&&e.ma.ti(a)!=c.ti())throw e.g.F();this.Rd(a);a=this.description.lg(a);null==
this.ya&&(this.ya=e.Tc.LB(this.description.Ga));this.ya[a]=c;this.Cc(16777215)};b.prototype.to=function(a){var c=null;if(null!=this.ya)for(var f=e.we.vx(a,this.description),c=[],b=0,k=a.Ga;b<k;b++)-1!=f[b]&&(c[b]=this.ya[f[b]]);this.description=a;this.ya=c;this.kh=-1;this.Cc(16777215)};b.prototype.SE=function(a){this.kv(!0);a instanceof e.h?this.$.s(a):this.$.Jp(a)};b.prototype.uO=function(a){this.kv(!1);a instanceof e.h?this.$.s(a):this.$.Jp(a)};b.prototype.Wn=function(a){this.kv(!0);this.$.copyTo(a)};
b.prototype.s=function(a){this.SE(a)};b.prototype.Jp=function(a){this.SE(a)};b.prototype.ac=function(a){this.uO(a)};b.prototype.hg=function(a,c){var f=new e.yc;if(this.Gc())return f.Oa(),f;this.kv(!0);return this.$.hg(a,c)};b.prototype.kc=function(){var a=this.description.kc();if(!this.Gc())for(var c=this.D(),f=0,b=this.description.Ga;f<b;f++)a=this.ya[f].Ck(a,0,c*e.ma.Xa(this.description.Qd(f)));return a};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&this.description.Eb(a.description))||
this.Gc()!=a.Gc())return!1;if(this.Gc())return!0;var c=this.D();if(c!=a.D())return!1;for(var f=0;f<this.description.Ga;f++){var g=this.description.pd(f),k=this.Qa(g),q=a.Qa(g);if(!k.Eb(q,0,c*e.ma.Xa(g)))return!1}return!0};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();this.BE(a)};b.prototype.BE=function(a){this.vc();a.description=this.description;a.ya=null;var c=this.description.Ga,f=null;if(null!=this.ya)for(var f=[],b=0;b<c;b++)null!=this.ya[b]&&(f[b]=this.ya[b].Sr(this.D()*e.ma.Xa(this.description.Qd(b))));
null!=this.$?(a.$=this.$.Ka(),this.$.copyTo(a.$)):a.$=null;a.qa=this.qa;a.zn=this.zn;a.ya=f;try{this.iq(a)}catch(k){throw a.Oa(),e.g.tN();}};b.prototype.PE=function(){this.qa=0;this.kh=-1;this.ya=null;this.Cc(16777215)};b.prototype.Cc=function(a){16777215==a&&(this.kh=-1,this.Ey());this.zn|=a;this.YN();this.zc()};b.prototype.kv=function(a){this.vc();if(this.Ak(192))if(null==this.$?this.$=new e.di(this.description):this.$.Eg(this.description),this.u())this.$.Oa();else{this.Ly(a);for(var c=1;c<this.description.Ga;c++)for(var f=
this.description.Qd(c),b=e.ma.Xa(f),k=this.ya[c],q=0;q<b;q++){var t=new e.yc;t.Oa();for(var w=0;w<this.qa;w++){var m=k.Lf(w*b+q);t.Nb(m)}this.$.setInterval(f,q,t)}a&&this.kg(192,!1)}};b.prototype.Ly=function(){this.$.Oa();for(var a=this.ya[0],c=new e.b,f=0;f<this.qa;f++)a.fc(2*f,c),this.$.Nb(c)};b.prototype.Bo=function(a){a.Oa();for(var c=this.ya[0],f=new e.b,b=0;b<this.qa;b++)c.fc(2*b,f),a.Nb(f)};b.prototype.vO=function(){if(this.kh<this.qa){null==this.ya&&(this.ya=e.Tc.LB(this.description.Ga));
this.kh=2147483647;for(var a=0;a<this.description.Ga;a++){var c=this.description.Qd(a);if(null!=this.ya[a]){var f=e.ma.Xa(c),b=e.J.truncate(this.ya[a].size/f);b<this.qa&&(b=e.J.truncate(this.kh>this.qa+5?(5*this.qa+3)/4:this.qa),this.ya[a].resize(b*f,e.ma.be(c)));b<this.kh&&(this.kh=b)}else this.ya[a]=e.Tc.oz(c,this.qa),this.kh=this.qa}}this.My();this.kg(32,!1)};b.prototype.El=function(a){if(0>a)throw e.g.F();a!=this.qa&&(this.qa=a,this.Cc(65535))};b.prototype.Nk=function(a){if(!this.Ak(1)){if(!this.Ak(2))return 0;
if(this.rV>=a)return this.Ak(8)?1:2}return-1};b.prototype.Xg=function(a,c){this.rV=c;if(-1==a)this.kg(1,!0),this.kg(8,!0);else if(this.kg(1,!1),this.kg(8,!0),0==a)this.kg(2,!1),this.kg(4,!1);else if(1==a)this.kg(2,!0),this.kg(4,!1);else if(2==a)this.kg(2,!0),this.kg(4,!0);else throw e.g.X("internal error.");};b.prototype.YN=function(){null!=this.ob&&(this.ob=null)};b.prototype.HE=function(a,c,f,b){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");if(0>c||c>=this.qa)throw e.g.X("index out of bounds");
this.vc();b.Eg(this.description);b.u()&&b.nq();for(var g=0;g<this.description.Ga;g++)for(var q=this.description.Qd(g),t=0,w=e.ma.Xa(q);t<w;t++){var m=this.ya[g].Lf(w*a+t),d=this.ya[g].Lf(w*c+t);b.setAttribute(q,t,e.Ub.Xq(m,d,f))}};b.prototype.vs=function(a,c){var f=this.ya[0].f,b=f[2*a]-f[2*c],f=f[2*a+1]-f[2*c+1];return Math.sqrt(b*b+f*f)};b.prototype.Zh=function(a,c){if(0>a||a>=this.qa)throw e.g.vd();if(c.u())throw e.g.F();this.vc();for(var f=c.description,b=0;b<f.Ga;b++)for(var k=f.pd(b),q=e.ma.Xa(k),
t=0;t<q;t++){var w=c.Wc(k,t);this.setAttribute(k,a,t,w)}};b.prototype.bv=function(){return null};b.prototype.Kj=function(){return null};return b}(e.T);e.Ou=d})(x||(x={}));(function(e){var d=function(){function m(){this.pb=this.Uo=null;this.Mn=124234251;this.Dw=!0;this.mf=-1;this.pb=new e.Zc(7);this.Uo=null}m.prototype.Lp=function(b){this.Uo=b};m.prototype.kR=function(){this.Dw=!1};m.prototype.Ne=function(b){this.pb.Ne(b)};m.prototype.Is=function(b){var a=this.pb.Me();this.RX(a);this.UX(b,a);return a};
m.prototype.fR=function(b){this.pb.jd(b)};m.prototype.addElement=function(b,a){var c;-1==a?(-1==this.mf&&(this.mf=this.Is(-1)),c=this.mf):c=a;return this.YE(b,0,c)};m.prototype.bF=function(b){-1==this.mf&&(this.mf=this.Is(-1));return this.YE(b,1,this.mf)};m.prototype.yo=function(b){var a;-1==this.mf&&(this.mf=this.Is(-1));a=this.mf;var c=this.pb.f;if(-1==a||-1==c[7*a])return b=this.pb.pl([-1,-1,-1,b,this.Ql(),-1,-1]),c=this.pb.f,c[7*a]=b,this.pq(-1,b,a,c),b;var f=-1==a?-1:c[7*a+2];b=this.pb.pl([-1,
-1,f,b,this.Ql(),-1,-1]);c=this.pb.f;c[7*f+1]=b;this.Sy(b,c);-1===c[7*b+2]&&(c[7*a]=b);this.pq(-1,b,a,c);return b};m.prototype.ov=function(b,a,c,f){var g=-1;-1==g&&(-1==this.mf&&(this.mf=this.Is(-1)),g=this.mf);var k=this.pb.f;if(-1==g||-1==k[7*g])return c=this.pb.pl([-1,-1,-1,c,this.Ql(),-1,-1]),k=this.pb.f,k[7*g]=c,this.pq(-1,c,g,k),c;var q;f?(f=-1!=a?this.Uo.compare(this,c,a):-1,q=-1!=b?this.Uo.compare(this,c,b):1):(f=-1,q=1);if(0==f||0==q)return k[7*g+3]=0==f?a:b,-1;(-1!=a&&-1!=b?this.Mn>e.J.KB(this.Mn)>>
1:-1!=a)?b=a:f=q;for(a=!0;;){if(0>f)if(q=k[7*b],-1!=q)b=q;else{f=b;c=this.pb.pl([-1,-1,b,c,this.Ql(),-1,-1]);k=this.pb.f;k[7*b]=c;break}else if(q=k[7*b+1],-1!=q)b=q;else{f=k[7*b+6];c=this.pb.pl([-1,-1,b,c,this.Ql(),-1,-1]);k=this.pb.f;k[7*b+1]=c;break}a&&(f*=-1,a=!1)}this.Sy(c,k);-1===k[7*c+2]&&(k[7*g]=c);this.pq(f,c,g,k);return c};m.prototype.IG=function(){return this.AS(this.mf)};m.prototype.Jd=function(b,a){a=-1==a?this.mf:a;this.Dw?this.eR(b,a):this.KY(b,a)};m.prototype.search=function(b,a){for(a=
this.fw(a);-1!=a;){var c=this.Uo.compare(this,b,a);if(0==c)return a;a=0>c?this.Ul(a):this.Nq(a)}return-1};m.prototype.lX=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?a=this.Ul(a):(c=a,a=this.Nq(a))}return c};m.prototype.$J=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?(c=a,a=this.Ul(a)):a=this.Nq(a)}return c};m.prototype.ia=function(b){return this.pb.S(b,3)};m.prototype.Ul=function(b){return this.pb.S(b,0)};
m.prototype.Nq=function(b){return this.pb.S(b,1)};m.prototype.getParent=function(b){return this.pb.S(b,2)};m.prototype.nb=function(b){return this.pb.S(b,6)};m.prototype.Se=function(b){return this.pb.S(b,5)};m.prototype.wc=function(b){return-1==b?this.Tl(this.mf):this.Tl(b)};m.prototype.Ec=function(b){return-1==b?this.Xs(this.mf):this.Xs(b)};m.prototype.tT=function(b){return-1==b?this.eH(this.mf):this.eH(b)};m.prototype.pk=function(b,a){this.qC(b,a)};m.prototype.fw=function(b){return-1==b?this.$G(this.mf):
this.$G(b)};m.prototype.clear=function(){this.pb.Wi(!1);this.mf=-1};m.prototype.size=function(b){return-1==b?this.bH(this.mf):this.bH(b)};m.prototype.kP=function(b,a){for(var c=a[7*b],f=a[7*b+1],g=a[7*b+4];-1!=c||-1!=f;){var k=-1!=c?a[7*c+4]:2147483647,f=-1!=f?a[7*f+4]:2147483647;if(g<=Math.min(k,f))break;k<=f?this.XJ(c,a):this.WJ(b,a);c=a[7*b];f=a[7*b+1]}};m.prototype.Sy=function(b,a){if(this.Dw)for(var c=a[7*b+4],f=a[7*b+2];-1!=f&&a[7*f+4]>c;)a[7*f]==b?this.XJ(b,a):this.WJ(f,a),f=a[7*b+2]};m.prototype.WJ=
function(b,a){var c=a[7*b+1],f;a[7*c+2]=a[7*b+2];a[7*b+2]=c;f=a[7*c];a[7*b+1]=f;-1!=f&&(a[7*f+2]=b);a[7*c]=b;f=a[7*c+2];-1!=f&&(a[7*f]==b?a[7*f]=c:a[7*f+1]=c)};m.prototype.XJ=function(b,a){var c=a[7*b+2],f;a[7*b+2]=a[7*c+2];a[7*c+2]=b;f=a[7*b+1];a[7*c]=f;-1!=f&&(a[7*f+2]=c);a[7*b+1]=c;f=a[7*b+2];-1!=f&&(a[7*f]===c?a[7*f]=b:a[7*f+1]=b)};m.prototype.ul=function(b,a){this.pb.R(b,2,a)};m.prototype.uC=function(b,a){this.pb.R(b,0,a)};m.prototype.yC=function(b,a){this.pb.R(b,1,a)};m.prototype.xC=function(b,
a){this.pb.R(b,5,a)};m.prototype.Qx=function(b,a){this.pb.R(b,6,a)};m.prototype.CK=function(b,a){this.pb.R(a,0,b)};m.prototype.RX=function(b){this.pb.R(b,4,0)};m.prototype.UX=function(b,a){this.pb.R(a,5,b)};m.prototype.$G=function(b){return-1==b?-1:this.pb.S(b,0)};m.prototype.Tl=function(b){return-1==b?-1:this.pb.S(b,1)};m.prototype.Xs=function(b){return-1==b?-1:this.pb.S(b,2)};m.prototype.AS=function(b){return-1==b?-1:this.pb.S(b,3)};m.prototype.bH=function(b){return-1==b?0:this.pb.S(b,4)};m.prototype.eH=
function(b){return this.pb.S(b,5)};m.prototype.Bx=function(b){return this.pb.pl([-1,-1,-1,b,this.Ql(),-1,-1])};m.prototype.Pl=function(b){-1!=b&&this.pb.jd(b)};m.prototype.Ql=function(){this.Mn=e.J.KB(this.Mn);return this.Mn&1073741823};m.prototype.YE=function(b,a,c){var f=this.pb.f;if(-1==c||-1==f[7*c])return b=this.pb.pl([-1,-1,-1,b,this.Ql(),-1,-1]),f=this.pb.f,f[7*c]=b,this.pq(-1,b,c,f),b;for(var g=-1==c?-1:f[7*c];;){var k=-1==a?1:this.Uo.compare(this,b,g);if(0>k)if(k=this.Ul(g),-1!=k)g=k;else{a=
g;b=this.pb.pl([-1,-1,g,b,this.Ql(),-1,-1]);f=this.pb.f;f[7*g]=b;break}else{if(1==a&&0==k)return f[7*c+3]=g,-1;k=f[7*g+1];if(-1!=k)g=k;else{a=f[7*g+6];b=this.pb.pl([-1,-1,g,b,this.Ql(),-1,-1]);f=this.pb.f;f[7*g+1]=b;break}}}this.Sy(b,f);-1===f[7*b+2]&&(f[7*c]=b);this.pq(a,b,c,f);return b};m.prototype.pq=function(b,a,c,f){var g;-1!=b?(g=f[7*b+5],f[7*b+5]=a):g=-1==c?-1:f[7*c+2];f[7*a+5]=g;-1!=g&&(f[7*g+6]=a);f[7*a+6]=b;b==(-1==c?-1:f[7*c+1])&&(f[7*c+1]=a);-1==b&&(f[7*c+2]=a);f[7*c+4]=(-1==c?0:f[7*c+
4])+1};m.prototype.cC=function(b,a){var c=this.pb.f,f=c[7*b+5];b=c[7*b+6];-1!=f?c[7*f+6]=b:c[7*a+1]=b;-1!=b?c[7*b+5]=f:c[7*a+2]=f;c[7*a+4]=-1===a?-1:c[7*a+4]-1};m.prototype.KY=function(b,a){this.cC(b,a);var c=this.Ul(b),f=this.Nq(b),g=this.getParent(b),k=b;if(-1!=c&&-1!=f){this.Mn=e.J.KB(this.Mn);var q;q=1073741823<this.Mn?this.nb(b):this.Se(b);var t=this.getParent(q)==b;this.pb.ay(b,q,0);this.pb.ay(b,q,1);this.pb.ay(b,q,2);-1!=g?this.Ul(g)==b?this.uC(g,q):this.yC(g,q):this.CK(q,a);t?(c==q?(this.uC(q,
b),this.ul(f,q)):f==q&&(this.yC(q,b),this.ul(c,q)),this.ul(b,q),g=q):(this.ul(c,q),this.ul(f,q),g=this.getParent(b),k=q);c=this.Ul(b);f=this.Nq(b);-1!=c&&this.ul(c,b);-1!=f&&this.ul(f,b)}c=-1!=c?c:f;-1==g?this.CK(c,a):this.Ul(g)==k?this.uC(g,c):this.yC(g,c);-1!=c&&this.ul(c,g);this.Pl(b,a)};m.prototype.eR=function(b,a){var c=this.pb.f;c[7*b+4]=2147483647;var f=-1,g=-1,k=-1===a?-1:c[7*a],e=k==b;e&&(f=c[7*k],g=c[7*k+1],-1==f&&-1==g)?(this.cC(k,a),this.Pl(k,a),c[7*a]=-1):(this.kP(b,c),k=c[7*b+2],-1!=
k&&(c[7*k]==b?c[7*k]=-1:c[7*k+1]=-1),this.cC(b,a),this.Pl(b,a),e&&(c[7*a]=-1==f||-1!=c[7*f+2]?g:f))};m.prototype.qC=function(b,a){this.pb.R(b,3,a)};return m}();e.xk=d})(x||(x={}));(function(e){var d=function(){function m(b,a){void 0!==b&&this.I(b,a)}m.prototype.I=function(b,a){this.ga=b;this.la=a;this.normalize()};m.prototype.Yb=function(b){return this.ga<=b.ga?this.la>=b.ga:b.la>=this.ga};m.prototype.move=function(b){this.u()||(this.ga+=b,this.la+=b)};m.prototype.normalize=function(){if(!isNaN(this.ga)){if(this.ga>
this.la){var b=this.ga;this.ga=this.la;this.la=b}isNaN(this.la)&&this.Oa()}};m.prototype.Oa=function(){this.la=this.ga=NaN};m.prototype.u=function(){return isNaN(this.ga)};m.prototype.Nb=function(b){"number"===typeof b?this.u()?this.la=this.ga=b:this.ol(b):b.u()||(this.u()?(this.ga=b.ga,this.la=b.la):(this.ga>b.ga&&(this.ga=b.ga),this.la<b.la&&(this.la=b.la),this.ga>this.la&&this.Oa()))};m.prototype.ol=function(b){b<this.ga?this.ga=b:b>this.la&&(this.la=b)};m.prototype.contains=function(b){return"number"===
typeof b?b>=this.ga&&b<=this.la:b.ga>=this.ga&&b.la<=this.la};m.prototype.Ma=function(b){this.u()||b.u()?this.Oa():(this.ga<b.ga&&(this.ga=b.ga),this.la>b.la&&(this.la=b.la),this.ga>this.la&&this.Oa())};m.prototype.P=function(b){this.u()||(this.ga-=b,this.la+=b,this.la<this.ga&&this.Oa())};m.prototype.uo=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.ga)+Math.abs(this.la)+1)};m.prototype.nC=function(b,a){b>a?(this.ga=a,this.la=b):(this.ga=b,this.la=a)};m.prototype.yu=
function(b){return e.J.tk(b,this.ga,this.la)};m.prototype.O=function(){return this.la-this.ga};m.prototype.Tf=function(){return.5*(this.ga+this.la)};m.prototype.Eb=function(b){return b==this?!0:b instanceof m?this.u()&&b.u()?!0:this.ga!=b.ga||this.la!=b.la?!1:!0:!1};m.prototype.kc=function(){return e.J.$i(e.J.$i())};return m}();e.yc=d})(x||(x={}));(function(e){var d=new e.yc,m=new e.yc,b=function(){return function(){this.Ie=null;this.qb=-1;this.xb=new e.Hb;this.aB=55555555;this.Fw=this.Iw=!1;this.qg=
new e.yc;this.qg.nC(0,0)}}();e.MZ=b;var a=function(){function a(a,c,k){this.a=a;this.kl=NaN;this.OI=this.Ar=0;this.QI=NaN;this.ta=c;this.Dr=10*c;this.RI=this.SI=NaN;this.Lg=!1;this.xn=this.$t=this.Cp=this.Ut=this.Tt=-1;this.SA=k;this.CB=new b;this.ZI=new b;e.J.truncate(3*a.ud/2)}a.prototype.oH=function(a,c,b,e){a.Ie=null===e?null:e[b[5*c]];a.Fw=null!=a.Ie;a.Fw||(e=b[5*c+2],-1!==e&&this.a.LW(b[5*c],b[5*e],a.xb),a.Ie=a.xb,a.qg.nC(a.xb.ua,a.xb.sa),a.qg.la+=this.ta,a.xb.pJ(),a.Iw=a.xb.oa==a.xb.ra,a.Iw||
(a.aB=(a.xb.sa-a.xb.ua)/(a.xb.oa-a.xb.ra)))};a.prototype.nQ=function(a,c){var f=a.ws(c,this.ta,!0);if(0!=f)return 2==f?this.Az():this.Xi();a.Oq(qa);a.Ns(ra);c.Oq(sa);c.Ns(ta);ja.ja(this.Ar,this.kl);qa.vb(sa)&&this.kl==qa.y?0>ra.compare(ta)?ja.L(ra):ja.L(ta):qa.vb(ta)&&this.kl==qa.y?0>ra.compare(sa)?ja.L(ra):ja.L(sa):sa.vb(ra)&&this.kl==sa.y?0>qa.compare(ta)?ja.L(qa):ja.L(ta):ra.vb(ta)&&this.kl==ra.y&&(0>qa.compare(sa)?ja.L(qa):ja.L(sa));return a.kf(ja.y,ja.x)<c.kf(ja.y,ja.x)?-1:1};a.prototype.lQ=
function(a,c){if(a.xb.ra==c.xb.ra&&a.xb.ua==c.xb.ua)return a.xb.oa==c.xb.oa&&a.xb.sa==c.xb.sa?this.SA?this.Az():0:this.VF(a,c);if(a.xb.oa==c.xb.oa&&a.xb.sa==c.xb.sa)return this.UF(a,c);var f=this.UF(a,c);a=this.VF(a,c);return 0>f&&0>a?-1:0<f&&0<a?1:this.Xi()};a.prototype.hQ=function(a,c){if(a.sa>c.sa){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Ti(c.sa,c.oa,this.ta))return this.Xi()}else if((c.oa-c.ra)/(c.sa-c.ua)*(a.sa-a.ua)<this.Dr&&c.Ti(a.sa,a.oa,this.ta))return this.Xi();return 1};a.prototype.iQ=function(a,
c){if(a.ua<c.ua){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Ti(c.sa,c.oa,this.ta))return this.Xi()}else if((c.oa-c.ra)/(c.sa-c.ua)*(a.ua-a.sa)<this.Dr&&c.Ti(a.ua,a.ra,this.ta))return this.Xi();return-1};a.prototype.jQ=function(a,c){var f=new e.b;f.xc(c.Ac(),c.ec());f.Tr();f.normalize();var b=new e.b;b.xc(a.ec(),c.ec());var g=new e.b;g.xc(a.Ac(),c.ec());var b=b.pi(f),f=g.pi(f),g=Math.abs(b),w=Math.abs(f);if(g<w){if(g<this.Dr&&c.Ti(a.ua,a.ra,this.ta))return this.Xi()}else if(w<this.Dr&&c.Ti(a.sa,a.oa,this.ta))return this.Xi();
return 0>b&&0>f?-1:0<b&&0<f?1:this.Xi()};a.prototype.TF=function(a,c){return a.ra==c.ra&&a.ua==c.ua?this.hQ(a,c):a.oa==c.oa&&a.sa==c.sa?this.iQ(a,c):this.jQ(a,c)};a.prototype.kQ=function(a,c){return a.oa==c.oa&&a.sa==c.sa&&a.ra==c.ra&&a.ua==c.ua?this.SA?this.Az():0:this.Xi()};a.prototype.UF=function(a,c){var f=1;if(a.xb.ra<c.xb.ra){var f=-1,b=a;a=c;c=b}b=a.xb;a=c.xb;var g=b.ua-a.ua;c=c.aB*(b.ra-a.ra);var e=this.Dr;return g<c-e?-f:g>c+e?f:a.Ti(b.ua,b.ra,this.ta)?this.Xi():g<c?-f:f};a.prototype.VF=
function(a,c){var f=1;if(c.xb.oa<a.xb.oa){var f=-1,b=a;a=c;c=b}b=a.xb;a=c.xb;var g=b.sa-a.ua;c=c.aB*(b.oa-a.ra);var e=this.Dr;return g<c-e?-f:g>c+e?f:a.Ti(b.sa,b.oa,this.ta)?this.Xi():g<c?-f:f};a.prototype.Az=function(){this.Lg=!0;this.nj=new e.Yd(5,this.Cp,this.$t);return-1};a.prototype.Xi=function(){this.Lg=!0;this.SA?this.nj=new e.Yd(4,this.Cp,this.$t):this.$t=this.Cp=this.Ut=this.Tt=-1;return-1};a.prototype.mQ=function(a,c,b,e){if(this.Lg)return-1;var f=this.QI==this.kl&&this.OI==this.Ar,g;f&&
a==this.Tt?g=this.RI:(g=NaN,this.Tt=-1);f&&c==this.Ut?f=this.SI:(f=NaN,this.Ut=-1);b.Ie.GJ(d);e.Ie.GJ(m);if(d.la<m.ga)return-1;if(m.la<d.ga)return 1;this.QI=this.kl;this.OI=this.Ar;isNaN(g)&&(this.Tt=a,this.RI=g=a=b.Ie.kf(this.kl,this.Ar));isNaN(f)&&(this.Ut=c,this.SI=f=a=e.Ie.kf(this.kl,this.Ar));return Math.abs(g-f)<=this.ta?this.nQ(b.Ie,e.Ie):g<f?-1:g>f?1:0};a.prototype.Es=function(){this.Lg=!1};a.prototype.ln=function(){return this.nj};a.prototype.EK=function(a,c){this.kl=a;this.Ar=c;this.$t=
this.Cp=this.Ut=this.Tt=-1};a.prototype.compare=function(a,c,b){if(this.Lg)return-1;a=a.ia(b);this.xn=b;return this.XF(c,c,a,a)};a.prototype.XF=function(a,c,b,e){var f;this.Cp==c?f=this.CB:(this.Cp=c,f=this.CB,this.CB.qb=a,this.oH(f,c,this.a.Cd.f,this.a.tf));var g;null==g&&(this.$t=e,g=this.ZI,this.ZI.qb=b,this.oH(g,e,this.a.Cd.f,this.a.tf));if(f.Fw||g.Fw)return this.mQ(c,e,f,g);if(f.qg.la<g.qg.ga)return-1;if(g.qg.la<f.qg.ga)return 1;a=f.Iw?1:0;a|=g.Iw?2:0;return 0==a?this.lQ(f,g):1==a?this.TF(f.xb,
g.xb):2==a?-1*this.TF(g.xb,f.xb):this.kQ(f.xb,g.xb)};return a}();e.lE=a})(x||(x={}));(function(e){var d=function(){function m(b,a){this.a=b;this.ta=a;this.Lg=!1;this.Cp=-1;this.qg=new e.yc;this.wr=new e.b;this.wr.Yc();this.Ce=new e.Hb;this.xn=-1;this.kB=1.7976931348623157E308}m.prototype.Es=function(){this.Lg=!1;this.kB=1.7976931348623157E308};m.prototype.Zh=function(b){this.wr.L(b)};m.prototype.compare=function(b,a){return this.YF(a,b.ia(a))};m.prototype.YF=function(b,a){var c=null!=this.a.jc(a);
c||(this.a.nd(a,this.Ce),this.qg.nC(this.Ce.ua,this.Ce.sa));if(c)throw e.g.X("not implemented");if(this.wr.x+this.ta<this.qg.ga)return-1;if(this.wr.x-this.ta>this.qg.la)return 1;if(this.Ce.ra==this.Ce.oa)return this.xn=b,this.Lg=!0,0;this.Ce.pJ();a=this.Ce.ec();c=new e.b;c.xc(this.Ce.Ac(),a);c.Tr();var f=new e.b;f.xc(this.wr,a);a=c.pi(f);a/=c.length();return a<10*-this.ta?-1:a>10*this.ta?1:this.Ce.ot(this.wr,this.ta)&&(c=Math.abs(a),c<this.kB&&(this.xn=b,this.kB=c),this.Lg=!0,c<.25*this.ta)?0:0>a?
-1:1};return m}();e.AN=d})(x||(x={}));(function(e){function d(b,a,c,f){c=new Float64Array(b.subarray(c,f));b.set(c,a)}var m=function(){function b(a){this.xa=this.ze=!1;this.f=[];var c=a;2>c&&(c=2);this.f=e.J.df(c,b.tb);this.size=a}b.prototype.rotate=function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Xd(a,c-a,1),this.Xd(c,f-c,1),this.Xd(a,f-a,1))};b.yd=function(a,c){b.tb=c;a=new b(a);b.tb=0;return a};b.Dk=function(a){var c=new b(0);c.f=a.f.slice(0);
c.size=a.size;return c};b.N=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,f.size);return f};b.prototype.zb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.TW=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=
c};b.prototype.mo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var f=this.f.slice(0,a);this.f=f}}else if(a>this.f.length){e.J.truncate(64>
a?Math.max(2*a,4):5*a/4);for(var f=this.f.slice(0),b=this.f.length;b<a;b++)f[b]=c;this.f=f}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,c){this.write(a,c)};b.prototype.Ck=function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.$i(this.read(c));return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var g=
this.size,k=a.size;if(f>g||f>k&&g!=k)return!1;for(f>g&&(f=g);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Sq=function(a,c,f,b,k,q){if(this.xa)throw e.g.Da();0>q&&(q=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;q-=a;for(var g=this.f.slice(a,a+q),w=0;w<q;w++)this.f[a+2*b+w]=g[w];if(k)for(k=0;k<b;k++)q=c[f++],this.f[a++]=q.x,this.f[a++]=q.y;else for(k=0,g=b-1;k<b;++k)q=c[f+g],this.f[a++]=q.x,this.f[a++]=q.y,g--};b.prototype.Tk=function(a,c,f,b,
k,q,t){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=b%q))throw e.g.F();var g=this.size-t;g<b&&this.resize(this.size+b-g);for(g=0;g<t-a;g++)this.f[a+b+g]=this.f[a+g];this.f==c.f&&a<f&&(f+=b);if(k)for(g=0;g<b;g++)this.f[g+a]=c.f[f+g];else for(k=b,t=0;t<b;t+=q)for(k-=q,g=0;g<q;g++)this.f[a+t+g]=c.f[f+k+g]};b.prototype.Zj=function(a,c,f,b){if(this.xa)throw e.g.Da();b-=a;for(var g=this.f.slice(a,a+b),q=0;q<b;q++)this.f[a+f+q]=g[q];for(b=0;b<f;b++)this.f[a+b]=c};b.prototype.dh=function(a,c,f){if(this.xa)throw e.g.Da();
for(var b=this.f.slice(a,a+(f-a)),k=0;k<f-a;k++)this.f[k+a+2]=b[k];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.hs=function(a,c,f,b,k){if(0>a||0>c||0>b)throw e.g.F();if(f.length<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),k)for(k=0;k<c;k++)this.f[a+k]=f[b+k];else for(k||(a+=c-1),c=b+c;b<c;b++)this.f[a]=f[b],a--};b.prototype.no=function(a,c,f,b,k,q){if(0>a||0>c||0>b)throw e.g.F();if(!k&&(0>=q||0!=c%q))throw e.g.F();if(f.size<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+
a),f==this)this.Mj(a,c,b,k,q);else if(k)for(k=0;k<c;k++)this.f[a]=f.f[b],a++,b++;else if(b=b+c-q,1==q)for(k=0;k<c;k++)this.f[a]=f.f[b],a++,b--;else for(k=0,c=e.J.truncate(c/q);k<c;k++){for(var g=0;g<q;g++)this.f[a+g]=f.f[b+g];a+=q;b-=q}};b.prototype.Hk=function(a,c,f){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();if(0<f-(a+c)){f-=a+c;for(var b=this.f.slice(a+c,a+f+c),k=0;k<f;k++)this.f[a+k]=b[k]}this.size-=c};b.prototype.Xd=function(a,c,f){if(this.xa)throw e.g.Da();if(1>f||0!=c%f)throw e.g.Da();
for(var b=c>>1,k=0;k<b;k+=f){c-=f;for(var q=0;q<f;q++){var t=this.f[a+k+q];this.f[a+k+q]=this.f[a+c+q];this.f[a+c+q]=t}}};b.prototype.$h=function(a,c,f){if(0>c||0>f||0>c||f+c>this.size)throw e.g.F();for(var b=c;b<c+f;b++)this.f[b]=a};b.prototype.Mj=function(a,c,f,b,k){if(!b||a!=f){for(var g=0;g<c;g++)this.f[a+g]=this.f[f+g];if(!b)for(f=a,a=a+c-k,b=0,c=e.J.truncate(c/2);b<c;b++){for(g=0;g<k;g++){var t=this.f[f+g];this.f[f+g]=this.f[a+g];this.f[a+g]=t}f+=k;a-=k}}};b.prototype.js=function(a,c,f,b,k){if(0>
a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=b;b<c;b++)this.f[a]=f[b].x,this.f[a+1]=f[b].y,a+=k};b.prototype.hy=function(a,c,f,b,k){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=b;b<c;b++)this.f[a]=f[b][0],this.f[a+1]=f[b][1],a+=k};b.prototype.rl=function(a,c,f,b,k){if(0>a||0>c||0>b||this.size<c+a)throw e.g.F();if(k)for(k=0;k<c;k++)f[b+k]=this.f[a+k];else for(b=b+c-1;a<c;a++)f[b]=
this.f[a],b--};b.prototype.Hx=function(a,c,f,b,k){if(0>a||0>c||0>b||this.size<(c>>1)+a)throw e.g.F();if(0!=c)for(k||(a+=c-1),k=k?2:-2,c=b+c;b<c;b++)f[b][0]=this.f[a],f[b][1]=this.f[a+1],a+=k};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,c,f){var b=this.f.slice(0,a),k=this.f.slice(c);a=this.f.slice(a,c).sort(f);this.f.length=0;this.f.push.apply(this.f,b.concat(a).concat(k))};b.prototype.ti=function(){return 1};b.tb=
0;return b}();e.Pd=m;m=function(){function b(a){this.xa=this.ze=!1;this.f=null;var c=a;2>c&&(c=2);this.f=new Float64Array(c);this.size=a}b.prototype.rotate=function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Xd(a,c-a,1),this.Xd(c,f-c,1),this.Xd(a,f-a,1))};b.yd=function(a,c){var f=new b(a),g=f.f;2>a&&(a=2);if(0!==c)for(var k=0;k<a;k++)g[k]=c;return f};b.Dk=function(a){var c=new b(0);c.f=new Float64Array(a.f);c.size=a.size;return c};b.N=function(a,
c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Float64Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return f};b.prototype.zb=function(a){0>=a||(null==this.f?this.f=new Float64Array(a):a<=this.f.length||(0<this.f.length?(a=new Float64Array(a),a.set(this.f),this.f=a):this.f=new Float64Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=
function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.mo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");
if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var f=new Float64Array(this.f,0,a);this.f=f}}else{a>this.f.length&&(f=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),f=new Float64Array(f),f.set(this.f),this.f=f);for(var f=this.f,b=this.size;b<a;b++)f[b]=c}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,c){this.write(a,c)};b.prototype.Ck=
function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.$i(this.read(c));return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var g=this.size,k=a.size;if(f>g||f>k&&g!=k)return!1;for(f>g&&(f=g);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Tk=function(a,c,f,b,k,q,t){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=b%q))throw e.g.F();var g=this.size-t;g<b&&this.resize(this.size+b-g);d(this.f,a+b,a,a+(t-a));this.f==c.f&&a<f&&(f+=b);if(k)this.f.set(c.f.subarray(f,
f+b),a);else for(k=b,t=0;t<b;t+=q)for(k-=q,g=0;g<q;g++)this.f[a+t+g]=c.f[f+k+g]};b.prototype.Sq=function(a,c,f,b,k,q){if(this.xa)throw e.g.Da();0>q&&(q=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;d(this.f,a+2*b,a,a+(q-a));if(k)for(k=0;k<b;k++)q=c[f++],this.f[a++]=q.x,this.f[a++]=q.y;else{k=0;for(var g=b-1;k<b;++k)q=c[f+g],this.f[a++]=q.x,this.f[a++]=q.y,g--}};b.prototype.Zj=function(a,c,f,b){if(this.xa)throw e.g.Da();b-=a;d(this.f,a+b,a,a+b);for(b=0;b<f;b++)this.f[a+
b]=c};b.prototype.dh=function(a,c,f){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(f-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.hs=function(a,c,f,b,k){if(0>a||0>c||0>b)throw e.g.F();if(f.length<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),k)this.f.set(f.subarray(b,c),a);else for(k||(a+=c-1),c=b+c;b<c;b++)this.f[a]=f[b],a--};b.prototype.no=function(a,c,f,b,k,q){if(0>a||0>c||0>b)throw e.g.F();if(!k&&(0>=q||0!=c%q))throw e.g.F();if(f.size<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&
this.resize(c+a),f==this)this.Mj(a,c,b,k,q);else if(k)for(k=0;k<c;k++)this.f[a]=f.f[b],a++,b++;else if(b=b+c-q,1==q)for(k=0;k<c;k++)this.f[a]=f.f[b],a++,b--;else for(k=0,c=e.J.truncate(c/q);k<c;k++){for(var g=0;g<q;g++)this.f[a+g]=f.f[b+g];a+=q;b-=q}};b.prototype.Hk=function(a,c,f){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();0<f-(a+c)&&d(this.f,a,a+c,a+(f-(a+c))+c);this.size-=c};b.prototype.Xd=function(a,c,f){if(this.xa)throw e.g.Da();if(1>f||0!=c%f)throw e.g.Da();for(var b=c>>1,k=0;k<
b;k+=f){c-=f;for(var q=0;q<f;q++){var t=this.f[a+k+q];this.f[a+k+q]=this.f[a+c+q];this.f[a+c+q]=t}}};b.prototype.$h=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Mj=function(a,c,b,g,k){if(!g||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!g)for(b=a,a=a+c-k,g=0,c=e.J.truncate(c/2);g<c;g++){for(var f=0;f<k;f++){var t=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=t}b+=k;a-=k}};b.prototype.js=function(a,c,b,g,k){if(0>a||0>c||0>g)throw e.g.F();
if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=k};b.prototype.hy=function(a,c,b,g,k){if(0>a||0>c||0>g)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<c;g++)this.f[a]=b[g][0],this.f[a+1]=b[g][1],a+=k};b.prototype.rl=function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<c+a)throw e.g.F();if(k)for(k=0;k<c;k++)b[g+k]=this.f[a+k];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.Hx=
function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<(c>>1)+a)throw e.g.F();if(0!=c)for(k||(a+=c-1),k=k?2:-2,c=g+c;g<c;g++)b[g][0]=this.f[a],b[g][1]=this.f[a+1],a+=k};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,c,b){Array.prototype.sort.call(this.f.subarray(a,c),b)};b.prototype.ti=function(){return 1};return b}();e.zL=m})(x||(x={}));!0===x.Yh.Gm&&!0===x.Yh.jw&&(x.Pd=x.zL);(function(e){function d(b,a,c,f){c=new Int32Array(b.subarray(c,
f));b.set(c,a)}e.dZ=function(){return function(){this.random=1973}}();var m=function(){function b(a){this.xa=this.ze=!1;this.f=[];var c=a;2>c&&(c=2);this.f=this.f=e.J.df(c,b.tb);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Xd(a,c-a,1),this.Xd(c,b-c,1),this.Xd(a,b-a,1))};b.yd=function(a,c){b.tb=c;a=new b(a);b.tb=0;return a};b.Dk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.N=function(a,
c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,f.size);return f};b.prototype.zb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.mo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=
function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var b=this.f.slice(0,a);this.f=b}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),g=this.f.length;g<a;g++)b[g]=
c;this.f=b}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,c){this.write(a,c)};b.prototype.Ck=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.bh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var g=this.size,k=a.size;if(f>g||f>k&&g!=k)return!1;for(f>g&&(f=g);c<f;c++)if(this.read(c)!=
a.read(c))return!1;return!0};b.prototype.Tk=function(a,c,b,g,k,q,t){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=g%q))throw e.g.F();for(var f=0;f<t-a;f++)this.f[a+g+f]=this.f[a+f];this.f==c.f&&a<b&&(b+=g);if(k)for(f=0;f<g;f++)this.f[f+a]=c.f[b+f];else for(k=g,t=0;t<g;t+=q)for(k-=q,f=0;f<q;f++)this.f[a+t+f]=c.f[b+k+f]};b.prototype.Sq=function(a,c,b,g,k,q){if(this.xa)throw e.g.Da();0>q&&(q=this.size);this.size+2*g>this.f.length?this.resize(this.size+2*g):this.size+=2*g;q-=a;for(var f=this.f.slice(a,a+
q),w=0;w<q;w++)this.f[a+2*g+w]=f[w];if(k)for(k=0;k<g;k++)q=c[b++],this.f[a++]=q.x,this.f[a++]=q.y;else for(k=0,f=g-1;k<g;++k)q=c[b+f],this.f[a++]=q.x,this.f[a++]=q.y,f--};b.prototype.Zj=function(a,c,b,g){if(this.xa)throw e.g.Da();g-=a;for(var f=this.f.slice(a,a+g),q=0;q<g;q++)this.f[a+b+q]=f[q];for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.dh=function(a,c,b){if(this.xa)throw e.g.Da();for(var f=this.f.slice(a,a+(b-a)),k=0;k<b-a;k++)this.f[k+a+2]=f[k];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.hs=function(a,
c,b,g,k){if(0>a||0>c||0>g)throw e.g.F();if(b.length<g+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),k)for(k=0;k<c;k++)this.f[a+k]=b[g+k];else for(k||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.no=function(a,c,b,g,k,q){if(0>a||0>c||0>g)throw e.g.F();if(!k&&(0>=q||0!=c%q))throw e.g.F();if(b.size<g+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Mj(a,c,g,k,q);else if(k)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-q,1==q)for(k=0;k<c;k++)this.f[a]=
b.f[g],a++,g--;else for(k=0,c=e.J.truncate(c/q);k<c;k++){for(var f=0;f<q;f++)this.f[a+f]=b.f[g+f];a+=q;g-=q}};b.prototype.Hk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();if(0<b-(a+c)){b-=a+c;for(var f=this.f.slice(a+c,a+b+c),k=0;k<b;k++)this.f[a+k]=f[k]}this.size-=c};b.prototype.Xd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,k=0;k<f;k+=b){c-=b;for(var q=0;q<b;q++){var t=this.f[a+k+q];this.f[a+k+q]=this.f[a+c+q];this.f[a+c+q]=
t}}};b.prototype.$h=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Mj=function(a,c,b,g,k){if(!g||a!=b){for(var f=0;f<c;f++)this.f[a+f]=this.f[b+f];if(!g)for(b=a,a=a+c-k,g=0,c=e.J.truncate(c/2);g<c;g++){for(f=0;f<k;f++){var t=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=t}b+=k;a-=k}}};b.prototype.js=function(a,c,b,g,k){if(0>a||0>c||0>g)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<
c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=k};b.prototype.rl=function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<c+a)throw e.g.F();if(k)for(k=0;k<c;k++)b[g+k]=this.f[a+k];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,c,b){var f=this.f.slice(0,a),k=this.f.slice(c);a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(k))};b.prototype.ti=function(){return 2};
b.prototype.Ec=function(){return this.f[this.size-1]};b.prototype.Mf=function(){this.resize(this.size-1)};b.prototype.qK=function(a){this.f[this.size-1]=a};b.prototype.vJ=function(a){a<this.size-1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Pv=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==a)return c;return-1};b.prototype.qA=function(a){return 0<=this.Pv(a)};b.tb=0;return b}();e.ha=m;m=function(){function b(a){this.xa=this.ze=!1;this.f=null;var c=a;2>c&&(c=2);
this.f=new Int32Array(c);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Xd(a,c-a,1),this.Xd(c,b-c,1),this.Xd(a,b-a,1))};b.yd=function(a,c){var f=new b(a),g=f.f;2>a&&(a=2);if(0!==c)for(var k=0;k<a;k++)g[k]=c;return f};b.Dk=function(a){var c=new b(0);c.f=new Int32Array(a.f);c.size=a.size;return c};b.N=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Int32Array(c);f.f.set(a.f.length<=
c?a.f:a.f.subarray(0,c),0);return f};b.prototype.zb=function(a){0>=a||(null==this.f?this.f=new Int32Array(a):a<=this.f.length||(0<this.f.length?(a=new Int32Array(a),a.set(this.f),this.f=a):this.f=new Int32Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=
c};b.prototype.mo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int32Array(this.f,0,a);this.f=b}}else{a>
this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),b=new Int32Array(b),b.set(this.f),this.f=b);for(var b=this.f,g=this.size;g<a;g++)b[g]=c}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,c){this.write(a,c)};b.prototype.Ck=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.bh(this.read(c),a);return a};b.prototype.Eb=function(a,
c,f){if(null==a||!(a instanceof b))return!1;var g=this.size,k=a.size;if(f>g||f>k&&g!=k)return!1;for(f>g&&(f=g);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Tk=function(a,c,b,g,k,q,t){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=g%q))throw e.g.F();d(this.f,a+g,a,a+(t-a));this.f==c.f&&a<b&&(b+=g);if(k)this.f.set(c.f.subarray(b,b+g),a);else for(k=g,t=0;t<g;t+=q){k-=q;for(var f=0;f<q;f++)this.f[a+t+f]=c.f[b+k+f]}};b.prototype.Sq=function(a,c,b,g,k,q){if(this.xa)throw e.g.Da();0>q&&(q=
this.size);this.size+2*g>this.f.length?this.resize(this.size+2*g):this.size+=2*g;d(this.f,a+2*g,a,a+(q-a));if(k)for(k=0;k<g;k++)q=c[b++],this.f[a++]=q.x,this.f[a++]=q.y;else{k=0;for(var f=g-1;k<g;++k)q=c[b+f],this.f[a++]=q.x,this.f[a++]=q.y,f--}};b.prototype.Zj=function(a,c,b,g){if(this.xa)throw e.g.Da();g-=a;d(this.f,a+g,a,a+g);for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.dh=function(a,c,b){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.hs=function(a,c,
b,g,k){if(0>a||0>c||0>g)throw e.g.F();if(b.length<g+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),k)this.f.set(b.subarray(g,c),a);else for(k||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.no=function(a,c,b,g,k,q){if(0>a||0>c||0>g)throw e.g.F();if(!k&&(0>=q||0!=c%q))throw e.g.F();if(b.size<g+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Mj(a,c,g,k,q);else if(k)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-q,1==q)for(k=0;k<c;k++)this.f[a]=b.f[g],
a++,g--;else for(k=0,c=e.J.truncate(c/q);k<c;k++){for(var f=0;f<q;f++)this.f[a+f]=b.f[g+f];a+=q;g-=q}};b.prototype.Hk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();0<b-(a+c)&&d(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Xd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,k=0;k<f;k+=b){c-=b;for(var q=0;q<b;q++){var t=this.f[a+k+q];this.f[a+k+q]=this.f[a+c+q];this.f[a+c+q]=t}}};b.prototype.$h=function(a,c,b){if(0>c||0>b||0>
c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Mj=function(a,c,b,g,k){if(!g||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!g)for(b=a,a=a+c-k,g=0,c=e.J.truncate(c/2);g<c;g++){for(var f=0;f<k;f++){var t=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=t}b+=k;a-=k}};b.prototype.js=function(a,c,b,g,k){if(0>a||0>c||0>g)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=k};b.prototype.rl=
function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<c+a)throw e.g.F();if(k)for(k=0;k<c;k++)b[g+k]=this.f[a+k];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,c,f){10>c-a?b.Gj(this.f,a,c,f):b.Yg(this.f,a,c-1,f)};b.prototype.ti=function(){return 2};b.prototype.Ec=function(){return this.f[this.size-1]};b.prototype.Mf=function(){this.resize(this.size-1)};b.prototype.qK=function(a){this.f[this.size-
1]=a};b.prototype.vJ=function(a){a<this.size-1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Pv=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==a)return c;return-1};b.prototype.qA=function(a){return 0<=this.Pv(a)};b.Gj=function(a,c,b,g){for(var f=c;f<b;f++){for(var e=a[f],t=f-1;t>=c&&0<g(a[t],e);)a[t+1]=a[t],t--;a[t+1]=e}};b.Ug=function(a,c,b){var f=a[b];a[b]=a[c];a[c]=f};b.Yg=function(a,c,f,g){if(!(c>=f))for(;;){if(9>f-c){b.Gj(a,c,f+1,g);break}var k=a[c];b.Ug(a,
c,f);for(var e=c,t=c;t<f;t++)0>=g(a[t],k)&&(b.Ug(a,e,t),e+=1);b.Ug(a,e,f);e-c<f-e?(b.Yg(a,c,e-1,g),c=e+1):(b.Yg(a,e+1,f,g),f=e-1)}};return b}();e.iy=m})(x||(x={}));!0===x.Yh.Gm&&(x.ha=x.iy);(function(e){function d(b,a,c,f){c=new Int8Array(b.subarray(c,f));b.set(c,a)}var m=function(){function b(a){this.xa=this.ze=!1;this.f=[];var c=a;2>c&&(c=2);this.f=e.J.df(c,b.tb);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Xd(a,
c-a,1),this.Xd(c,b-c,1),this.Xd(a,b-a,1))};b.yd=function(a,c){b.tb=c;a=new b(a);b.tb=0;return a};b.Dk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.N=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,f.size);return f};b.prototype.zb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();
this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.mo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*
a/4)<this.f.length){var b=this.f.slice(0,a);this.f=b}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),g=this.f.length;g<a;g++)b[g]=c;this.f=b}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,c){this.write(a,c)};b.prototype.Ck=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.bh(this.read(c),
a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var g=this.size,k=a.size;if(f>g||f>k&&g!=k)return!1;for(f>g&&(f=g);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Tk=function(a,c,b,g,k,q,t){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=g%q))throw e.g.F();for(var f=0;f<t-a;f++)this.f[a+g+f]=this.f[a+f];this.f==c.f&&a<b&&(b+=g);if(k)for(f=0;f<g;f++)this.f[f+a]=c.f[b+f];else for(k=g,t=0;t<g;t+=q)for(k-=q,f=0;f<q;f++)this.f[a+t+f]=c.f[b+k+f]};b.prototype.Sq=
function(a,c,b,g,k,q){if(this.xa)throw e.g.Da();0>q&&(q=this.size);this.size+2*g>this.f.length?this.resize(this.size+2*g):this.size+=2*g;q-=a;for(var f=this.f.slice(a,a+q),w=0;w<q;w++)this.f[a+2*g+w]=f[w];if(k)for(k=0;k<g;k++)q=c[b++],this.f[a++]=q.x,this.f[a++]=q.y;else for(k=0,f=g-1;k<g;++k)q=c[b+f],this.f[a++]=q.x,this.f[a++]=q.y,f--};b.prototype.Zj=function(a,c,b,g){if(this.xa)throw e.g.Da();g-=a;for(var f=this.f.slice(a,a+g),q=0;q<g;q++)this.f[a+b+q]=f[q];for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.dh=
function(a,c,b){if(this.xa)throw e.g.Da();for(var f=this.f.slice(a,a+(b-a)),k=0;k<b-a;k++)this.f[k+a+2]=f[k];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.hs=function(a,c,b,g,k){if(0>a||0>c||0>g)throw e.g.F();if(b.length<g+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),k)for(k=0;k<c;k++)this.f[a+k]=b[g+k];else for(k||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.no=function(a,c,b,g,k,q){if(0>a||0>c||0>g)throw e.g.F();if(!k&&(0>=q||0!=c%q))throw e.g.F();if(b.size<g+c)throw e.g.F();
if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Mj(a,c,g,k,q);else if(k)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-q,1==q)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g--;else for(k=0,c=e.J.truncate(c/q);k<c;k++){for(var f=0;f<q;f++)this.f[a+f]=b.f[g+f];a+=q;g-=q}};b.prototype.Hk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();if(0<b-(a+c)){b-=a+c;for(var f=this.f.slice(a+c,a+b+c),k=0;k<b;k++)this.f[a+k]=f[k]}this.size-=c};b.prototype.Xd=function(a,c,b){if(this.xa)throw e.g.Da();
if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,k=0;k<f;k+=b){c-=b;for(var q=0;q<b;q++){var t=this.f[a+k+q];this.f[a+k+q]=this.f[a+c+q];this.f[a+c+q]=t}}};b.prototype.$h=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Mj=function(a,c,b,g,k){if(!g||a!=b){for(var f=0;f<c;f++)this.f[a+f]=this.f[b+f];if(!g)for(b=a,a=a+c-k,g=0,c=e.J.truncate(c/2);g<c;g++){for(f=0;f<k;f++){var t=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=t}b+=k;a-=k}}};b.prototype.js=
function(a,c,b,g,k){if(0>a||0>c||0>g)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=k};b.prototype.rl=function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<c+a)throw e.g.F();if(k)for(k=0;k<c;k++)b[g+k]=this.f[a+k];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,c,b){var f=this.f.slice(0,
a),k=this.f.slice(c);a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(k))};b.prototype.ti=function(){return 1};b.prototype.lC=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.dz=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]&=~c};b.tb=0;return b}();e.Km=m;m=function(){function b(a){this.f=null;var c=a;2>c&&(c=2);this.f=new Int8Array(c);this.size=a}b.prototype.rotate=
function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Xd(a,c-a,1),this.Xd(c,b-c,1),this.Xd(a,b-a,1))};b.yd=function(a,c){var f=new b(a),g=f.f;2>a&&(a=2);if(0!==c)for(var k=0;k<a;k++)g[k]=c;return f};b.Dk=function(a){var c=new b(0);c.f=new Int8Array(a.f);c.size=a.size;return c};b.N=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Int8Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return f};b.prototype.zb=
function(a){0>=a||(null==this.f?this.f=new Int8Array(a):a<=this.f.length||(0<this.f.length?(a=new Int8Array(a),a.set(this.f),this.f=a):this.f=new Int8Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.mo=function(a,c){if(this.xa)throw e.g.Da();
this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Sr=function(a){return b.N(this,a)};b.prototype.Lf=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int8Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,4):
5*a/4),b=new Int8Array(b),b.set(this.f),this.f=b);for(var b=this.f,g=this.size;g<a;g++)b[g]=c}this.size=a};b.prototype.uf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.ze)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Im=function(a,c){this.write(a,c)};b.prototype.Ck=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.bh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var g=
this.size,k=a.size;if(f>g||f>k&&g!=k)return!1;for(f>g&&(f=g);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Tk=function(a,c,b,g,k,q,t){if(this.xa)throw e.g.Da();if(!k&&(1>q||0!=g%q))throw e.g.F();d(this.f,a+g,a,a+(t-a));this.f==c.f&&a<b&&(b+=g);if(k)this.f.set(c.f.subarray(b,b+g),a);else for(k=g,t=0;t<g;t+=q){k-=q;for(var f=0;f<q;f++)this.f[a+t+f]=c.f[b+k+f]}};b.prototype.Zj=function(a,c,b,g){if(this.xa)throw e.g.Da();g-=a;d(this.f,a+g,a,a+g);for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.Sq=
function(a,c,b,g,k,q){if(this.xa)throw e.g.Da();0>q&&(q=this.size);this.size+2*g>this.f.length?this.resize(this.size+2*g):this.size+=2*g;d(this.f,a+2*g,a,a+(q-a));if(k)for(k=0;k<g;k++)q=c[b++],this.f[a++]=q.x,this.f[a++]=q.y;else{k=0;for(var f=g-1;k<g;++k)q=c[b+f],this.f[a++]=q.x,this.f[a++]=q.y,f--}};b.prototype.dh=function(a,c,b){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.hs=function(a,c,b,g,k){if(0>a||0>c||0>g)throw e.g.F();if(b.length<g+c)throw e.g.F();
if(0!=c)if(this.size<c+a&&this.resize(c+a),k)this.f.set(b.subarray(g,c),a);else for(k||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.no=function(a,c,b,g,k,q){if(0>a||0>c||0>g)throw e.g.F();if(!k&&(0>=q||0!=c%q))throw e.g.F();if(b.size<g+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Mj(a,c,g,k,q);else if(k)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-q,1==q)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g--;else for(k=0,c=e.J.truncate(c/q);k<c;k++){for(var f=0;f<
q;f++)this.f[a+f]=b.f[g+f];a+=q;g-=q}};b.prototype.Hk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();0<b-(a+c)&&d(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Xd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,k=0;k<f;k+=b){c-=b;for(var q=0;q<b;q++){var t=this.f[a+k+q];this.f[a+k+q]=this.f[a+c+q];this.f[a+c+q]=t}}};b.prototype.$h=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=
a};b.prototype.Mj=function(a,c,b,g,k){if(!g||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!g)for(b=a,a=a+c-k,g=0,c=e.J.truncate(c/2);g<c;g++){for(var f=0;f<k;f++){var t=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=t}b+=k;a-=k}};b.prototype.js=function(a,c,b,g,k){if(0>a||0>c||0>g)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=k};b.prototype.rl=function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<c+a)throw e.g.F();
if(k)for(k=0;k<c;k++)b[g+k]=this.f[a+k];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.uf(0)};b.prototype.Tp=function(){this.ze=this.xa=!0};b.prototype.Fd=function(a,c,b){c=this.f.subarray(a,c);Array.prototype.sort.call(c,b);this.f.set(c,a)};b.prototype.lC=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.dz=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");
this.f[a]&=~c};b.prototype.ti=function(){return 1};return b}();e.jy=m})(x||(x={}));!0===x.Yh.Gm&&(x.Km=x.jy);(function(e){var d=function(){function m(){}m.vq=function(b,a){return e.Km.yd(b,a)};m.$m=function(b,a){return e.Pd.yd(b,a)};m.nz=function(b,a,c){switch(b){case 1:b=e.Pd.yd(a,c);break;case 2:b=e.ha.yd(a,c);break;case 4:b=e.Km.yd(a,c);break;default:throw e.g.za();}return b};m.oz=function(b,a){return m.nz(e.ma.ti(b),a*e.ma.Xa(b),e.ma.be(b))};m.wh=function(b,a){return e.ha.yd(b,a)};m.LB=function(b){var a,
c=[];for(a=0;a<b;a++)c.push(null);return c};return m}();e.Tc=d})(x||(x={}));(function(e){var d=function(){function m(){}m.vq=function(b,a){return e.jy.yd(b,a)};m.$m=function(b,a){return e.Pd.yd(b,a)};m.nz=function(b,a,c){switch(b){case 1:b=e.Pd.yd(a,c);break;case 2:b=e.iy.yd(a,c);break;case 4:b=e.jy.yd(a,c);break;default:throw e.g.za();}return b};m.oz=function(b,a){return e.Tc.nz(e.ma.ti(b),a*e.ma.Xa(b),e.ma.be(b))};m.wh=function(b,a){return e.iy.yd(b,a)};m.LB=function(b){var a,c=[];for(a=0;a<b;a++)c.push(null);
return c};return m}();e.AL=d})(x||(x={}));!0===x.Yh.Gm&&(x.Tc=x.AL);(function(e){e.da=function(){return function(e){void 0===e&&(e=0);this.j=e}}()})(x||(x={}));(function(e){var d=function(){function m(){}m.bind=function(b){e.Uc=b.PeDefs;e.Qf=b.PeFactory;e.WD=b.PeVertcs;e.TD=b.PeCoordsys;e.fi=b.PeCSTransformations;e.VD=b.PeGTTransformations;e.bN=b.PeGeogtran;e.aN=b.PeFactoryCodechange;e.UD=b.PeGCSExtent;e.Ag=b.PePCSInfo;e.cN=b.PeHorizon;e.TD=b.PeCoordsys;e.fq=b.PeGTlistExtended;e.fq.PE_GTLIST_OPTS_USE_DEFAULT=
128;e.Qf.initialize(null);e.sy=b.PeGTlistExtendedEntry;m.JN=e.Qf.fromString(e.Uc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};m.D_=function(){};m.JN=null;return m}();e.dN=d;e.Qf=null;e.WD=null;e.TD=null;e.cN=null;e.Ag=null;e.fq=null;e.sy=null;e.UD=null;e.aN=null;e.bN=null;e.Uc=null;e.VD=null;e.fi=null})(x||(x={}));(function(e){var d=function(){function b(){}b.Bb=function(a,c){return 0<=c?b.K(a):-b.K(a)};b.K=function(a){return 0>a?-a:a};b.Ri=function(a){return 3.552713678800501E-15>a};b.SD=function(a,c,f){return b.K(a-
c)<=f*(1+(b.K(a)+b.K(c))/2)};b.W=function(a,c){return b.SD(a,c,3.552713678800501E-15)};b.wO=function(a){return 3.552713678800501E-15>=b.K(a)};b.wd=function(a){return b.wO(a)};return b}();e.l=d;var m=function(){function b(){}b.Zp=function(a,c){a=d.K(a);c=d.K(c);var b=0;0!=a+c&&(a>c?(b=c/a,b=a*Math.sqrt(1+b*b)):(b=a/c,b=c*Math.sqrt(1+b*b)));return b};b.Nr=function(a,c,f,g,k){for(var e=[0,0,0],t=[0,0,0],w=0;2>=w;w++)c[w]-=a[w],f[w]-=c[w];f=e[1]*t[2]-e[2]*t[1];c=e[2]*t[0]-e[0]*t[2];e=e[0]*t[1]-e[1]*t[0];
a=-1*(f*a[0]+c*a[1]+e*a[2]);g[0]=f;g[1]=c;g[2]=e;g[3]=a;t=b.lo(g);g[0]/=t;g[1]/=t;g[2]/=t;g[3]/=t;0!=k&&(t=d.wd(e)?d.wd(a)?d.Bb(1,c):-d.Bb(1,a):d.Bb(1,e),t*=d.Bb(1,k),g[0]*=t,g[1]*=t,g[2]*=t,g[3]*=t)};b.fy=function(a,c,b){b[0]=a[1]*c[2]-c[1]*a[2];b[1]=a[2]*c[0]-c[2]*a[0];b[2]=a[0]*c[1]-c[0]*a[1]};b.Gu=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]};b.lo=function(a){return b.Zp(b.Zp(a[0],a[1]),a[2])};b.Fk=function(a,c,f,g,k,e,t,w){a=b.n(a,c,f);var q=Math.cos(f);e.j=(a+k)*q*Math.cos(g);t.j=(a+k)*
q*Math.sin(g);w.j=(a*(1-c)+k)*Math.sin(f)};b.GP=function(a,c,f,g,k,e,t){var q=b.Zp(c,f),m=1*Math.sqrt(1-a),S=m/1;if(d.W(q,0))e.j=0,k.j=d.Bb(1.570796326794897,g),t.j=d.K(g)-m;else{e.j=Math.atan2(f,c);f=Math.atan2(1*g,m*q);e=Math.cos(f);var L=Math.sin(f);c=m*a/(1-a);a*=1;f=Math.atan2(g+c*L*L*L,q-a*e*e*e);3.141592653589793<d.K(f)&&(f=d.Bb(3.141592653589793,f)-f);f=Math.atan(S*Math.tan(f));L=Math.sin(f);e=Math.cos(f);k.j=Math.atan2(g+c*L*L*L,q-a*e*e*e);1.570796326794897<d.K(k.j)&&(k.j=d.Bb(3.141592653589793,
k.j)-k.j);f=Math.atan(S*Math.tan(k.j));L=Math.sin(f);e=Math.cos(f);t.j=(g-m*L)*Math.sin(k.j)+(q-1*e)*Math.cos(k.j)}};b.n=function(a,c,b){b=Math.sin(b);return a/Math.sqrt(1-c*b*b)};b.fu=function(a,c){return Math.atan2(Math.sin(c)*(1-a),Math.cos(c))};b.mk=function(a,c){return Math.atan2(Math.sin(c),Math.cos(c)*(1-a))};b.Ep=function(a,c){if(d.Ri(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var f,g,k,e,t,w,m,S,L;if(.006884661117170036>a){e=Math.sqrt(1-a);t=(1-e)/(1+e);w=t*t;m=t*w;S=t*m;f=t*S;L=t*
f;g=t*L;k=1.572916666666667*m-3.2578125*f+4.295068359375*g;e=2.142578125*S-6.071484375*L;a=3.129296875*f-11.249837239583334*g;var h=4.775276692708333*L,l=7.958636765252976*g,n=Math.cos(2*c);return c+Math.sin(2*c)*(1.5*t-.84375*m+.525390625*f-.2688395182291667*g-k+a-l+n*(2*(1.3125*w-1.71875*S+1.650146484375*L)-4*e+6*h+n*(4*k-12*a+24*l+n*(8*e-32*h+n*(16*a-80*l+n*(32*h+64*n*l))))))}e=1-a;t=a/2;w=d.K(c);m=w*b.Ru(a)/(1.570796326794897*e);S=9999;L=w;for(w=0;1E-16<S&&50>w;w++)g=b.Hm(a,L),f=(b.xE(L,a)-t*
Math.sin(2*L)/g)/e-m,g=1/(g*g*g),k=f/g,f=L-k,S=d.K(k),L=f;return 0<=c?L:-L};b.UW=function(a,c){return d.Ri(c)?a:a*b.Ru(c)/1.570796326794897};b.ca=function(a){a=b.sE(a,6.283185307179586);return 0>a?a+6.283185307179586:3.141592653589793>d.K(a)||d.W(d.K(a),3.141592653589793)?a:a-6.283185307179586};b.sE=function(a,c){return a-Math.floor(a/c)*c};b.Wg=function(a,c){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var f=c*c,g=f*f;return a/(1+c)*(1+.25*f+.015625*g+.00390625*f*g)*1.570796326794897}return a*
b.Ru(c)};b.Mr=function(a,c){var f=d.Bb(1,Math.sin(c));c=d.K(b.sE(c,3.141592653589793));c=1.570796326794897>=c?c:3.141592653589793-c;var g;d.W(c,1.570796326794897)?g=c:g=Math.atan(Math.sqrt(1-a)*Math.tan(c));return g*f};b.q=function(a,c,f){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var g=c*c,k=c*g,e=c*k,t=c*e,w=c*t,d=c*w,m=-.7291666666666666*k+.2278645833333333*t+.03987630208333334*d,L=.615234375*e-.21533203125*w,h=-.54140625*t+.20302734375*d,l=.48876953125*w,n=-.4488699776785715*d,G=
Math.cos(2*f);return a/(1+c)*((1+.25*g+.015625*e+.00390625*w)*f+Math.sin(2*f)*(-1.5*c+.1875*k+.0234375*t+.00732421875*d-m+h-n+G*(2*(.9375*g-.234375*e-.03662109375*w)-4*L+6*l+G*(4*m-12*h+24*n+G*(8*L-32*l+G*(16*h-80*n+G*(32*l+64*G*n)))))))}return a*(b.xE(f,c)-.5*c*Math.sin(2*f)/b.Hm(c,f))};b.Hm=function(a,c){c=Math.sin(c);return Math.sqrt(1-a*c*c)};b.Ru=function(a){return d.SD(a,1,2.220446049250313E-16)?1:1>a?b.mv(0,1-a)-a/3*b.Hu(0,1-a):NaN};b.xE=function(a,c){var f=d.Bb(1,a);a=d.K(a);var g=Math.floor(a/
1.570796326794897),k;if(1<c)k=0==a?0:NaN;else if(d.wd(g))k=b.sin(a),k=k*b.mv(1-k*k,1-c*k*k)-c/3*k*k*k*b.Hu(1-k*k,1-c*k*k);else{k=e.J.truncate(g%2);var q=b.Ru(c);0<k?(k=Math.sin(1.570796326794897*(g+1)-a),k=k*b.mv(1-k*k,1-c*k*k)-c/3*k*k*k*b.Hu(1-k*k,1-c*k*k),k=q*(g+1)-k):(k=Math.sin(a-1.570796326794897*g),k=k*b.mv(1-k*k,1-c*k*k)-c/3*k*k*k*b.Hu(1-k*k,1-c*k*k),k=q*g+k)}return k*f};b.sin=function(a){a=b.ca(a);var c=d.Bb(1,a);a=d.K(a);return d.W(a,3.141592653589793)?0:d.W(a,1.570796326794897)?1*c:Math.sin(a)*
c};b.Hu=function(a,c){for(var b=1,g=0,k=1,e,t,w,m;;){e=.2*(a+c+3*b);t=(e-a)/e;w=(e-c)/e;m=(e-b)/e;if(1E-4>d.K(t)&&1E-4>d.K(w)&&1E-4>d.K(m))break;m=Math.sqrt(c);e=Math.sqrt(b);m=Math.sqrt(a)*(m+e)+m*e;g+=k/(e*(b+m));k*=.25;a=.25*(a+m);c=.25*(c+m);b=.25*(b+m)}a=t*w;b=m*m;c=a-b;b=a-6*b;t=b+c+c;return 3*g+k*(1+b*(-.2142857142857143+.10227272727272728*b-.1730769230769231*m*t)+m*(.1666666666666667*t+m*(-.4090909090909091*c+.1153846153846154*m*a)))/(e*Math.sqrt(e))};b.mv=function(a,c){for(var b,g,k,e,t=
1;;t=.25*(t+b)){b=(a+c+t)/3;g=2-(b+a)/b;k=2-(b+c)/b;e=2-(b+t)/b;if(1E-4>d.K(g)&&1E-4>d.K(k)&&1E-4>d.K(e))break;b=Math.sqrt(c);g=Math.sqrt(t);b=Math.sqrt(a)*(b+g)+b*g;a=.25*(a+b);c=.25*(c+b)}a=g*k-e*e;c=g*k*e;return(1+(.04166666666666666*a-.1-.06818181818181818*c)*a+.07142857142857142*c)/Math.sqrt(b)};b.Cx=function(a,c){if(d.Ri(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var b,g,k;if(.006884661117170036>a){b=a*a;g=a*b;k=a*g;var e=a*k,t=a*e,w=a*t,m=-(.02708333333333333*g+.03430059523809524*k+.03149181547619048*
e+.02634359154541446*t+.02156896735835538*w),S=.007669890873015873*k+.01299603174603175*e+.0148051353064374*t+.01454454953803912*w,L=-(.002275545634920635*e+.004830845032667949*t+.006558395368616723*w),h=6.957236677288761E-4*t+.001775193002406544*w,l=-(2.17324089394402E-4*w),n=Math.cos(2*c);return c+Math.sin(2*c)*(-(.5*a+.2083333333333333*b+.09375*g+.04878472222222222*k+.02916666666666667*e+.01938905423280423*t+.01388255931712963*w)-m+L-l+n*(2*(.1041666666666667*b+.0875*g+.06050347222222222*k+.04151785714285714*
e+.02958958540013228*t+.02203667534722222*w)-4*S+6*h+n*(4*m-12*L+24*l+n*(8*S-32*h+n*(16*L-80*l+n*(32*h+64*n*l))))))}0==c||d.W(d.K(c),1.570796326794897)?b=c:(g=Math.sqrt(a),k=g*Math.sin(c),b=Math.tan(.7853981633974483+c/2)*Math.pow((1-k)/(1+k),g/2),b=2*Math.atan(b)-1.570796326794897);return b};b.YP=function(a,c){if(d.Ri(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var b,g;if(.006884661117170036>a){n=a*a;L=a*n;h=a*L;b=a*h;l=a*b;g=a*l;var k=.05833333333333333*L+.07232142857142858*h+.05634300595238095*
b+.0355325796406526*l+.020235546186067*g,e=.02653149801587302*h+.04379960317460317*b+.0429211791776896*l+.03255384637546096*g,t=.01294022817460318*b+.02668104344536636*l+.03155651254609588*g,w=.00659454790965208*l+.0163075268674227*g,m=.003463473736911237*g,S=Math.cos(2*c);return c+Math.sin(2*c)*(.5*a+.2083333333333333*n+.08333333333333333*L+.03611111111111111*h+.01875*b+.01195601851851852*l+.008863673941798942*g-k+t-m+S*(2*(.1458333333333333*n+.1208333333333333*L+.07039930555555556*h+.03616071428571429*
b+.01839451058201058*l+.01017113095238095*g)-4*e+6*w+S*(4*k-12*t+24*m+S*(8*e-32*w+S*(16*t-80*m+S*(32*w+64*S*m))))))}for(var L=Math.sqrt(a),h=L/2,l=Math.tan(.7853981633974483+c/2),k=0,e=1,n=c;0!=e;n=g)if(b=L*Math.sin(n),g=l*Math.pow((1+b)/(1-b),h),g=2*Math.atan(g)-1.570796326794897,k++,d.W(g,n)||3E4<k)e=0;return n};return b}();e.C=m})(x||(x={}));(function(e){var d=function(){function d(b){this.dm=this.Rt=null;this.vw=!1;this.pB=this.qB=0;this.nB=new e.b;this.AB=new e.b;this.ix=!1;this.kr=new e.h;this.vI=
this.fx=0;this.gx=null;this.cl=!1;this.yp=null;this.NA=0;this.rf=b;this.yt=e.Ib.iw(this.rf,0,!0);this.nB.Yc();this.AB.Yc();this.TI=NaN;var a=b.getCode();0<a?(this.nl=a,e.Qf.getCode(b)):this.nl=e.Qf.getCode(b);0>this.nl&&(this.nl=0);var c=this.rf.getType();this.iI=c==e.Uc.PE_TYPE_PROJCS?2:1;if(c==e.Uc.PE_TYPE_PROJCS&&!b.loadConstants())throw e.g.F("PeProjcs.loadConstants failed");a=c==e.Uc.PE_TYPE_GEOGCS?this.rf:this.rf.getGeogcs();c!=e.Uc.PE_TYPE_GEOGCS&&e.Qf.getCode(a);this.yp=b.getUnit();this.TI=
a.getPrimem().getLongitude();this.vI=b=a.getUnit().getUnitFactor();b=Math.PI/(180*b);1E-10>Math.abs(b-1)&&(b=1);this.pB=b;0!=(c&e.Uc.PE_TYPE_PROJCS)?(a=this.rf,this.qB=1/a.getUnit().getUnitFactor(),this.fx=.001/this.rf.getUnit().getUnitFactor(),this.gx=e.Ag.generate(a,e.Ag.PE_PCSINFO_OPTION_NONE),this.cl=this.gx.isPannableRectangle(),this.NA=e.Ib.OO(this.gx.getCentralMeridian(),this.pB)):(this.ix=this.cl=!0,this.qB=0,c=1/a.getUnit().getUnitFactor(),this.fx=.001/a.getDatum().getSpheroid().getAxis()*
c,this.NA=0);this.cl&&(this.dy(),this.hL(),this.iL(),this.gL(),this.NY(),this.OY())}d.prototype.Ys=function(){return this.nl};d.prototype.Wj=function(){return this.gx};d.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.nl&&0==a.nl?b.yt===a.yt:!1};d.prototype.Ic=function(){return this.cl};d.prototype.Ch=function(b){b.I(this.mp)};d.prototype.bw=function(){return this.mp.o};d.prototype.aw=function(){return this.mp.v};d.prototype.$S=function(b){b.I(this.hx)};d.prototype.NY=function(){var b=this.rf.getType();
if(b==e.Uc.PE_TYPE_PROJCS){var b=this.rf,a=this.Wj().getCentralMeridian(),c=b.getGeogcs();if(null==c)throw e.g.X("internal error");c=1/c.getUnit().getUnitFactor()*Math.PI;a=[[a+c,0]];e.fi.geogToProj(b,1,a);var a=a[0][0],c=b.getParameters()[e.Uc.PE_PARM_X0].getValue(),f=this.Ok(),b=new e.h;f.s(b);var f=Math.abs(a-c),a=f+c,c=-1*f+c,f=b.B,b=b.A,g=new e.h;g.I(c,b,a,f);null==this.mp&&(this.mp=g)}else if(b==e.Uc.PE_TYPE_GEOGCS)c=1/this.rf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-c,-c/2,c,c/2),null==
this.mp&&(this.mp=b);else throw e.g.X("internal error");};d.prototype.OY=function(){var b=this.rf.getType();if(b==e.Uc.PE_TYPE_PROJCS){var a=this.rf,b=this.Wj().getCentralMeridian(),a=a.getGeogcs();if(null==a)throw e.g.X("internal error");var a=1/a.getUnit().getUnitFactor()*Math.PI,c=this.Ts(),f=new e.h;c.s(f);c=new e.h;c.I(b-a,f.A,b+a,f.B);null==this.hx&&(this.hx=c)}else if(b==e.Uc.PE_TYPE_GEOGCS)a=1/this.rf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-a,-a/2,a,a/2),null==this.hx&&(this.hx=b);
else throw e.g.X("internal error");};d.prototype.ce=function(){return this.pB};d.prototype.hn=function(){return this.qB};d.prototype.Ts=function(){if(this.cl)return this.dm;var b=this.dm;if(null!=b)return b;this.dy();return this.dm};d.prototype.Us=function(){if(this.cl)return null;if(null!=this.dm)return this.VH;this.dy();return this.VH};d.prototype.dy=function(){if(this.rf.getType()==e.Uc.PE_TYPE_PROJCS){var b;b=this.rf;var a=b.getGeogcs(),c=b.horizonGcsGenerate();if(null!=c){var f=c[0].getNump(),
g=c[0].getKind();b=0<c[0].getInclusive();var k=this.ce(),q=90*k,t=360*k,w=370*k,d=180*k*e.Uc.PE_HORIZON_DELTA/Math.PI,m=new e.h,L=null;if(1<f)for(var h=1;h<f;h++)if(c[h].getKind()==e.Uc.PE_HORIZON_LINE){null==L&&(L=new e.Ua);var l=c[h].getCoord();L.$x(l[0][0],l[0][1]);L.ak(l[1][0],l[1][1])}if(g==e.Uc.PE_HORIZON_RECT)c=c[0].getCoord(),m.I(c[0][0],c[0][1]),m.Nb(c[1][0],c[1][1]),Math.abs(m.B-q)<1E-7*d&&(m.B=q),Math.abs(m.A+q)<1E-7*d&&(m.A=-q),m.O()>w&&(c=-400*k,m.I(c,m.A,c+5*t,m.B)),c=new e.di(m),null==
this.dm&&(this.dm=c,this.vw=b);else{w=new e.Ja;t=this.Wj().isGcsHorizonMultiOverlap();m=e.Su.hG(a,e.Tu.Integer64);if(t){w=new e.wM;d=e.ei.local().V(w,m,null);for(h=0;h<f;h++)if(c[h].getKind()==e.Uc.PE_HORIZON_POLY){a=c[h].getSize();k=c[h].getCoord();g=[];for(q=0;q<a;q++)g[q]=e.b.pa(k[q][0],k[q][1]);c[h].getInclusive();t&&(k=new e.Ja,k.Gl(g,a-1),w.wY(k),d.Oe())}w=d.next()}else for(h=0;h<f;h++)if(c[h].getKind()==e.Uc.PE_HORIZON_POLY){a=c[h].getSize();k=c[h].getCoord();t=[];for(q=0;q<a;q++)t[q]=e.b.pa(k[q][0],
k[q][1]);c[h].getInclusive();w.Gl(t,a-1)}b?e.wk.local().xo(w,m,1):e.eq.local().xo(w,m,1);e.Jj.local().xo(w,m,1);null==this.dm&&(this.dm=w,this.vw=b,this.VH=L)}}}};d.prototype.Uv=function(){if(this.cl)return this.vw;null==this.dm&&this.dy();return this.vw};d.prototype.hL=function(){if(2==this.iI){var b=this.rf.horizonPcsGenerate();if(null!=b){var a=b[0].getKind();b[0].getInclusive();var c=b[0].getNump(),f=!1;if(a==e.Uc.PE_HORIZON_RECT)b=b[0].getCoord(),c=new e.h,c.I(b[0][0],b[0][1]),c.Nb(b[1][0],b[1][1]),
b=new e.di(c);else{a=-1;for(f=0;f<c;f++)b[f].getKind()==e.Uc.PE_HORIZON_POLY&&(a=f);f=b[a].getSize()-1;b=b[a].getCoord();c=[];for(a=0;a<f;a++)c[a]=e.b.pa(b[a][0],b[a][1]);b=a=new e.Ja;a.Gl(c,f);f=!0}this.Wj().isDensificationNeeded()&&(c=1E5*this.hn(),b=e.Pm.local().V(b,c,null));f&&(f=new e.di,b.Wn(f),b.ef(),b.Rb(),b.HS(),e.wk.local().xo(b,null,1));null==this.Rt&&(this.Rt=b)}}};d.prototype.Ok=function(){if(this.cl)return this.Rt;var b=this.Rt;if(null!=b)return b;this.hL();return this.Rt};d.prototype.iL=
function(){if(this.rf.getType()==e.Uc.PE_TYPE_PROJCS){var b=90*this.ce(),b=[[0,b],[0,-b]];e.fi.geogToProj(this.rf,2,b);var a=this.Wj(),c=a.getNorthPoleLocation()!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY,a=a.getSouthPoleLocation()!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY;this.ix||(c&&this.nB.ja(b[0][0],b[0][1]),a&&this.AB.ja(b[1][0],b[1][1]))}this.ix=!0};d.prototype.gA=function(b,a){this.cl||this.ix||this.iL();b?a.L(this.AB):a.L(this.nB)};d.prototype.gL=function(){if(1==this.iI){var b=400*this.ce();this.kr.I(-b,-b,b,
b)}else b=e.Ag.generate(this.rf,e.Ag.PE_PCSINFO_OPTION_DOMAIN),b=e.h.pa(b.getDomainMinx(),b.getDomainMiny(),b.getDomainMaxx(),b.getDomainMaxy()),this.kr.u()&&this.kr.I(b)};d.prototype.zS=function(b){this.cl&&b.I(this.kr);this.kr.u()&&this.gL();b.I(this.kr)};d.prototype.kn=function(){return this.TI};d.prototype.ri=function(){return this.NA};d.prototype.Td=function(){return this.yp};d.prototype.Vs=function(){return this.vI};return d}();e.ZD=d})(x||(x={}));(function(e){var d=function(){function d(b){this.lV=
b;this.yt=e.Ib.iw(b,0,!0);var a=b.getCode();this.pt=0<a?a:e.Qf.getCode(b);0>this.pt&&(this.pt=0);this.yp=a=this.lV.getUnit();this.JI=1/a.getUnitFactor();e.Qf.getCode(b)}d.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.pt&&0==a.pt?b.yt===a.yt:!1};d.prototype.Ys=function(){return this.pt};return d}();e.hN=d})(x||(x={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,g,k,q,t){if(null!=k||null!=q||null!=t){f=e.C.ca(f);a=e.C.ca(a);c=e.C.ca(c);g=e.C.ca(g);1.570796326794897<e.l.K(c)&&
(c=e.l.Bb(3.141592653589793,c)-c,a=e.C.ca(a+3.141592653589793));1.570796326794897<e.l.K(g)&&(g=e.l.Bb(3.141592653589793,g)-g,f=e.C.ca(f+3.141592653589793));var w=e.C.ca(f-a);if(e.l.W(c,g)&&(e.l.W(a,f)||e.l.W(e.l.K(c),1.570796326794897)))null!=k&&(k.j=0),null!=q&&(q.j=0),null!=t&&(t.j=0);else{if(e.l.W(c,-g)){if(e.l.W(e.l.K(c),1.570796326794897)){null!=k&&(k.j=3.141592653589793*b);null!=q&&(q.j=0<c?e.C.ca(3.141592653589793-e.C.ca(f)):e.C.ca(f));null!=t&&(t.j=0<c?e.C.ca(f):e.C.ca(3.141592653589793-e.C.ca(f)));
return}if(e.l.W(e.l.K(w),3.141592653589793)){null!=k&&(k.j=3.141592653589793*b);null!=q&&(q.j=0);null!=t&&(t.j=0);return}}var d=1.570796326794897==e.l.K(c)?0:Math.cos(c),m=Math.sin(c),L=1.570796326794897==e.l.K(g)?0:Math.cos(g),h=Math.sin(g),l=1.570796326794897==e.l.K(w)?0:Math.cos(w),n=3.141592653589793==e.l.K(w)?0:Math.sin(w);if(null!=k){var G=Math.sin((g-c)/2),w=Math.sin(w/2);k.j=2*Math.asin(Math.sqrt(G*G+d*L*w*w))*b}null!=q&&(e.l.W(e.l.K(c),1.570796326794897)?q.j=0>c?f:e.C.ca(3.141592653589793-
f):q.j=Math.atan2(L*n,d*h-m*L*l));null!=t&&(e.l.W(e.l.K(g),1.570796326794897)?t.j=0>g?a:e.C.ca(3.141592653589793-a):(t.j=Math.atan2(d*n,h*d*l-L*m),t.j=e.C.ca(t.j+3.141592653589793)))}}};d.Rf=function(b,a,c,f,g,k,q){if(null!=k||null!=q){a=e.C.ca(a);c=e.C.ca(c);1.570796326794897<e.l.K(c)&&(c=e.l.Bb(3.141592653589793,c)-c,a=e.C.ca(a+3.141592653589793));e.l.W(e.l.K(c),1.570796326794897)&&(a=0);g=e.C.ca(g);var t=e.l.W(e.l.K(g),1.570796326794897)?0:Math.cos(g),w=e.l.W(e.l.K(g),3.141592653589793)?0:Math.sin(g),
d=e.l.W(e.l.K(c),1.570796326794897)?0:Math.cos(c),m=Math.sin(c);b=f/b;f=e.l.W(e.l.K(b),1.570796326794897)?0:Math.cos(b);var L=e.l.W(e.l.K(b),3.141592653589793)?0:Math.sin(b),h=Math.asin(m*f+d*L*t);null!=q&&(q.j=h);null!=k&&(k.j=e.l.W(e.l.K(h),1.570796326794897)?e.l.W(c,-h)?0>h?g:e.C.ca(3.141592653589793-g):a:e.l.W(e.l.K(c),1.570796326794897)&&e.l.W(b,3.141592653589793)?0>c?g:e.C.ca(3.141592653589793-g):e.C.ca(a+Math.atan2(L*w,d*f-m*L*t)))}};return d}();e.uh=d})(x||(x={}));(function(e){var d=function(){function d(){}
d.Cb=function(b,a,c,f,g,k,q,t,w){var d=new e.da(0),m=new e.da(0),L=[0,0,0],h=[0,0,0],l=[0,0,0],n=new e.da(0),G=new e.da(0),p=new e.da(0),u=new e.da(0),r=new e.da(0);if(null!=q||null!=t||null!=w)if(e.l.Ri(a))e.uh.Cb(b,c,f,g,k,q,t,w);else{g=e.C.ca(g);c=e.C.ca(c);var x=e.C.ca(g-c);if(e.l.W(f,k)&&(e.l.W(c,g)||e.l.W(e.l.K(f),1.570796326794897)))null!=q&&(q.j=0),null!=t&&(t.j=0),null!=w&&(w.j=0);else{if(e.l.W(f,-k)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=q&&(q.j=2*e.C.Wg(b,a));null!=t&&(t.j=0<f?e.C.ca(3.141592653589793-
e.C.ca(g)):e.C.ca(g));null!=w&&(w.j=0<f?e.C.ca(g):e.C.ca(3.141592653589793-e.C.ca(g)));return}e.l.W(e.l.K(x),3.141592653589793)&&(null!=q&&(q.j=2*e.C.Wg(b,a)),null!=t&&(t.j=0),null!=w&&(w.j=0))}else if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(k),1.570796326794897))e.l.W(e.l.K(f),1.570796326794897)?c=g:g=c;var v=0,K;0>x&&(v=1,K=c,c=g,g=K,K=f,f=k,k=K);var x=e.C.fu(a,f),z=e.C.fu(a,k);if(null!=t||null!=w)e.uh.Cb(b,c,x,g,z,null,d,m),d=Math.atan2(Math.sin(d.j)*Math.cos(f-x),Math.cos(d.j)),m=Math.atan2(Math.sin(m.j)*
Math.cos(k-z),Math.cos(m.j)),0!=v&&(K=d,d=m,m=K),null!=t&&(t.j=d),null!=w&&(w.j=m);null!=q&&(e.C.Fk(1,a,f,c,0,p,u,r),L[0]=p.j,L[1]=u.j,L[2]=r.j,e.C.Fk(1,a,k,g,0,p,u,r),h[0]=p.j,h[1]=u.j,h[2]=r.j,l[0]=L[1]*h[2]-h[1]*L[2],l[1]=-(L[0]*h[2]-h[0]*L[2]),l[2]=L[0]*h[1]-h[0]*L[1],a=1-e.C.Hm(a,e.C.Mr(a,e.C.mk(a,Math.acos(l[2]/Math.sqrt(l[0]*l[0]+l[1]*l[1]+l[2]*l[2]))))),a*=2-a,t=Math.atan2(-l[1],-l[0]),l=e.C.ca(t-1.570796326794897),t=e.C.ca(t+1.570796326794897),l=e.l.K(e.C.ca(c-l))<=e.l.K(e.C.ca(c-t))?l:t,
e.uh.Cb(1,l,0,c,x,n,null,null),e.uh.Cb(1,l,0,g,z,G,null,null),3.141592653589793<n.j+G.j&&(l=e.C.ca(l+3.141592653589793),e.uh.Cb(1,l,0,c,x,n,null,null),e.uh.Cb(1,l,0,g,z,G,null,null)),n.j*=e.l.Bb(1,f),G.j*=e.l.Bb(1,k),n.j=e.C.mk(a,n.j),G.j=e.C.mk(a,G.j),c=e.C.q(b,a,n.j),b=e.C.q(b,a,G.j),q.j=e.l.K(b-c))}}};d.Rf=function(b,a,c,f,g,k,q,t){var w=0,d=new e.da(0),m=new e.da(0),L=[0,0,0],h=[0,0,0],l=new e.da(0),n=new e.da(0),G=new e.da(0);if(null!=q||null!=t)if(e.l.Ri(a))e.uh.Rf(b,c,f,g,k,q,t);else if(e.l.wd(g))null!=
q&&(q.j=c),null!=t&&(t.j=f);else{k=e.C.ca(k);0>g&&(g=e.l.K(g),k=e.C.ca(k+3.141592653589793));c=e.C.ca(c);f=e.C.ca(f);1.570796326794897<e.l.K(f)&&(c=e.C.ca(c+3.141592653589793),f=e.l.Bb(3.141592653589793,f)-f);e.l.W(e.l.K(f),1.570796326794897)&&(c=0);var p;if(e.l.wd(f))p=e.l.K(1.570796326794897-e.l.K(k)),p=e.C.mk(a,p),p=1-e.C.Hm(a,e.C.Mr(a,p)),p*=2-p,b=g/e.C.Wg(b,p)*1.570796326794897,b=e.C.Ep(p,b),b=e.C.fu(p,b),e.uh.Rf(1,c,f,b,k,q,d),null!=t&&(w=d.j),null!=t&&(t.j=e.C.mk(a,w));else if(e.l.W(e.l.K(f),
1.570796326794897))w=e.C.Wg(b,a),d=2*w,b=e.l.Bb(1.570796326794897,f),k=0<b?e.C.ca(3.141592653589793-k):k,f=w-g,e.l.K(f)<=w?null!=q&&(q.j=k):(f=Math.floor(g/d),0==e.J.truncate(f%2)?(null!=q&&(q.j=k),f=w-(g-f*d)):(null!=q&&(q.j=e.C.ca(k+3.141592653589793)),f=w-((f+1)*d-g))),null!=t&&(t.j=e.C.Ep(a,f/w*b));else{p=e.C.fu(a,f);k=Math.atan2(Math.sin(k),Math.cos(k)*Math.cos(f-p));var u=e.J.truncate(e.l.Bb(1,p))*(1.570796326794897>=e.l.K(k)?1:-1);k=e.C.ca(c+Math.atan(Math.tan(k)*-Math.sin(p)));e.uh.Cb(b,k,
0,c,p,null,m,null);p=e.l.K(1.570796326794897-e.l.K(m.j));p=e.C.mk(a,p);p=1-e.C.Hm(a,e.C.Mr(a,p));p*=2-p;e.C.Fk(1,a,0,k,0,l,n,G);L[0]=l.j;L[1]=n.j;L[2]=G.j;e.C.Fk(1,a,f,c,0,l,n,G);h[0]=l.j;h[1]=n.j;h[2]=G.j;f=Math.acos((L[0]*h[0]+L[1]*h[1]+L[2]*h[2])/Math.sqrt(h[0]*h[0]+h[1]*h[1]+h[2]*h[2]));f=e.C.mk(p,f);f=e.C.q(b,p,f)+g*u;g=0<f?m.j:e.C.ca(m.j+3.141592653589793);b=e.l.K(f)/e.C.Wg(b,p)*1.570796326794897;b=e.C.Ep(p,b);b=e.C.fu(p,b);e.uh.Rf(1,k,0,b,g,q,d);null!=t&&(w=d.j);null!=t&&(t.j=e.C.mk(a,w))}}};
return d}();e.Cl=d})(x||(x={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,g,k,q,t,w){var d=0,m=0,L=0;if(null!=q||null!=t||null!=w)if(e.l.Ri(a))e.uh.Cb(b,c,f,g,k,q,t,w);else{var h=e.C.ca(g-c);if(e.l.W(f,k)&&(e.l.wd(h)||e.l.W(e.l.K(f),1.570796326794897)))null!=q&&(q.j=0),null!=t&&(t.j=0),null!=w&&(w.j=0);else{if(e.l.W(f,-k)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=q&&(q.j=2*e.C.Wg(b,a));null!=t&&(t.j=0<f?e.C.ca(3.141592653589793-e.C.ca(g)):e.C.ca(g));null!=w&&(w.j=0<f?e.C.ca(g):
e.C.ca(3.141592653589793-e.C.ca(g)));return}e.l.W(e.l.K(h),3.141592653589793)&&(null!=q&&(q.j=2*e.C.Wg(b,a)),null!=t&&(t.j=0),null!=w&&(w.j=0))}else{if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(k),1.570796326794897)){e.Cl.Cb(b,a,c,f,g,k,q,t,w);return}if(e.l.wd(h)||e.l.W(e.l.K(h),3.141592653589793)){e.Cl.Cb(b,a,c,f,g,k,q,t,w);return}}var l=1-Math.sqrt(1-a),n=a/(1-a),G=b*(1-l);b=e.C.Mr(a,f);var p=e.C.Mr(a,k);a=1.570796326794897==e.l.K(b)?0:Math.cos(b);var u=Math.sin(b),r=1.570796326794897==e.l.K(p)?
0:Math.cos(p),x=Math.sin(p),v=h,K=Math.cos(v),z=Math.sin(v),y=1,A=0,C,B,H,J,E;do{C=v;B=Math.sqrt(Math.pow(r*z,2)+Math.pow(a*x-u*r*K,2));H=u*x+a*r*K;J=Math.atan2(B,H);if(0==B){y=0;break}E=a*r*z/B;d=Math.cos(Math.asin(E));d*=d;m=H-2*u*x/d;1<e.l.K(m)&&(m=e.l.Bb(1,m));L=m*m;v=l/16*d*(4+l*(4-3*d));v=h+(1-v)*l*E*(J+v*B*(m+v*H*(2*L-1)));K=Math.cos(v);z=Math.sin(v);A++;if(3.141592653589793<e.l.K(v)&&30<A){y=0;break}}while(5E3>=A&&!e.l.W(C,v));if(0!=y)n*=d,l=n*(256+n*(-128+n*(74-47*n)))/1024,null!=q&&(q.j=
G*(1+n*(4096+n*(-768+n*(320-175*n)))/16384)*(J-l*B*(m+l/4*(H*(2*L-1)-l/6*m*(4*B*B-3)*(4*L-3))))),null!=t&&(e.l.W(e.l.K(f),1.570796326794897)?t.j=0>f?g:e.C.ca(3.141592653589793-g):t.j=Math.atan2(r*z,a*x-u*r*K)),null!=w&&(e.l.W(e.l.K(k),1.570796326794897)?w.j=0>k?c:e.C.ca(3.141592653589793-c):(w.j=Math.atan2(a*z,a*x*K-u*r),w.j=e.C.ca(w.j+3.141592653589793)));else{v=e.l.Bb(3.141592653589793,h);H=u*x-a*r;J=Math.acos(H);B=Math.sin(J);d=1;A=E=0;do L=E,d*=d,K=d*d,E=l*d*(1+l+l*l),m=l*l*K*(1+2.25*l),y=l*l*
l*K*d,K=1-.25*E+.1875*m-.1953125*y,E=.25*E-.25*m+.29296875*y,z=.03125*m-.05859375*y,y*=.00651041666666667,m=H-2*u*x/d,1<e.l.K(m)&&(m=e.l.Bb(1,m)),d=Math.acos(m),H=Math.cos(2*d),C=Math.cos(3*d),E=e.l.W(f,-k)?e.C.ca(3.141592653589793-h)/(3.141592653589793*l*K):e.C.ca(v-h)/(l*(K*J+E*B*m+z*Math.sin(2*J)*H+y*Math.sin(3*J)*C)),z=E*B/(a*r),v=1.570796326794897<e.l.K(h)?e.l.Bb(3.141592653589793,z)-Math.asin(z):Math.asin(z),K=Math.cos(v),B=Math.sqrt(Math.pow(r*z,2)+Math.pow(a*x-u*r*K,2)),J=3.141592653589793-
Math.asin(e.l.K(B)),H=Math.cos(J),d=Math.cos(Math.asin(E)),A++;while(70>=A&&!e.l.W(L,E));null!=q&&(d*=d,n*=d,K=1+n*(4096+n*(-768+n*(320-175*n)))/16384,e.l.W(f,-k)?q.j=3.141592653589793*G*K:(m=H-2*u*x/d,d=Math.acos(m),H=Math.cos(2*d),C=Math.cos(3*d),q.j=G*(K*J+n*(-512+n*(128+n*(-60+35*n)))/2048*B*m+n*(-4+5*n)/6144*n*n*Math.sin(2*J)*H+y*Math.sin(3*J)*C+-7.62939453125E-5*n*n*n*n*Math.sin(4*J)*Math.cos(4*d))));null!=t&&(e.l.wd(f)&&e.l.wd(k)?(d=Math.sqrt(1-E*E),t.j=Math.acos(d),0>h&&(t.j*=-1)):e.l.W(e.l.K(f),
1.570796326794897)?t.j=0>f?g:e.C.ca(3.141592653589793-g):(q=E/a,G=Math.sqrt(1-q*q),0>a*x-u*r*Math.cos(v)&&(G*=-1),t.j=Math.atan2(q,G),e.l.W(f,-k)&&e.l.K(e.C.ca(c-g))>3.141592653589793*(1-l*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(t.j)||0>f&&1.570796326794897<e.l.K(t.j))&&(t.j=e.l.Bb(3.141592653589793,t.j)-t.j)));if(null!=w)if(e.l.wd(f)&&e.l.wd(k))d=Math.sqrt(1-E*E),w.j=Math.acos(d),0<=h&&(w.j*=-1);else if(e.l.W(e.l.K(k),1.570796326794897))w.j=0>k?c:e.C.ca(3.141592653589793-c);else if(h=E/r,q=Math.sqrt(1-
h*h),G=Math.sin(v/2),0>Math.sin(p-b)-2*a*x*G*G&&(q*=-1),w.j=Math.atan2(h,q),w.j=e.C.ca(w.j+3.141592653589793),e.l.W(f,-k)&&!e.l.wd(f)&&!e.l.W(e.l.K(f),1.570796326794897)&&e.l.K(e.C.ca(c-g))>3.141592653589793*(1-l*Math.cos(f))&&(null!=t?G=t.j:(q=E/a,G=Math.sqrt(1-q*q),0>a*x-u*r*Math.cos(v)&&(G*=-1),G=Math.atan2(q,G),e.l.W(f,-k)&&e.l.K(e.C.ca(c-g))>3.141592653589793*(1-l*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(G)||0>f&&1.570796326794897<e.l.K(G))&&(G=e.l.Bb(3.141592653589793,G)-G)),1.570796326794897>=
e.l.K(G)&&1.570796326794897<e.l.K(w.j)||1.570796326794897<=e.l.K(G)&&1.570796326794897>e.l.K(w.j)))w.j=-1*e.C.ca(w.j+3.141592653589793)}}}};d.Rf=function(b,a,c,f,g,k,q,t){if(null!=q||null!=t)if(e.l.Ri(a))e.uh.Rf(b,c,f,g,k,q,t);else if(k=e.C.ca(k),e.l.W(e.l.K(f),1.570796326794897)||e.l.wd(k)||e.l.W(e.l.K(k),3.141592653589793))e.Cl.Rf(b,a,c,f,g,k,q,t);else{var w=1.570796326794897==e.l.K(k)?0:Math.cos(k),d=3.141592653589793==e.l.K(k)?0:Math.sin(k);e.l.W(e.l.K(f),1.570796326794897)&&(c=0);k=1-Math.sqrt(1-
a);var m=e.C.Mr(a,f);f=1.570796326794897==e.l.K(m)?0:Math.cos(m);var L=Math.sin(m),m=Math.atan2(Math.tan(m),w),h=f*d,l=h*h,n=1-l,p=a/(1-a)*n;a=p*(256+p*(-128+p*(74-47*p)))/1024;var u=a/4,r=a/6,x=g/(b*(1-k)*(1+p*(4096+p*(-768+p*(320-175*p)))/16384)),v=x,K;do{K=v;g=1.570796326794897==e.l.K(v)?0:Math.cos(v);var p=3.141592653589793==e.l.K(v)?0:Math.sin(v),z=p*p;b=Math.cos(2*m+v);v=b*b;v=a*p*(b+u*(g*(2*v-1)-r*b*(4*z-3)*(4*v-3)))+x}while(!e.l.W(K,v));g=1.570796326794897==e.l.K(v)?0:Math.cos(v);p=3.141592653589793==
e.l.K(v)?0:Math.sin(v);null!=q&&(d=Math.atan2(p*d,f*g-L*p*w),n=k/16*n*(4+k*(4-3*n)),b=Math.cos(2*m+v),q.j=e.C.ca(c+(d-(1-n)*k*h*(v+n*p*(b+n*g*(2*b*b-1))))));null!=t&&(n=L*p-f*g*w,n=(1-k)*Math.sqrt(l+n*n),t.j=Math.atan2(L*g+f*p*w,n))}};return d}();e.Pu=d})(x||(x={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,g,k,q,t,w){var d=e.C.ca(g-c),m=e.l.W(e.l.K(f),1.570796326794897),L=e.l.W(e.l.K(k),1.570796326794897);if(e.l.W(f,k)&&(e.l.wd(d)||m))null!=q&&(q.j=0),null!=t&&(t.j=0),null!=
w&&(w.j=0);else{var h,l;e.l.Ri(a)?(h=Math.sin(f),l=Math.sin(k),h=Math.sqrt((1+h)/(1-h)),l=Math.sqrt((1+l)/(1-l)),h=Math.log(l)-Math.log(h),h=Math.atan2(d,h),null!=q&&(q.j=e.l.W(f,k)?e.l.K(b*Math.cos(f)*d):e.l.K((b*k-b*f)/Math.cos(h)))):(l=e.C.Cx(a,k),h=Math.sin(e.C.Cx(a,f)),l=Math.sin(l),h=Math.sqrt((1+h)/(1-h)),l=Math.sqrt((1+l)/(1-l)),h=Math.log(l)-Math.log(h),h=Math.atan2(d,h),null!=q&&(e.l.W(f,k)?q.j=e.l.K(b*d*Math.cos(f)/e.C.Hm(a,f)):(d=e.C.q(b,a,f),b=e.C.q(b,a,k),q.j=e.l.K((b-d)/Math.cos(h)))));
if(null!=t||null!=w)q=e.C.ca(h+3.141592653589793),m&&L||!m&&!L||(m?h=0>f?g:e.C.ca(3.141592653589793-g):L&&(q=0>k?c:e.C.ca(3.141592653589793-c))),null!=t&&(t.j=h),null!=w&&(w.j=q)}};d.Rf=function(b,a,c,f,g,k,q,t){k=e.C.ca(k);0>g&&(g=e.l.K(g),k=e.C.ca(k+3.141592653589793));e.l.Ri(a)?e.l.W(e.l.K(f),1.570796326794897)?(c=0>f?k:e.C.ca(3.141592653589793-k),k=g/b%6.283185307179586,3.141592653589793>=k?b=f-e.l.Bb(k,f):(c=e.C.ca(c+3.141592653589793),b=-f+e.l.Bb(k-3.141592653589793,f))):e.l.W(e.l.K(k),1.570796326794897)?
(c=e.C.ca(c+e.l.Bb(g,k)/(b*Math.cos(f))),b=f):(b=f+g*Math.cos(k)/b,1.570796326794897<e.l.K(b)&&(b=1.570796326794897),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.wd(k)||e.l.W(e.l.K(k),3.141592653589793))||(1.570796316258184<e.l.K(b)&&(b=e.l.Bb(1.570796316258184,b)),a=Math.sin(f),f=Math.sin(b),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),c=e.C.ca(c+Math.tan(k)*a))):e.l.W(e.l.K(f),1.570796326794897)?(c=0>f?k:e.C.ca(3.141592653589793-k),k=g/e.C.UW(b,a),k%=6.283185307179586,
3.141592653589793>=k?(b=f-e.l.Bb(k,f),b=e.C.Ep(a,b)):(c=e.C.ca(c+3.141592653589793),b=-f+e.l.Bb(k-3.141592653589793,f),b=e.C.Ep(a,b))):e.l.W(e.l.K(k),1.570796326794897)?(c=e.C.ca(c+e.l.Bb(g,k)*e.C.Hm(a,f)/(b*Math.cos(f))),b=f):(b=1.570796326794897*(g*Math.cos(k)+e.C.q(b,a,f))/e.C.Wg(b,a),1.570796326794897<e.l.K(b)&&(b=e.l.Bb(1.570796326794897,b)),b=e.C.Ep(a,b),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.wd(k)||e.l.W(e.l.K(k),3.141592653589793))||(g=e.C.Cx(a,f),f=e.C.Cx(a,b),1.570796316258184<e.l.K(f)&&
(f=e.l.Bb(1.570796316258184,b),b=e.C.YP(a,f)),a=Math.sin(g),f=Math.sin(f),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),c=e.C.ca(c+Math.tan(k)*a)));null!=q&&(q.j=c);null!=t&&(t.j=b)};return d}();e.$D=d})(x||(x={}));(function(e){var d=function(){function d(){}d.Iz=function(b,a,c,f,g,k,q){e.Pu.Cb(b,a,c,f,g,k,null,q,null)};d.Yi=function(b,a,c,f,g,k,q,t){e.Pu.Rf(b,a,c,f,g,k,q,t)};d.Kd=function(b,a,c,f,g,k,q,t,w,d){switch(d){case 2:e.Cl.Cb(b,a,c,f,g,k,q,t,w);break;case 3:e.aE.Cb(b,
a,c,f,g,k,q,t,w);break;case 1:e.$D.Cb(b,a,c,f,g,k,q,t,w);break;default:e.Pu.Cb(b,a,c,f,g,k,q,t,w)}};d.Sj=function(b,a,c,f,g,k,q,t,w){switch(w){case 2:e.Cl.Rf(b,a,c,f,g,k,q,t);break;case 3:e.aE.Rf(b,a,c,f,g,k,q,t);break;case 1:e.$D.Rf(b,a,c,f,g,k,q,t);break;default:e.Pu.Rf(b,a,c,f,g,k,q,t)}};return d}();e.mb=d})(x||(x={}));(function(e){var d=function(){function a(){this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new e.Xb;b.x.set(c.x);b.y=new e.Xb;b.y.set(c.y);return b};a.aG=function(c,b){var f=
new a;f.x=new e.Xb;f.x.set(c);f.y=new e.Xb;f.y.set(b);return f};a.prototype.Kg=function(){return this.x.Kg()&&this.y.Kg()};a.prototype.value=function(){return e.b.pa(this.x.value(),this.y.value())};return a}();e.jZ=d;var m=function(){function a(){this.z=this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new e.Xb;b.x.set(c.x);b.y=new e.Xb;b.y.set(c.y);b.z=new e.Xb;b.z.set(c.z);return b};a.aG=function(c,b,g){var f=new a;f.x=new e.Xb;f.x.set(c);f.y=new e.Xb;f.y.set(b);f.z=new e.Xb;f.z.set(g);return f};
a.prototype.Kg=function(){return this.x.Kg()&&this.y.Kg()&&this.z.Kg()};a.prototype.value=function(){return new e.od(this.x.value(),this.y.value(),this.z.value())};a.prototype.pi=function(a){var c=new e.Xb,b=new e.Xb,k=new e.Xb;c.um(this.x,a.x);b.um(this.y,a.y);k.um(this.z,a.z);a=new e.Xb;a.zO(c,b);a.add(k);return a};a.prototype.iG=function(c){var b=new a;b.x.um(this.y,c.z);b.y.um(this.z,c.x);b.z.um(this.x,c.y);var g=new e.Xb,k=new e.Xb,q=new e.Xb;g.um(this.z,c.y);k.um(this.x,c.z);q.um(this.y,c.x);
b.x.sub(g);b.y.sub(k);b.z.sub(q);return b};return a}();e.kZ=m;var b=function(){function a(){}a.vL=function(c,b,g){var f=b.x;b=b.y;a.Fk(1,c,Math.cos(f),Math.sin(f),Math.cos(b),Math.sin(b),g)};a.aZ=function(c,b){var f=new e.od;a.vL(c,b,f);return f};a.QZ=function(c,b,g,k,q,t){var f=new e.od;a.Fk(c,b,g,k,q,t,f);return f};a.Fk=function(a,b,g,k,e,t,w){a/=Math.sqrt(1-b*t*t);w.I(a*e*g,a*e*k,a*(1-b)*t)};a.Qu=function(a,b){var c=new e.Xb,f=new e.Xb,q=new e.Xb,t=new e.Xb;c.cos(b.x);f.sin(b.x);q.cos(b.y);t.sin(b.y);
b=new e.Xb;b.set(t);b.Tg(t);b.Fp(a);b.Fp(-1);b.GO();b.sqrt();var w=new e.Xb;w.set(1);w.bn(b);b=new e.Xb;b.set(w);b.Tg(q);b.Tg(c);c=new e.Xb;c.set(w);c.Tg(q);c.Tg(f);f=new e.Xb;f.set(w);f.Fp(1-a);f.Tg(t);return m.aG(b,c,f)};a.tY=function(a,b,g){var c=b.x,f=b.y;g.ja(Math.atan2(f,c),Math.atan2(b.z,(1-a)*Math.sqrt(c*c+f*f)))};a.EZ=function(c,b,g){c=new e.b;a.tY(b,g,c);return c};a.oU=function(c,b,g,k){if(Math.abs(b.x-g.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(g.y)>.5*Math.PI||(Math.abs(b.y)==.5*
Math.PI||Math.abs(g.y)==.5*Math.PI)&&b.x!=g.x)return NaN;k=a.UB(k,Math.min(b.x,g.x),Math.max(b.x,g.x));if(!(new e.yc(b.x,g.x)).contains(k))return NaN;var f=d.pa(b);g=d.pa(g);f=a.Qu(c,f);g=a.Qu(c,g);g=f.iG(g);if(g.z.Kg())return b=b.y;var t=new e.Xb;t.set(g.x);t.bn(g.z);t.Fp(-1);var w=new e.Xb;w.set(g.y);w.bn(g.z);w.Fp(-1);var m=new e.Xb;m.set(w);m.Tg(w);f=new e.Xb;f.set(t);f.Tg(t);f.add(m);f.sqrt();if(f.Kg()||t.Kg()&&w.Kg())return b=b.y;b=Math.atan2(w.value(),t.value());b=Math.atan2(f.value()*Math.cos(b-
k),1-c);k=a.aZ(c,e.b.pa(k,b));c=new e.od(k.x,k.y,-k.z);k=g.value().pi(k);c=g.value().pi(c);Math.abs(c)<Math.abs(k)&&(b=-b);return b};a.xA=function(c,b,g,k,q,t){t[0]=NaN;t[1]=NaN;if(Math.abs(g.x-k.x)>Math.PI||Math.abs(g.y)>.5*Math.PI||Math.abs(k.y)>.5*Math.PI||(Math.abs(g.y)==.5*Math.PI||Math.abs(k.y)==.5*Math.PI)&&g.x!=k.x||Math.abs(q)>=.5*Math.PI||0<g.y&&0<k.y&&g.y>q&&k.y>q||0>g.y&&0>k.y&&g.y<q&&k.y<q)return 0;var f=d.pa(g);c=d.pa(k);f=a.Qu(b,f);c=a.Qu(b,c);var m=f.iG(c);if(m.z.Kg())return(new e.yc(g.y,
k.y)).contains(q)?(t[0]=g.x,1):0;c=new e.Xb;c.set(m.x);c.bn(m.z);c.Fp(-1);f=new e.Xb;f.set(m.y);f.bn(m.z);f.Fp(-1);m=new e.Xb;m.set(f);m.Tg(f);var S=new e.Xb;S.set(c);S.Tg(c);S.add(m);S.sqrt();if(S.Kg()||c.Kg()&&f.Kg())return 0==q?(t[0]=g.x,t[1]=k.x,2):0;b=(1-b)*Math.tan(q)/S.value();if(1<Math.abs(b))return 0;b=Math.acos(b);m=Math.atan2(f.value(),c.value());c=Math.min(g.x,k.x);f=Math.max(g.x,k.x);k=a.UB(m-b,c,f);b=0!=q?a.UB(m+b,c,f):k;q=0;c<=k&&k<=f&&(t[q]=k,q++);b!=k&&c<=b&&b<=f&&(t[q]=b,q++,2==
q&&Math.abs(t[0]-g.x)>Math.abs(t[1]-g.x)&&(g=t[0],t[0]=t[1],t[1]=g));return q};a.UB=function(a,b,g){a>g?(b=Math.ceil((a-g)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};a.HA=function(a,b){b[0]>.5*Math.PI?(a[0]+=Math.PI,b[0]=Math.PI-b[0]):b[0]<-.5*Math.PI&&(a[0]-=Math.PI,b[0]=-Math.PI-b[0])};return a}();e.uy=b})(x||(x={}));(function(e){var d=function(){function d(){}d.xY=function(b,a){var c=8;0>c&&(c=8);var f=[0,0,0,0],g=new e.b;g.L(a);g.scale(9102==e.fb.lc(b).Td().Bc()?
1:e.fb.lc(b).Td().Bi/3.141592653589793*180);-180>g.x?(g.x-=g.x%360,-180>g.x&&(g.x+=360)):180<g.x&&(g.x-=g.x%360,180<g.x&&(g.x-=360));90<g.y&&(g.y=90);-90>g.y&&(g.y=-90);b=5*c;a=(b+31)/32;for(var k=-180,q=180,t=b-1,w=a-1;0<=w;w--)for(var m=t-32*w,S=Math.min(32,b-32*w),L=1;L<S;L+=2){var h=.5*(q+k);g.x>=h?(f[w]|=1<<m,k=h):q=h;m-=2;t-=2}k=-90;q=90;t=b-2;for(w=a-1;0<=w;w--)for(m=t-32*w,S=Math.min(32,b-32*w),L=0;L<S;L+=2)h=.5*(q+k),g.y>=h?(f[w]|=1<<m,k=h):q=h,m-=2,t-=2;return d.FL(f,c,c)};d.FL=function(b,
a,c){for(var f=[],g=0;g<a;g++)f[g]="";for(var k=g=0,e=0;e<a;e++){var t=b[g]>>k&31,k=k+5;if(31<k){var w=37-k,t=t&(1<<w)-1,k=k-32;g++;t|=(b[g]&(1<<k)-1)<<w}f[a-1-e]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[t]}if(c>a)for(e=0;e<c-a;e++)f.push("0");else c<a&&(f.length=c);return f.join("")};return d}();e.dM=d})(x||(x={}));(function(e){var d={gcstol:[0,2E-9,1,2.241706620489156E-9,2,2.313672246530541E-9,3,8.98240164660333E-9,4,8.982433838020134E-9,5,8.982439417325895E-9,6,8.982466029667677E-9,7,8.982476760268133E-9,
8,8.982492642167149E-9,9,8.98251968292634E-9,10,8.98253685210448E-9,11,8.982546725256576E-9,12,8.982557456049832E-9,13,8.98257333682596E-9,14,8.982575482995276E-9,15,8.982578488197342E-9,16,8.982579775336987E-9,17,8.9825840676828E-9,18,8.982599090925448E-9,19,8.982605529473397E-9,20,8.982609220517402E-9,21,8.982611968030573E-9,22,8.982616260407152E-9,23,8.982620552787834E-9,24,8.982633429954492E-9,25,8.982637722351582E-9,26,8.98264416095491E-9,27,8.982646307158072E-9,28,8.982654891980968E-9,29,8.982667769246082E-9,
30,8.982674207892485E-9,31,8.982680646548117E-9,32,8.982682792768713E-9,33,8.982685798042582E-9,34,8.982689231436652E-9,35,8.98269137766135E-9,36,8.98269266624163E-9,37,8.982705114087017E-9,38,8.982706830791106E-9,39,8.982711958374661E-9,40,8.982712839964735E-9,41,8.982717991496125E-9,42,8.982721424914803E-9,43,8.982723571154887E-9,44,8.982727863638127E-9,45,8.982730868942154E-9,46,8.982734302370678E-9,47,8.982745033612112E-9,48,8.982751472369276E-9,49,8.982755764879183E-9,50,8.982762203651733E-9,
51,8.982764776628385E-9,52,8.982766496171896E-9,53,8.98277722749025E-9,54,8.98278152002477E-9,55,8.98279933943848E-9,56,8.9829143024805E-9,57,8.982922161948598E-9,58,8.98292327314211E-9,59,8.982925667349601E-9,60,8.982932222965576E-9,61,8.982961298941316E-9,62,8.982965524049989E-9,63,8.982994818246099E-9,64,8.982994895706967E-9,65,8.98299489597736E-9,66,8.983000733443498E-9,67,8.983055097289157E-9,68,8.983064111047368E-9,69,8.983111996941178E-9,70,8.983120447446023E-9,71,8.98312748954554E-9,72,8.983134531656096E-9,
73,8.983141573777694E-9,74,8.983148615910332E-9,75,8.983152841195215E-9,76,8.983153545409748E-9,77,8.983153827095593E-9,78,8.98315396793852E-9,79,8.983154249624393E-9,80,8.983155658054012E-9,81,8.983960794340072E-9,82,8.984061344391998E-9,83,8.984072829255685E-9,84,8.984194981201908E-9,85,8.984275233099427E-9,86,8.984326127007554E-9,87,8.984330099816539E-9,88,8.98433275258421E-9,89,8.984333047023206E-9,90,8.984333885258723E-9,91,8.984337959508212E-9,92,8.984365176209457E-9,93,8.984727360418079E-9,
94,8.984901041679577E-9,95,8.98542662091587E-9,96,8.98610024130669E-9,97,8.992894229037531E-9,98,8.993203677616635E-9,99,8.993206178094346E-9,100,8.993216059187305E-9,101,8.99322029394808E-9,102,8.994627867045891E-9,103,9.467559984315793E-9,104,9.46881168618118E-9,105,9.980888154931644E-9,106,9.981105353606775E-9,107,9.983807356573187E-9,108,1.687060485811522E-8,109,1.688447560354875E-8,110,2.176606011487185E-8,111,2.225078816042032E-8,112,2.348476432064694E-8,113,2.348765250187846E-8,114,2.378108974103778E-8,
115,3.14559636297708E-8,116,3.297788621680806E-8,117,3.667892343788279E-8,118,4.235973644320739E-8,119,4.794625900676345E-8,120,7.262742998235812E-8,121,7.499447580246377E-8,122,7.525056410964318E-8,123,7.979913581209237E-8,124,9.662020153976783E-8,125,9.799175562353741E-8,126,9.897353517547472E-8,127,1.02313891987647E-7,128,1.081460541960784E-7,129,1.21905913857622E-7,130,2.246893314238523E-7,131,2.297344808062643E-7,132,2.42984645941825E-7,133,2.754604784282804E-7,134,2.884548130346993E-7,135,3.370339971357784E-7,
136,4.307953346848296E-7,137,5.208707228462029E-7,138,5.509209568565608E-7,139,6.452227422644406E-7,140,6.740679942715567E-7,141,6.861770001566745E-7,142,7.252630318111686E-7,143,7.441010326374328E-7,144,7.742672907173287E-7,145,9.629542775307953E-7,146,1.061032953945969E-6,147,1.143628333594458E-6,148,1.162186197019925E-6,149,1.36418522650196E-6,150,1.367441038498385E-6,151,1.432394487827058E-6,152,1.736235742820677E-6,153,1.848250952034914E-6,154,1.909859317102744E-6,155,1.975716534933873E-6,156,
2.122065907891938E-6,157,2.72837045300392E-6,158,3.183098861837907E-6,159,3.580986219567645E-6,160,3.819718634205488E-6,161,4.09255567950588E-6,162,4.407367654852486E-6,163,4.774648292756861E-6,164,5.161781938115525E-6,165,5.20870722846203E-6,166,5.729577951308232E-6,167,6.031134685587613E-6,168,6.987290184522236E-6,169,9.241254760174569E-6,170,1.145915590261646E-5],pcstol:[0,6.666666666666667E-9,1,2E-8,2,4.970973863636364E-5,3,4.970978156565657E-5,4,4.970980410559237E-5,5,.001,6,.001093615055555556,
7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,
102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,
102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,
102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,
102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,
3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,
3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,
3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,
4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,
4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,
5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,
6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,
6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103E3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,
6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,
6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,
6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,
6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,
6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,
6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,
6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,
103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,
103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,
8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9E3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,
102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,
32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,
5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,
5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,
5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,
5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,
5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,
10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,
5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,
5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,
8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25E3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,
5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,
5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,
103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,
10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,
5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,
5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2E3,2045,5],[2056,2065,5],[2067,
2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,
3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,
5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,
5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,
5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,
24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,
5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32E3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,
5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,
102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,
5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],
[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,
4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,
75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,
65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,
55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,
84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,
64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,
55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,
75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,
104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,
104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,
104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],
[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},m={c:[[2E3,2035,9001],[2039,2045,9001],[2056,
2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],
[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,
9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,
4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],
[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,
9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,
7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9E3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],
[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,
25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],
[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32E3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,
9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],
[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],
[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],
[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,
2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,
9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,
3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,
9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,
3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,
9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,
4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,
9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,
6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,
9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,
6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,
9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,
6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,
9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,
6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,
9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,
7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,
9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,
8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,
9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,
8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,
9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,
22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,
27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,
9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,
9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,
9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,
9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,
9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,
9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]},b=function(){function a(){}a.Dz=function(c){!1===a.Ej&&a.Om();var b=a.uM(c);if(-1==b){var g=a.uv(c);g!=c&&(b=a.Dz(g))}-1==b&&(g=a.nL(c),g!=c&&(b=a.Dz(g)));return b};a.uM=
function(c){return void 0!==a.Yu[c]?a.Yu[c]:-1};a.SR=function(c){!1===a.Ej&&a.Om();var b=a.qE(c);if(1E38==b){var g=a.uv(c);g!=c&&(b=a.qE(g));if(1E38==b)return 1E-10}return b};a.uU=function(c){if(void 0!==a.Al[c])return!0;var b=a.uv(c);return b!=c&&void 0!==a.Al[b]?!0:!1};a.wU=function(c){if(void 0!==a.Yg[c])return!0;var b=a.uv(c);return b!=c&&void 0!==a.Yg[b]?!0:!1};a.qE=function(c){!1===a.Ej&&a.Om();return void 0!==a.Al[c]?a.Al[c]:void 0!==a.Yg[c]?a.Yg[c]:1E38};a.nL=function(c){!1===a.Ej&&a.Om();
return void 0!==a.MB[c]?a.MB[c]:c};a.uv=function(c){!1===a.Ej&&a.Om();return void 0!==a.NB[c]?a.NB[c]:c};a.Om=function(){for(var c=d,b,g=0;g<c.pcsid.length;g+=2)a.Yg[c.pcsid[g]]=c.pcstol[2*c.pcsid[g+1]+1];for(g=0;g<c.pcsidc.length;g+=1){b=c.pcsidc[g];for(var k=b[0];k<=b[1];k++)a.Yg[k]=c.pcstol[2*b[2]+1]}for(g=0;g<c.gcsid.length;g+=2)a.Al[c.gcsid[g]]=c.gcstol[2*c.gcsid[g+1]+1];for(g=0;g<c.gcsidc.length;g+=1)for(b=c.gcsidc[g],k=b[0];k<=b[1];k++)a.Yg[k]=c.gcstol[2*b[2]+1];for(g=0;g<m.c.length;g+=1)for(b=
m.c[g],k=b[0];k<=b[1];k++)a.Yu[k]=b[2];for(g=0;g<m.nc.length;g+=2)a.Yu[m.nc[g]]=m.nc[g+1];m=null;for(g=0;g<c.newtoold.length;g+=2)a.MB[c.newtoold[g+1]]=c.newtoold[g],a.NB[c.newtoold[g]]=c.newtoold[g+1];d=null;a.Ej=!0};a.Ej=!1;a.Al=[];a.Yg=[];a.MB=[];a.NB=[];a.Yu=[];return a}();e.ss=b})(x||(x={}));(function(e){function d(a){return 0===a.length?'""':'"'==a[0]||"."==a[0]||"0"<=a[0]&&"9">=a[0]?a:'"'+a.trim()+'"'}var m=[],b=function(){function a(){}a.UR=function(c){try{for(var b=0;b<m.length;b++)if(m[b].wkttext===
c)return m[b].unit;for(var g,k=b="",q=!1,t=0;t<c.length;t++){var w=c[t];!0===q?'"'==w?'"'==c[t+1]?b+=w:q=!1:b+=w:/[\s]/.test(w)||(","==w?(k=""!==b?k+(d(b)+","):k+",",b=""):")"==w||"]"==w?(k=""!==b?k+(d(b)+"]}"):k+"]}",b=""):"("==w||"["==w?(k+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==w?(q=!0,b=""):b+=w)}g=JSON.parse(k);var P=a.oE(g);if(null===P)return null;g=null;for(w=0;w<P.values.length;w++)if("object"===typeof P.values[w]&&"UNIT"===P.values[w].entity){g=P.values[w];break}if(null===
g)return null;var S=e.$c.yQ("GEOGCS"===P.entity?1:0,g.values[1],g.values[2]);m.push({wkttext:c,unit:S});10<m.length&&m.shift();return S}catch(L){return null}};a.oE=function(c){if(null===c)return null;if("GEOGCS"===c.entity||"PROJCS"===c.entity)return c;for(var b=[],g=0;g<c.values.length;g++)if("object"===typeof c.values[g]&&void 0!==c.values[g].entity){if("GEOGCS"===c.values[g].entity||"PROJCS"==c.values[g].entity)return c.values[g];b.push(c.values[g])}for(c=0;c<b.length;c++)if(g=a.oE(b[c]),null!==
g)return g;return null};a.TR=function(a){var c=-1;if(null!=a&&0<a.length){var b,k;b=a.indexOf("PROJCS");if(0<=b){var e=0;b=a.lastIndexOf("UNIT");if(0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,k=a.indexOf("]",b+1),0<k)))try{e=parseFloat(a.substring(b,k))}catch(w){e=0}0<e&&(c=.001/e)}else if(b=a.indexOf("GEOGCS"),0<=b){var t=0,e=0;b=a.indexOf("SPHEROID",b+6);if(0<b&&(b=a.indexOf(",",b+8),0<b)){b++;k=a.indexOf(",",b+1);if(0<k)try{t=parseFloat(a.substring(b,k))}catch(w){t=0}if(0<t&&(b=a.indexOf("UNIT",k+1),
0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,k=a.indexOf("]",b+1),0<k))))try{e=parseFloat(a.substring(b,k))}catch(w){e=0}}0<t&&0<e&&(c=.001/(t*e))}}return c};return a}();e.uE=b})(x||(x={}));(function(e){(function(e){e[e.NONE=0]="NONE";e[e.LINEAR=1]="LINEAR";e[e.ANGULAR=2]="ANGULAR"})(e.oM||(e.oM={}));(function(e){e[e.enumFloat=0]="enumFloat";e[e.enumDouble=1]="enumDouble";e[e.enumInt32=2]="enumInt32";e[e.enumInt64=3]="enumInt64";e[e.enumInt8=4]="enumInt8";e[e.enumInt16=5]="enumInt16"})(e.iN||(e.iN={}));
(function(e){e[e.POSITION=0]="POSITION";e[e.Z=1]="Z";e[e.M=2]="M";e[e.ID=3]="ID";e[e.NORMAL=4]="NORMAL";e[e.TEXTURE1D=5]="TEXTURE1D";e[e.TEXTURE2D=6]="TEXTURE2D";e[e.TEXTURE3D=7]="TEXTURE3D";e[e.ID2=8]="ID2";e[e.MAXSEMANTICS=10]="MAXSEMANTICS"})(e.hi||(e.hi={}));var d=function(){function d(b,a){this.St=this.Ye=null;this.Er=this.Ga=0;this.Th=this.vg=null;this.gm=0;if(void 0!==a){this.Ga=a.Ga;this.Er=a.Er;this.vg=a.vg.slice(0);this.Th=a.Th.slice(0);this.gm=a.gm;this.St=[];for(a=b=0;a<this.Ga;a++)this.St[a]=
b,b+=d.Xa(this.vg[a]);this.Er=b;this.Ye=[];for(a=0;a<this.Ga;a++){b=d.Xa(this.pd(a));for(var c=d.be(this.pd(a)),f=0;f<b;f++)this.Ye[this.St[a]+f]=c}}else this.Er=this.Ga=0}d.prototype.pd=function(b){if(0>b||b>this.Ga)throw e.g.F();return this.vg[b]};d.prototype.lg=function(b){return this.Th[b]};d.Zz=function(b){return d.dc[b]};d.ti=function(b){return d.ad[b]};d.lf=function(b){return d.de[b]};d.Yg=function(b){return d.lf(d.ti(b))*d.Xa(b)};d.Xa=function(b){return d.tb[b]};d.Xf=function(b){return 2>
b};d.Dj=function(b){return d.Xf(d.ti(b))};d.prototype.hasAttribute=function(b){return 0<=this.Th[b]};d.prototype.kH=function(){return this.hasAttribute(1)};d.be=function(b){return d.N[b]};d.prototype.eT=function(b){return this.St[b]};d.DH=function(b,a){return d.N[b]===a};d.Ug=function(b){if(4==b)return 2;if(8==b)return 3;throw e.g.F();};d.prototype.Eb=function(b){return this===b};d.prototype.Ck=function(){for(var b=e.J.bh(this.vg[0]),a=1;a<this.Ga;a++)b=e.J.bh(this.vg[a],b);return b};d.prototype.zk=
function(b){return this.St[b]};d.prototype.kc=function(){return this.gm};d.prototype.Qd=function(b){return this.vg[b]};d.N=[0,0,NaN,0,0,0,0,0,0];d.dc=[1,1,1,0,2,1,1,1,0];d.ad=[1,1,1,2,0,0,0,0,2];d.de=[4,8,4,8,1,2];d.tb=[2,1,1,1,3,1,2,3,2];return d}();e.ma=d})(x||(x={}));(function(e){function d(a,b,g,k){var c=a.Id,f=a.e+b+1;1===g?k=5<=c[f]:2===g?k=5<c[f]||5==c[f]&&(k||0>f||void 0!==c[f+1]||c[f-1]&1):3===g?k=k||void 0!==c[f]||0>f:(k=!1,0!==g&&m("!Big.RM!"));if(1>f||!c[0])k?(a.e=-b,a.Id=[1]):a.Id=[a.e=
0];else{c.length=f--;if(k)for(;9<++c[f];)c[f]=0,f--||(++a.e,c.unshift(1));for(f=c.length;!c[--f];c.pop());}}function m(a){a=Error(a);a.name="BigError";throw a;}var b=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function a(c){if(c instanceof a)this.ke=c.ke,this.e=c.e,this.Id=c.Id.slice();else{var f,k,e;0===c&&0>1/c?c="-0":b.test(c+="")||m(NaN);this.ke="-"==c.charAt(0)?(c=c.slice(1),-1):1;-1<(f=c.indexOf("."))&&(c=c.replace(".",""));0<(k=c.search(/e/i))?(0>f&&(f=k),f+=+c.slice(k+1),c=c.substring(0,
k)):0>f&&(f=c.length);for(k=0;"0"==c.charAt(k);k++);if(k==(e=c.length))this.Id=[this.e=0];else{for(;"0"==c.charAt(--e););this.e=f-k-1;this.Id=[];for(f=0;k<=e;this.Id[f++]=+c.charAt(k++));}}}a.prototype.abs=function(){var c=new a(this);c.ke=1;return c};a.prototype.RF=function(){var c=0,b=this.Id,k=(c=new a(c)).Id,e=this.ke,t=c.ke,w=this.e,d=c.e;if(!b[0]||!k[0])return b[0]?e:k[0]?-t:0;if(e!=t)return e;c=0>e;if(w!=d)return w>(d^c)?1:-1;e=-1;for(t=(w=b.length)<(d=k.length)?w:d;++e<t;)if(b[e]!=k[e])return b[e]>
(k[e]^c)?1:-1;return w==d?0:w>(d^c)?1:-1};a.prototype.bn=function(c){var b=this.Id,f=(c=new a(c)).Id,e=this.ke==c.ke?1:-1,t=a.ad;(t!==~~t||0>t||1E6<t)&&m("!Big.DP!");if(!b[0]||!f[0])return b[0]==f[0]&&m(NaN),f[0]||m(e/0),new a(0*e);var w,P,S,L,h=f.slice(),l=w=f.length,n=b.length,p=b.slice(0,w),u=p.length,r=c,x=r.Id=[],v=0,z=t+(r.e=this.e-c.e)+1;r.ke=e;e=0>z?0:z;for(h.unshift(0);u++<w;p.push(0));do{for(P=0;10>P;P++){if(w!=(u=p.length))S=w>u?1:-1;else for(L=-1,S=0;++L<w;)if(f[L]!=p[L]){S=f[L]>p[L]?
1:-1;break}if(0>S){for(c=u==w?f:h;u;){if(p[--u]<c[u]){for(L=u;L&&!p[--L];p[L]=9);--p[L];p[u]+=10}p[u]-=c[u]}for(;!p[0];p.shift());}else break}x[v++]=S?P:++P;p[0]&&S?p[u]=b[l]||0:p=[b[l]]}while((l++<n||void 0!==p[0])&&e--);x[0]||1==v||(x.shift(),r.e--);v>z&&d(r,t,a.Xf,void 0!==p[0]);return r};a.prototype.BT=function(){return 0<this.RF()};a.prototype.SU=function(){return 0>this.RF()};a.prototype.au=function(c){var b,f,e=this.ke,t=(c=new a(c)).ke;if(e!=t)return c.ke=-t,this.sJ(c);var w=this.Id.slice();
f=this.e;var d=c.Id,m=c.e;if(!w[0]||!d[0])return d[0]?(c.ke=-t,c):new a(w[0]?this:0);if(e=f-m){(b=0>e)?(e=-e,f=w):(m=f,f=d);f.reverse();for(t=e;t--;f.push(0));f.reverse()}else for(f=((b=w.length<d.length)?w:d).length,e=t=0;t<f;t++)if(w[t]!=d[t]){b=w[t]<d[t];break}b&&(f=w,w=d,d=f,c.ke=-c.ke);if(0<(t=(f=d.length)-(b=w.length)))for(;t--;w[b++]=0);for(t=b;f>e;){if(w[--f]<d[f]){for(b=f;b&&!w[--b];w[b]=9);--w[b];w[f]+=10}w[f]-=d[f]}for(;0==w[--t];w.pop());for(;0==w[0];)w.shift(),--m;w[0]||(c.ke=1,w=[m=
0]);c.Id=w;c.e=m;return c};a.prototype.sJ=function(c){var b,f=this.ke;b=(c=new a(c)).ke;if(f!=b)return c.ke=-b,this.au(c);b=this.e;var e=this.Id,t=c.e,w=c.Id;if(!e[0]||!w[0])return w[0]?c:new a(e[0]?this:0*f);e=e.slice();if(f=b-t){0<f?(t=b,b=w):(f=-f,b=e);for(b.reverse();f--;b.push(0));b.reverse()}0>e.length-w.length&&(b=w,w=e,e=b);f=w.length;for(b=0;f;)b=(e[--f]=e[f]+w[f]+b)/10|0,e[f]%=10;b&&(e.unshift(b),++t);for(f=e.length;0==e[--f];e.pop());c.Id=e;c.e=t;return c};a.prototype.pow=function(c){var b=
this,f=new a(1),e=f,t=0>c;(c!==~~c||-1E6>c||1E6<c)&&m("!pow!");for(c=t?-c:c;;){c&1&&(e=e.cs(b));c>>=1;if(!c)break;b=b.cs(b)}return t?f.bn(e):e};a.prototype.round=function(c,b){var f=this;null==c?c=0:(c!==~~c||0>c||1E6<c)&&m("!round!");d(f=new a(f),c,null==b?a.Xf:b);return f};a.prototype.sqrt=function(){var c,b,k;b=this.Id;c=this.ke;k=this.e;var e=new a("0.5");if(!b[0])return new a(this);0>c&&m(NaN);c=Math.sqrt(this.toString());0==c||c==1/0?(c=b.join(""),c.length+k&1||(c+="0"),b=new a(Math.sqrt(c).toString()),
b.e=((k+1)/2|0)-(0>k||k&1)):b=new a(c.toString());c=b.e+(a.ad+=4);do k=b,b=e.cs(k.sJ(this.bn(k)));while(k.Id.slice(0,c).join("")!==b.Id.slice(0,c).join(""));d(b,a.ad-=4,a.Xf);return b};a.prototype.cs=function(c){var b,f=this.Id,e=(c=new a(c)).Id,t=f.length,w=e.length,d=this.e,m=c.e;c.ke=this.ke==c.ke?1:-1;if(!f[0]||!e[0])return new a(0*c.ke);c.e=d+m;t<w&&(b=f,f=e,e=b,m=t,t=w,w=m);for(b=Array(m=t+w);m--;b[m]=0);for(d=w;d--;){w=0;for(m=t+d;m>d;)w=b[m]+e[d]*f[m-d-1]+w,b[m--]=w%10,w=w/10|0;b[m]=(b[m]+
w)%10}w&&++c.e;b[0]||b.shift();for(d=b.length;!b[--d];b.pop());c.Id=b;return c};a.prototype.toString=function(){var a=this.e,c=this.Id.join(""),b=c.length;if(-7>=a||21<=a)c=c.charAt(0)+(1<b?"."+c.slice(1):"")+(0>a?"e":"e+")+a;else if(0>a){for(;++a;c="0"+c);c="0."+c}else if(0<a)if(++a>b)for(a-=b;a--;c+="0");else a<b&&(c=c.slice(0,a)+"."+c.slice(a));else 1<b&&(c=c.charAt(0)+"."+c.slice(1));return 0>this.ke&&this.Id[0]?"-"+c:c};a.ad=20;a.Xf=1;return a}();e.$p=a})(x||(x={}));(function(e){var d=function(){function b(a){this.Kf=
a}b.prototype.gs=function(a,c,b){var f=new e.b,k=new e.b,q=this.Kf;b.Fd(a,c,function(a,c){q.fc(2*a,f);q.fc(2*c,k);return f.compare(k)})};b.prototype.Qq=function(a){return this.Kf.read(2*a+1)};return b}(),m=function(){function b(){}b.Rq=function(a){if(a.u())return!1;var c=a.G();return 1736==c?0==a.ef()?!1:!0:1607==c?(c=[!1],b.GD(a,!0,c),c[0]):197==c||e.T.Nc(c)&&!a.CH()?!0:!1};b.Xm=function(a){var c=a.G();if(1736==c)return c=new e.Ua(a.description),a.u()||a.BE(c),c;if(1607==c)return b.GD(a,!1,null);
if(197==c)return c=new e.Ua(a.description),a.u()||c.hd(a,!1),c;if(e.T.Nc(c)){c=new e.Dd(a.description);if(!a.u()&&!a.CH()){var f=new e.Wa;a.Kp(f);c.add(f);a.Ip(f);c.add(f)}return c}if(e.T.Po(c))return null;throw e.g.F();};b.GD=function(a,c,b){null!=b&&(b[0]=!1);var f=null;c||(f=new e.Dd(a.description));if(!a.u()){var k=new e.ha(0);k.zb(2*a.aa());for(var q=0,t=a.aa();q<t;q++)if(0<a.La(q)&&!a.Ko(q)){var w=a.wa(q);k.add(w);w=a.Fc(q)-1;k.add(w)}if(0<k.size){t=new e.Ju;q=a.Qa(0);t.sort(k,0,k.size,new d(q));
t=new e.b;q.fc(2*k.get(0),t);for(var w=0,m=1,S=new e.Wa,L=new e.b,h=1,l=k.size;h<l;h++)if(q.fc(2*k.get(h),L),L.vb(t))k.get(w)>k.get(h)?(k.set(w,2147483647),w=h):k.set(h,2147483647),m++;else{if(0==(m&1))k.set(w,2147483647);else if(c)return null!=b&&(b[0]=!0),null;t.L(L);w=h;m=1}if(0==(m&1))k.set(w,2147483647);else if(c)return null!=b&&(b[0]=!0),null;if(!c)for(k.Fd(0,k.size,function(a,c){return a-c}),h=0,l=k.size;h<l&&2147483647!=k.get(h);h++)a.xe(k.get(h),S),f.add(S)}}return c?null:f};return b}();
e.Pi=m})(x||(x={}));(function(e){var d=function(){function d(){this.Zf=new e.ha(0);this.wt=new e.ha(0);this.GI=1;this.Ct=NaN}d.prototype.sort=function(b,a,c,f){if(32>c-a)f.gs(a,c,b);else{var g=!0;try{for(var k=Infinity,e=-Infinity,t=a;t<c;t++){var w=f.Qq(b.get(t));w<k&&(k=w);w>e&&(e=w)}if(this.reset(c-a,k,e,c-a)){for(t=a;t<c;t++){var d=b.get(t),w=f.Qq(d),m=this.DG(w);this.Zf.set(m,this.Zf.get(m)+1);this.wt.write(t-a,d)}var L=this.Zf.get(0);this.Zf.set(0,0);for(var t=1,h=this.Zf.size;t<h;t++){var l=
this.Zf.get(t);this.Zf.set(t,L);L+=l}for(t=a;t<c;t++){var d=this.wt.read(t-a),w=f.Qq(d),m=this.DG(w),n=this.Zf.get(m);b.set(n+a,d);this.Zf.set(m,n+1)}g=!1}}catch(G){this.Zf.resize(0),this.wt.resize(0)}if(g)f.gs(a,c,b);else{t=c=0;for(h=this.Zf.size;t<h;t++)g=c,c=this.Zf.get(t),c>g&&f.gs(a+g,a+c,b);100<this.Zf.size&&(this.Zf.resize(0),this.wt.resize(0))}}};d.prototype.reset=function(b,a,c,f){if(2>b||c==a)return!1;b=Math.min(d.sL,b);this.Zf.zb(b);this.Zf.resize(b);this.Zf.$h(0,0,this.Zf.size);this.GI=
a;this.wt.resize(f);this.Ct=(c-a)/(b-1);return!0};d.prototype.DG=function(b){return e.J.truncate((b-this.GI)/this.Ct)};d.sL=65536;return d}();e.Ju=d})(x||(x={}));(function(e){var d;(function(a){a[a.enum_line=1]="enum_line";a[a.enum_arc=2]="enum_arc";a[a.enum_dummy=4]="enum_dummy";a[a.enum_concave_dip=8]="enum_concave_dip";a[a.enum_connection=3]="enum_connection"})(d||(d={}));var m=function(){function a(){}a.Iv=function(c,b,f,g,d,m){var k=new a;k.An=new e.b;k.On=new e.b;k.Ow=new e.b;k.An.L(c);k.On.L(b);
k.Ow.L(f);k.wp=g;k.Oh=d;k.Rh=m;return k};a.pa=function(c,b,f,g){var k=new a;k.An=new e.b;k.On=new e.b;k.Ow=new e.b;k.An.L(c);k.On.L(b);k.Ow.Yc();k.wp=4;k.Oh=f;k.Rh=g;return k};return a}(),b=function(){function a(a,c,b,f,g,e){this.Lw=null;this.Ca=0;this.mB=a;this.cJ=this.aJ=0;this.Pa=c;this.jk=b;this.Zk=f;this.tr=g;this.mc=e}a.prototype.next=function(){for(var a=new e.Wa;;){if(this.Ca==this.mB.D())return null;this.mB.xe(this.Ca,a);this.Ca++;if(!a.u())break}var c=!1;null==this.Lw&&(this.aJ=a.Te(),this.cJ=
a.Cf(),this.Lw=f.buffer(a,this.Pa,this.jk,this.Zk,this.tr,this.mc),c=!0);var b;this.Ca<this.mB.D()?(b=new e.Ja,this.Lw.copyTo(b)):b=this.Lw;if(!c){var c=new e.Gd,g=a.Te()-this.aJ,a=a.Cf()-this.cJ;c.zg(g,a);b.Vc(c)}return b};a.prototype.Ia=function(){return 0};a.prototype.Oe=function(){return!0};return a}(),a=function(){function a(a,c){this.$a=a;this.Ca=0;this.dr=c}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;this.Ca++;if(!a.Ko(c))for(var b=a.Ba(a.Fc(c)-1);this.Ca<a.aa();){var f=
a.Ba(a.wa(this.Ca));if(a.Ko(this.Ca))break;if(f!=b)break;b=a.Ba(a.Fc(this.Ca)-1);this.Ca++}if(1==this.Ca-c)return this.$a.yF(this.$a.Y,c,this.dr);b=new e.Ua(this.$a.Y.description);b.Ui(this.$a.Y,c,!0);for(c+=1;c<this.Ca;c++)b.zs(this.$a.Y,c,0,a.ew(c),!1);return this.$a.yF(b,0,this.dr)}return null};a.prototype.Ia=function(){return 0};a.prototype.Oe=function(){return!0};return a}(),c=function(){function a(a){this.$a=a;this.Ca=0}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;
a.Ym(this.Ca);for(this.Ca++;this.Ca<a.aa()&&!(0<a.Ym(this.Ca));)this.Ca++;return 0==c&&this.Ca==a.aa()?this.$a.Ty(a,0,a.aa()):this.$a.Ty(a,c,this.Ca)}return null};a.prototype.Ia=function(){return 0};a.prototype.Oe=function(){return!0};return a}(),f=function(){function f(a){this.Ht=this.Zw=this.It=this.Ud=null;this.qe=[];this.mc=a;this.wb=this.xw=this.kV=this.Pa=this.bB=this.Xt=this.ta=0;this.ZA=this.Zk=-1;this.dr=!0}f.buffer=function(a,c,b,g,d,m){if(null==a)throw e.g.F();if(0>g)throw e.g.F();if(a.u())return new e.Ja(a.description);
var k=new e.h;a.ac(k);0<c&&k.P(c,c);m=new f(m);m.jk=b;m.Y=a;m.ta=e.na.$d(b,k,!0);m.Xt=e.na.$d(null,k,!0);m.Pa=c;m.kV=a.G();0>=d&&(d=96);m.wb=Math.abs(m.Pa);m.xw=0!=m.wb?1/m.wb:0;isNaN(g)||0==g?g=1E-5*m.wb:g>.5*m.wb&&(g=.5*m.wb);12>d&&(d=12);a=Math.abs(c)*(1-Math.cos(Math.PI/d));a>g?g=a:(a=Math.PI/Math.acos(1-g/Math.abs(c)),a<d-1&&(d=e.J.truncate(a),12>d&&(d=12,g=Math.abs(c)*(1-Math.cos(Math.PI/d)))));m.Zk=g;m.tr=d;m.bB=Math.min(m.Xt,.25*g);return m.zF()};f.prototype.Rv=function(){if(null==this.Ud)this.Ud=
[];else if(0!==this.Ud.length)return;var a=this.DF(),a=e.J.truncate((a+3)/4),c=.5*Math.PI/a;this.ZA=c;for(var b=0;b<4*a;b++)this.Ud.push(null);for(var f=Math.cos(c),c=Math.sin(c),g=e.b.pa(0,1),b=0;b<a;b++)this.Ud[b+0*a]=e.b.pa(g.y,-g.x),this.Ud[b+1*a]=e.b.pa(-g.x,-g.y),this.Ud[b+2*a]=e.b.pa(-g.y,g.x),this.Ud[b+3*a]=g,g=e.b.pa(g.x,g.y),g.su(f,c)};f.prototype.zF=function(){var a=this.Y.G();if(e.T.Nc(a))return a=new e.Ua(this.Y.description),a.cc(this.Y,!0),this.Y=a,this.zF();if(this.Pa<=this.ta)if(e.T.qU(a)){if(0>=
this.Pa&&(a=new e.h,this.Y.s(a),a.O()<=2*-this.Pa||a.ea()<=2*this.Pa))return new e.Ja(this.Y.description)}else return new e.Ja(this.Y.description);switch(this.Y.G()){case 33:return this.oP();case 550:return this.nP();case 1607:return this.qP();case 1736:return this.pP();case 197:return this.lP();default:throw e.g.za();}};f.prototype.qP=function(){if(this.EH(this.Y)){var c=new e.Wa;this.Y.xe(0,c);var b=new e.h;this.Y.s(b);c.rb(b.Tf());return this.wv(c)}this.Y=this.rW(this.Y);c=new a(this,this.dr);
return e.ei.local().V(c,this.jk,this.mc).next()};f.prototype.pP=function(){if(0==this.Pa)return this.Y;var a=e.Qm.local();this.Rv();this.Y=a.V(this.Y,null,!1,this.mc);if(0>this.Pa){var b=this.Y,b=this.Ty(b,0,b.aa());return a.V(b,this.jk,!1,this.mc)}if(this.EH(this.Y))return a=new e.Wa,this.Y.xe(0,a),b=new e.h,this.Y.s(b),a.rb(b.Tf()),this.wv(a);a=new c(this);return e.ei.local().V(a,this.jk,this.mc).next()};f.prototype.Ty=function(a,c,b){for(var g=new e.Ja(a.description);c<b;c++)if(!(1>a.La(c))){var k=
a.Ym(c),q=new e.h;a.nk(c,q);if(0<this.Pa)if(0<k)if(this.FH(a,c))k=new e.Wa,a.xe(a.wa(c),k),k.rb(q.Tf()),this.nv(g,k);else{var t=k=new e.Ua(a.description),t=e.Lu.JH(this.Y,c)||2==this.Ao(this.Y,c,t,!0,1)?this.xF(a,c):this.zo(k);g.add(t,!1)}else{if(!(q.O()+this.ta<=2*this.wb||q.ea()+this.ta<=2*this.wb||(t=k=new e.Ua(a.description),this.Ao(this.Y,c,t,!0,1),k.u()))){var d=new e.h;d.I(q);d.P(this.wb,this.wb);t.oq(d);t=this.zo(k);q=1;for(k=t.aa();q<k;q++)g.Ui(t,q,!0)}}else if(0<k){if(!(q.O()+this.ta<=2*
this.wb||q.ea()+this.ta<=2*this.wb||(t=k=new e.Ua(a.description),this.Ao(this.Y,c,t,!0,-1),k.u())))for(d=new e.h,t.ac(d),d.P(this.wb,this.wb),t.oq(d),t=this.zo(k),q=1,k=t.aa();q<k;q++)g.Ui(t,q,!0)}else for(t=k=new e.Ua(a.description),this.Ao(this.Y,c,t,!0,-1),t=this.zo(k),q=0,k=t.aa();q<k;q++)g.Ui(t,q,!0)}if(0<this.Pa)return 1<g.aa()?g=this.zo(g):f.lf(g);a=new e.h;g.ac(a);if(g.u())return f.lf(g);a.P(this.wb,this.wb);g.oq(a);g=this.zo(g);a=new e.Ja(g.description);q=1;for(k=g.aa();q<k;q++)a.Ui(g,q,
!1);return f.lf(a)};f.prototype.oP=function(){return this.wv(this.Y)};f.prototype.wv=function(a){var c=new e.Ja(this.Y.description);this.nv(c,a);return this.SX(c)};f.prototype.nP=function(){var a=new b(this.Y,this.Pa,this.jk,this.Zk,this.tr,this.mc);return e.ei.local().V(a,this.jk,this.mc).next()};f.prototype.lP=function(){var a=new e.Ja(this.Y.description);if(0>=this.Pa){if(0==this.Pa)a.hd(this.Y,!1);else{var c=new e.di;this.Y.Wn(c);c.P(this.Pa,this.Pa);a.hd(c,!1)}return a}a.hd(this.Y,!1);this.Y=
a;return this.xF(a,0)};f.prototype.xF=function(a,c){this.Rv();var b=new e.Ja(a.description),g=new e.b,k=new e.b,q=new e.b,d=new e.b,m=new e.b,h=new e.b,l=new e.b,n=new e.b,p=a.La(c),u=a.wa(c),r=0;for(c=a.La(c);r<c;r++){a.w(u+r,k);a.w(u+(r+1)%p,d);a.w(u+(r+2)%p,h);l.xc(d,k);if(0==l.length())throw e.g.za();l.uw();l.normalize();l.scale(this.wb);g.add(l,k);q.add(l,d);0==r?b.Bu(g):b.bj(g);b.bj(q);n.xc(h,d);if(0==n.length())throw e.g.za();n.uw();n.normalize();n.scale(this.wb);m.add(n,d);this.ZE(b,d,q,m,
!1)}return f.lf(b)};f.prototype.yF=function(a,c,b){this.Rv();if(1>a.La(c))return null;if(this.FH(a,c)&&0<this.Pa){b=new e.Wa;a.xe(a.wa(c),b);var f=new e.h;a.nk(c,f);b.rb(f.Tf());return this.wv(b)}f=new e.Ua(a.description);if(a.Ko(c))this.Ao(a,c,f,b,1),this.Ao(a,c,f,b,-1);else{var g=new e.Ua(a.description);g.Ui(a,c,!1);g.zs(a,c,0,a.ew(c),!1);this.Ao(g,0,f,b,1)}return this.zo(f)};f.prototype.Or=function(){this.kx++};f.prototype.zo=function(a){return e.Cg.ql(a,this.Xt,!0,!0,this.mc)};f.prototype.DF=
function(){if(0==this.Zk)return this.tr;var a=1-this.Zk*Math.abs(this.xw),c;-1>a?c=4:c=2*Math.PI/Math.acos(a)+.5;4>c?c=4:c>this.tr&&(c=this.tr);return e.J.truncate(c)};f.prototype.ZE=function(a,c,b,f,g){this.Rv();var k=new e.b;k.xc(b,c);k.scale(this.xw);var q=new e.b;q.xc(f,c);q.scale(this.xw);k=Math.atan2(k.y,k.x)/this.ZA;0>k&&(k=this.Ud.length+k);k=this.Ud.length-k;q=Math.atan2(q.y,q.x)/this.ZA;0>q&&(q=this.Ud.length+q);q=this.Ud.length-q;q<k&&(q+=this.Ud.length);var t=e.J.truncate(q),q=e.J.truncate(Math.ceil(k)),
k=new e.b;k.L(this.Ud[q%this.Ud.length]);k.tu(this.wb,c);var w=10*this.ta;k.sub(b);k.length()<w&&(q+=1);k.L(this.Ud[t%this.Ud.length]);k.tu(this.wb,c);k.sub(f);k.length()<w&&--t;b=t-q;b++;t=0;for(q%=this.Ud.length;t<b;t++,q=(q+1)%this.Ud.length)k.L(this.Ud[q]),k.tu(this.wb,c),a.bj(k),this.Or();g&&a.bj(f)};f.prototype.Ao=function(a,c,b,f,g){var k=new e.ed,q=k.IO(a,c);k.zq(this.bB,!1,!1);if(2>k.D(q)){if(0>g)return 1;g=a;k=new e.Wa;g.xe(g.wa(c),k);this.nv(b,k);return 1}var t=k.Ba(k.cb(k.Pb(q))),w=new e.Gd;
w.zg(-t.x,-t.y);k.Vc(w);if(f&&(this.MR(k,q,g),2>k.D(q))){if(0>g)return 1;g=a;k=new e.Wa;g.xe(g.wa(c),k);this.nv(b,k);return 1}this.qe.length=0;var d=k.Pb(q);c=k.cb(d);var P=1==g?k.Ra(c):k.U(c);a=1==g?k.U(c):k.Ra(c);var h=!0;f=new e.b;for(var q=new e.b,l=new e.b,n=new e.b,p=new e.b,u=new e.b,r=new e.b,x=new e.b,v=new e.b,z=new e.b,K=this.wb,d=k.La(d),y=0;y<d;y++)k.w(a,q),h&&(k.w(c,f),k.w(P,l),x.xc(f,l),x.normalize(),z.OH(x),z.scale(K),n.add(z,f)),r.xc(q,f),r.normalize(),v.OH(r),v.scale(K),p.add(f,
v),P=x.Vi(r),h=x.pi(r),0>P||0>h&&0==P?this.qe.push(m.Iv(n,p,f,2,this.qe.length+1,this.qe.length-1)):n.vb(p)||(this.qe.push(m.pa(n,f,this.qe.length+1,this.qe.length-1,"dummy")),this.qe.push(m.pa(f,p,this.qe.length+1,this.qe.length-1,"dummy"))),u.add(q,v),this.qe.push(m.Iv(p,u,f,1,this.qe.length+1,this.qe.length-1)),n.L(u),z.L(v),l.L(f),f.L(q),x.L(r),P=c,c=a,h=!1,a=1==g?k.U(c):k.Ra(c);this.qe[this.qe.length-1].Oh=0;this.qe[0].Rh=this.qe.length-1;this.tW(b);w.zg(t.x,t.y);b.mF(w,b.aa()-1);return 1};f.prototype.tW=
function(a){for(var c=this.ZP(),b=!0,f=c+1,g=c;f!=c;g=f){var e=this.qe[g],f=-1!=e.Oh?e.Oh:(g+1)%this.qe.length;0!=e.wp&&(b&&a.Bu(e.An),2==e.wp?this.ZE(a,e.Ow,e.An,e.On,!0):a.bj(e.On),b=!1)}};f.prototype.ZP=function(){null==this.Ht&&(this.Ht=[null,null,null,null,null,null,null,null,null]);for(var a=0,c=0,b=this.qe.length;c<b;){var f=this.qe[c];if(0!=(f.wp&3)){a=c;break}c=f.Oh}b=a+1;for(c=a;b!=a;c=b){for(var f=this.qe[c],b=f.Oh,g=1,d=null;b!=c;){d=this.qe[b];if(0!=(d.wp&3))break;b=d.Oh;g++}1!=g&&1==
(f.wp&d.wp)&&(null==this.It&&(this.It=new e.Hb,this.Zw=new e.Hb),this.It.Lc(f.An),this.It.Xc(f.On),this.Zw.Lc(d.An),this.Zw.Xc(d.On),1==this.It.Ma(this.Zw,this.Ht,null,null,this.Xt)&&(f.On.L(this.Ht[0]),d.An.L(this.Ht[0]),f.Oh=b,d.Rh=c))}return a};f.prototype.sw=function(a,c,b){var f=new e.b;f.xc(b,a);b=f.length();b=this.wb*this.wb-b*b*.25;if(0<b){b=Math.sqrt(b);f.normalize();f.Tr();var g=new e.b;g.xc(c,a);if(g.pi(f)+b>=this.wb)return!0}return!1};f.prototype.MR=function(a,c,b){for(var f=0;1>f;f++){var g=
!1,k=a.Pb(c),q=a.La(k);if(0==q)break;var t=q;if(3>q)break;!a.Qb(k)&&(t=q-1);for(var k=a.cb(k),q=0<b?a.Ra(k):a.U(k),d=0<b?a.U(k):a.Ra(k),m=q,h=!0,l=new e.b,n=new e.b,p=new e.b,u=new e.b,r=new e.b,x=e.b.pa(0,0),v=new e.b,z=new e.b,K=new e.b,y=new e.b,A=this.wb,C=0,B=0;B<t;){a.w(d,n);h&&(a.w(k,l),a.w(q,p),m=q);z.xc(l,p);z.normalize();v.xc(n,l);v.normalize();if(m==d)break;var H=z.Vi(v),E=z.pi(v),J=!0;0>H||0>E&&0==H||!this.sw(p,l,n)||(x.L(n),J=!1,++C,g=!0);if(J){if(0<C)for(;;){H=0<b?a.Ra(m):a.U(m);if(H==
k)break;a.w(H,u);if(this.sw(u,p,x))p.L(u),m=H,J=!1,++C;else{H!=d&&this.sw(u,p,n)&&this.sw(u,l,n)&&(p.L(u),m=H,J=!1,++C);break}}if(!J)continue;if(0<C){m=0<b?a.Ra(q):a.U(q);for(h=1;h<C;h++)J=0<b?a.Ra(m):a.U(m),a.td(m,!0),m=J;K.xc(l,p);C=K.length();C=A*A-C*C*.25;C=Math.sqrt(C);A-C>.5*this.Zk?(r.add(p,l),r.scale(.5),K.normalize(),K.Tr(),y.L(K),y.scale(A-C),r.add(y),a.Nf(q,r)):a.td(q,!0);C=0}p.L(l);m=k}l.L(n);q=k;k=d;d=0<b?a.U(k):a.Ra(k);B++;h=!1}if(0<C){m=0<b?a.Ra(q):a.U(q);for(h=1;h<C;h++)J=0<b?a.Ra(m):
a.U(m),a.td(m,!0),m=J;r.add(p,l);r.scale(.5);K.xc(l,p);C=K.length();C=A*A-C*C*.25;C=Math.sqrt(C);K.normalize();K.Tr();y.L(K);y.scale(A-C);r.add(y);a.Nf(q,r)}a.zq(this.bB,!1,!1);if(!g)break}};f.prototype.FH=function(a,c){if(1==a.La(c))return!0;var b=new e.h;a.nk(c,b);return Math.max(b.O(),b.ea())<.5*this.Zk?!0:!1};f.prototype.EH=function(a){var c=new e.h;a.s(c);return Math.max(c.O(),c.ea())<.5*this.Zk?!0:!1};f.prototype.rW=function(a){a=e.ND.local().V(a,.25*this.Zk,!1,this.mc);for(var c=0,b=0,f=a.aa();b<
f;b++)c=Math.max(a.La(b),c);if(32>c)return this.dr=!1,a;this.dr=!0;return e.Cg.ql(a,this.Xt,!1,!0,this.mc)};f.prototype.nv=function(a,c){c=c.w();if(null!=this.Ud&&0!==this.Ud.length){var b=new e.b;b.L(this.Ud[0]);b.tu(this.wb,c);a.Bu(b);for(var f=1,g=this.Ud.length;f<g;f++)b.L(this.Ud[f]),b.tu(this.wb,c),a.bj(b)}else for(var f=this.DF(),b=e.J.truncate((f+3)/4),f=.5*Math.PI/b,g=Math.cos(f),k=Math.sin(f),q=new e.b,d=3;0<=d;d--){q.ja(0,this.wb);switch(d){case 0:for(f=0;f<b;f++)a.ak(q.x+c.x,q.y+c.y),
q.su(g,k);break;case 1:for(f=0;f<b;f++)a.ak(-q.y+c.x,q.x+c.y),q.su(g,k);break;case 2:for(f=0;f<b;f++)a.ak(-q.x+c.x,-q.y+c.y),q.su(g,k);break;default:for(a.$x(q.y+c.x,-q.x+c.y),f=1;f<b;f++)q.su(g,k),a.ak(q.y+c.x,-q.x+c.y)}this.Or()}};f.lf=function(a){a.Xg(1,0);return a};f.prototype.SX=function(a){a.Xg(2,this.ta);a.Fl();return a};return f}();e.EL=f})(x||(x={}));(function(e){var d=function(){function d(b){this.Ha=b;this.a=new e.ed;this.md=new e.ha(0)}d.prototype.ki=function(b,a,c){switch(a){case 0:if(b.o<
c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};d.prototype.fz=function(b,a,c){return 1736==b.G()?this.gz(b,a,c):this.hz(b,a)};d.prototype.gz=function(b,a,c){if(0==this.Ha.O()||0==this.Ha.ea())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,g=new e.h,k=new e.b,q=new e.b,t=[0,0,0,0,0,0,0,0,0],w=[0,0,0,0,0,0,0,0,0];new e.Bg;var d=
new e.Hb,m=new e.ha(0);m.zb(Math.min(100,b.D()));for(var h=!1,l=0;!h&&4>l;l++){var n=!1,p=0!=(l&1),G=0;switch(l){case 0:G=this.Ha.o;n=a.o<=G&&a.v>=G;break;case 1:G=this.Ha.A;n=a.A<=G&&a.B>=G;break;case 2:G=this.Ha.v;n=a.o<=G&&a.v>=G;break;case 3:G=this.Ha.B,n=a.A<=G&&a.B>=G}if(n)for(h=!0,n=this.a.Pb(this.Y);-1!=n;){var u=-1,r=-1,x=this.a.cb(n),v=x;do{var z=this.a.jc(v);null==z&&(z=d,this.a.w(v,k),z.Lc(k),this.a.w(this.a.U(v),q),z.Xc(q));z.s(f);var K=this.ki(f,l,G),y=0,A=-1;if(-1==K){z=z.Tq(p,G,t,
w);0<z?y=this.a.Em(v,w,z):y=0;for(var y=y+1,C=v,B=this.a.U(C),z=0;z<y;z++){this.a.w(C,k);this.a.w(B,q);A=this.a.jc(C);null==A&&(A=d,A.Lc(k),A.Xc(q));A.s(g);A=this.ki(g,l,G);if(-1==A){if(p)A=Math.abs(k.y-G),H=Math.abs(q.y-G),A<H?(k.y=G,this.a.Nf(C,k)):(q.y=G,this.a.Nf(B,q));else{var A=Math.abs(k.x-G),H=Math.abs(q.x-G);A<H?(k.x=G,this.a.Nf(C,k)):(q.x=G,this.a.Nf(B,q))}A=this.a.jc(C);null==A&&(A=d,A.Lc(k),A.Xc(q));A.s(g);A=this.ki(g,l,G)}H=u;u=A;-1==r&&(r=u);if(0!=H||1!=u)1==H&&0==u||0!=H||0!=u||m.add(C);
1==u&&(h=!1);A=C=B;B=this.a.U(B)}}if(0==y){H=u;u=K;-1==r&&(r=u);if(0!=H||1!=u)1==H&&0==u||0!=H||0!=u||m.add(v);1==u&&(h=!1);A=this.a.U(v)}v=A}while(v!=x);0==r&&0==u&&m.add(x);z=0;for(u=m.size;z<u;z++)r=m.get(z),this.a.td(r,!1);m.clear(!1);n=3>this.a.La(n)?this.a.Qr(n):this.a.Sb(n)}}if(h)return b.Ka();this.iC();0<c&&this.uz(c);return this.a.Pe(this.Y)};d.prototype.hz=function(b){var a=new e.h,c=new e.h,f=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0],k=new e.Bg,q=b,t=new e.h;b.ac(t);for(var w=0;4>w;w++){var d=
!1,m=0!=(w&1),h=0;switch(w){case 0:h=this.Ha.o;d=t.o<=h&&t.v>=h;break;case 1:h=this.Ha.A;d=t.A<=h&&t.B>=h;break;case 2:h=this.Ha.v;d=t.o<=h&&t.v>=h;break;case 3:h=this.Ha.B,d=t.A<=h&&t.B>=h}if(d){d=q;q=b.Ka();d=d.Fa();d.zj();for(var l,n=new e.b;d.Ya();)for(var p,G=!0;d.Ea();){var u=d.ba();u.s(a);var r=this.ki(a,w,h);if(-1==r){if(r=u.Tq(m,h,f,g),0<r){var x=0;l=u.ec();for(var v=0;v<=r;v++)if(p=v<r?g[v]:1,x!=p){u.yh(x,p,k);var z=k.get();z.Lc(l);v<r&&(m?(n.x=f[v],n.y=h):(n.x=h,n.y=f[v]),z.Xc(n));z.s(c);
var y=this.ki(c,w,h);if(-1==y){l=z.ec();x=z.Ac();if(m)y=Math.abs(l.y-h),A=Math.abs(x.y-h),y<A?(l.y=h,z.Lc(l)):(x.y=h,z.Xc(x));else{var y=Math.abs(l.x-h),A=Math.abs(x.x-h);y<A?(l.x=h,z.Lc(l)):(x.x=h,z.Xc(x))}z.s(c);y=this.ki(c,w,h)}l=z.Ac();x=p;p=y;1==p?(q.cc(z,G),G=!1):G=!0}}}else p=r,1==p?(q.cc(u,G),G=!1):G=!0}}}return q};d.prototype.iC=function(){this.Li=-1;this.Fm(!1,this.Ha.o);this.Fm(!1,this.Ha.v);this.Fm(!0,this.Ha.A);this.Fm(!0,this.Ha.B);this.md.resize(0);this.md.zb(100);this.Li=this.a.Sd();
for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),f=0,g=this.a.La(a);f<g;f++,c=this.a.U(c))if(this.a.w(c,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,this.Li,this.md.size),this.md.add(c);this.xm(!1,this.Ha.o);this.xm(!1,this.Ha.v);this.xm(!0,this.Ha.A);this.xm(!0,this.Ha.B);this.Ez()};d.prototype.uz=function(b){for(var a=new e.b,c=new e.b,f=e.J.df(2048,0),g=this.a.Pb(this.Y);-1!=g;g=this.a.Sb(g)){var k=this.a.cb(g),q=k;do{var t=this.a.U(q);
this.a.w(q,a);var w=-1;a.x==this.Ha.o?(this.a.w(t,c),c.x==this.Ha.o&&(w=1)):a.x==this.Ha.v&&(this.a.w(t,c),c.x==this.Ha.v&&(w=1));a.y==this.Ha.A?(this.a.w(t,c),c.y==this.Ha.A&&(w=0)):a.y==this.Ha.B&&(this.a.w(t,c),c.y==this.Ha.B&&(w=0));if(-1!=w&&(w=e.b.Cb(a,c),w=e.J.truncate(Math.min(Math.ceil(w/b),2048)),!(1>=w))){for(var d=1;d<w;d++)f[d-1]=1*d/w;this.a.Em(q,f,w-1)}q=t}while(q!=k)}};d.prototype.Fm=function(b,a){var c=this.a.Sd(),f=new e.b,g=new e.ha(0);g.zb(100);for(var k=this.a.Pb(this.Y);-1!=
k;k=this.a.Sb(k))for(var q=this.a.cb(k),t=0,w=this.a.La(k);t<w;t++){var d=this.a.U(q);this.a.w(q,f);if(b?f.y==a:f.x==a)if(this.a.w(d,f),b?f.y==a:f.x==a)1!=this.a.Sa(q,c)&&(g.add(q),this.a.Va(q,c,1)),1!=this.a.Sa(d,c)&&(g.add(d),this.a.Va(d,c,1));q=d}this.a.je(c);if(!(3>g.size)){var m=this;g.Fd(0,g.size,function(a,c){return m.li(a,c)});c=new e.b;k=new e.b;q=new e.b;k.Yc();for(var h=-1,t=new e.ha(0),w=new e.ha(0),d=this.a.Sd(),l=this.a.Sd(),n=0,p=g.size;n<p;n++){var G=g.get(n);this.a.w(G,f);if(!f.vb(k)){if(-1!=
h){for(var u=h;u<n;u++){var h=g.get(u),r=this.a.U(h),G=this.a.Ra(h),x=!1;0>this.li(h,r)&&(this.a.w(r,c),b?c.y==a:c.x==a)&&(t.add(h),x=!0,this.a.Va(h,l,1));0>this.li(h,G)&&(this.a.w(G,c),b?c.y==a:c.x==a)&&(x||t.add(h),this.a.Va(h,d,1))}u=0;for(x=t.size;u<x;u++){h=t.get(u);G=this.a.Sa(h,d);r=this.a.Sa(h,l);if(1==G){G=this.a.Ra(h);this.a.w(G,q);var v=[0];v[0]=0;if(!q.vb(f)){var z=e.b.Cb(k,q);v[0]=e.b.Cb(q,f)/z;0==v[0]?v[0]=2.220446049250313E-16:1==v[0]&&(v[0]=.9999999999999998);this.a.Em(G,v,1);G=this.a.Ra(h);
this.a.Nf(G,f);w.add(G);this.a.Va(G,d,1);this.a.Va(G,l,-1)}}1==r&&(r=this.a.U(h),this.a.w(r,q),v=[0],v[0]=0,q.vb(f)||(z=e.b.Cb(k,q),v[0]=e.b.Cb(k,f)/z,0==v[0]?v[0]=2.220446049250313E-16:1==v[0]&&(v[0]=.9999999999999998),this.a.Em(h,v,1),G=this.a.U(h),this.a.Nf(G,f),w.add(G),this.a.Va(G,d,-1),this.a.Va(G,l,1)))}h=t;t=w;w=h;w.clear(!1)}h=n;k.L(f)}}this.a.je(d);this.a.je(l)}};d.prototype.xm=function(b,a){var c=new e.b,f=new e.ha(0);f.zb(100);for(var g=this.a.Sd(),k=0,q=this.md.size;k<q;k++){var t=this.md.get(k);
if(-1!=t){var w=this.a.U(t);this.a.w(t,c);if(b?c.y==a:c.x==a)if(this.a.w(w,c),b?c.y==a:c.x==a)-2!=this.a.Sa(t,g)&&(f.add(t),this.a.Va(t,g,-2)),-2!=this.a.Sa(w,g)&&(f.add(w),this.a.Va(w,g,-2))}}if(0!=f.size){var d=this;f.Fd(0,f.size,function(a,c){return d.li(a,c)});k=0;for(q=f.size;k<q;k++){var m=f.get(k);this.a.Va(m,g,k)}t=new e.b;w=new e.b;w.Yc();for(var h=-1,k=0,q=f.size;k<q;k++)if(m=f.get(k),-1!=m&&(this.a.w(m,c),!c.vb(w))){if(-1!=h)for(;;){for(var m=!1,l=1<k-h?k-1:k,n=h;n<l;n++){var p=f.get(n);
if(-1!=p){var G=-1,u=this.a.U(p);0>this.li(p,u)&&(this.a.w(u,t),b?t.y==a:t.x==a)&&(G=u);var u=-1,r=this.a.Ra(p);0>this.li(p,r)&&(this.a.w(r,t),b?t.y==a:t.x==a)&&(u=r);if(-1!=G&&-1!=u)this.ji(p,f,g),this.a.td(p,!1),this.ji(G,f,g),this.a.td(G,!1),m=!0;else if(-1!=G||-1!=u){for(r=n+1;r<k;r++){var x=f.get(r);if(-1!=x){var v=this.a.U(x),z=-1;0>this.li(x,v)&&(this.a.w(v,t),b?t.y==a:t.x==a)&&(z=v);var v=this.a.Ra(x),y=-1;0>this.li(x,v)&&(this.a.w(v,t),b?t.y==a:t.x==a)&&(y=v);if(-1!=z&&-1!=y){this.ji(x,f,
g);this.a.td(x,!1);this.ji(z,f,g);this.a.td(z,!1);m=!0;break}if(-1!=G&&-1!=y){this.qu(f,p,G,x,y,g);m=!0;break}else if(-1!=u&&-1!=z){this.qu(f,x,z,p,u,g);m=!0;break}}}if(m)break}}}if(!m)break}h=k;w.L(c)}}this.a.je(g)};d.prototype.ji=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Li);this.md.set(c,-1);a=this.a.kd(b);-1!=a&&this.a.cb(a)==b&&(this.a.ig(a,-1),this.a.rh(a,-1))};d.prototype.qu=function(b,a,c,f,g,e){this.a.Jc(a,f);this.a.Kc(f,a);this.a.Kc(c,g);this.a.Jc(g,c);this.ji(f,b,
e);this.a.Ni(f,!1);this.ji(g,b,e);this.a.Ni(g,!0)};d.prototype.Ez=function(){for(var b=0,a=this.md.size;b<a;b++){var c=this.md.get(b);-1!=c&&this.a.Bj(c,-1)}for(var f=0,g=0,e=this.a.Pb(this.Y);-1!=e;){var q=this.a.cb(e);if(-1==q||e!=this.a.kd(q)){var t=e,e=this.a.Sb(e);this.a.ig(t,-1);this.a.Rr(t)}else{c=q;t=0;do this.a.Bj(c,e),t++,c=this.a.U(c);while(c!=q);2>=t?(c=this.a.Sa(q,this.Li),this.md.set(c,-1),q=this.a.td(q,!1),2==t&&(c=this.a.Sa(q,this.Li),this.md.set(c,-1),this.a.td(q,!1)),t=e,e=this.a.Sb(e),
this.a.ig(t,-1),this.a.Rr(t)):(this.a.Up(e,!1),this.a.rh(e,this.a.Ra(q)),this.a.sk(e,t),g+=t,f++,e=this.a.Sb(e))}}b=0;for(a=this.md.size;b<a;b++)if(c=this.md.get(b),-1!=c&&(e=this.a.kd(c),-1==e)){e=this.a.Vf(this.Y,-1);t=0;q=c;do this.a.Bj(c,e),t++,c=this.a.U(c);while(c!=q);2>=t?(c=this.a.Sa(q,this.Li),this.md.set(c,-1),q=this.a.td(q,!1),2==t&&(c=this.a.Sa(q,this.Li),0<=c&&this.md.set(c,-1),this.a.td(q,!1)),t=e,this.a.ig(t,-1),this.a.Rr(t)):(this.a.ho(e,!0),this.a.sk(e,t),this.a.ig(e,q),this.a.rh(e,
this.a.Ra(q)),this.a.Up(e,!1),g+=t,f++)}this.a.Bm(this.Y,f);this.a.qk(this.Y,g);b=0;for(a=this.a.qd;-1!=a;a=this.a.Re(a))b+=this.a.D(a);this.a.CC(b)};d.xl=function(b,a,c,f){return(new d(a)).fz(b,c,f)};d.clip=function(b,a,c,f){if(b.u())return b;if(a.u())return b.Ka();var g=b.G();if(33==g)return c=b.w(),a.contains(c)?b:b.Ka();if(197==g)return c=new e.h,b.s(c),c.Ma(a)?(a=new e.di,b.copyTo(a),a.Np(c),a):b.Ka();var k=new e.h;b.ac(k);if(a.contains(k))return b;if(!a.Yb(k))return b.Ka();k=b.ob;if(null!=k&&
(k=k.Ii,null!=k)){k=k.Xn(a);if(1==k){if(1736!=g)throw e.g.za();b=new e.Ja(b.description);b.oq(a);return b}if(0==k)return b.Ka()}switch(g){case 550:f=null;for(var g=b.D(),k=b.Qa(0),q=0,t=0;t<g;t++)c=new e.b,k.fc(2*t,c),a.contains(c)||(0==q&&(f=b.Ka()),q<t&&f.Hd(b,q,t),q=t+1);0<q&&f.Hd(b,q,g);return 0==q?b:f;case 1736:case 1607:return d.xl(b,a,c,f);default:throw e.g.za();}};d.prototype.li=function(b,a){var c=new e.b;this.a.w(b,c);b=new e.b;this.a.w(a,b);return c.compare(b)};return d}();e.le=d})(x||
(x={}));(function(e){var d=function(){function d(b,a){this.Ha=b;this.a=new e.ed;this.md=new e.ha(0);this.ie=a}d.prototype.ki=function(b,a,c){switch(a){case 0:if(b.o<c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};d.prototype.fz=function(b,a,c){return 1736==b.G()?this.gz(b,a,c):this.hz(b,a)};d.prototype.gz=function(b,a,c){if(0==this.Ha.O()||0==
this.Ha.ea())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,g=new e.h,k=new e.b,q=new e.b,t=[0,0,0,0,0,0,0,0,0],w=[0,0,0,0,0,0,0,0,0],d=new e.Hb,m=new e.ha(0);m.zb(256);for(var h=!1,l=0;!h&&4>l;l++){var n=!1,p=0!=(l&1),G=0;switch(l){case 0:G=this.Ha.o;n=a.o<=G&&a.v>=G;break;case 1:G=this.Ha.A;n=a.A<=G&&a.B>=G;break;case 2:G=this.Ha.v;n=a.o<=G&&a.v>=G;break;case 3:G=this.Ha.B,n=a.A<=G&&a.B>=G}if(n)for(h=!0,n=this.a.Pb(this.Y);-1!=n;){var u=!0,r=-1,x=-1,v=this.a.cb(n),z=v;do{var y=
this.a.jc(z);null==y&&(y=d,this.a.w(z,k),y.Lc(k),this.a.w(this.a.U(z),q),y.Xc(q));y.s(f);var A=this.ki(f,l,G),K=0,C=-1;if(-1==A){y=y.Tq(p,G,t,w);0<y?K=this.a.iY(z,w,y):K=0;for(var K=K+1,B=z,H=this.a.U(B),y=0;y<K;y++){this.a.w(B,k);this.a.w(H,q);C=this.a.jc(B);null==C&&(C=d,C.Lc(k),C.Xc(q));C.s(g);C=this.ki(g,l,G);if(-1==C){if(p)C=Math.abs(k.y-G),J=Math.abs(q.y-G),C<J?(k.y=G,this.a.Nf(B,k)):(q.y=G,this.a.Nf(H,q));else{var C=Math.abs(k.x-G),J=Math.abs(q.x-G);C<J?(k.x=G,this.a.Nf(B,k)):(q.x=G,this.a.Nf(H,
q))}C=this.a.jc(B);null==C&&(C=d,C.Lc(k),C.Xc(q));C.s(g);C=this.ki(g,l,G)}J=r;r=C;-1==x&&(x=r);if(0!=J||1!=r)1==J&&0==r||0!=J||0!=r||m.add(B);1==r&&(u=h=!1);C=B=H;H=this.a.U(H)}}if(0==K){J=r;r=A;-1==x&&(x=r);if(0!=J||1!=r)1==J&&0==r||0!=J||0!=r||m.add(z);1==r&&(u=h=!1);C=this.a.U(z)}z=C;if(256<=m.size){y=1;for(A=m.size-1;y<A;y++)K=m.get(y),this.a.td(K,!1);m.set(1,m.Ec());m.uf(2)}}while(z!=v);if(!u)for(0==x&&0==r&&m.add(v),y=0,A=m.size;y<A;y++)K=m.get(y),this.a.td(K,!1);m.clear(!1);n=u||0==this.a.La(n)?
this.a.Qr(n):this.a.Sb(n)}}if(h)return b.Ka();this.iC();0<c&&this.uz(c);return this.a.Pe(this.Y)};d.prototype.hz=function(b){var a=new e.h,c=new e.h,f=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0],k=new e.Bg,q=b,t=new e.h;b.ac(t);for(var w=new e.b,d=new e.b,m=null,h=null,l=0;4>l;l++){var n=!1,p=0!=(l&1),G=0;switch(l){case 0:G=this.Ha.o;n=t.o<=G&&t.v>=G;break;case 1:G=this.Ha.A;n=t.A<=G&&t.B>=G;break;case 2:G=this.Ha.v;n=t.o<=G&&t.v>=G;break;case 3:G=this.Ha.B,n=t.A<=G&&t.B>=G}if(n)for(n=q,q=b.Ka(),n=
n.Fa(),n.zj();n.Ya();)for(var u,r=!0;n.Ea();){var x=n.ba();x.s(a);var v=this.ki(a,l,G);if(-1==v){if(v=x.Tq(p,G,f,g),0<v){var z=0;x.Oq(w);for(var y=0;y<=v;y++)if(u=y<v?g[y]:1,z!=u){x.yh(z,u,k);var A=k.get();A.Lc(w);y<v&&(p?(d.x=f[y],d.y=G):(d.x=G,d.y=f[y]),A.Xc(d));A.s(c);var K=this.ki(c,l,G);-1==K&&(null==m&&(m=new e.b),null==h&&(h=new e.b),A.Oq(m),A.Ns(h),p?(z=Math.abs(m.y-G),K=Math.abs(h.y-G),z<K?(m.y=G,A.Lc(m)):(h.y=G,A.Xc(h))):(z=Math.abs(m.x-G),K=Math.abs(h.x-G),z<K?(m.x=G,A.Lc(m)):(h.x=G,A.Xc(h))),
A.s(c),K=this.ki(c,l,G));A.Ns(w);z=u;u=K;1==u?(q.cc(A,r),r=!1):r=!0}}}else u=v,1==u?(q.cc(x,r),r=!1):r=!0}}return q};d.prototype.iC=function(){this.Li=-1;this.Fm(!1,this.Ha.o);this.Fm(!1,this.Ha.v);this.Fm(!0,this.Ha.A);this.Fm(!0,this.Ha.B);this.md.resize(0);this.md.zb(100);this.Li=this.a.Sd();for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),f=0,g=this.a.La(a);f<g;f++,c=this.a.U(c))if(this.a.w(c,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,
this.Li,this.md.size),this.md.add(c);this.xm(!1,this.Ha.o);this.xm(!1,this.Ha.v);this.xm(!0,this.Ha.A);this.xm(!0,this.Ha.B);this.Ez()};d.prototype.uz=function(b){for(var a=new e.b,c=new e.b,f=null,g=null,k=e.J.df(2048,0),q=this.a.Pb(this.Y);-1!=q;q=this.a.Sb(q)){var t=this.a.cb(q),w=t;do{var d=this.a.U(w);this.a.w(w,a);var m=-1;a.x==this.Ha.o?(this.a.w(d,c),c.x==this.Ha.o&&(m=1)):a.x==this.Ha.v&&(this.a.w(d,c),c.x==this.Ha.v&&(m=1));a.y==this.Ha.A?(this.a.w(d,c),c.y==this.Ha.A&&(m=0)):a.y==this.Ha.B&&
(this.a.w(d,c),c.y==this.Ha.B&&(m=0));if(-1!=m){null==f&&(f=new e.b);null==g&&(g=new e.b);f.L(a);g.ja(0,0);if(0==m){var h=a.x-this.Ha.o;g.x=e.Ub.sign(c.x-a.x);f.x=b*e.Ub.Kl(Math.floor(Math.abs(h/b)),h)+this.Ha.o;0>f.x&&(f.x+=b)}else h=a.y-this.Ha.A,g.y=e.Ub.sign(c.y-a.y),f.y=b*e.Ub.Kl(Math.floor(Math.abs(h/b)),h)+this.Ha.A,0>f.y&&(f.y+=b);var h=0!=m?c.y-a.y:c.x-a.x,l=Math.abs(h);if(65536<l/b)throw e.g.X("internal error");if(0<l){l=e.J.truncate(l/b)+2;k.length<l&&(k=e.J.df(l));for(var n=l=0;;n++){var p=
new e.b;p.x=f.x+g.x*n*b;p.y=f.y+g.y*n*b;p=(0!=m?p.y-a.y:p.x-a.x)/h;if(1<=p)break;0>=p||(k[l]=p,l++)}0!=l&&this.a.Em(w,k,l)}}w=d}while(w!=t)}};d.prototype.Fm=function(b,a){for(var c=-1,f=new e.b,g=null,k=this.a.Pb(this.Y);-1!=k;k=this.a.Sb(k))for(var q=this.a.cb(k),t=0,w=this.a.La(k);t<w;t++){var d=this.a.U(q);this.a.w(q,f);if(b?f.y==a:f.x==a)if(this.a.w(d,f),b?f.y==a:f.x==a)-1==c&&(c=this.a.Sd()),null==g&&(g=new e.ha(0),g.zb(100)),1!=this.a.Sa(q,c)&&(g.add(q),this.a.Va(q,c,1)),1!=this.a.Sa(d,c)&&
(g.add(d),this.a.Va(d,c,1));q=d}-1!=c&&this.a.je(c);if(!(null==g||3>g.size)){var m=this;g.Fd(0,g.size,function(a,c){return m.li(a,c)});c=new e.b;k=new e.b;q=new e.b;k.Yc();for(var h=-1,t=new e.ha(0),w=new e.ha(0),d=null,l=this.a.Sd(),n=this.a.Sd(),p=0,G=g.size;p<G;p++){var u=g.get(p);this.a.w(u,f);if(!f.vb(k)){if(-1!=h){for(var r=h;r<p;r++){var h=g.get(r),x=this.a.U(h),u=this.a.Ra(h),v=!1;this.a.w(x,c);0>k.compare(c)&&(b?c.y==a:c.x==a)&&(t.add(h),v=!0,this.a.Va(h,n,1));this.a.w(u,c);0>k.compare(c)&&
(b?c.y==a:c.x==a)&&(v||t.add(h),this.a.Va(h,l,1))}r=0;for(v=t.size;r<v;r++){h=t.get(r);u=this.a.Sa(h,l);x=this.a.Sa(h,n);if(1==u&&(u=this.a.Ra(h),this.a.w(u,q),!q.vb(f))){null==d&&(d=[]);var z=e.b.Cb(k,q);d[0]=e.b.Cb(q,f)/z;0==d[0]?d[0]=2.220446049250313E-16:1==d[0]&&(d[0]=.9999999999999998);this.a.Em(u,d,1);u=this.a.Ra(h);this.a.Nf(u,f);w.add(u);this.a.Va(u,l,1);this.a.Va(u,n,-1)}1==x&&(x=this.a.U(h),this.a.w(x,q),q.vb(f)||(null==d&&(d=[]),z=e.b.Cb(k,q),d[0]=e.b.Cb(k,f)/z,0==d[0]?d[0]=2.220446049250313E-16:
1==d[0]&&(d[0]=.9999999999999998),this.a.Em(h,d,1),u=this.a.U(h),this.a.Nf(u,f),w.add(u),this.a.Va(u,l,-1),this.a.Va(u,n,1)))}h=t;t=w;w=h;w.clear(!1)}h=p;k.L(f)}}this.a.je(l);this.a.je(n)}};d.prototype.xm=function(b,a){for(var c=new e.b,f=null,g=-1,k=0,q=this.md.size;k<q;k++){var t=this.md.get(k);if(-1!=t){var d=this.a.U(t);this.a.w(t,c);if(b?c.y==a:c.x==a)if(this.a.w(d,c),b?c.y==a:c.x==a)-1==g&&(g=this.a.Sd()),null==f&&(f=new e.ha(0),f.zb(100)),-2!=this.a.Sa(t,g)&&(f.add(t),this.a.Va(t,g,-2)),-2!=
this.a.Sa(d,g)&&(f.add(d),this.a.Va(d,g,-2))}}if(null==f)-1!=g&&this.a.je(g);else{var m=this;f.Fd(0,f.size,function(a,c){return m.li(a,c)});k=0;for(q=f.size;k<q;k++){var h=f.get(k);this.a.Va(h,g,k)}t=new e.b;d=new e.b;d.Yc();for(var l=-1,k=0,q=f.size;k<q;k++)if(h=f.get(k),-1!=h&&(this.a.w(h,c),!c.vb(d))){if(-1!=l)for(;;){for(var h=!1,n=1<k-l?k-1:k,p=l;p<n;p++){var u=f.get(p);if(-1!=u){var G=-1,r=this.a.U(u);this.a.w(r,t);0>d.compare(t)&&(b?t.y==a:t.x==a)&&(G=r);var r=-1,x=this.a.Ra(u);this.a.w(x,
t);0>d.compare(t)&&(b?t.y==a:t.x==a)&&(r=x);if(-1!=G&&-1!=r)this.ji(u,f,g),this.a.td(u,!1),this.ji(G,f,g),this.a.td(G,!1),h=!0;else if(-1!=G||-1!=r){for(x=p+1;x<k;x++){var v=f.get(x);if(-1!=v){var z=this.a.U(v),y=-1;this.a.w(z,t);0>d.compare(t)&&(b?t.y==a:t.x==a)&&(y=z);var z=this.a.Ra(v),A=-1;this.a.w(z,t);0>d.compare(t)&&(b?t.y==a:t.x==a)&&(A=z);if(-1!=y&&-1!=A){this.ji(v,f,g);this.a.td(v,!1);this.ji(y,f,g);this.a.td(y,!1);h=!0;break}if(-1!=G&&-1!=A){this.qu(f,u,G,v,A,g);h=!0;break}else if(-1!=
r&&-1!=y){this.qu(f,v,y,u,r,g);h=!0;break}}}if(h)break}}}if(!h)break}l=k;d.L(c)}this.a.je(g)}};d.prototype.ji=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Li);this.md.set(c,-1);a=this.a.kd(b);-1!=a&&this.a.cb(a)==b&&(this.a.ig(a,-1),this.a.rh(a,-1))};d.prototype.qu=function(b,a,c,f,g,e){this.a.Jc(a,f);this.a.Kc(f,a);this.a.Kc(c,g);this.a.Jc(g,c);this.ji(f,b,e);this.a.Ni(f,!1);this.ji(g,b,e);this.a.Ni(g,!0)};d.prototype.Ez=function(){for(var b=0,a=this.md.size;b<a;b++){var c=this.md.get(b);
-1!=c&&this.a.Bj(c,-1)}for(var f=0,g=0,e=this.a.Pb(this.Y);-1!=e;){var q=this.a.cb(e);if(-1==q||e!=this.a.kd(q)){var t=e,e=this.a.Sb(e);this.a.ig(t,-1);this.a.Rr(t)}else{c=q;t=0;do this.a.Bj(c,e),t++,c=this.a.U(c);while(c!=q);this.a.Up(e,!1);this.a.rh(e,this.a.Ra(q));this.a.sk(e,t);g+=t;f++;e=this.a.Sb(e)}}b=0;for(a=this.md.size;b<a;b++)if(c=this.md.get(b),-1!=c&&(e=this.a.kd(c),-1==e)){e=this.a.Vf(this.Y,-1);t=0;q=c;do this.a.Bj(c,e),t++,c=this.a.U(c);while(c!=q);2>=t?(c=this.a.Sa(q,this.Li),this.md.set(c,
-1),q=this.a.td(q,!1),2==t&&(c=this.a.Sa(q,this.Li),0<=c&&this.md.set(c,-1),this.a.td(q,!1)),t=e,this.a.ig(t,-1),this.a.Rr(t)):(this.a.ho(e,!0),this.a.sk(e,t),this.a.ig(e,q),this.a.rh(e,this.a.Ra(q)),this.a.Up(e,!1),g+=t,f++)}this.a.Bm(this.Y,f);this.a.qk(this.Y,g);b=0;for(a=this.a.qd;-1!=a;a=this.a.Re(a))b+=this.a.D(a);this.a.CC(b)};d.ye=function(b,a,c,f,g){return(new d(a,g)).fz(b,c,f)};d.clip=function(b,a,c,f,g){return d.rq(b,a,null,c,f,g)};d.rq=function(b,a,c,f,g,k){var q=b.G();if(33==q)return g=
b.w(),a.contains(g)?b:b.Ka();if(197==q)return g=new e.h,b.s(g),g.Ma(a)?(a=new e.di,b.copyTo(a),a.Np(g),a):b.Ka();if(b.u())return b;if(a.u())return b.Ka();var t=new e.h;b.ac(t);if(a.contains(t))return b;if(!a.Yb(t))return b.Ka();if(null!=c||isNaN(f))f=e.na.Xy(c,a,!1);if(!e.T.fh(q))throw e.g.F();c=b.ob;if(null!=c&&(c=c.Ii,null!=c)){c=c.Xn(a);if(1==c){if(1736!=q)throw e.g.X("internal error");b=new e.Ja(b.description);b.oq(a);return b}if(0==c)return b.Ka()}switch(q){case 550:k=null;q=b.D();f=b.Qa(0);
c=0;g=new e.b;for(t=0;t<q;t++)f.fc(2*t,g),a.contains(g)||(0==c&&(k=b.Ka()),c<t&&k.Hd(b,c,t),c=t+1);0<c&&k.Hd(b,c,q);return 0==c?b:k;case 1736:case 1607:return d.ye(b,a,f,g,k);default:throw e.g.X("internal error");}};d.prototype.li=function(b,a){var c=new e.b;this.a.w(b,c);b=new e.b;this.a.w(a,b);return c.compare(b)};return d}();e.th=d})(x||(x={}));(function(e){var d=new e.b,m=function(){function a(a,b,g,k,q){this.In=new e.b;this.hl=new e.b;this.pj=new e.b;this.a=a;this.px=g;this.hp=k;this.In=b;this.im=
q;this.hl.Yc();this.pj.Yc()}a.prototype.HF=function(a){this.a.w(a,this.hl);a=e.J.truncate((this.hl.x-this.In.x)*this.hp+.5);var c=e.J.truncate((this.hl.y-this.In.y)*this.hp+.5);return b.lH(a,c)};a.prototype.Yz=function(a){return this.a.Sa(a,this.im)};a.prototype.zz=function(a,f){this.a.w(a,this.hl);this.a.w(f,this.pj);return b.pw(this.hl.x,this.hl.y,this.pj.x,this.pj.y,this.px)};return a}();e.fZ=function(){return function(){}}();var b=function(){function a(){this.In=new e.b;this.er=[0,0,0,0];this.vt=
[0,0,0,0];this.kp=this.im=-1}a.zR=function(c,b){var f=new a;f.a=c;f.ta=b;f.px=b*b;f.Nw=2*b;f.hp=1/f.Nw;return f.aQ()};a.pw=function(a,b,g,e,q){a-=g;b-=e;return a*a+b*b<=q};a.lH=function(a,b){return e.J.bh(b,e.J.bh(a))};a.prototype.cQ=function(c,b){this.a.Mc(c,d);for(var f=(d.y-this.In.y)*this.hp,k=e.J.truncate((d.x-this.In.x)*this.hp),q=e.J.truncate(f),t=f=0;1>=t;t+=1)for(var w=0;1>=w;w+=1){var m=a.lH(k+t,q+w),h=this.hm.IS(m);-1!=h&&(this.er[f]=h,this.vt[f]=m,f++)}for(k=f-1;1<=k;k--)for(h=this.er[k],
q=k-1;0<=q;q--)if(h==this.er[q]){this.vt[q]=-1;f--;k!=f&&(this.vt[k]=this.vt[f],this.er[k]=this.er[f]);break}for(q=0;q<f;q++)this.dQ(c,this.vt[q],d,this.er[q],b)};a.prototype.dQ=function(c,b,g,k,q){for(var f=new e.b;-1!=k;k=this.hm.YS(k)){var d=this.hm.ia(k);c==d||-1!=b&&this.a.Sa(d,this.im)!=b||(this.a.Mc(d,f),a.pw(g.x,g.y,f.x,f.y,this.px)&&q.add(k))}};a.prototype.Rn=function(a,b,g){var c=this.a.Sa(a,this.kp),f=this.a.Sa(b,this.kp);-1==c&&(c=this.Md.ni(),this.Md.addElement(c,a),this.a.Va(a,this.kp,
c));-1==f?this.Md.addElement(c,b):this.Md.kz(c,f);this.a.Va(b,this.kp,-2);b=this.AV(a,b);g&&(g=this.Yw.HF(a),this.a.Va(a,this.im,g));return b};a.zV=function(c,b,g){c.Eb(b);g=c;var f=new e.b;a.HN(c.w(),b.w(),f);g.rb(f)};a.HN=function(a,b,g){var c=a.x;a.x!=b.x&&(c=(1*a.x+1*b.x)/2);var f=a.y;a.y!=b.y&&(f=(1*a.y+1*b.y)/2);g.ja(c,f)};a.prototype.AV=function(a,b){var c=new e.b;this.a.w(a,c);var f=new e.b;this.a.w(b,f);var q=this.a.fH(a);b=this.a.fH(b);var t=q+b,d=0,m=c.x;c.x!=f.x&&(m=(c.x*q+f.x*b)/t,d++);
var h=c.y;c.y!=f.y&&(h=(c.y*q+f.y*b)/t,d++);0<d&&this.a.rb(a,m,h);this.a.VX(a,t);return 0!=d};a.prototype.aQ=function(){var a=this.a.ud,b=this.a.LG();this.In=b.aA();b=Math.max(b.ea(),b.O())/2147483646;this.Nw<b&&(this.Nw=b,this.hp=1/this.Nw);this.Md=new e.Nu;this.Md.ru(e.J.truncate(this.a.ud/3+1));this.Md.ao(e.J.truncate(this.a.ud/3+1));this.im=this.a.Sd();this.kp=this.a.Sd();this.Yw=new m(this.a,this.In,this.px,this.hp,this.im);this.hm=new e.nM(e.J.truncate(4*a/3),this.Yw);this.hm.bX(this.a.ud);
a=!1;for(b=this.a.qd;-1!=b;b=this.a.Re(b))for(var g=this.a.Pb(b);-1!=g;g=this.a.Sb(g))for(var k=this.a.cb(g),q=0,t=this.a.La(g);q<t;q++){var d=this.Yw.HF(k);this.a.Va(k,this.im,d);this.hm.addElement(k,d);k=this.a.U(k)}var P=new e.ha(0);P.zb(10);for(b=this.a.qd;-1!=b;b=this.a.Re(b))for(g=this.a.Pb(b);-1!=g;g=this.a.Sb(g))for(k=this.a.cb(g),q=0,t=this.a.La(g);q<t;q++){if(-2!=this.a.Sa(k,this.kp))for(d=this.a.Sa(k,this.im),this.hm.jd(k,d);;){this.cQ(k,P);if(0==P.size)break;for(var d=!1,h=0,l=P.size;h<
l;h++){var n=P.get(h),p=this.hm.ia(n);this.hm.Jd(n);d=this.Rn(k,p,h+1==l)||d}a=a||d;P.clear(!1);if(!d)break}k=this.a.U(k)}a&&this.UO();this.Yw=this.hm=null;this.a.je(this.im);this.a.je(this.kp);return a};a.prototype.UO=function(){for(var a=new e.b,b=this.Md.De;-1!=b;b=this.Md.eA(b)){var g=this.Md.wc(b);this.a.w(this.Md.ia(g),a);for(g=this.Md.nb(g);-1!=g;g=this.Md.nb(g))this.a.Nf(this.Md.ia(g),a)}};return a}();e.Ku=b})(x||(x={}));(function(e){var d=function(){function d(b){void 0===b&&(b=null);this.Le=
null;this.xa=!1;null===b?this.Le=[]:this.Le=b}d.prototype.copyTo=function(b){if(b.xa)throw e.g.X("CompositeGeographicTransformation is read-only");for(var a=0;a<this.Le.length;a++)b.Le.push(this.Le[a].Sf())};d.prototype.count=function(){return this.Le.length};d.prototype.KS=function(b){return this.Le[b]};d.prototype.add=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Le.push(b.Sf())};d.prototype.clear=function(){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");
this.Le.length=0};d.prototype.remove=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Le.splice(b,1)};d.prototype.Wv=function(){for(var b=this.me(),a=0;a<b.count();a++)b.KS(a).mt();b.Le=b.Le.reverse();return b};d.prototype.me=function(){var b=new d;this.copyTo(b);return b};d.prototype.Sf=function(){return this.me()};d.prototype.transform=function(b,a,c,f){if(b.length<a)throw e.g.X("invalid Argument");var g=c;for(c=0;c<this.Le.length;c++){var k=this.Le[c];if(null!=
k.jn()){var q=k.tn,t=q?1:0,d=q?k.jn().getGeogcs2():k.jn().getGeogcs1(),d=d.getUnit().getUnitFactor(),d=g/d;if(3.552713678800501E-15<Math.abs(d-1))for(g=0;g<a;g++)b[g][0]*=d,b[g][1]*=d;e.VD.geogToGeog(k.jn(),a,b,null,t);g=(q?k.jn().getGeogcs1():k.jn().getGeogcs2()).getUnit().getUnitFactor()}}d=g/f;if(3.552713678800501E-15<Math.abs(d-1))for(g=0;g<a;g++)b[g][0]*=d,b[g][1]*=d;return a};d.prototype.getName=function(){if(0==this.Le.length)return"";for(var b="",a=0,c=this.Le.length;a<c;++a)""!==b&&(b+=" + "),
b+=this.Le[a].getName();return b};d.prototype.Eb=function(b){if(b==this)return!0;if(!(b instanceof d)||this.Le.length!=b.Le.length)return!1;for(var a=0;a<this.Le.length;a++)if(!this.Le[a].Eb(b.Le[a]))return!1;return!0};d.prototype.Tp=function(){this.xa=!0};d.prototype.toString=function(){var b=toString();return 200<b.length?b.substring(0,197)+"... ("+b.length.toString()+" characters)":b};d.create=function(){return new d};d.Om=function(b,a){var c=new d;c.add(e.oo.create(b,a));return c};d.ro=function(b,
a){var c=new d;c.add(e.oo.eG(b,a));return c};return d}();e.ky=d})(x||(x={}));(function(e){var d=Math.PI,m=2*Math.PI,b=Math.PI/2,a=function(){function a(){}a.sQ=function(c,b){var f=new a;f.x=c;f.y=b;f.type=0;f.vi=0;return f};a.Jl=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=0;b.vi=0;return b};a.rQ=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=c.type;b.vi=c.vi;return b};a.ae=function(c,b,f){var g=new a;g.x=c.x+b*Math.cos(f);g.y=c.y+b*Math.sin(f);g.type=c.type;g.vi=c.vi;return g};a.Hv=function(c,
b){var f=new a;f.x=.5*(c.x+b.x);f.y=.5*(c.y+b.y);f.type=c.type;f.vi=c.vi;return f};a.ZF=function(c,b){var f=new a;f.x=c.x+.001*(b.x-c.x);f.y=c.y+.001*(b.y-c.y);f.type=c.type;f.vi=c.vi;return f};return a}(),c=function(){return function(){}}();(function(a){a[a.Round=0]="Round";a[a.Bevel=1]="Bevel";a[a.Miter=2]="Miter";a[a.Square=3]="Square"})(e.rM||(e.rM={}));var f=function(){function f(a){this.vB=this.$b=this.Qg=null;this.ie=a}f.V=function(a,c,b,g,d,m){if(null==a)throw e.g.F();if(1>a.ub())throw e.g.F();
if(0==c||a.u())return a;m=new f(m);m.ep=a;m.Pa=c;m.ta=d;m.kj=b;m.lB=g;return m.wy()};f.prototype.UN=function(){var a=this.ep,c=a.ec(),b=a.Ac(),f=new e.b;f.xc(b,c);f.normalize();f.uw();f.scale(this.Pa);c.add(f);b.add(f);f=a.Ka();a.Lc(c);a.Xc(b);return f};f.prototype.TN=function(){var a=this.ep;if(0<this.Pa&&2!=this.kj){var c=new e.Ja;c.hd(a,!1);this.ep=c;return this.wy()}a=new e.di(a.$);a.P(this.Pa,this.Pa);return a};f.prototype.ZJ=function(a,c,b,f){return(c.x-a.x)*(f.x-b.x)+(c.y-a.y)*(f.y-b.y)};f.prototype.pc=
function(c,f){if(void 0===f)this.$b.push(c),this.Hf++;else if(0==this.Hf)this.pc(c);else{var g=this.qx,e,k;e=this.Qg[0==f?g-1:f-1];k=this.Qg[f];var q=this.ZJ(e,k,this.$b[this.Hf-1],c);0<q?this.pc(c):0>q&&(0<this.ZJ(e,k,k,this.$b[this.Hf-1])?(k=this.Qg[0==f?g-2:1==f?g-1:f-2],g=a.ae(e,this.Pa,Math.atan2(e.y-k.y,e.x-k.x)-b),this.$b[this.Hf-1]=g,1==this.kj||2==this.kj?(g=a.Hv(g,e),this.pc(g),g=a.ae(e,this.Pa,this.ww+b),e=a.Hv(g,e),e.type|=256,this.pc(e)):(g=a.ae(e,this.Pa,this.ww+b),g.type|=256),this.pc(g),
this.pc(c,f)):(g=a.ae(k,this.Pa,this.ww+b),this.pc(g),1==this.kj||2==this.kj?(g=a.Hv(g,k),this.pc(g),g=a.ae(k,this.Pa,this.MA-b),e=a.Hv(g,k),e.type|=256,this.pc(e)):(g=a.ae(k,this.Pa,this.MA-b),g.type|=256),this.pc(g)))}};f.prototype.AF=function(){var c,f,g,w,P,h,l=this.qx;this.Hf=0;var n=.5*this.ta,p=0,u=0;for(c=0;c<l;c++){w=this.Qg[c];P=0==c?this.Qg[l-1]:this.Qg[c-1];h=c==l-1?this.Qg[0]:this.Qg[c+1];var G=P.x-w.x,r=P.y-w.y,x=h.x-w.x,v=h.y-w.y;f=Math.atan2(r,G);g=Math.atan2(v,x);this.ww=f;this.MA=
g;0==c&&(p=f,u=g);G=G*v-x*r;r=g;g<f&&(g+=m);if(0<G*this.Pa)1==this.kj||2==this.kj?(f=a.ae(w,this.Pa,f+b),this.pc(f),f=a.ZF(w,f),this.pc(f),f=a.ae(w,this.Pa,g-b),w=a.ZF(w,f),w.type|=256,this.pc(w),this.pc(f)):(G=.5*(g-f),G=this.Pa/Math.abs(Math.sin(G)),f=a.ae(w,G,.5*(f+g)),this.pc(f,c));else if(0!=(w.type&512)){G=1-n/Math.abs(this.Pa);P=1;h=0>this.Pa?-d:d;-1<G&&1>G&&(r=2*Math.acos(G),.017453292519943295>r&&(r=.017453292519943295),P=e.J.truncate(d/r+1.5),1<P&&(h/=P));r=f+b;f=a.ae(w,this.Pa,r);0==c&&
(f.type|=1024);this.pc(f,c);G=this.Pa/Math.cos(h/2);r+=h/2;f=a.ae(w,G,r);f.type|=1024;for(this.pc(f);0<--P;)r+=h,f=a.ae(w,G,r),f.type|=1024,this.pc(f);f=a.ae(w,this.Pa,g-b);f.type|=1024;this.pc(f)}else if(1==this.kj)f=a.ae(w,this.Pa,f+b),this.pc(f,c),f=a.ae(w,this.Pa,g-b),this.pc(f);else if(0==this.kj)for(G=1-n/Math.abs(this.Pa),P=1,h=g-b-(f+b),-1<G&&1>G&&(r=2*Math.acos(G),.017453292519943295>r&&(r=.017453292519943295),P=e.J.truncate(Math.abs(h)/r+1.5),1<P&&(h/=P)),G=this.Pa/Math.cos(.5*h),r=f+b+
.5*h,f=a.ae(w,G,r),this.pc(f,c);0<--P;)r+=h,f=a.ae(w,G,r),this.pc(f);else 2==this.kj?(G=P.x-w.x,r=P.y-w.y,x=h.x-w.x,v=h.y-w.y,P=(G*x+r*v)/Math.sqrt(G*G+r*r)/Math.sqrt(x*x+v*v),.99999999<P?(f=a.ae(w,1.4142135623730951*this.Pa,g-.25*d),this.pc(f,c),f=a.ae(w,1.4142135623730951*this.Pa,g+.25*d),this.pc(f)):(P=Math.abs(this.Pa/Math.sin(.5*Math.acos(P))),h=Math.abs(this.lB*this.Pa),P>h?(G=.5*(g-f),G=this.Pa/Math.abs(Math.sin(G)),f=a.ae(w,G,.5*(f+g)),g=e.b.pa(f.x,f.y),f=e.b.pa(w.x,w.y),w=new e.b,w.xc(g,
f),g=new e.b,g.iX(h/w.length(),w,f),f=(P-h)*Math.abs(this.Pa)/Math.sqrt(P*P-this.Pa*this.Pa),0<this.Pa?w.uw():w.Tr(),w.scale(f/w.length()),f=new e.b,f.add(g,w),P=new e.b,P.xc(g,w),f=a.Jl(f),this.pc(f,c),f=a.Jl(P),this.pc(f)):(G=.5*(g-f),G=this.Pa/Math.abs(Math.sin(G)),f=a.ae(w,G,.5*(f+g)),this.pc(f,c)))):(g=r,0<this.Pa?(g>f&&(g-=m),P=f-g<b):(g<f&&(g+=m),P=g-f<b),P?(G=1.4142135623730951*this.Pa,r=0>G?f+.25*d:f+.75*d,f=a.ae(w,G,r),this.pc(f,c),r=0>G?g-.25*d:g-.75*d,f=a.ae(w,G,r),this.pc(f)):(G=.5*(g-
f),G=this.Pa/Math.abs(Math.sin(G)),g<f&&(g+=m),f=a.ae(w,G,(f+g)/2),this.pc(f,c)))}this.ww=p;this.MA=u;this.pc(this.$b[0],0);w=a.rQ(this.$b[this.Hf-1]);this.$b[0]=w;return this.YW()};f.prototype.pv=function(a,c){if(!(2>c))for(var b=0;b<c;b++){var f=this.$b[a+b];0!=b?this.vB.bj(e.b.pa(f.x,f.y)):this.vB.Bu(e.b.pa(f.x,f.y))}};f.prototype.VN=function(c,b,f){var g=c.wa(b),e=c.Fc(b);this.$b=[];this.vB=f;if(c.Qb(b)){for(b=c.Ba(g);c.Ba(e-1).vb(b);)e--;if(2<=e-g){this.qx=e-g;this.Qg=[];for(b=g;b<e;b++)this.Qg.push(a.Jl(c.Ba(b)));
this.AF()&&this.pv(0,this.Hf-1)}}else{for(b=c.Ba(g);g<e&&c.Ba(g+1).vb(b);)g++;for(b=c.Ba(e-1);g<e&&c.Ba(e-2).vb(b);)e--;if(2<=e-g){this.qx=2*(e-g)-2;this.Qg=[];f=a.Jl(c.Ba(g));f.type|=1536;this.Qg.push(f);for(b=g+1;b<e-1;b++)f=a.Jl(c.Ba(b)),this.Qg.push(f);f=a.Jl(c.Ba(e-1));f.type|=512;this.Qg.push(f);for(b=e-2;b>=g+1;b--)f=a.Jl(c.Ba(b)),f.type|=1024,this.Qg.push(f);if(this.AF())if(2<=this.$b.length){c=-1;(e=0!=(this.$b[this.Hf-1].type&1024))||(c=0);for(b=1;b<this.Hf;b++)(g=0!=(this.$b[b].type&1024))?
e||(e=b-1,1<e-c+1&&this.pv(c,e-c+1)):e&&(c=b-1),e=g;e||(e=this.Hf-1,1<e-c+1&&this.pv(c,e-c+1))}else c=0,e=this.Hf-1,0<=c&&1<=e-c&&this.pv(c,e-c+1)}}this.Qg=null;this.qx=0;this.$b=null;this.Hf=0};f.prototype.YW=function(){for(var a=!1,c=0;c<this.Hf;c++){var b=this.$b[c];b.Oh=c+1;b.Rh=c-1;this.$b[c]=b}b=this.$b[0];b.Rh=this.Hf-2;this.$b[0]=b;b=this.$b[this.Hf-2];b.Oh=0;this.$b[this.Hf-2]=b;for(c=b=0;c<this.Hf;c++)if(0!=(this.$b[b].type&256)){var f=this.$Q(b);if(-1!=f)b=f;else{a=!0;break}}else b=this.$b[b].Oh;
if(a)return!1;this.pQ(b);return!0};f.prototype.$Q=function(a){for(var c=this.Hf-1,b=a,f,g,e=1;e<=c-2;e++){f=b=this.$b[b].Oh;g=a;for(var k=1;k<=e;k++){g=this.$b[g].Rh;if(0==(this.$b[g].type&256)&&0==(this.$b[f].type&256)){var d=this.CT(g,f);if(-1!=d)return d}f=this.$b[f].Rh}}return-1};f.prototype.CT=function(a,b){var f,g,k,q;f=this.$b[this.$b[a].Rh];g=this.$b[a];k=this.$b[this.$b[b].Rh];q=this.$b[b];if(!this.mX(f,g,k,q))return-1;var d=new c;return this.NR(f,g,k,q,d)&&!d.qF&&e.J.GK((g.x-f.x)*(q.y-k.y)-
(g.y-f.y)*(q.x-k.x))!=e.J.GK(this.Pa)?(f=this.$b[a].Rh,d.Vn.type=g.type,d.Vn.Oh=b,d.Vn.Rh=f,this.$b[a]=d.Vn,d.Vn=this.$b[b],d.Vn.Rh=a,this.$b[b]=d.Vn,b):-1};f.prototype.mX=function(a,c,b,f){return Math.max(a.x,c.x)>=Math.min(b.x,f.x)&&Math.max(b.x,f.x)>=Math.min(a.x,c.x)&&Math.max(a.y,c.y)>=Math.min(b.y,f.y)&&Math.max(b.y,f.y)>=Math.min(a.y,c.y)};f.prototype.NR=function(c,b,f,g,e){e.qF=!1;var k,q,t;k=(b.y-c.y)*(g.x-f.x)-(b.x-c.x)*(g.y-f.y);q=(f.y-c.y)*(b.x-c.x)-(f.x-c.x)*(b.y-c.y);k=0==k?2:q/k;return 0<=
k&&1>=k&&(t=k,k=(g.y-f.y)*(b.x-c.x)-(g.x-f.x)*(b.y-c.y),q=(c.y-f.y)*(g.x-f.x)-(c.x-f.x)*(g.y-f.y),k=0==k?2:q/k,0<=k&&1>=k)?(e.Vn=a.sQ(c.x+k*(b.x-c.x),c.y+k*(b.y-c.y)),e.Vn.vi=f.vi+t*(g.vi-f.vi),0!=t&&1!=t||0!=k&&1!=k||(e.qF=!0),e.s_=k,e.t_=t,(0==t||1==t)&&0<k&&1>k||(0==k||1==k)&&0<t&&1>t?!1:!0):!1};f.prototype.pQ=function(a){for(;this.$b[a].Rh<a;)a=this.$b[a].Rh;var c=0,b=a;do b=this.$b[b],this.$b[c]=b,b=b.Oh,c++;while(b!=a);this.$b[c]=this.$b[0];this.Hf=c+1};f.prototype.zE=function(a){var c=this.ep,
b=c.Fa();if(null!=b){b.zj();for(var f=-1;b.Ya();)f++,this.VN(c,f,a)}};f.prototype.wy=function(){var a=this.ep.G();return 322==a?this.UN():197==a?this.TN():e.T.Nc(a)?(a=new e.Ua,a.cc(this.ep,!0),this.ep=a,this.wy()):1607==a?(a=new e.Ua,this.zE(a),a):1736==a?(a=new e.Ja,this.zE(a),a):null};return f}();e.HL=f})(x||(x={}));(function(e){var d=function(){function a(a){this.Uk=a}a.prototype.w=function(a,c){this.Uk.a.w(a,c)};a.prototype.Jd=function(a){var c=this.Uk.Na.ia(a);this.Uk.Na.Jd(a,-1);this.Uk.a.td(c,
!1)};return a}(),m=function(){function a(a){this.Uk=a}a.prototype.w=function(a,c){this.Uk.jV.w(a,c)};a.prototype.Jd=function(a){this.Uk.Na.Jd(a,-1)};return a}(),b=function(){function a(a){this.Uk=a}a.prototype.w=function(a,c){c.L(this.Uk.mV[a])};a.prototype.Jd=function(a){this.Uk.Na.Jd(a,-1)};return a}(),a=function(){function a(a){void 0===a?(this.Na=new e.xk,this.Na.Ne(20),this.a=new e.ed,this.aV=this.a.ah(550),this.Pt=this.a.Vf(this.aV,-1),this.xi=new d(this)):a instanceof Array?(this.Na=new e.xk,
this.Na.Ne(20),this.mV=a,this.xi=new b(this)):(this.Na=new e.xk,this.Na.Ne(20),this.jV=a,this.xi=new m(this))}a.prototype.Jb=function(a){var c=a.G();if(e.Ou.fh(c))this.FO(a);else if(e.Bl.Nc(c))this.MO(a);else if(197==c)this.CO(a);else if(33==c)this.JO(a);else throw e.g.F("invalid shape type");};a.prototype.uS=function(){var a=new e.Wa,c=this.Na.wc(-1),b=new e.Ja(this.a.Gr);this.a.xj(this.Na.ia(c),a);b.Of(a);for(c=this.Na.nb(c);-1!=c;c=this.Na.nb(c))this.a.xj(this.Na.ia(c),a),b.lineTo(a);return b};
a.qQ=function(c){var b=new a(c),f=c.D(),q=1,t=new e.b,d=new e.b,m=new e.b;for(c.w(0,t);;){c.w(q,d);if(!(d.zA(t)&&q<f-1))break;q++}b.Na.addElement(0,-1);b.Na.yo(q);for(f=q+1;f<c.D();f++)c.w(f,m),q=b.RC(m),-1!=q&&b.Na.pk(q,f);m=new e.Wa;q=b.Na.wc(-1);f=new e.Ja(c.description);c.xe(b.Na.ia(q),m);f.Of(m);for(q=b.Na.nb(q);-1!=q;q=b.Na.nb(q))c.xe(b.Na.ia(q),m),f.lineTo(m);return f};a.pa=function(c,b,e){for(var f=new a(c),g=1,k=c[0];c[g].zA(k)&&g<b-1;)g++;f.Na.addElement(0,-1);f.Na.yo(g);for(g+=1;g<b;g++)k=
f.RC(c[g]),-1!=k&&f.Na.pk(k,g);c=0;for(b=f.Na.wc(-1);-1!=b;b=f.Na.nb(b))e[c++]=f.Na.ia(b);return c};a.JH=function(c,b){var f=c.wa(b),g=c.Fc(b);b=!c.Qb(b)&&c.Ko(b);c=c.Qa(0);f*=2;g*=2;b&&(g-=2);if(6>g-f)return!0;b=new e.b;var t=new e.b,d=new e.b;c.fc(f,b);c.fc(f+2,t);c.fc(f+4,d);var m=a.de(t,d,b);if(m.nt()||!a.dc(m.value()))return!1;for(var h=e.b.pa(t.x,t.y),l=new e.b,f=f+6;f<g;f+=2){l.L(t);t.L(d);c.fc(f,d);m=a.de(t,d,b);if(m.nt()||!a.dc(m.value()))return!1;m=a.de(h,d,b);if(m.nt()||!a.dc(m.value()))return!1;
m=a.de(t,d,l);if(m.nt()||!a.dc(m.value()))return!1}return!0};a.prototype.FO=function(a){for(var c=new e.Wa,b=new e.b,f=0;f<a.D();f++){a.w(f,b);var t=this.ys(b);if(-1!=t){a.xe(f,c);var d=this.a.pc(this.Pt,c);this.Na.pk(t,d)}}};a.prototype.CO=function(a){for(var c=new e.Wa,b=new e.b,f=0;4>f;f++){a.Gx(f,b);var t=this.ys(b);if(-1!=t){a.gg(f,c);var d=this.a.pc(this.Pt,c);this.Na.pk(t,d)}}};a.prototype.MO=function(a){var c=new e.Wa,b=a.ec(),b=this.ys(b);if(-1!=b){a.Kp(c);var f=this.a.pc(this.Pt,c);this.Na.pk(b,
f)}b=a.Ac();b=this.ys(b);-1!=b&&(a.Ip(c),a=this.a.pc(this.Pt,c),this.Na.pk(b,a))};a.prototype.JO=function(a){var c=a.w(),c=this.ys(c);-1!=c&&(a=this.a.pc(this.Pt,a),this.Na.pk(c,a))};a.prototype.ys=function(a){var c=-1;if(0==this.Na.size(-1))return c=this.Na.addElement(-4,-1);if(1==this.Na.size(-1)){var b=this.a.Ba(this.Na.ia(this.Na.wc(-1)));a.zA(b)||(c=this.Na.yo(-5));return c}return c=this.RC(a)};a.prototype.RC=function(c){var b=-1,f=this.Na.wc(-1),q=this.Na.Ec(-1),t=this.Na.ia(f),d=this.Na.ia(q),
m=new e.b,h=new e.b;this.xi.w(t,m);this.xi.w(d,h);t=e.b.Gp(h,c,m);if(a.dc(t))b=this.Na.yo(-1),m=this.PC(c,q,f),m!=f&&this.QC(c,f,this.Na.Se(m));else if(a.Hj(t)){for(var h=this.Na.fw(-1),l=this.Na.wc(-1),n=this.Na.Ec(-1),p,t=new e.b,d=new e.b;l!=this.Na.Se(n);)p=this.Na.ia(h),this.xi.w(p,t),p=e.b.Gp(t,c,m),a.Hj(p)?(n=h,h=this.Na.Ul(h)):(l=h,h=this.Na.Nq(h));h=n;m=l;p=this.Na.ia(h);l=this.Na.ia(m);this.xi.w(p,t);this.xi.w(l,d);if(m==f||(t=e.b.Gp(d,c,t),a.dc(t)))b=this.Na.ov(m,h,-2,!1),this.QC(c,h,q),
this.PC(c,m,f)}else null==this.xb&&(this.xb=new e.Hb),this.xb.Lc(h),this.xb.Xc(m),m=this.xb.ne(c,!0),0>m?(m=this.Na.Se(q),this.Na.Jd(q,-1),b=this.Na.yo(-3),this.PC(c,m,f)):1<m&&(m=this.Na.nb(f),this.Na.Jd(f,-1),b=this.Na.ov(-1,m,-3,!1),this.QC(c,m,q));return b};a.prototype.QC=function(c,b,k){if(b!=k){var f=this.Na.ia(b),g=this.Na.nb(b),d=new e.b,m=new e.b;for(this.xi.w(f,d);b!=k&&2<this.Na.size(-1);){this.xi.w(this.Na.ia(g),m);f=e.b.Gp(m,c,d);if(a.dc(f))break;f=b;b=g;d.L(m);g=this.Na.nb(b);this.xi.Jd(f)}}};
a.prototype.PC=function(c,b,k){if(b==k)return k;var f=this.Na.ia(b),g=this.Na.Se(b),d=new e.b,m=new e.b;for(this.xi.w(f,d);b!=k&&2<this.Na.size(-1);){this.xi.w(this.Na.ia(g),m);f=e.b.Gp(d,c,m);if(a.dc(f))break;f=b;b=g;d.L(m);g=this.Na.Se(b);this.xi.Jd(f)}return b};a.de=function(a,c,b){var f=new e.Xb;f.set(c.x);f.sub(a.x);var g=new e.Xb;g.set(b.y);g.sub(a.y);var k=new e.Xb;k.set(c.y);k.sub(a.y);c=new e.Xb;c.set(b.x);c.sub(a.x);f.Tg(g);k.Tg(c);f.sub(k);return f};a.dc=function(a){return 0>a};a.Hj=function(a){return 0<
a};a.os=function(a){return 0==a};return a}();e.Lu=a})(x||(x={}));(function(e){var d=function(){function d(b){this.ie=this.a=null;this.sI=!0;this.ie=b}d.mJ=function(b,a,c){b=e.na.As(b);return e.Ku.pw(a.Te(),a.Cf(),c.Te(),c.Cf(),e.Ub.Yx(b))};d.bQ=function(b,a){var c=new e.Wa;e.Ku.zV(b,a,c);return c};d.V=function(b,a,c,f){c=new d(c);c.a=b;c.ta=a;c.sI=f;return c.gO()};d.prototype.$N=function(b){return e.Ku.zR(this.a,b)};d.prototype.dO=function(b){return e.Mu.V(this.a,b,this.ie)};d.prototype.gO=function(){for(var b=
this.ta,a=e.na.As(b),b=e.na.PO(b),c=1.00001*b,b=1.000001*b,f=!1,g=30<this.a.ud+10?1E3:(this.a.ud+10)*(this.a.ud+10),k=0,q=this.a.FT();;k++){if(k>g)throw e.g.X("Internal Error: max number of iterations exceeded");var t=this.$N(a),f=f||t;this.sI&&(t=0!=this.a.zq(a,!0,!1),f=f||t);t=!1;if(0==k||q||e.Mu.hJ(!0,this.a,b,null,this.ie))t=this.dO(c),f=f||t;if(!t)break}return f};return d}();e.vk=d})(x||(x={}));(function(e){var d=function(){function b(a){this.te=this.Sc=null;this.kx=0;this.mc=a;this.OA=!0}b.prototype.gw=
function(a,c){var b=this.a.jc(a);if(null==b){if(!this.a.nd(a,c))return null;b=c}return b};b.prototype.Or=function(a){void 0===a&&(a=!1);this.kx++;if(a||0==(this.kx&4095))this.kx=0};b.prototype.KQ=function(){var a=this.a.Pr(!1),c=!1,b=new e.Hb,g=new e.Hb,k=new e.h;k.Oa();var q=new e.h;q.Oa();for(var t=new e.Wa,d=new e.jE,m=a.next();-1!=m;m=a.next()){var h=null,l=!1;if(!e.T.Po(this.a.ic(a.Ek))){h=this.gw(m,b);if(null==h)continue;h.s(k);k.P(this.ta,this.ta);if(h.eh(this.ta))if(h.eh(0))l=!0,h=null;else continue}var n=
this.a.Pr(a),p=n.next();for(-1!=p&&(p=n.next());-1!=p;p=n.next()){var u=null,G=!1;if(!e.T.Po(this.a.ic(n.Ek))){u=this.gw(p,g);if(null==u)continue;u.s(q);if(u.eh(this.ta))if(u.eh(0))G=!0,u=null;else continue}var r=0,x=0;if(null!=h&&null!=u)k.HH(q)&&(d.Hp(h),d.Hp(u),d.Ma(this.ta,!1),r=d.Wl(0),x=d.Wl(1),0<r+x&&(this.a.as(m,d,0,!0),this.a.as(p,d,1,!0)),d.clear());else if(null!=h){var v=new e.b;this.a.w(p,v);if(k.contains(v)){d.Hp(h);this.a.xj(p,t);d.vA(this.ta,t,!1);r=d.Wl(0);if(0<r)if(this.a.as(m,d,
0,!0),G){G=-1;for(v=this.a.U(p);-1!=v&&v!=p&&(u=this.gw(v,g),G=v,null!=u&&u.eh(0));v=this.a.U(v));for(v=p;-1!=v&&(this.a.Zh(v,d.ag),v!=G);v=this.a.U(v));}else this.a.Zh(p,d.ag);d.clear()}}else if(null!=u){if(v=new e.b,this.a.w(m,v),q.P(this.ta,this.ta),q.contains(v)){d.Hp(u);this.a.xj(m,t);d.vA(this.ta,t,!1);x=d.Wl(0);if(0<x)if(this.a.as(p,d,0,!0),l){G=-1;for(v=this.a.U(m);-1!=v&&v!=m&&(u=this.gw(v,g),G=v,null!=u&&u.eh(0));v=this.a.U(v));for(v=m;-1!=v&&(this.a.Zh(v,d.ag),v!=G);v=this.a.U(v));}else this.a.Zh(m,
d.ag);d.clear()}}else continue;if(0!=r+x){if(0!=r){h=this.a.jc(m);if(null==h){if(!this.a.nd(m,b))continue;h=b;b.s(k)}else h.s(k);if(h.eh(this.ta))break}c=!0}}}return c};b.prototype.LQ=function(){return this.gW()};b.prototype.gW=function(){return(new e.bE).mY(this.a,this.ta)};b.prototype.iJ=function(){var a=!1,c,b;null==this.Sc&&(this.Sc=new e.xk);var g=new e.ha(0);g.zb(this.a.ud+1);for(var k=this.a.Pr(),q=k.next();-1!=q;q=k.next())g.add(q);this.a.Xx(g,g.size);g.add(-1);k=this.a.Sd();q=this.a.Sd();
this.te=new e.lE(this.a,this.ta,!this.OA);this.Sc.Lp(this.te);var t=new e.ha(0),d=new e.ha(0),m=0;new e.b;var h=this.a.Cd;this.a.yb.vc();for(var l=this.a.yb.ya[0].f,n,p,u=g.get(m++);-1!=u;){p=h.S(u,0);n=l[2*p];p=l[2*p+1];var G=n,r=p;do{var v=h.S(u,2),x=h.S(u,1);-1!=v&&(c=h.S(v,0),b=l[2*c],c=l[2*c+1],0>(r<c?-1:r>c?1:G<b?-1:G>b?1:0)&&(d.add(u),d.add(v)));-1!=x&&(c=h.S(x,0),b=l[2*c],c=l[2*c+1],0>(r<c?-1:r>c?1:G<b?-1:G>b?1:0)&&(d.add(x),d.add(x)));b=this.a.Sa(u,k);-1!=b&&(t.add(b),this.a.Va(u,k,-1));
b=this.a.Sa(u,q);-1!=b&&(t.add(b),this.a.Va(u,q,-1));u=g.get(m++);-1!==u&&(r=h.S(u,0),G=l[2*r],r=l[2*r+1])}while(-1!=u&&G===n&&r===p);G=1==t.size&&2==d.size;b=r=-1;v=0;for(x=t.size;v<x;v++){c=t.get(v);var z=this.Sc.Se(c);-1==z||t.qA(z)||(r=z);c=this.Sc.nb(c);-1==c||t.qA(c)||(b=c);if(-1!=r&&-1!=b)break}this.te.EK(p,n);v=0;for(x=t.size;v<x;v++)c=t.get(v),this.Sc.Jd(c,-1);t.clear(!1);if(!G&&-1!=r&&-1!=b&&this.QP(r,b)){a=!0;this.nj=this.te.ln();break}v=0;for(x=d.size;v<x;v+=2){p=d.get(v);n=d.get(v+1);
G?(p=this.Sc.ov(r,b,p,!0),G=!1):p=this.Sc.addElement(p,-1);if(this.te.Lg){this.nj=this.te.ln();a=!0;break}-1==this.a.Sa(n,k)?this.a.Va(n,k,p):this.a.Va(n,q,p)}if(a)break;d.uf(0)}this.a.je(k);this.a.je(q);return a};b.prototype.QP=function(a,c){this.te.compare(this.Sc,this.Sc.ia(a),c);a=this.te.Lg;this.te.Es();return a};b.Dj=function(a){for(var c=a.qd;-1!=c;c=a.Re(c))if(e.T.Hc(a.ic(c)))return!0;return!1};b.wl=function(a,c,f,g){if(!b.Dj(a))return!1;c=new b(g);c.a=a;c.ta=f;if(15>a.ud)a=c.KQ();else return c.LQ();
return a};b.V=function(a,c,f){return b.wl(a,a.LG(),c,f)};b.hJ=function(a,c,f,g,k){if(!b.Dj(c))return!1;var q=new b(k);q.a=c;q.ta=f;q.OA=a;if(q.iJ())return null!=g&&g.ls(q.nj),!0;var t=new e.Gd;t.AC();c.Vc(t);q=new b(k);q.a=c;q.ta=f;q.OA=a;a=q.iJ();t.AC();c.Vc(t);return a?(null!=g&&g.ls(q.nj),!0):!1};b.vm=function(a,c){a=a.D();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*1*c<1*a*c};b.IQ=function(a,c,f,g){if(e.T.Hc(c.G()))return(new b(g)).JQ(a,c,f);throw e.g.X("crack_A_with_B");};b.prototype.JQ=
function(a,c,f){var g=new e.h;a.ac(g);var k=new e.h;c.ac(k);k.P(f,f);if(!k.Yb(g))return a;var q=a.ob,t=null;null!=q&&(t=q.Mb);b.vm(a,a.D())&&(t=e.na.Pj(a,k));var d=null!=t?t.jf():null,h=c.Fa();c=a.Fa();for(var S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[];h.Ya();)for(;h.Ea();){var l=h.ba();if(null!=t)for(d.bo(l,f),q=d.next();-1!=q;q=d.next()){if(this.Or(),c.Tb(t.ia(q),-1),c.Ea())for(var q=c.ba(),n=q.Ma(l,null,S,null,f),q=0;q<n;++q){var p=S[q];if(0!=p&&1!=p){var u=c.Db(),r=new m;r.t=p;r.index=u;k.push(r)}}}else{var v=
new e.h;l.ac(v);v.P(f,f);if(g.Yb(v))for(c.zj();c.Ya();)for(;c.Ea();)if(this.Or(),q=c.ba(),p=new e.h,q.ac(p),p.Yb(v))for(n=q.Ma(l,null,S,null,f),q=0;q<n;++q)p=S[q],0!=p&&1!=p&&(u=c.Db(),r=new m,r.t=p,r.index=u,k.push(r))}}if(0==k.length)return a;k=k.sort(m.Fs);a=a.Ka();for(c.zj();c.Ya()&&!c.Ea(););f=c.ba();g=new e.Bg;t=-1;q=0;for(d=k.length;q<d;){S=k[q].index;for(h=q+1;h<d&&k[h].index==S;)++h;for(;c.Db()<S;){this.Or();l=c.Ea();p=c.Ta;(v=l||!c.Lo()||c.Mo())&&a.cc(f,t!=p);t=p;if(!l)for(;c.Ya()&&!c.Ea(););
f=c.ba()}for(S=0;q<h;q++)p=k[q].t,p!=S&&(f.yh(S,p,g),S=p,p=c.Ta,a.cc(g.get(),t!=p),t=p);if(v=(l=c.Ea())||!c.Lo()||c.Mo())f.yh(S,1,g),a.cc(g.get(),!1);if(l)f=c.ba();else{for(;c.Ya()&&!c.Ea(););c.Ea()?f=c.ba():f=null}q=h}null!=f&&(p=c.Ta,(v=(l=c.Ea())||!c.Lo()||c.Mo())&&a.cc(f,t!=p),t=p);for(l=c.Ea();;){if(!l){for(;c.Ya()&&!(l=c.Ea()););if(!l)break}f=c.ba();p=c.Ta;(v=(l=c.Ea())||!c.Lo()||c.Mo())&&a.cc(f,t!=p);t=p}return a};return b}();e.Mu=d;var m=function(){function b(){}b.Fs=function(a,c){return a.index==
c.index?a.t>c.t?1:a.t<c.t?-1:0:a.index>c.index?1:-1};return b}()})(x||(x={}));(function(e){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(e.JL||(e.JL={}));var d=function(){return function(a,b,g,e,q,t,d,m,h,l,n){this.Y=a;this.nx=b;this.Kt=g;this.Ng=e;this.En=l;this.jm=n}}();e.hZ=d;var m=function(){function a(a,c){this.KI=a;this.hj=c}a.prototype.cO=function(a,c){var b=new e.b;this.hj.w(a,b);var f=new e.b;this.hj.w(c,
f);b=b.compare(f);if(0!=b)return b;b=this.hj.Sa(a,this.KI);f=this.hj.Sa(c,this.KI);return b<f?-1:b==f?0:1};return a}(),b=function(){return function(a,b,g,e,q,t,d,m,h){this.Ng=a;this.Kt=b;this.wB=g;this.WI=e;this.ej=q;this.jm=t;this.En=d;this.XI=m;this.pV=h}}();e.gZ=b;var a=function(){function a(){}a.IL=function(c,b,k,q,t,w){if(b.u())c=new d(b,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),t.push(c);else{var f=new e.ed;f.Jb(b);f.Jb(k);e.vk.V(f,q,w,!0);b=0;k=f.Sd();for(q=f.qd;-1!=q;q=f.Re(q))for(w=f.Pb(q);-1!=
w;w=f.Sb(w))for(var g=f.cb(w),m=0,h=f.La(w);m<h;g=f.U(g),m++)f.Va(g,k,b++);b=a.MU(k,f);a.ZO(c,b,f,t)}};a.MU=function(c,b){for(var f=b.ud,g=new e.ha(0),t=b.qd;-1!=t;t=b.Re(t))for(var d=b.Pb(t);-1!=d;d=b.Sb(d))for(var h=b.cb(d),l=0,L=b.La(d);l<L;h=b.U(h),l++)g.add(h);var n=new m(c,b);g.Fd(0,f,function(a,c){return n.cO(a,c)});c=[];var p=[],u=b.Sd(),r=b.Sd(),t=b.qd,d=b.Re(t),L=new e.b,v=new e.b,x=g.get(0),z=b.kd(x),y=b.mg(z);b.w(x,L);for(var A=1,h=0;A<f-1;){for(var C=!1,l=A;l<f;l++)if(l!=h){var K=g.get(l),
B=b.kd(K),H=b.mg(B);b.w(K,v);if(L.vb(v))y==t&&H==d&&(C=a.HP(u,r,b,c,p,z,x,B,K));else break}if(C||h==A-1){C&&h==A-1&&A--;if(++h==f)break;x=g.get(h);z=b.kd(x);y=b.mg(z);b.w(x,L)}C||(A=h+1)}f=[];for(t=b.qd;-1!=t;t=b.Re(t))for(d=b.Pb(t);-1!=d;d=b.Sb(d))for(g=b.cb(d),l=0,L=b.La(d);l<L;g=b.U(g),l++){h=b.Sa(g,r);if(0<=h)for(;h<p.length&&p[h].Ng==g;)f.push(p[h++]);h=b.Sa(g,u);if(0<=h)for(;h<c.length&&c[h].Ng==g;)f.push(c[h++])}b.je(u);b.je(r);return f};a.HP=function(c,b,e,q,t,d,m,h,l){var f=e.Vj(d),g=e.Vj(h),
k=e.cb(d),w=e.cb(h),P=e.Ra(m),S=e.Ra(l),L=!1,n=!1,p=!1,u=!1;m!=k&&(l!=w&&(L=a.XQ(c,e,q,d,P,h,S)),l!=g&&(n=a.qR(c,e,q,d,P,h,l)));m!=f&&(l!=w&&(p=a.ER(b,e,t,d,m,h,S,k)),l!=g&&(u=a.cS(b,e,t,d,m,h,l,k)));L&&n&&p?(c=q.length-1,2==t[u?t.length-2:t.length-1].ej&&(q[c-1]=q[c],--q.length)):L&&n&&u&&2==t[t.length-1].ej&&(t=q[q.length-1],--q.length,e.Sa(t.Ng,c)==q.length&&e.Va(t.Ng,c,-1));return L||n||p||u};a.XQ=function(a,c,k,q,t,d,m){var f,g;g=new e.Hb;var w=new e.Hb,h=[0,0],P=[0,0];f=c.jc(t);null==f&&(c.nd(t,
g),f=g);g=c.jc(m);null==g&&(c.nd(m,w),g=w);f=f.Ma(g,null,h,P,0);2>f&&(q=new b(t,q,h[0],NaN,f,m,d,P[0],NaN),k.push(q),q=c.Sa(t,a),0>q&&c.Va(t,a,k.length-1));return!0};a.qR=function(a,c,k,q,t,d,m){var f,g;g=new e.Hb;var w=new e.Hb,h=[0,0],P=[0,0];f=c.jc(t);null==f&&(c.nd(t,g),f=g);g=c.jc(m);null==g&&(c.nd(m,w),g=w);f=f.Ma(g,null,h,P,0);return 2>f?(q=new b(t,q,h[0],NaN,f,m,d,P[0],NaN),k.push(q),q=c.Sa(t,a),0>q&&c.Va(t,a,k.length-1),!0):!1};a.ER=function(a,c,k,q,t,d,m,h){var f,g;g=new e.Hb;var w=new e.Hb,
P=[0,0],l=[0,0];f=c.jc(t);null==f&&(c.nd(t,g),f=g);g=c.jc(m);null==g&&(c.nd(m,w),g=w);f=f.Ma(g,null,P,l,0);if(2==f)return q=new b(t,q,P[0],P[1],f,m,d,l[0],l[1]),k.push(q),q=c.Sa(t,a),0>q&&c.Va(t,a,k.length-1),!0;w=!1;t==h&&(q=new b(t,q,P[0],NaN,f,m,d,l[0],NaN),k.push(q),q=c.Sa(t,a),0>q&&c.Va(t,a,k.length-1),w=!0);return w};a.cS=function(a,c,k,q,t,d,m,h){var f,g;g=new e.Hb;var w=new e.Hb,P=[0,0],l=[0,0];f=c.jc(t);null==f&&(c.nd(t,g),f=g);g=c.jc(m);null==g&&(c.nd(m,w),g=w);f=f.Ma(g,null,P,l,0);if(2==
f)return q=new b(t,q,P[0],P[1],f,m,d,l[0],l[1]),k.push(q),q=c.Sa(t,a),0>q&&c.Va(t,a,k.length-1),!0;w=!1;t==h&&(q=new b(t,q,P[0],NaN,f,m,d,l[0],NaN),k.push(q),q=c.Sa(t,a),0>q&&c.Va(t,a,k.length-1),w=!0);return w};a.ZO=function(c,b,k,q){var f,g=[];g[0]=new e.b;g[1]=new e.b;g[2]=new e.b;g[3]=new e.b;var m=new e.b,h=new e.b,l=new e.b,n=new e.b,p=null;null!=q&&(p=new e.Bg,p.Hs());var u,r=0,v=null,x=new e.Hb;new e.Hb;for(var z=k.Pb(k.qd);-1!=z;z=k.Sb(z)){var y,A=4,C=-1,K,B,H,J=-1,E,F,V,M,D=-1,R=-1,X=NaN;
y=!0;var I=!1,ca=!0,ha=!0,aa=!0,U=0;H=z;E=0;for(var ka=k.cb(z),ga=k.La(z),Y=0;Y<ga;ka=k.U(ka),Y++){u=k.jc(ka);if(null==u){if(!k.nd(ka,x))continue;u=x}-1==J&&(J=ka);for(var Z=0;r<b.length&&ka==b[r].Ng;){C=b[r].Kt;K=b[r].Ng;B=b[r].wB;F=b[r].En;V=b[r].jm;M=b[r].XI;if(2==b[r].ej){if(I||(H=C,J=K,E=B,D=F,R=V,X=M,A=2,null!=q?v=new e.Ua:U=0,aa=!1,ha=!0),B=b[r].WI,M=b[r].pV,null!=q?(u.yh(Z,b[r].WI,p),v.cc(p.get(),ha)):U++,Z=B,I=!0,ha=y=!1,r+1==b.length||2!=b[r+1].ej||b[r+1].Ng==K&&b[r+1].wB!=Z)null!=q?(f=
new d(v,2,C,K,B,A,H,J,E,F,V,M,D,R,X),q.push(f)):null.add(U),H=C,J=K,E=B,D=F,R=V,X=M,A=2,I=y=!1,ha=aa=!0}else{var N=k.U(K);if(r<b.length-1&&b[r+1].Ng==N&&b[r+1].jm==V&&2==b[r+1].ej)B!=Z&&(aa&&(null!=q?v=new e.Ua:U=0),y=0<r&&b[r-1].Kt==C?1==A?0:0==A?1:3:3,null!=q?(u.yh(Z,B,p),v.cc(p.get(),ha),f=new d(v,y,C,K,B,A,H,J,E,F,V,M,D,R,X),q.push(f)):(U++,null.add(U)),Z=B,H=C,J=K,E=B,D=F,R=V,X=M,A=y,y=ca=!1,ha=aa=!0);else if(!a.JU(c,k,b,r,m,h)){a.GT(k,b,r,z,ka,l,n);var ba=!1,N=!1;f=!0;if(!(m.vb(l)||h.vb(l)||
m.vb(n)||h.vb(n))){g[0].L(m);g[1].L(h);g[2].L(l);g[3].L(n);g.sort(e.b.ts);var O=g[0],ea=g[1],Q=g[2],W=g[3];O.vb(m)?ea.vb(h)?c?(N=ba=!0,f=!1):ba=!1:W.vb(h)?c?f=N=ba=!0:ba=!1:(ba=!0,f=ea.vb(l)):ea.vb(m)?Q.vb(h)?c?(N=ba=!0,f=!1):ba=!1:O.vb(h)?c?f=N=ba=!0:ba=!1:(ba=!0,f=Q.vb(l)):Q.vb(m)?W.vb(h)?c?(N=ba=!0,f=!1):ba=!1:ea.vb(h)?c?f=N=ba=!0:ba=!1:(ba=!0,f=W.vb(l)):O.vb(h)?c?(N=ba=!0,f=!1):ba=!1:Q.vb(h)?c?f=N=ba=!0:ba=!1:(ba=!0,f=O.vb(l))}if(ba){ba=ka==K;if(B!=Z||ba&&0==Z)aa&&(null!=q?v=new e.Ua:U=0),null!=
q?(u.yh(Z,B,p),v.cc(p.get(),ha)):U++;if(f)if(1!=A){if(B!=Z||ba&&0==Z)null!=q?(f=new d(v,1,C,K,B,A,H,J,E,F,V,M,D,R,X),q.push(f)):null.add(U);if(!N)A=1;else if(r==b.length-2||b[r+2].Kt!=C)A=0}else{if(B!=Z||ba&&0==Z)null!=q?(f=new d(v,3,C,K,B,A,H,J,E,F,V,M,D,R,X),q.push(f)):null.add(U);A=1}else if(0!=A){if(B!=Z||ba&&0==Z)null!=q?(f=new d(v,0,C,K,B,A,H,J,E,F,V,M,D,R,X),q.push(f)):null.add(U);if(!N)A=0;else if(r==b.length-2||b[r+2].Kt!=C)A=1}else{if(B!=Z||ba&&0==Z)null!=q?(f=new d(v,3,C,K,B,A,H,J,E,F,
V,M,D,R,X),q.push(f)):null.add(U);A=0}if(B!=Z||ba&&0==Z)Z=B,H=C,J=K,E=B,D=F,R=V,X=M,y=ca=!1,ha=aa=!0}}}r++}1!=Z&&(aa&&(null!=q?v=new e.Ua:U=0),null!=q?(u.yh(Z,1,p),v.cc(p.get(),ha)):U++,ha=aa=!1,ca=!0)}ca&&(B=1,K=k.Vj(z),K=k.Ra(K),V=F=-1,M=NaN,y?null!=q?(f=new d(v,4,C,K,B,A,H,J,E,F,V,M,D,R,X),q.push(f)):null.add(U):(y=1==A?0:0==A?1:3,null!=q?(f=new d(v,y,C,K,B,A,H,J,E,F,V,M,D,R,X),q.push(f)):null.add(U)))}};a.JU=function(c,b,k,q,t,d){var f=k[q].XI;if(1==f)return a.KT(c,b,k,q,t,d);if(0==f)return a.GU(c,
b,k,q,t,d);throw e.g.za();};a.KT=function(a,c,b,q,t,d){var f=new e.Hb,g=b[q].Ng,k=b[q].En,w=b[q].jm,m=-1,h=-1,l=-1,n=-1;if(!a&&0<q)var p=b[q-1],m=p.Ng,h=p.En,l=p.jm,n=p.ej;var r=-1,u=-1,v=-1,x=-1;q<b.length-1&&(p=b[q+1],r=p.Ng,u=p.En,v=p.jm,x=p.ej);var z=c.U(g),p=c.U(w);if(!a)return 0<q&&m==g&&h==k&&l==p&&2==n||q<b.length-1&&r==z&&u==k&&v==p&&2==x?(a=c.jc(w),null==a&&(c.nd(w,f),a=f),d.L(a.Dg(1)),t.du(d),d.normalize(),t.normalize(),!1):q<b.length-1&&r==g&&u==k&&v==p?(a=c.jc(w),null==a&&(c.nd(w,f),
a=f),t.L(a.Dg(1)),a=c.jc(p),null==a&&(c.nd(p,f),a=f),d.L(a.Dg(0)),t.Kr(),d.normalize(),t.normalize(),!1):!0;if(q==b.length-1||r!=g||u!=k||v!=p||2==x)return a=c.jc(w),null==a&&(c.nd(w,f),a=f),d.L(a.Dg(1)),t.du(d),d.normalize(),t.normalize(),!1;a=c.jc(w);null==a&&(c.nd(w,f),a=f);t.L(a.Dg(1));a=c.jc(p);null==a&&(c.nd(p,f),a=f);d.L(a.Dg(0));t.Kr();d.normalize();t.normalize();return!1};a.GU=function(a,c,b,q,t,d){var f=new e.Hb,g=b[q].Ng,k=b[q].En,w=b[q].jm,m=-1,h=-1,l=-1,n=-1;if(!a&&q<b.length-1)var p=
b[q+1],m=p.Ng,h=p.En,l=p.jm,n=p.ej;var r=-1,u=-1,v=-1,p=-1;0<q&&(p=b[q-1],r=p.Ng,u=p.En,v=p.jm,p=p.ej);var x=c.U(g),z=c.Ra(w);return a?0==q||r!=g||u!=k||v!=z||2==p?(a=c.jc(w),null==a&&(c.nd(w,f),a=f),d.L(a.Dg(0)),t.du(d),d.normalize(),t.normalize(),!1):!0:0<q&&r==g&&u==k&&v==z&&2==p||q<b.length-1&&m==x&&h==k&&l==z&&2==n?(a=c.jc(w),null==a&&(c.nd(w,f),a=f),d.L(a.Dg(0)),t.du(d),d.normalize(),t.normalize(),!1):!0};a.GT=function(a,c,b,q,t,d,m){var f=new e.Hb,g=a.jc(t);null==g&&(a.nd(t,f),g=f);b=c[b];
c=b.Ng;b=b.wB;t=a.U(c);if(1==b)d.L(g.Dg(1)),-1!=t&&t!=a.Vj(q)?(g=a.jc(t),null==g&&(a.nd(t,f),g=f),m.L(g.Dg(0)),g=a.jc(c),null==g&&a.nd(c,f)):m.L(d),d.Kr(),m.normalize(),d.normalize();else if(0==b)m.L(g.Dg(b)),d.du(m),m.normalize(),d.normalize();else throw e.g.za();};return a}();e.KL=a})(x||(x={}));(function(e){(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]="Angular";a[a.Area=2]="Area"})(e.GN||(e.GN={}));var d=function(){function a(a,c,b){this.sd=c;this.Bi=b;this.eB=a}a.prototype.Eb=function(c){return c instanceof
a?this.Bi===c.Bi:!1};a.cH=function(c){return 0!==c.sd?null:-1===c.eB?new a(-1,2,c.Bi*c.Bi):a.vh(f[c.eB])};a.vh=function(a){a=c[a];return void 0===a?null:a};a.yQ=function(c,b,f){var g=null;if(void 0!==f&&null!==f)try{"EPSG"===f.values[0]&&(g=a.vh(parseInt(f.values[1])))}catch(S){}null===g&&(g=new a(-1,c,b));return g};a.prototype.Bc=function(){return this.eB};a.prototype.GG=function(a){if(a.sd!=this.sd)throw e.g.Da();return this.Bi/a.Bi};a.mi=function(a,c,b){return c.GG(b)*a};a.cG=function(a,c,b,f,
g){b=b.GG(f);for(f=0;f<c;f++)g[f]=a[f]*b};return a}();e.$c=d;for(var m=[109401,1E4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1E6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,
109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,
.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1E-4,109452,1E-6,109453,6.4516E-4,109454,6.451625806477421E-4,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25E8,109461,225E8,109462,.7168473118308245,109463,100,109464,1.244521604938272E-7,109465,
1E-12,109466,1E-18],b=[1031,4.84813681109536E-9,9101,1,9102,.0174532925199433,9103,2.908882086657216E-4,9104,4.84813681109536E-6,9105,.01570796326794897,9106,.01570796326794897,9109,1E-6,9112,1.570796326794897E-4,9113,1.570796326794897E-6,9114,9.817477042468104E-4],a=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,
109412,9035,1609.3472186944375,109413,9036,1E3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,
9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,
109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,3.527777777777778E-4,109464,109017,1E-6,109465,109018,1E-9,109466,109030,5E4,109460,109031,15E4,109461],c=[],f=[],g=0;g<m.length;g+=2)c[m[g]]=new d(m[g],2,m[g+1]);m=null;for(g=0;g<b.length;g+=2)c[b[g]]=new d(b[g],1,b[g+1]);b=null;
for(g=0;g<a.length;g+=3)c[a[g]]=new d(a[g],0,a[g+1]),f[a[g]]=a[g+2];a=null})(x||(x={}));(function(e){var d=function(){function e(){this.Gb=this.qb=0}e.prototype.set=function(b,a){void 0!==a?(this.qb=b,this.Gb=a):"number"===typeof b?(this.qb=b,this.Gb=0):(this.qb=b.qb,this.Gb=b.Gb)};e.prototype.value=function(){return this.qb};e.prototype.add=function(b){var a=this.qb+b.qb;b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.GO=function(){var b=this.qb+1,a=this.Gb+2.220446049250313E-16*
Math.abs(b);this.qb=b;this.Gb=a};e.prototype.zO=function(b,a){this.qb=b.qb+a.qb;this.Gb=b.Gb+a.Gb+2.220446049250313E-16*Math.abs(this.qb)};e.prototype.sub=function(b){if("number"===typeof b){var a=this.qb-b;b=this.Gb+2.220446049250313E-16*Math.abs(a)}else a=this.qb-b.qb,b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.Tg=function(b){var a=this.qb*b.qb;this.Gb=this.Gb*Math.abs(b.qb)+b.Gb*Math.abs(this.qb)+this.Gb*b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a};e.prototype.Fp=
function(b){var a=this.qb*b;this.Gb=this.Gb*Math.abs(b)+2.220446049250313E-16*Math.abs(a);this.qb=a};e.prototype.um=function(b,a){var c=Math.abs(b.qb)*Math.abs(a.qb);this.Gb=b.Gb*Math.abs(a.qb)+a.Gb*Math.abs(b.qb)+b.Gb*a.Gb+2.220446049250313E-16*Math.abs(c);this.qb=c};e.prototype.bn=function(b){var a=Math.abs(b.qb),c=this.qb/b.qb,f=(this.Gb+Math.abs(c)*b.Gb)/a;b.Gb>.01*a&&(b=b.Gb/a,f*=1+(1+b)*b);this.qb=c;this.Gb=f+2.220446049250313E-16*Math.abs(c)};e.prototype.sqrt=function(){var b,a;0<=this.qb?
(b=Math.sqrt(this.qb),a=this.qb>10*this.Gb?.5*this.Gb/b:this.qb>this.Gb?b-Math.sqrt(this.qb-this.Gb):Math.max(b,Math.sqrt(this.qb+this.Gb)-b),a+=2.220446049250313E-16*Math.abs(b)):this.qb<-1*this.Gb?a=b=NaN:(b=0,a=Math.sqrt(this.Gb));this.qb=b;this.Gb=a};e.prototype.sin=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=a;a=Math.abs(a);this.Gb=(Math.abs(c)+.5*a*b.Gb)*b.Gb+2.220446049250313E-16*a};e.prototype.cos=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=c;c=Math.abs(c);this.Gb=
(Math.abs(a)+.5*c*b.Gb)*b.Gb+2.220446049250313E-16*c};e.prototype.Kg=function(){return Math.abs(this.qb)<=this.Gb};e.prototype.nt=function(){return this.Kg()&&0!=this.Gb};return e}();e.Xb=d})(x||(x={}));var ja=new x.b,qa=new x.b,ra=new x.b,sa=new x.b,ta=new x.b;(function(e){var d;(function(b){b[b.closedPath=1]="closedPath";b[b.exteriorPath=2]="exteriorPath";b[b.ringAreaValid=4]="ringAreaValid"})(d||(d={}));var m=function(){function b(a,c,b,g,e,q,t){void 0!==c?(this.bb=a,this.Ek=c,this.Ll=b,this.Ki=
g,this.Ca=q,this.TA=t,this.Uw=e):(this.bb=a.bb,this.Ek=a.Ek,this.Ll=a.Ll,this.Ki=a.Ki,this.Ca=a.Ca,this.TA=a.TA,this.Uw=a.Uw);this.aI=!0}b.prototype.next=function(){return this.aI?(this.aI=!1,this.Ki):-1!=this.Ki?(this.Ki=this.bb.U(this.Ki),this.Ca++,-1!=this.Ki&&this.Ki!=this.Uw?this.Ki:this.CV()):-1};b.prototype.CV=function(){this.Ll=this.bb.Sb(this.Ll);for(this.Ca=0;-1!=this.Ek;){for(;-1!=this.Ll;this.Ll=this.bb.Sb(this.Ll))if(this.Uw=this.Ki=this.bb.cb(this.Ll),-1!=this.Ki)return this.Ki;this.Ek=
this.bb.Re(this.Ek);if(-1==this.Ek)break;if(!this.TA||e.T.Hc(this.bb.ic(this.Ek)))this.Ll=this.bb.Pb(this.Ek)}return-1};b.UQ=function(a,c,f,g,e,q,t){return new b(a,c,f,g,e,q,t)};return b}();e.nZ=m;d=function(){function b(){this.cp=this.un=this.$k=this.ld=this.gl=this.pp=this.oj=this.rd=this.Ci=this.oh=this.tf=this.Gr=this.Jr=this.yb=this.sm=null;this.cx=this.qd=-1;this.ud=0;this.RA=!1;this.Gr=this.Jr=this.yb=null}b.prototype.ui=function(a){return null!=this.tf?this.tf[a]:null};b.prototype.sh=function(a,
c){if(null==this.tf){if(null==c)return;this.tf=[];for(var b=0,g=this.yb.D();b<g;b++)this.tf.push(null)}this.tf[a]=c};b.prototype.Sp=function(a,c){this.rd.R(a,1,c)};b.prototype.Rp=function(a,c){this.rd.R(a,2,c)};b.prototype.wC=function(a,c){this.rd.R(a,6,c)};b.prototype.Lq=function(a){return this.rd.S(a,6)};b.prototype.Rx=function(a,c){this.rd.R(a,7,c)};b.prototype.dw=function(a){return this.rd.S(a,0)};b.prototype.tK=function(a,c){this.ld.R(a,1,c)};b.prototype.xK=function(a,c){this.ld.R(a,0,c)};b.prototype.MG=
function(a){return this.ld.S(a,7)};b.prototype.Pp=function(a,c){this.ld.R(a,3,c)};b.prototype.Qp=function(a,c){this.ld.R(a,4,c)};b.prototype.JV=function(a){null==this.ld&&(this.ld=new e.Zc(8));var c=this.ld.Me();this.ld.R(c,2,a);this.ld.R(c,5,0);this.ld.R(c,6,0);this.ld.R(c,7,c);return c};b.prototype.bS=function(a){this.ld.jd(a)};b.prototype.LV=function(a){null==this.rd&&(this.rd=new e.Zc(8),this.Cd=new e.Zc(5),this.oj=new e.Pd(0),this.pp=new e.Pd(0));var c=this.rd.Me();this.rd.R(c,0,c);this.rd.R(c,
3,0);this.rd.R(c,6,0);this.Rx(c,a);c>=this.oj.size&&(a=16>c?16:e.J.truncate(3*c/2),this.oj.resize(a),this.pp.resize(a));this.oj.set(c,0);this.pp.set(c,0);return c};b.prototype.wG=function(a){this.rd.jd(a)};b.prototype.Fz=function(a){this.Cd.jd(a);this.ud--};b.prototype.lJ=function(a){null==this.rd&&(this.rd=new e.Zc(8),this.Cd=new e.Zc(5),this.oj=new e.Pd(0),this.pp=new e.Pd(0));var c=this.Cd.Me(),b=0<=a?a:c;this.Cd.R(c,0,b);if(0>a){if(b>=this.yb.D()){a=16>b?16:e.J.truncate(3*b/2);this.yb.resize(a);
if(null!=this.tf)for(var g=0;g<a;g++)this.tf.push(null);null!=this.oh&&this.oh.resize(a);this.Jr=this.yb.Qa(0)}this.yb.rb(b,-1E38,-1E38);null!=this.tf&&(this.tf[b]=null);null!=this.oh&&this.oh.write(b,1)}this.Cd.R(c,4,2*b);this.ud++;return c};b.prototype.$j=function(a,c,b){var f=-1!=c?this.Ra(c):this.Vj(a),e=-1!=f?this.U(f):-1,q=this.lJ(null==b?this.ud:-1),t=this.Za(q);null!=b&&this.yb.xu(t,b);this.Bj(q,a);this.Jc(q,e);this.Kc(q,f);-1!=e&&this.Kc(e,q);-1!=f&&this.Jc(f,q);b=this.Qb(a);f=this.cb(a);
-1==c&&this.rh(a,q);c==f&&this.ig(a,q);b&&-1==e&&(this.Jc(q,q),this.Kc(q,q));this.sk(a,this.La(a)+1);a=this.mg(a);this.qk(a,this.D(a)+1);return q};b.prototype.gn=function(){null==this.cp&&(this.cp=new e.Wa(this.yb.description));return this.cp};b.prototype.Op=function(a,c){this.ld.R(a,2,this.ld.S(a,2)&-134217729||(1==c?134217728:0))};b.prototype.Eo=function(a){return 0!=(this.ld.S(a,2)&134217728)?1:0};b.prototype.DO=function(a){var c=this.ah(a.G(),a.description);1736==a.G()&&this.Op(c,a.Eo());this.iF(c,
a);return c};b.prototype.EO=function(a){var c=this.ah(a.G(),a.description);this.jF(c,a);return c};b.prototype.sW=function(a,c){null==this.rd&&(this.rd=new e.Zc(8),this.Cd=new e.Zc(5),this.oj=new e.Pd(0),this.pp=new e.Pd(0));this.rd.Ne(this.rd.xd+a);this.Cd.Ne(this.Cd.xd+c);this.oj.zb(this.oj.size+a);this.pp.zb(this.pp.size+a)};b.prototype.iF=function(a,c){this.sW(c.aa(),c.D());this.sm.Hd(c,0,c.D());this.Jr=this.yb.Qa(0);for(var b=null!=this.tf&&null!=c.$e,g=0,k=c.aa();g<k;g++)if(!(2>c.La(g))){var q=
this.Vf(a,-1);this.ho(q,c.Qb(g));for(var t=c.wa(g),d=c.Fc(g);t<d;t++){var m=this.$j(q,-1,null);if(b)if(m=this.Za(m),0!=(c.aH(t)&1))this.sh(m,null);else{var h=new e.Bg;c.jc(t,h,!0);this.sh(m,h.get())}}}};b.prototype.jF=function(a,c){this.sm.Hd(c,0,c.D());this.Jr=this.yb.Qa(0);a=this.Vf(a,-1);var b=0;for(c=c.D();b<c;b++)this.$j(a,-1,null)};b.prototype.kY=function(a,c,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var k=this.gn(),q=this.kd(a),t=0,d=c.Wl(b);t<d;t++){var m=this.Za(a),h=this.U(a),l=c.Mq(b,
t);0==t&&(l.Kp(k),this.Zh(a,k));322==l.G()?this.sh(m,null):this.sh(m,e.T.me(l));l.Ip(k);t<d-1?a=this.$j(q,h,k):this.Zh(f,k)}};b.prototype.jY=function(a,c,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var k=this.gn(),q=this.kd(a),t=0,d=c.Wl(b);t<d;t++){var m=this.Za(a),h=this.U(a),l=c.Mq(b,d-t-1);0==t&&(l.Ip(k),this.Zh(a,k));322==l.G()?this.sh(m,null):this.sh(m,e.T.me(l));l.Kp(k);t<d-1?a=this.$j(q,h,k):this.Zh(f,k)}};b.prototype.LG=function(){var a=new e.h;a.Oa();for(var c=this.Pr(),b=new e.b,g=!0,
k=c.next();-1!=k;k=c.next())this.w(k,b),g?a.Nb(b.x,b.y):a.ol(b.x,b.y),g=!1;return a};b.prototype.Jb=function(a){var c=a.G();if(e.T.Hc(c))return this.DO(a);if(550==c)return this.EO(a);throw e.g.za();};b.prototype.TO=function(a,c){var b=c.G();if(e.T.Hc(b))this.iF(a,c);else if(550==b)this.jF(a,c);else throw e.g.za();};b.prototype.IO=function(a,c){var b=this.ah(1736,a.description);if(2>a.La(c))return b;this.sm.Hd(a,a.wa(c),a.Fc(c));this.Jr=this.yb.Qa(0);var g=this.Vf(b,-1);this.ho(g,a.Qb(c)||!0);var k=
null!=this.tf&&null!=a.$e,q=a.wa(c);for(c=a.Fc(c);q<c;q++){var t=this.$j(g,-1,null);if(k)if(t=this.Za(t),0!=(a.aH(q)&1))this.sh(t,null);else{var d=new e.Bg;a.jc(q,d,!0);this.sh(t,d.get())}}return b};b.prototype.Pe=function(a){var c=this.ic(a),b=e.fM.ah(c,this.sm.description),g=this.D(a);if(0==g)return b;if(e.T.Hc(c)){for(var c=this.aa(a),k=e.Tc.wh(c+1),q=e.Tc.vq(c+1,0),t=b.description,d=0,m=t.Ga;d<m;d++){for(var h=t.pd(d),l=e.ma.Xa(h),n=e.Tc.oz(h,g),p=this.yb.Qa(h),r=0,u=0,v=0,x=this.Pb(a);-1!=x;x=
this.Sb(x)){var z=0;this.Qb(x)&&(z|=1);this.tU(x)&&(z|=4);0!=z&&q.lC(u,z);var y=this.La(x);k.write(u++,v);v+=y;if(0==h)for(var y=p,A=n,C=new e.b,z=this.cb(x);r<v;z=this.U(z),r++){var K=this.Za(z);y.fc(2*K,C);A.mo(2*r,C)}else for(z=this.cb(x);r<v;z=this.U(z),r++)for(K=this.Za(z),A=0;A<l;A++)C=p.Lf(K*l+A),n.Im(r*l+A,C)}b.eo(h,n);k.write(c,g)}b.uK(q);b.vK(k);b.Cc(16777215)}else if(550==c){t=b.description;b.resize(g);d=0;for(m=t.Ga;d<m;d++){h=t.pd(d);l=e.ma.Xa(h);n=b.Qa(h);p=this.yb.Qa(h);r=0;x=this.Pb(a);
y=this.La(x);for(z=this.cb(x);r<y;z=this.U(z),r++)for(K=this.Za(z),A=0;A<l;A++)C=p.Lf(K*l+A),n.Im(r*l+A,C);b.eo(h,n)}b.Cc(16777215)}return b};b.prototype.dC=function(a){for(var c=this.Pb(a);-1!=c;c=this.Qr(c));var c=this.iT(a),b=this.Re(a);-1!=c?this.tK(c,b):this.qd=b;-1!=b?this.xK(b,c):this.cx=c;this.bS(a)};b.prototype.ah=function(a,c){return void 0===c?this.fG(a,e.we.Hg()):this.fG(a,c)};b.prototype.fG=function(a,c){a=this.JV(a);null==this.yb?this.yb=this.sm=new e.Dd(c):this.sm.tm(c);this.Gr=this.sm.description;
this.RA=1<this.Gr.Ga;-1==this.qd?this.qd=a:(this.xK(a,this.cx),this.tK(this.cx,a));return this.cx=a};b.prototype.Re=function(a){return this.ld.S(a,1)};b.prototype.iT=function(a){return this.ld.S(a,0)};b.prototype.ic=function(a){return this.ld.S(a,2)&2147483647};b.prototype.lK=function(a,c,b){c=this.$k[c];a=this.MG(a);a>=c.size&&c.resize(Math.max(e.J.truncate(1.25*a),16),-1);c.write(a,b)};b.prototype.NG=function(a,c){a=this.MG(a);c=this.$k[c];return a<c.size?c.read(a):-1};b.prototype.gG=function(){null==
this.$k&&(this.$k=[]);for(var a=0;a<this.$k.length;a++)if(null==this.$k[a])return this.$k[a]=e.Tc.wh(0),a;this.$k.push(e.Tc.wh(0));return this.$k.length-1};b.prototype.ZW=function(a){this.$k[a]=null};b.prototype.Pb=function(a){return this.ld.S(a,3)};b.prototype.Xv=function(a){return this.ld.S(a,4)};b.prototype.D=function(a){return this.ld.S(a,5)};b.prototype.aa=function(a){return this.ld.S(a,6)};b.prototype.zq=function(a,c,b){for(var f=0,k=this.qd;-1!=k;k=this.Re(k)){var q=this.ic(k);if(e.T.Hc(q)&&
(!b||1736==q))for(var q=1736==this.ic(k),t=this.Pb(k);-1!=t;){for(var d=0,m=this.cb(t);d<e.J.truncate(this.La(t)/2);){var h=this.U(m);if(-1==h)break;var l=this.Za(m),n=this.ui(l);null!=n?l=n.Rb():(n=this.Za(h),l=this.yb.vs(l,n));l<=a?(0==l?0==f&&(f=-1):f=1,h!=this.Vj(t)&&(this.MC(h,m),this.td(h,!0))):m=this.U(m);d++}d=this.cb(t);for(m=this.Qb(t)?d:this.Vj(t);0<this.La(t);)if(h=this.Ra(m),-1!=h){var p=this.Za(h),n=this.ui(p);null!=n?l=n.Rb():(l=this.Za(m),l=this.yb.vs(l,p));if(l<=a)0==l?0==f&&(f=-1):
f=1,this.MC(h,m),this.td(h,!1),d==h&&(d=this.cb(t));else if(m=this.Ra(m),m==d)break}else{this.td(m,!0);0==f&&(f=-1);break}m=this.La(t);c&&(q?3>m:2>m)?(t=this.Qr(t),f=0<m?1:0==f?-1:f):t=this.Sb(t)}}return f};b.prototype.MC=function(a,c){var b=this.Za(a),g=this.Za(c);null!=this.oh&&(b=this.oh.read(b),this.oh.write(g,b));if(null!=this.Ci)for(g=0,b=this.Ci.length;g<b;g++)if(null!=this.Ci[g]){var e=this.Sa(a,g);-1!=e&&this.Va(c,g,e)}};b.prototype.Em=function(a,c,b){var f=0,k=this.U(a);if(-1==k)throw e.g.za();
for(var q=this.Za(a),t=this.Za(k),d=this.ui(q),m=null==d?this.yb.vs(q,t):d.Rb(),h=0;h<b;h++){var l=c[h];if(0<l&&1>l){var n=l;null!=d&&(n=0<m?d.zy(l)/m:0);this.yb.HE(q,t,n,this.gn());var p=this.$j(this.kd(a),k,this.gn());f++;if(null!=d){var r=d.Ml(0,l),n=this.Za(this.Ra(p));this.sh(n,r);this.Nf(p,r.Ac());if(h==b-1||1==c[h+1])l=d.Ml(l,1),this.sh(n,l)}}}return f};b.prototype.iY=function(a,c,b){var f=0,k=this.U(a);if(-1==k)throw e.g.X("internal error");var q=this.Za(a),t=this.Za(k),d=this.ui(q),m=null==
d?this.yb.vs(q,t):d.Rb(),h=0;a=this.kd(a);for(var l=0;l<b;l++){var n=c[l];if(h<n&&1>n){var p=n;null!=d&&(p=0<m?d.zy(n)/m:0);this.yb.HE(q,t,p,this.gn());p=this.WT(a,k,this.gn());f++;if(null!=d){var h=d.Ml(h,n),r=this.Za(this.Ra(p));this.sh(r,h);this.rb(p,h.sa,h.oa);if(l==b-1||1==c[l+1])h=d.Ml(n,1),p=this.Za(p),this.sh(p,h)}}h=n}return f};b.prototype.WT=function(a,c,b){var f=-1!=c?this.Ra(c):this.Vj(a),e=-1!=f?this.U(f):-1,q=this.lJ(null==b?this.ud:-1),t=this.Za(q);null!=b&&this.yb.xu(t,b);this.Bj(q,
a);this.Jc(q,e);this.Kc(q,f);-1!=e&&this.Kc(e,q);-1!=f&&this.Jc(f,q);b=this.Qb(a);f=this.cb(a);-1==c&&this.rh(a,q);c==f&&(b&&-1!=f||this.ig(a,q));b&&-1==e&&(this.Jc(q,q),this.Kc(q,q));this.sk(a,this.La(a)+1);a=this.mg(a);this.qk(a,this.D(a)+1);return q};b.prototype.FF=function(a,c,b){var f=this.Za(c),k=this.Za(b);if(0>f||k>this.ud-1)throw e.g.F("invalid call");if(f>k&&!this.Qb(a))throw e.g.F("cannot iterate across an open path");for(a=0;c!=b;c=this.U(c))f=this.Za(c),k=this.ui(f),null!=k?a+=k.Rb():
(k=this.Za(this.U(c)),a+=this.yb.vs(f,k));return a};b.prototype.Zh=function(a,c){var b=this.Za(a);this.yb.xu(b,c);b=this.ui(b);null!=b&&b.setStart(c);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ui(a)&&b.setEnd(c))};b.prototype.xj=function(a,c){a=this.Za(a);this.yb.xe(a,c)};b.prototype.Nf=function(a,c){this.rb(a,c.x,c.y)};b.prototype.rb=function(a,c,b){var f=this.Za(a);this.yb.rb(f,c,b);f=this.ui(f);null!=f&&f.zC(c,b);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ui(a)&&f.Am(c,b))};b.prototype.w=function(a,
c){this.yb.w(this.Cd.S(a,0),c)};b.prototype.Mc=function(a,c){this.yb.ya[0].fc(2*this.Cd.S(a,0),c)};b.prototype.Ba=function(a){var c=new e.b;this.yb.w(this.Cd.S(a,0),c);return c};b.prototype.gH=function(a,c){this.Jr.fc(2*a,c)};b.prototype.Wc=function(a,c,b){return this.yb.Wc(a,this.Za(c),b)};b.prototype.setAttribute=function(a,c,b,g){this.yb.setAttribute(a,this.Za(c),b,g)};b.prototype.Za=function(a){return this.Cd.S(a,0)};b.prototype.Cf=function(a){var c=new e.b;this.w(a,c);return c.y};b.prototype.Uq=
function(a,c){a=this.Za(a);c=this.Za(c);var b=this.yb.ya[0].f;return b[2*a]===b[2*c]&&b[2*a+1]===b[2*c+1]};b.prototype.qw=function(a,c){a=this.Za(a);var b=this.yb.ya[0].f;return b[2*a]===c.x&&b[2*a+1]===c.y};b.prototype.VX=function(a,c){1>c&&(c=1);if(null==this.oh){if(1==c)return;this.oh=e.Tc.$m(this.yb.D(),1)}a=this.Za(a);a>=this.oh.size&&this.oh.resize(a+1,1);this.oh.write(a,c)};b.prototype.fH=function(a){a=this.Za(a);return null==this.oh||a>=this.oh.size?1:this.oh.read(a)};b.prototype.Va=function(a,
c,b){c=this.Ci[c];a=this.Za(a);c.size<this.yb.D()&&c.resize(this.yb.D(),-1);c.write(a,b)};b.prototype.Sa=function(a,c){a=this.Za(a);c=this.Ci[c];return a<c.size?c.read(a):-1};b.prototype.Sd=function(){null==this.Ci&&(this.Ci=[]);for(var a=0;a<this.Ci.length;a++)if(null==this.Ci[a])return this.Ci[a]=e.Tc.wh(0,-1),a;this.Ci.push(e.Tc.wh(0,-1));return this.Ci.length-1};b.prototype.je=function(a){this.Ci[a]=null};b.prototype.jc=function(a){return null!=this.tf?(a=this.Za(a),this.tf[a]):null};b.prototype.nd=
function(a,c){var b=this.Cd.S(a,2);if(-1==b)return!1;if(this.RA){var g=new e.Wa;this.xj(a,g);c.setStart(g);this.xj(b,g);c.setEnd(g)}else this.yb.Mc(this.Cd.S(a,0),ja),c.Wm(0,ja),this.yb.Mc(this.Cd.S(b,0),ja),c.Wm(1,ja);return!0};b.prototype.LW=function(a,c,b){if(this.RA){var f=new e.Wa;this.xj(a,f);b.setStart(f);this.xj(c,f);b.setEnd(f)}else this.yb.Mc(a,ja),b.Wm(0,ja),this.yb.Mc(c,ja),b.Wm(1,ja)};b.prototype.Vf=function(a,c){var b;if(-1!=c){if(a!=this.mg(c))throw e.g.za();b=this.at(c)}else b=this.Xv(a);
var g=this.LV(a);-1!=c&&this.Sp(c,g);this.Rp(g,c);this.Sp(g,b);-1!=b?this.Rp(b,g):this.Pp(a,g);-1==c&&this.Qp(a,g);this.Bm(a,this.aa(a)+1);return g};b.prototype.pH=function(a,c,b,g){a=this.Vf(a,-1);for(var f=0,e=c,t=!1;e==b&&(t=!0),this.Bj(e,a),f++,e=this.U(e),e!=c;);this.ho(a,!0);this.sk(a,f);t&&(c=b);this.ig(a,c);this.rh(a,this.Ra(c));this.Up(a,!1);null!=g&&(g[0]=t);return a};b.prototype.Qr=function(a){var c=this.at(a),b=this.Sb(a),g=this.mg(a);-1!=c?this.Rp(c,b):this.Pp(g,b);-1!=b?this.Sp(b,c):
this.Qp(g,c);this.$P(a);this.Bm(g,this.aa(g)-1);this.wG(a);return b};b.prototype.$P=function(a){var c=this.cb(a);if(-1!=c){for(var b=0,g=this.La(a);b<g;b++){var e=c,c=this.U(c);this.Fz(e)}c=this.mg(a);this.qk(c,this.D(c)-this.La(a))}this.sk(a,0)};b.prototype.Sb=function(a){return this.rd.S(a,2)};b.prototype.at=function(a){return this.rd.S(a,1)};b.prototype.La=function(a){return this.rd.S(a,3)};b.prototype.Qb=function(a){return 0!=(this.Lq(a)&1)};b.prototype.ho=function(a,c){if(this.Qb(a)!=c){if(0<
this.La(a)){var b=this.cb(a),g=this.Vj(a);c?(this.Jc(g,b),this.Kc(b,g)):(this.Jc(g,-1),this.Kc(b,-1));b=this.Za(g);this.sh(b,null)}this.wC(a,(this.Lq(a)|1)-1|(c?1:0))}};b.prototype.mg=function(a){return this.rd.S(a,7)};b.prototype.tU=function(a){return 0!=(this.Lq(a)&2)};b.prototype.rC=function(a,c){this.wC(a,(this.Lq(a)|2)-2|(c?2:0))};b.prototype.jA=function(a){if(this.zU(a))return this.oj.get(this.dw(a));var c=new e.Hb,b=this.cb(a);if(-1==b)return 0;var g=new e.b;this.w(b,g);for(var k=0,q=0,t=this.La(a);q<
t;q++,b=this.U(b)){var d=this.jc(b);if(null==d){if(!this.nd(b,c))continue;d=c}k+=d.yy(g.x,g.y)}this.Up(a,!0);this.oj.set(this.dw(a),k);return k};b.prototype.Zr=function(a,c,b){c=this.gl[c];a=this.dw(a);c.size<this.oj.size&&c.resize(this.oj.size,-1);c.write(a,b)};b.prototype.Xj=function(a,c){a=this.dw(a);c=this.gl[c];return a<c.size?c.read(a):-1};b.prototype.pz=function(){null==this.gl&&(this.gl=[]);for(var a=0;a<this.gl.length;a++)if(null==this.gl[a])return this.gl[a]=e.Tc.wh(0),a;this.gl.push(e.Tc.wh(0));
return this.gl.length-1};b.prototype.eC=function(a){this.gl[a]=null};b.prototype.BV=function(a,c,b){if(-1==b)throw e.g.F();if(c!=b){var f=this.Sb(b),k=this.at(b),q=this.mg(b);-1==k?this.Pp(q,f):this.Rp(k,f);-1==f?this.Qp(q,k):this.Sp(f,k);this.qk(q,this.D(q)-this.La(b));this.Bm(q,this.aa(q)-1);k=-1==c?this.Xv(a):this.at(c);this.Sp(b,k);this.Rp(b,c);-1==c?this.Qp(a,b):this.Sp(c,b);-1==k?this.Pp(a,b):this.Rp(k,b);this.qk(a,this.D(a)+this.La(b));this.Bm(a,this.aa(a)+1);this.Rx(b,a)}};b.prototype.Oj=
function(a,c){this.yb.xe(this.Za(c),this.gn());this.$j(a,-1,this.gn())};b.prototype.td=function(a,c){var b=this.kd(a),g=this.Ra(a),k=this.U(a);-1!=g&&this.Jc(g,k);var q=this.La(b);a==this.cb(b)&&this.ig(b,1<q?k:-1);-1!=k&&this.Kc(k,g);a==this.Vj(b)&&this.rh(b,1<q?g:-1);if(-1!=g&&-1!=k){var g=this.Za(g),t=this.Za(k);c?(c=this.ui(g),null!=c&&(g=new e.b,this.yb.w(t,g),c.Xc(g))):(t=this.Za(a),c=this.ui(t),this.sh(g,c),null!=c&&(g=this.yb.Ba(g),c.Lc(g)))}this.sk(b,q-1);b=this.mg(b);this.qk(b,this.D(b)-
1);this.Fz(a);return k};b.prototype.cb=function(a){return this.rd.S(a,4)};b.prototype.Vj=function(a){return this.rd.S(a,5)};b.prototype.U=function(a){return this.Cd.S(a,2)};b.prototype.Ra=function(a){return this.Cd.S(a,1)};b.prototype.kd=function(a){return this.Cd.S(a,3)};b.prototype.pc=function(a,c){return this.$j(a,-1,c)};b.prototype.Pr=function(a){if(void 0===a)return this.Pr(!1);if(a instanceof m)return new m(a);var c,b=-1,g=-1,k=-1,q=0,t=!1;for(c=this.qd;-1!=c;c=this.Re(c))if(!a||e.T.Hc(this.ic(c))){for(b=
this.Pb(c);-1!=b;b=this.Sb(b))if(k=g=this.cb(b),q=0,-1!=g){t=!0;break}if(t)break}return m.UQ(this,c,b,g,k,q,a)};b.prototype.Vc=function(a){this.sm.Vc(a);if(null!=this.tf)for(var c=0,b=this.tf.length;c<b;c++)null!=this.tf[c]&&this.tf[c].Vc(a)};b.prototype.as=function(a,c,b,g){g?this.kY(a,c,b):this.jY(a,c,b)};b.prototype.Kc=function(a,c){this.Cd.R(a,1,c)};b.prototype.Jc=function(a,c){this.Cd.R(a,2,c)};b.prototype.Bj=function(a,c){this.Cd.R(a,3,c)};b.prototype.sk=function(a,c){this.rd.R(a,3,c)};b.prototype.ig=
function(a,c){this.rd.R(a,4,c)};b.prototype.rh=function(a,c){this.rd.R(a,5,c)};b.prototype.Bm=function(a,c){this.ld.R(a,6,c)};b.prototype.qk=function(a,c){this.ld.R(a,5,c)};b.prototype.UJ=function(a){var c=a;do{var b=this.U(c);this.Jc(c,this.Ra(c));this.Kc(c,b);c=b}while(c!=a)};b.prototype.CC=function(a){this.ud=a};b.prototype.Rr=function(a){var c=this.at(a),b=this.Sb(a),g=this.mg(a);-1!=c?this.Rp(c,b):this.Pp(g,b);-1!=b?this.Sp(b,c):this.Qp(g,c);this.ig(a,-1);this.rh(a,-1);this.wG(a)};b.prototype.Ni=
function(a,c){var b=this.Ra(a),g=this.U(a);-1!=b&&this.Jc(b,g);-1!=g&&this.Kc(g,b);if(-1!=b&&-1!=g)if(b=this.Za(b),g=this.Za(g),c){if(c=this.ui(b),null!=c){var k=new e.b;this.yb.w(g,k);c.Xc(k)}}else g=this.Za(a),c=this.ui(g),this.sh(b,c),null!=c&&(k=new e.b,this.yb.w(b,k),c.Lc(k));this.Fz(a)};b.prototype.zU=function(a){return 0!=(this.Lq(a)&4)};b.prototype.Up=function(a,c){this.wC(a,(this.Lq(a)|4)-4|(c?4:0))};b.prototype.Xx=function(a,c){var b=this.Cd.f;this.yb.vc();var g=this.yb.ya[0].f;a.Fd(0,c,
function(a,c){a=b[5*a];c=b[5*c];var f=g[2*a];a=g[2*a+1];var e=g[2*c];c=g[2*c+1];return a<c?-1:a>c?1:f<e?-1:f>e?1:0})};b.prototype.FT=function(){for(var a=this.qd;-1!=a;a=this.Re(a))if(!e.T.Hc(this.ic(a)))return!0;return!1};b.prototype.HC=function(a,c){for(var b=this.Pb(a),g=this.Pb(c),e=this.Xv(a),q=this.Xv(c),t=this.Pb(a);-1!=t;t=this.Sb(t))this.Rx(t,c);for(t=this.Pb(c);-1!=t;t=this.Sb(t))this.Rx(t,a);this.Pp(a,g);this.Pp(c,b);this.Qp(a,q);this.Qp(c,e);b=this.D(a);g=this.aa(a);e=this.aa(c);this.qk(a,
this.D(c));this.qk(c,b);this.Bm(a,e);this.Bm(c,g);b=this.ld.S(a,2);this.ld.R(a,2,this.ld.S(c,2));this.ld.R(c,2,b)};return b}();e.ed=d})(x||(x={}));(function(e){var d=function(d){function b(a,c,b,g){var f=d.call(this)||this;f.$=new e.h;void 0===a?f.$F():"number"===typeof a?f.uQ(a,c,b,g):a instanceof e.Wa?void 0!==c?f.Iv(a,c,b):f.vQ(a):a instanceof e.ma?void 0!==c?f.xQ(a,c):f.wQ(a):a instanceof e.h?f.tQ(a):f.$F();return f}fa(b,d);b.prototype.Iv=function(a,c,b){this.description=e.we.Hg();this.$.Oa();
a.u()||this.hv(a,c,b)};b.prototype.tQ=function(a){this.description=e.we.Hg();this.$.I(a);this.$.normalize()};b.prototype.wQ=function(a){if(null==a)throw e.g.F();this.description=a;this.$.Oa()};b.prototype.xQ=function(a,c){if(null==a)throw e.g.F();this.description=a;this.$.I(c);this.$.normalize()};b.prototype.$F=function(){this.description=e.we.Hg();this.$.Oa()};b.prototype.vQ=function(a){this.description=e.we.Hg();this.$.Oa();a.u()||this.hv(a)};b.prototype.uQ=function(a,c,b,g){this.description=e.we.Hg();
this.I(a,c,b,g)};b.prototype.I=function(a,c,b,g){this.zc();if("number"===typeof a)this.$.I(a,c,b,g);else for(this.Oa(),c=0,b=a.length;c<b;c++)this.Nb(a[c])};b.prototype.Np=function(a){this.zc();if(!a.BU())throw e.g.F();this.$.I(a)};b.prototype.Oa=function(){this.zc();this.$.Oa()};b.prototype.u=function(){return this.$.u()};b.prototype.O=function(){return this.$.O()};b.prototype.ea=function(){return this.$.ea()};b.prototype.Jk=function(){return this.$.Jk()};b.prototype.Cq=function(){return this.$.Cq()};
b.prototype.Bq=function(){return this.$.Tf()};b.prototype.Nb=function(a){if(a instanceof e.b)this.zc(),this.$.Nb(a);else if(a instanceof e.h)this.zc(),this.$.Nb(a);else if(a instanceof e.Wa){if(this.zc(),!a.Gc()){var c=a.description;this.description!=c&&this.tm(c);if(this.u())this.hv(a);else{this.$.Nb(a.w());for(var f=1,g=c.Ga;f<g;f++)for(var k=c.Qd(f),q=e.ma.Xa(k),t=0;t<q;t++){var d=a.Wc(k,t),m=this.hg(k,t);m.Nb(d);this.setInterval(k,t,m)}}}}else if(a instanceof b&&!a.u())for(c=a.description,c!=
this.description&&this.tm(c),this.$.Nb(a.$),f=1,g=c.Ga;f<g;f++)for(k=c.pd(f),q=e.ma.Xa(k),t=0;t<q;t++)d=a.hg(k,t),m=this.hg(k,t),m.Nb(d),this.setInterval(k,t,m)};b.prototype.hv=function(a,c,b){if(void 0!==c){this.$.I(a.w(),c,b);c=a.description;b=1;for(var f=c.Ga;b<f;b++)for(var k=c.Qd(b),q=e.ma.Xa(k),t=0;t<q;t++){var d=a.Wc(k,t);this.setInterval(k,t,d,d)}}else for(this.$.I(a.ka[0],a.ka[1]),c=a.description,b=1,f=c.Ga;b<f;b++)for(k=c.Qd(b),q=e.ma.Xa(k),t=0;t<q;t++)d=a.Wc(k,t),this.setInterval(k,t,d,
d)};b.prototype.setInterval=function(a,c,b,g){var f=null;"number"===typeof b?f=new e.yc(b,g):f=b;this.zc();if(0==a)if(0==c)this.$.o=f.ga,this.$.v=f.la;else if(1==c)this.$.A=f.ga,this.$.B=f.la;else throw e.g.vd();else this.OE(0,a,c,f.ga),this.OE(1,a,c,f.la)};b.prototype.P=function(a,c){this.zc();this.$.P(a,c)};b.prototype.Vc=function(a){if(a instanceof e.Gd)this.zc(),a.NC(this.$);else if(this.zc(),!this.$.u()){var c=new e.QL;this.Jp(c);c.sU()?c.Oa():a.NC(c)}};b.prototype.copyTo=function(a){if(a.G()!=
this.G())throw e.g.F();a.zc();a.description=this.description;a.$.I(this.$);a.ka=null;if(null!=this.ka){a.cv();for(var c=0;c<2*(this.description.Ye.length-2);c++)a.ka[c]=this.ka[c]}};b.prototype.Ka=function(){return new b(this.description)};b.prototype.ef=function(){return this.$.AG()};b.prototype.Rb=function(){return this.$.RG()};b.prototype.G=function(){return 197};b.prototype.ub=function(){return 2};b.prototype.Wn=function(a){this.copyTo(a)};b.prototype.s=function(a){a.o=this.$.o;a.A=this.$.A;a.v=
this.$.v;a.B=this.$.B};b.prototype.Jp=function(a){a.o=this.$.o;a.A=this.$.A;a.v=this.$.v;a.B=this.$.B;a.I(this.$.o,this.$.A,this.Zd(0,1,0),this.$.v,this.$.B,this.Zd(1,1,0))};b.prototype.hg=function(a,c){var b=new e.yc;b.I(this.Zd(0,a,c),this.Zd(1,a,c));return b};b.prototype.gg=function(a,c){c.Eg(this.description);var b=this.description.Ga-1;switch(a){case 0:for(a=0;a<b;a++)for(var g=this.description.pd(a),k=e.ma.Xa(g),q=0;q<k;q++)c.setAttribute(g,q,this.Zd(0,g,q));c.rb(this.$.o,this.$.A);break;case 1:for(a=
0;a<b;a++)for(g=this.description.pd(a),k=e.ma.Xa(g),q=0;q<k;q++)c.setAttribute(g,q,this.Zd(1,g,q));c.rb(this.$.o,this.$.B);break;case 2:for(a=0;a<b;a++)for(g=this.description.pd(a),k=e.ma.Xa(g),q=0;q<k;q++)c.setAttribute(g,q,this.Zd(0,g,q));c.rb(this.$.v,this.$.B);break;case 3:for(a=0;a<b;a++)for(g=this.description.pd(a),k=e.ma.Xa(g),q=0;q<k;q++)c.setAttribute(g,q,this.Zd(1,g,q));c.rb(this.$.v,this.$.A);break;default:throw e.g.vd();}};b.prototype.Gx=function(a,c){a=this.$.Gx(a);c.ja(a.x,a.y)};b.prototype.CS=
function(a,c){return c*(a.Er-2)};b.prototype.BG=function(a,c,b){if(this.$.u())throw e.g.X("empty geometry");if(0==c)return 0!=a?0!=b?this.$.B:this.$.v:0!=b?this.$.A:this.$.o;if(b>=e.ma.Xa(c))throw e.g.F();var f=this.description.lg(c);this.cv();return 0<=f?this.ka[this.CS(this.description,a)+this.description.eT(f)-2+b]:e.ma.be(c)};b.prototype.cv=function(){this.zc();if(null==this.ka&&2<this.description.Ye.length){this.ka=[];for(var a=b.N(this.description,0),c=b.N(this.description,1),f=0,g=1,k=this.description.Ga;g<
k;g++)for(var q=this.description.pd(g),t=e.ma.Xa(q),q=e.ma.be(q),d=0;d<t;d++)this.ka[a+f]=q,this.ka[c+f]=q,f++}};b.prototype.to=function(a){if(null!=this.ka)if(2<a.Ye.length){for(var c=e.we.vx(a,this.description),f=[],g=b.N(this.description,0),k=b.N(this.description,1),q=b.N(a,0),t=b.N(a,1),d=0,m=1,h=a.Ga;m<h;m++){var l=a.pd(m),n=e.ma.Xa(l);if(-1==c[m])for(var p=e.ma.be(l),l=0;l<n;l++)f[q+d]=p,f[t+d]=p,d++;else for(p=this.description.zk(c[m])-2,l=0;l<n;l++)f[q+d]=this.ka[g+p],f[t+d]=this.ka[k+p],
d++,p++}this.ka=f}else this.ka=null;this.description=a};b.prototype.Zd=function(a,c,f){if(this.$.u())throw e.g.X("This operation was performed on an Empty Geometry.");if(0==c)return 0!=a?0!=f?this.$.B:this.$.v:0!=f?this.$.A:this.$.o;if(f>=e.ma.Xa(c))throw e.g.vd();var g=this.description.lg(c);return 0<=g?(this.cv(),this.ka[b.N(this.description,a)+this.description.zk(g)-2+f]):e.ma.be(c)};b.prototype.OE=function(a,c,f,g){this.zc();if(0==c)0!=a?0!=f?this.$.B=g:this.$.v=g:0!=f?this.$.A=g:this.$.o=g;else{if(f>=
e.ma.Xa(c))throw e.g.vd();if(!this.hasAttribute(c)){if(e.ma.DH(c,g))return;this.Rd(c)}c=this.description.lg(c);this.cv();this.ka[b.N(this.description,a)+this.description.zk(c)-2+f]=g}};b.N=function(a,c){return c*(a.Ye.length-2)};b.prototype.Ma=function(a){this.zc();var c=new e.h;a.s(c);return this.$.Ma(c)};b.prototype.Yb=function(a){return a instanceof e.h?this.$.Yb(a):this.$.Yb(a.$)};b.prototype.Bv=function(a,c,b){this.zc();a.u()?this.Oa():void 0!==c?this.hv(a,c,b):this.$.Bv(a.Te(),a.Cf())};b.prototype.offset=
function(a,c){this.zc();this.$.offset(a,c)};b.prototype.normalize=function(){this.zc();this.$.normalize()};b.prototype.Tf=function(a){if(void 0!==a)if(a.Eg(this.description),this.u())a.Oa();else{for(var c=this.description.Ga,b=1;b<c;b++)for(var g=this.description.pd(b),k=e.ma.Xa(g),q=0;q<k;q++){var d=.5*(this.BG(0,g,q)+this.BG(1,g,q));a.setAttribute(g,q,d)}a.rb(this.$.Tf())}else{a=new e.Wa(this.description);if(this.u())return a;c=this.description.Ga;for(b=1;b<c;b++)for(g=this.description.Qd(b),k=
e.ma.Xa(g),q=0;q<k;q++)d=.5*(this.Zd(0,g,q)+this.Zd(1,g,q)),a.setAttribute(g,q,d);a.rb(this.$.Jk(),this.$.Cq());return a}};b.prototype.aA=function(){return new e.Wa(this.$.aA())};b.prototype.contains=function(a){return a instanceof e.Wa?a.u()?!1:this.$.contains(a.Te(),a.Cf()):this.$.contains(a.$)};b.prototype.DQ=function(a){return this.$.contains(a)};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.u())return a.u()?!0:!1;if(!this.$.Eb(a.$))return!1;
for(var c=0,f=2*(this.description.Ye.length-2);c<f;c++)if(this.ka[c]!=a.ka[c])return!1;return!0};b.prototype.kc=function(){var a=this.description.kc(),a=e.J.bh(a,this.$.kc());if(!this.u()&&null!=this.ka)for(var c=0,b=2*(this.description.Ye.length-2);c<b;c++)a=e.J.bh(a,this.ka[c]);return a};b.prototype.dt=function(){return this.$.o};b.prototype.ft=function(){return this.$.A};b.prototype.ct=function(){return this.$.v};b.prototype.et=function(){return this.$.B};b.prototype.Fg=function(){return e.Pi.Xm(this,
null)};b.prototype.toString=function(){return this.u()?"Envelope: []":"Envelope: ["+this.$.o+", "+this.$.A+", "+this.$.v+", "+this.$.B+"]"};return b}(e.T);e.di=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c,f){void 0===b?this.Oa():(this.o=b,this.A=a,this.v=c,this.B=f)}d.pa=function(b,a,c,f){var g=new d;g.o=b;g.A=a;g.v=c;g.B=f;return g};d.prototype.I=function(b,a,c,f){"number"===typeof b?void 0!==c?(this.o=b,this.A=a,this.v=c,this.B=f,this.normalize()):(this.o=b,this.A=a,this.v=b,this.B=
a):b instanceof e.b?void 0!==a?(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.normalize()):(this.o=b.x,this.A=b.y,this.v=b.x,this.B=b.y):b instanceof d?this.I(b.o,b.A,b.v,b.B):b instanceof e.yc&&(b.u()||a.u()?this.Oa():(this.o=b.ga,this.v=b.la,this.A=a.ga,this.B=a.la))};d.prototype.OS=function(b,a){var c=new d;c.I(this.o,this.A,this.v,this.B);c.P(b,a);return c};d.prototype.Mx=function(b,a){if(void 0!==a)if(0==a)this.Oa();else{this.o=b[0].x;this.A=b[0].y;this.v=this.o;this.B=
this.A;for(var c=1;c<a;c++){var f=b[c];f.x<this.o?this.o=f.x:f.x>this.v&&(this.v=f.x);f.y<this.A?this.A=f.y:f.y>this.B&&(this.B=f.y)}}else if(null==b||0==b.length)this.Oa();else for(f=b[0],this.I(f.x,f.y),c=1;c<b.length;c++)f=b[c],this.ol(f.x,f.y)};d.prototype.Oa=function(){this.B=this.v=this.A=this.o=NaN};d.prototype.u=function(){return isNaN(this.o)};d.prototype.Nb=function(b,a){"number"===typeof b?this.u()?(this.o=b,this.A=a,this.v=b,this.B=a):(this.o>b?this.o=b:this.v<b&&(this.v=b),this.A>a?this.A=
a:this.B<a&&(this.B=a)):b instanceof e.b?this.Nb(b.x,b.y):b instanceof e.od?this.Nb(b.x,b.y):b instanceof d&&!b.u()&&(this.Nb(b.o,b.A),this.Nb(b.v,b.B))};d.prototype.ol=function(b,a){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a)};d.prototype.P=function(b,a){this.u()||(this.o-=b,this.v+=b,this.A-=a,this.B+=a,(this.o>this.v||this.A>this.B)&&this.Oa())};d.prototype.scale=function(b){0>b&&this.Oa();this.u()||(this.o*=b,this.v*=b,this.A*=b,this.B*=b)};d.prototype.Yb=function(b){return!this.u()&&
!b.u()&&(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};d.prototype.HH=function(b){return(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};d.prototype.Ma=function(b){if(this.u()||b.u())return!1;b.o>this.o&&(this.o=b.o);b.v<this.v&&(this.v=b.v);b.A>this.A&&(this.A=b.A);b.B<this.B&&(this.B=b.B);(b=this.o<=this.v&&this.A<=this.B)||this.Oa();return b};d.prototype.Gx=function(b){switch(b){case 0:return e.b.pa(this.o,this.A);case 1:return e.b.pa(this.o,
this.B);case 2:return e.b.pa(this.v,this.B);case 3:return e.b.pa(this.v,this.A);default:throw e.g.vd();}};d.prototype.SB=function(b){if(null==b||4>b.length)throw e.g.F();null!=b[0]?b[0].ja(this.o,this.A):b[0]=e.b.pa(this.o,this.A);null!=b[1]?b[1].ja(this.o,this.B):b[1]=e.b.pa(this.o,this.B);null!=b[2]?b[2].ja(this.v,this.B):b[2]=e.b.pa(this.v,this.B);null!=b[3]?b[3].ja(this.v,this.A):b[3]=e.b.pa(this.v,this.A)};d.prototype.AG=function(){return this.u()?0:this.O()*this.ea()};d.prototype.RG=function(){return this.u()?
0:2*(this.O()+this.ea())};d.prototype.Jk=function(){return(this.v+this.o)/2};d.prototype.Cq=function(){return(this.B+this.A)/2};d.prototype.O=function(){return this.v-this.o};d.prototype.ea=function(){return this.B-this.A};d.prototype.move=function(b,a){this.u()||(this.o+=b,this.A+=a,this.v+=b,this.B+=a)};d.prototype.Bv=function(b,a){if(void 0!==a)this.move(b-this.Jk(),a-this.Cq());else if(b instanceof e.b)this.Bv(b.x,b.y);else if(b instanceof e.Wa){a=(this.v-this.o)/2;var c=(this.B-this.A)/2;this.o=
b.Te()-a;this.v=b.Te()+a;this.A=b.Cf()-c;this.B=b.Cf()+c}else throw e.g.F();};d.prototype.offset=function(b,a){this.o+=b;this.v+=b;this.A+=a;this.B+=a};d.prototype.normalize=function(){if(!this.u()){var b=Math.min(this.o,this.v),a=Math.max(this.o,this.v);this.o=b;this.v=a;b=Math.min(this.A,this.B);a=Math.max(this.A,this.B);this.A=b;this.B=a}};d.prototype.Zn=function(b){b.ja(this.o,this.A)};d.prototype.HJ=function(b){b.ja(this.v,this.A)};d.prototype.KJ=function(b){b.ja(this.o,this.B)};d.prototype.$n=
function(b){b.ja(this.v,this.B)};d.prototype.BU=function(){return this.u()||this.o<=this.v&&this.A<=this.B};d.prototype.Tf=function(){return e.b.pa((this.v+this.o)/2,(this.B+this.A)/2)};d.prototype.aA=function(){return e.b.pa(this.o,this.A)};d.prototype.contains=function(b,a){if(void 0!==a)return b>=this.o&&b<=this.v&&a>=this.A&&a<=this.B;if(b instanceof e.Wa)return this.contains(b.Te(),b.Cf());if(b instanceof e.b)return this.contains(b.x,b.y);if(b instanceof d)return b.o>=this.o&&b.v<=this.v&&b.A>=
this.A&&b.B<=this.B;throw e.g.F();};d.prototype.Zm=function(b,a){if(void 0!==a)return b>this.o&&b<this.v&&a>this.A&&a<this.B;if(b instanceof e.b)return this.Zm(b.x,b.y);if(b instanceof d)return b.o>this.o&&b.v<this.v&&b.A>this.A&&b.B<this.B;throw e.g.F();};d.prototype.Eb=function(b){return b==this?!0:b instanceof d?this.u()&&b.u()?!0:this.o!=b.o||this.A!=b.A||this.v!=b.v||this.B!=b.B?!1:!0:!1};d.prototype.kc=function(){var b=this.o,b=e.J.truncate(b^b>>>32),a=e.J.bh(b),b=this.v,b=e.J.truncate(b^b>>>
32),a=e.J.bh(b,a),b=this.A,b=e.J.truncate(b^b>>>32),a=e.J.bh(b,a),b=this.B,b=e.J.truncate(b^b>>>32);return a=e.J.bh(b,a)};d.prototype.Ky=function(b){var a=new e.b;a.L(b);if(a.Dy())return a;if(this.u())return a.iv(),a;a.x<this.o?a.x=this.o:a.x>this.v&&(a.x=this.v);a.y<this.A?a.y=this.A:a.y>this.B&&(a.y=this.B);if(!a.Eb(b))return a;b=this.Tf();(a.x<b.x?a.x-this.o:this.v-a.x)<(a.y<b.y?a.y-this.A:this.B-a.y)?a.x=a.x<b.x?this.o:this.v:a.y=a.y<b.y?this.A:this.B;return a};d.prototype.av=function(b){if(this.u())return NaN;
if(b.x==this.o)return b.y-this.A;var a=this.B-this.A,c=this.v-this.o;return b.y==this.B?a+b.x-this.o:b.x==this.v?a+c+this.B-b.y:b.y==this.A?2*a+c+this.v-b.x:this.av(this.Ky(b))};d.prototype.DE=function(b){if(this.u())return-1;b=this.av(b);var a=this.B-this.A,c=this.v-this.o;return b<a?0:(b-=a)<c?1:b-c<a?2:3};d.prototype.uo=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)};d.prototype.ez=function(b,a){var c=
this.yk(b),f=this.yk(a);if(0!=(c&f))return 0;if(0==(c|f))return 4;var g=(0!=c?1:0)|(0!=f?2:0);do{var e=a.x-b.x,q=a.y-b.y;e>q?0!=(c&d.dc)?(0!=(c&d.N)?(b.y+=q*(this.o-b.x)/e,b.x=this.o):(b.y+=q*(this.v-b.x)/e,b.x=this.v),c=this.yk(b)):0!=(f&d.dc)?(0!=(f&d.N)?(a.y+=q*(this.o-a.x)/e,a.x=this.o):(a.y+=q*(this.v-a.x)/e,a.x=this.v),f=this.yk(a)):0!=c?(0!=(c&d.tb)?(b.x+=e*(this.A-b.y)/q,b.y=this.A):(b.x+=e*(this.B-b.y)/q,b.y=this.B),c=this.yk(b)):(0!=(f&d.tb)?(a.x+=e*(this.A-a.y)/q,a.y=this.A):(a.x+=e*(this.B-
a.y)/q,a.y=this.B),f=this.yk(a)):0!=(c&d.ad)?(0!=(c&d.tb)?(b.x+=e*(this.A-b.y)/q,b.y=this.A):(b.x+=e*(this.B-b.y)/q,b.y=this.B),c=this.yk(b)):0!=(f&d.ad)?(0!=(f&d.tb)?(a.x+=e*(this.A-a.y)/q,a.y=this.A):(a.x+=e*(this.B-a.y)/q,a.y=this.B),f=this.yk(a)):0!=c?(0!=(c&d.N)?(b.y+=q*(this.o-b.x)/e,b.x=this.o):(b.y+=q*(this.v-b.x)/e,b.x=this.v),c=this.yk(b)):(0!=(f&d.N)?(a.y+=q*(this.o-a.x)/e,a.x=this.o):(a.y+=q*(this.v-a.x)/e,a.x=this.v),f=this.yk(a));if(0!=(c&f))return 0}while(0!=(c|f));return g};d.prototype.yk=
function(b){return(b.x<this.o?1:0)|(b.x>this.v?1:0)<<1|(b.y<this.A?1:0)<<2|(b.y>this.B?1:0)<<3};d.prototype.eh=function(b){return!this.u()&&(this.O()<=b||this.ea()<=b)};d.prototype.Cb=function(b){return b instanceof e.b?Math.sqrt(this.NK(b)):Math.sqrt(this.Zx(b))};d.prototype.Zx=function(b){var a=0,c=0,f;f=this.o-b.v;f>a&&(a=f);f=this.A-b.B;f>c&&(c=f);f=b.o-this.v;f>a&&(a=f);f=b.A-this.B;f>c&&(c=f);return a*a+c*c};d.prototype.NK=function(b){var a=0,c=0,f;f=this.o-b.x;f>a&&(a=f);f=this.A-b.y;f>c&&
(c=f);f=b.x-this.v;f>a&&(a=f);f=b.y-this.B;f>c&&(c=f);return a*a+c*c};d.prototype.Yn=function(b){this.u()?b.Oa():b.I(this.o,this.v)};d.XN=function(b,a,c,f){var g=1;isNaN(b)||(g+=Math.abs(b));isNaN(a)||(g+=Math.abs(a));isNaN(c)||(g+=Math.abs(c));isNaN(f)||(g+=Math.abs(f));return 2.220446049250313E-14*g};d.N=1;d.tb=4;d.dc=3;d.ad=12;return d}();e.h=d})(x||(x={}));(function(e){var d;(function(b){b[b.initialize=0]="initialize";b[b.initializeRed=1]="initializeRed";b[b.initializeBlue=2]="initializeBlue";
b[b.initializeRedBlue=3]="initializeRedBlue";b[b.sweep=4]="sweep";b[b.sweepBruteForce=5]="sweepBruteForce";b[b.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";b[b.sweepRedBlue=7]="sweepRedBlue";b[b.sweepRed=8]="sweepRed";b[b.sweepBlue=9]="sweepBlue";b[b.iterate=10]="iterate";b[b.iterateRed=11]="iterateRed";b[b.iterateBlue=12]="iterateBlue";b[b.iterateBruteForce=13]="iterateBruteForce";b[b.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";b[b.resetRed=15]="resetRed";b[b.resetBlue=16]="resetBlue"})(d||
(d={}));var m=function(){function b(a,c){this.Di=a;this.cI=c}b.prototype.gs=function(a,c,b){this.Di.hY(b,a,c,this.cI)};b.prototype.Qq=function(a){return this.Di.Ks(a,this.cI)};return b}();d=function(){function b(){this.ax=this.ip=this.Ff=this.Ad=null;this.lr=new e.h;this.un=this.gk=this.hk=this.Od=this.dg=this.Wd=this.Qw=this.$o=this.zd=this.Lb=null;this.Zb=-1;this.ta=0;this.sl()}b.prototype.bs=function(){this.sl();this.Bw=!0;null==this.Lb?(this.$o=new e.ha(0),this.Lb=[]):(this.$o.uf(0),this.Lb.length=
0)};b.prototype.hd=function(a,c){if(!this.Bw)throw e.g.Da();var b=new e.h;b.I(c);this.$o.add(a);this.Lb.push(b)};b.prototype.yq=function(){if(!this.Bw)throw e.g.Da();this.Bw=!1;null!=this.Lb&&0<this.Lb.length&&(this.Zb=0,this.Oc=!1)};b.prototype.QK=function(){this.sl();this.Aw=!0;null==this.Lb?(this.$o=new e.ha(0),this.Lb=[]):(this.$o.uf(0),this.Lb.length=0)};b.prototype.aF=function(a,c){if(!this.Aw)throw e.g.Da();var b=new e.h;b.I(c);this.$o.add(a);this.Lb.push(b)};b.prototype.qG=function(){if(!this.Aw)throw e.g.Da();
this.Aw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.zd&&0<this.zd.length&&(-1==this.Zb?this.Zb=3:2==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=1),this.Oc=!1)};b.prototype.PK=function(){this.sl();this.zw=!0;null==this.zd?(this.Qw=new e.ha(0),this.zd=[]):(this.Qw.uf(0),this.zd.length=0)};b.prototype.XE=function(a,c){if(!this.zw)throw e.g.Da();var b=new e.h;b.I(c);this.Qw.add(a);this.zd.push(b)};b.prototype.pG=function(){if(!this.zw)throw e.g.Da();this.zw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.zd&&
0<this.zd.length&&(-1==this.Zb?this.Zb=3:1==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=2),this.Oc=!1)};b.prototype.next=function(){if(this.Oc)return!1;for(var a=!0;a;)switch(this.Zb){case 0:a=this.tA();break;case 1:a=this.PT();break;case 2:a=this.MT();break;case 3:a=this.OT();break;case 4:a=this.rY();break;case 5:a=this.nY();break;case 6:a=this.oY();break;case 7:a=this.pY();break;case 8:a=this.by();break;case 9:a=this.IC();break;case 10:a=this.FA();break;case 11:a=this.FU();break;case 12:a=this.CU();
break;case 13:a=this.DU();break;case 14:a=this.EU();break;case 15:a=this.OJ();break;case 16:a=this.NJ();break;default:throw e.g.za();}return this.Oc?!1:!0};b.prototype.BC=function(a){this.ta=a};b.prototype.hA=function(a){return this.Lb[a]};b.prototype.Lz=function(a){return this.zd[a]};b.prototype.Vl=function(a){return this.$o.read(a)};b.prototype.Rl=function(a){return this.Qw.read(a)};b.GA=function(a){return 1==(a&1)};b.Fj=function(a){return 0==(a&1)};b.prototype.sl=function(){this.Bw=this.zw=this.Aw=
!1;this.bg=this.cg=this.mh=this.Ke=-1;this.Oc=!0};b.prototype.tA=function(){this.$f=this.rg=-1;if(10>this.Lb.length)return this.Ke=this.Lb.length,this.Zb=5,!0;null==this.Ad&&(this.Ad=new e.ms(!0),this.ip=this.Ad.jf(),this.Wd=new e.ha(0));this.Ad.bs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Ad.xs(c.o,c.v)}this.Ad.yq();this.Wd.zb(2*this.Lb.length);this.Wd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Wd.add(a);this.Au(this.Wd,2*this.Lb.length,!0);this.Ke=2*this.Lb.length;this.Zb=4;return!0};
b.prototype.PT=function(){this.$f=this.rg=-1;if(10>this.Lb.length||10>this.zd.length)return this.Ke=this.Lb.length,this.Zb=6,!0;null==this.Ad&&(this.Ad=new e.ms(!0),this.ip=this.Ad.jf(),this.Wd=new e.ha(0));this.Ad.bs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Ad.xs(c.o,c.v)}this.Ad.yq();this.Wd.zb(2*this.Lb.length);this.Wd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Wd.add(a);this.Au(this.Wd,this.Wd.size,!0);this.Ke=this.Wd.size;-1!=this.cg&&(this.Od.zh(this.cg),this.hk.resize(0),
this.cg=-1);this.Zb=7;return this.NJ()};b.prototype.MT=function(){this.$f=this.rg=-1;if(10>this.Lb.length||10>this.zd.length)return this.Ke=this.Lb.length,this.Zb=6,!0;null==this.Ff&&(this.Ff=new e.ms(!0),this.ax=this.Ff.jf(),this.dg=new e.ha(0));this.Ff.bs();for(var a=0;a<this.zd.length;a++){var c=this.zd[a];this.Ff.xs(c.o,c.v)}this.Ff.yq();this.dg.zb(2*this.zd.length);this.dg.resize(0);for(a=0;a<2*this.zd.length;a++)this.dg.add(a);this.Au(this.dg,this.dg.size,!1);this.mh=this.dg.size;-1!=this.bg&&
(this.Od.zh(this.bg),this.gk.resize(0),this.bg=-1);this.Zb=7;return this.OJ()};b.prototype.OT=function(){this.$f=this.rg=-1;if(10>this.Lb.length||10>this.zd.length)return this.Ke=this.Lb.length,this.Zb=6,!0;null==this.Ad&&(this.Ad=new e.ms(!0),this.ip=this.Ad.jf(),this.Wd=new e.ha(0));null==this.Ff&&(this.Ff=new e.ms(!0),this.ax=this.Ff.jf(),this.dg=new e.ha(0));this.Ad.bs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Ad.xs(c.o,c.v)}this.Ad.yq();this.Ff.bs();for(a=0;a<this.zd.length;a++)c=
this.zd[a],this.Ff.xs(c.o,c.v);this.Ff.yq();this.Wd.zb(2*this.Lb.length);this.dg.zb(2*this.zd.length);this.Wd.resize(0);this.dg.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Wd.add(a);for(a=0;a<2*this.zd.length;a++)this.dg.add(a);this.Au(this.Wd,this.Wd.size,!0);this.Au(this.dg,this.dg.size,!1);this.Ke=this.Wd.size;this.mh=this.dg.size;-1!=this.cg&&(this.Od.zh(this.cg),this.hk.resize(0),this.cg=-1);-1!=this.bg&&(this.Od.zh(this.bg),this.gk.resize(0),this.bg=-1);this.Zb=7;return!0};b.prototype.rY=
function(){var a=this.Wd.get(--this.Ke),c=a>>1;if(b.Fj(a))return this.Ad.remove(c),0==this.Ke?(this.$f=this.rg=-1,this.Oc=!0,!1):!0;this.ip.gC(this.Lb[c].o,this.Lb[c].v,this.ta);this.rg=c;this.Zb=10;return!0};b.prototype.nY=function(){if(-1==--this.Ke)return this.$f=this.rg=-1,this.Oc=!0,!1;this.mh=this.rg=this.Ke;this.Zb=13;return!0};b.prototype.oY=function(){if(-1==--this.Ke)return this.$f=this.rg=-1,this.Oc=!0,!1;this.rg=this.Ke;this.mh=this.zd.length;this.Zb=14;return!0};b.prototype.pY=function(){var a=
this.Wd.get(this.Ke-1),c=this.dg.get(this.mh-1),f=this.Ks(a,!0),g=this.Ks(c,!1);return f>g?this.by():f<g?this.IC():b.GA(a)?this.by():b.GA(c)?this.IC():this.by()};b.prototype.by=function(){var a=this.Wd.get(--this.Ke),c=a>>1;if(b.Fj(a))return-1!=this.cg&&-1!=this.hk.get(c)?(this.Od.jd(this.cg,this.hk.get(c)),this.hk.set(c,-1)):this.Ad.remove(c),0==this.Ke?(this.$f=this.rg=-1,this.Oc=!0,!1):!0;if(-1!=this.bg&&0<this.Od.Zs(this.bg))for(a=this.Od.wc(this.bg);-1!=a;){var f=this.Od.getData(a);this.Ff.dh(f);
this.gk.set(f,-1);f=this.Od.nb(a);this.Od.jd(this.bg,a);a=f}0<this.Ff.size()?(this.ax.gC(this.Lb[c].o,this.Lb[c].v,this.ta),this.rg=c,this.Zb=12):(-1==this.cg&&(null==this.Od&&(this.Od=new e.cq),this.hk=new e.ha(0),this.hk.resize(this.Lb.length,-1),this.hk.$h(-1,0,this.Lb.length),this.cg=this.Od.ni(1)),this.hk.set(c,this.Od.addElement(this.cg,c)),this.Zb=7);return!0};b.prototype.IC=function(){var a=this.dg.get(--this.mh),c=a>>1;if(b.Fj(a))return-1!=this.bg&&-1!=this.gk.get(c)?(this.Od.jd(this.bg,
this.gk.get(c)),this.gk.set(c,-1)):this.Ff.remove(c),0==this.mh?(this.$f=this.rg=-1,this.Oc=!0,!1):!0;if(-1!=this.cg&&0<this.Od.Zs(this.cg))for(a=this.Od.wc(this.cg);-1!=a;){var f=this.Od.getData(a);this.Ad.dh(f);this.hk.set(f,-1);f=this.Od.nb(a);this.Od.jd(this.cg,a);a=f}0<this.Ad.size()?(this.ip.gC(this.zd[c].o,this.zd[c].v,this.ta),this.$f=c,this.Zb=11):(-1==this.bg&&(null==this.Od&&(this.Od=new e.cq),this.gk=new e.ha(0),this.gk.resize(this.zd.length,-1),this.gk.$h(-1,0,this.zd.length),this.bg=
this.Od.ni(0)),this.gk.set(c,this.Od.addElement(this.bg,c)),this.Zb=7);return!0};b.prototype.FA=function(){this.$f=this.ip.next();if(-1!=this.$f)return!1;var a=this.Wd.get(this.Ke)>>1;this.Ad.dh(a);this.Zb=4;return!0};b.prototype.FU=function(){this.rg=this.ip.next();if(-1!=this.rg)return!1;this.$f=this.rg=-1;var a=this.dg.get(this.mh)>>1;this.Ff.dh(a);this.Zb=7;return!0};b.prototype.CU=function(){this.$f=this.ax.next();if(-1!=this.$f)return!1;var a=this.Wd.get(this.Ke)>>1;this.Ad.dh(a);this.Zb=7;
return!0};b.prototype.DU=function(){if(-1==--this.mh)return this.Zb=5,!0;this.lr.I(this.Lb[this.Ke]);var a=this.Lb[this.mh];this.lr.P(this.ta,this.ta);return this.lr.Yb(a)?(this.$f=this.mh,!1):!0};b.prototype.EU=function(){if(-1==--this.mh)return this.Zb=6,!0;this.lr.I(this.Lb[this.Ke]);var a=this.zd[this.mh];this.lr.P(this.ta,this.ta);return this.lr.Yb(a)?(this.$f=this.mh,!1):!0};b.prototype.OJ=function(){if(null==this.Ad)return this.Oc=!0,!1;this.Ke=this.Wd.size;0<this.Ad.size()&&this.Ad.reset();
-1!=this.cg&&(this.Od.zh(this.cg),this.hk.resize(0),this.cg=-1);this.Oc=!1;return!0};b.prototype.NJ=function(){if(null==this.Ff)return this.Oc=!0,!1;this.mh=this.dg.size;0<this.Ff.size()&&this.Ff.reset();-1!=this.bg&&(this.Od.zh(this.bg),this.gk.resize(0),this.bg=-1);this.Oc=!1;return!0};b.prototype.Au=function(a,c,b){null==this.un&&(this.un=new e.Ju);b=new m(this,b);this.un.sort(a,0,c,b)};b.prototype.hY=function(a,c,f,g){var e=this;a.Fd(c,f,function(a,c){var f=e.Ks(a,g),k=e.Ks(c,g);return f<k||f==
k&&b.Fj(a)&&b.GA(c)?-1:1})};b.prototype.Ks=function(a,c){var f=.5*this.ta;if(c)return c=this.Lb[a>>1],f=b.Fj(a)?c.A-f:c.B+f;c=this.zd[a>>1];return f=b.Fj(a)?c.A-f:c.B+f};return b}();e.mD=d})(x||(x={}));(function(e){var d=function(){function d(){}d.pa=function(b,a,c,f,g,e){var k=new d;k.o=b;k.A=a;k.xf=c;k.v=f;k.B=g;k.Zg=e;return k};d.prototype.Oa=function(){this.xf=this.o=NaN};d.prototype.u=function(){return isNaN(this.o)};d.prototype.sU=function(){return isNaN(this.xf)};d.prototype.I=function(b,a,
c,f,g,e){void 0!==f?"number"===typeof b?(this.o=b,this.A=a,this.xf=c,this.v=f,this.B=g,this.Zg=e):(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.xf=b.z-.5*f,this.Zg=this.xf+f):(this.o=b,this.A=a,this.xf=c,this.v=b,this.B=a,this.Zg=c)};d.prototype.move=function(b){this.o+=b.x;this.A+=b.y;this.xf+=b.z;this.v+=b.x;this.B+=b.y;this.Zg+=b.z};d.prototype.copyTo=function(b){b.o=this.o;b.A=this.A;b.v=this.v;b.B=this.B};d.prototype.ol=function(b,a,c){this.o>b?this.o=b:this.v<b&&(this.v=
b);this.A>a?this.A=a:this.B<a&&(this.B=a);0==isNaN(this.xf)?this.xf>c?this.xf=c:this.Zg<c&&(this.Zg=c):this.Zg=this.xf=c};d.prototype.Nb=function(b,a,c,f,g,k){if("number"===typeof b)f?(this.Nb(b,a,c),this.Nb(f,g,k)):this.u()?(this.o=b,this.A=a,this.xf=c,this.v=b,this.B=a,this.Zg=c):this.ol(b,a,c);else if(b instanceof e.od)this.Nb(b.x,b.y,b.z);else if(b instanceof d)b.u()||(this.Nb(b.o,b.A,b.xf),this.Nb(b.v,b.B,b.Zg));else throw e.g.F();};d.prototype.pa=function(b,a,c){b.u()||a.u()?this.Oa():(this.o=
b.ga,this.v=b.la,this.A=a.ga,this.B=a.la,this.xf=c.ga,this.Zg=c.la)};d.prototype.SB=function(b){if(null==b||8>b.length)throw e.g.F();b[0]=new e.od(this.o,this.A,this.xf);b[1]=new e.od(this.o,this.B,this.xf);b[2]=new e.od(this.v,this.B,this.xf);b[3]=new e.od(this.v,this.A,this.xf);b[4]=new e.od(this.o,this.A,this.Zg);b[5]=new e.od(this.o,this.B,this.Zg);b[6]=new e.od(this.v,this.B,this.Zg);b[7]=new e.od(this.v,this.A,this.Zg)};d.prototype.Mx=function(b){if(null==b||0==b.length)this.Oa();else{var a=
b[0];this.I(a.x,a.y,a.z);for(a=1;a<b.length;a++){var c=b[a];this.ol(c.x,c.y,c.z)}}};return d}();e.QL=d})(x||(x={}));(function(e){(function(e){e.za=function(){var e=Error();e.message="Internal Error";return e};e.af=function(){var e=Error();e.message="Not Implemented";return e};e.Dl=function(){var e=Error();e.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";return e};e.Da=function(){var e=Error();e.message="Invalid Call";return e};e.F=function(e){var b=
Error();b.message="Illegal Argument Exception";void 0!==e&&(b.message+=": "+e);return b};e.tN=function(){var e=Error();e.message="Runtime Exception.";return e};e.X=function(e){var b=Error();b.message="Geometry Exception: "+e;return b};e.yL=function(){var e=Error();e.message="Assert Failed Exception";return e};e.vd=function(){var e=Error();e.message="IndexOutOfBoundsException";return e};e.PZ=function(e){e.message="UserCancelException";return e}})(e.g||(e.g={}))})(x||(x={}));(function(e){e=e.Um||(e.Um=
{});e[e.forward=0]="forward";e[e.reverse=1]="reverse"})(x||(x={}));(function(e){var d=function(){function a(a,b){this.$a=a;this.HI=b;this.MI=-1;this.am=!1}a.prototype.Oe=function(){return!0};a.prototype.next=function(){if(++this.MI==this.HI.D())return null;var a=this.HI.Ba(this.MI);a.scale(this.$a.oc);var b=new e.Ja;this.$a.Vy(a,this.am,b);return b};a.prototype.Ia=function(){return 0};return a}(),m=function(){function a(a,b,g){this.$a=a;this.ex=b;this.So=!1;this.Yo=g;this.Pw=[0];this.Wk=[0];this.kk=
[0];this.Et=[0];this.am=!1;this.fr=new e.Ja;this.Yk=[]}a.prototype.Oe=function(){return!0};a.prototype.next=function(){if(this.So){this.So=!1;this.Bd.ba();var a=e.T.me(this.fr);return a=e.Cg.ql(a,this.$a.pr,!0,!0,this.$a.mc)}null==this.Bd&&(this.Bd=this.ex.Fa(),this.Bd.Ya(),null!=this.Yo&&this.Yo.Gl(null,0));if(!this.Bd.Ea()){if(!this.Bd.Ya())return null;null!=this.Yo&&this.Yo.Gl(null,0)}a=null;this.Wk[0]=0;this.oB=this.Pw[0]=0;this.Ei=NaN;this.So=!1;for(var f=this.Yk.length=0,g=new e.b,k=new e.b,
q=[0];this.Bd.Ea()&&8>this.oB;){var d=this.Bd.ba();g.L(d.ec());k.L(d.Ac());g.scale(this.$a.oc);k.scale(this.$a.oc);e.Ij.Fv(g,k)?g.x=k.x:e.Ij.Dv(g,k)&&(k.x=g.x);this.Yk.length=0;e.Ij.yG(this.$a.Vb,this.$a.rc,this.$a.Xe,g,k,this.$a.yB,this.$a.Vt,q,this.kk,this.Et,this.Yk,this.Pw);null!=this.Yo&&(d=this.Yk.slice(0),this.Yo.sH(this.Yo.aa()-1,d,d.length-1));e.Ij.Ev(g,k)?(this.fr.Oa(),this.$a.Vy(g,this.am,this.fr),this.So=!0):(this.fr.Oa(),this.So=this.bz(q[0],this.fr));if(this.So){this.Bd.Mi();if(this.Bd.rA()){this.Bd.Mi();
this.Bd.ba();break}this.Bd.dX();break}null==a&&(a=new e.Ja,a.Gl(null,0));this.fF(a);f++}this.Pw[0]=0;if(0<f){for(q=this.Bd.Db();0<f;)this.Bd.Mi(),g.L(this.ex.Ba(this.Bd.Db())),k.L(this.ex.Ba(this.Bd.Lk())),g.scale(this.$a.oc),k.scale(this.$a.oc),this.am&&(e.Ij.Fv(g,k)?g.x=k.x:e.Ij.Dv(g,k)&&(k.x=g.x)),this.Yk.length=0,e.Ij.yG(this.$a.Vb,this.$a.rc,this.$a.Xe,k,g,this.$a.yB,this.$a.Vt,null,this.kk,this.Et,this.Yk,this.Pw),this.fF(a),f--;g.L(this.ex.Ba(this.Bd.Db()));g.scale(this.$a.oc);b.Ds(this.$a.Vb,
this.$a.rc,this.$a.oc,this.$a.wb,g,this.Ei+1.570796326794897,this.Ei+4.71238898038469,this.$a.Wo,this.am,this.Wk,a,NaN,NaN);this.Bd.Tb(q);this.Bd.ba();f=e.na.$g(null,a,!0);return a=e.Cg.ql(a,f,!0,!0,this.$a.mc)}this.So=!1;this.Bd.ba();a=e.T.me(this.fr);return a=e.Cg.ql(a,this.$a.pr,!0,!0,this.$a.mc)};a.prototype.fF=function(a){var c=this.Yk[0],g,k=this.kk[0]-1.570796326794897,q=this.Et[0]+1.570796326794897,d;if(!isNaN(this.Ei)){this.Ei>=this.kk[0]?(g=this.Ei+1.570796326794897,k=g+3.141592653589793-
(this.Ei-this.kk[0])):(g=this.Ei+1.570796326794897,k=g+3.141592653589793-(6.283185307179586-(this.kk[0]-this.Ei)));d=this.Ei>=this.kk[0]&&3.141592653589793>=this.Ei-this.kk[0]?!1:this.Ei<this.kk[0]&&3.141592653589793<=this.kk[0]-this.Ei?!1:!0;var w=!1;if(Math.abs(k-g)<=.5*this.$a.Wo)if(d){var m=a.Ba(a.D()-2);m.scale(this.$a.oc);var h=new e.da(0);e.mb.Iz(this.$a.Vb,this.$a.rc,c.x,c.y,m.x,m.y,h);for(m=h.j;m<=g;)m+=6.283185307179586;for(;m>g;)m-=6.283185307179586;m<k&&(w=!0)}else w=!0;w?(a.fC(0,a.D()-
1),this.am||(c=new e.b,c.L(a.Ba(a.D()-1)),c.scale(this.$a.oc),-3.141592653589793>c.x-this.Wk[0]?this.Wk[0]-=6.283185307179586:3.141592653589793<c.x-this.Wk[0]&&(this.Wk[0]+=6.283185307179586)),d||(k=.5*(k+g))):(d?(g=new e.b,g.L(c),g.scale(1/this.$a.oc),a.Wf(0,-1,g)):b.Ds(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.wb,this.Yk[0],g,k,this.$a.Wo,this.am,this.Wk,a,NaN,NaN),this.oB+=1)}b.Uy(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.wb,this.$a.Xe,this.Yk,k,q,this.am,this.Wk,a);this.Ei=this.Et[0]};a.prototype.bz=
function(a,b){return this.$a.bz(this.Yk,a,this.kk[0],this.Et[0],this.am,b)};a.prototype.Ia=function(){return 0};return a}(),b=function(){function a(){}a.buffer=function(c,b,g,k,q,d){if(null==c)throw e.g.F("Geometry::Geodesic_bufferer::buffer");if(c.u())return new e.Ja(c.description);var f=new a;f.lh=b;f.Pc=e.fb.lc(b);var t=e.fb.hw(f.Pc);f.mc=d;f.Vb=e.fb.Sv(f.Pc);f.rc=t*(2-t);f.oc=f.Pc.Td().Bi;f.ta=f.lh.Ho();f.pr=f.Pc.Ho();f.Vt=f.pr*f.oc;f.or=1.570796326794897/f.oc;f.j_=3.141592653589793/f.oc;f.Gt=
6.283185307179586/f.oc;f.k_=f.Gt/6;f.tB=0;f.i_=1.5707963267948966*f.Vb/f.tB;4==g?(f.Xe=2,f.Jw=!0):(f.Xe=g,f.Jw=!1);f.Pa=k;f.wb=Math.abs(k);isNaN(q)||.001>q?f.XX():f.Vo=q;g=c.G();e.T.Nc(g)?(g=new e.Ua(c.description),g.cc(c,!0),c=g,g=1607):197==g&&(g=new e.h,c.s(g),g.O()<=f.ta||g.ea()<=f.ta?(g=new e.Ua(c.description),g.hd(c,!1),c=g,g=1607):(g=new e.Ja(c.description),g.hd(c,!1),c=g,g=1736));f.YX();e.T.Po(g)||f.ZX();if(f.wb<=.5*f.Vo)return 1736!=g?new e.Ja(c.description):f.Jw?c:e.Ij.Js(c,f.lh,f.Xe,f.yB,
-1,d);if(0>f.Pa&&1736!=g)return new e.Ja(c.description);f.Jw&&e.T.Hc(g)?(b=e.Ij.Js(c,b,4,NaN,f.Vo,d),c=e.fb.Vg(b,f.lh,f.Pc,d)):c=e.fb.Vg(c,f.lh,f.Pc,d);c=e.gi.Qj(c,f.Pc);if(c.u())return new e.Ja(c.description);!f.Jw&&e.T.Hc(g)&&(c=e.Ij.nJ(f.oc,c));c=a.UY(c,f.Pc);switch(g){case 1736:d=f.tP(c);break;case 1607:d=f.uP(c);break;case 550:d=f.rP(c);break;case 33:d=f.sP(c);break;default:throw e.g.X("corrupted_geometry");}f=e.fb.Vg(d,f.Pc,f.lh,f.mc);f.tm(c.description);return f};a.prototype.tP=function(a){var c=
new e.Ja;a=new m(this,a,c);a=e.ei.local().V(a,this.Pc,this.mc).next();a=e.bq.Rj(a,this.Pc,2);var b=new e.Gd;b.scale(1/this.oc,1/this.oc);c.Vc(b);c=e.bq.Rj(c,this.Pc,2);return 0<=this.Pa?e.ei.local().V(c,a,this.Pc,this.mc):e.eq.local().V(c,a,this.Pc,this.mc)};a.prototype.uP=function(a){a=new m(this,a,null);a=e.ei.local().V(a,this.Pc,this.mc).next();return a=e.bq.Rj(a,this.Pc,2)};a.prototype.rP=function(a){a=new d(this,a);a=e.ei.local().V(a,this.Pc,this.mc).next();return a=e.bq.Rj(a,this.Pc,2)};a.prototype.sP=
function(a){a=a.w();a.scale(this.oc);var c=new e.Ja;this.Vy(a,!1,c);return c=e.bq.Rj(c,this.Pc,2)};a.prototype.bz=function(c,b,g,k,q,d){var f=c[0],t=c[c.length-1],m=f.y>t.y?f.y:t.y,h=e.C.q(this.Vb,this.rc,f.y<t.y?f.y:t.y),m=e.C.q(this.Vb,this.rc,m);if(.001<this.tB-(h+b+this.wb)&&.001<this.tB+(m-b-this.wb))return!1;b=g-1.570796326794897;g=k+1.570796326794897;var h=b-3.141592653589793,m=b+3.141592653589793,l=g+3.141592653589793,n=[NaN],p=[NaN],r=[NaN],u=[NaN];k=!1;a.jD(this.Vb,this.rc,this.wb,f,b,h,
t,g,n,p);a.jD(this.Vb,this.rc,this.wb,t,l,g,f,h,r,u);g<n[0]&&n[0]<l?k=!0:g<p[0]&&p[0]<l&&(k=!0);k||(h<r[0]&&r[0]<b?k=!0:h<u[0]&&u[0]<b&&(k=!0));if(!k&&q)return!1;for(var v=[],x=c.length-1;0<=x;x--)v.push(c[x]);d.Oa();d.Gl(null,0);x=[0];a.Uy(this.Vb,this.rc,this.oc,this.wb,this.Xe,c,b,g,q,x,d);a.Ds(this.Vb,this.rc,this.oc,this.wb,t,g,l,this.Wo,q,x,d,n[0],p[0]);a.Uy(this.Vb,this.rc,this.oc,this.wb,this.Xe,v,l,m,q,x,d);a.Ds(this.Vb,this.rc,this.oc,this.wb,f,h,b,this.Wo,q,x,d,r[0],u[0]);c=!1;q||(c=this.OF(this.oc,
d));return k||c};a.prototype.Vy=function(c,b,g){g.Oa();g.Gl(null,0);a.Ds(this.Vb,this.rc,this.oc,this.wb,c,-this.Wo,6.283185307179586,this.Wo,b,[0],g,NaN,NaN);b||this.OF(this.oc,g)};a.prototype.OF=function(a,b){var c=this.VP(a,b);a=this.WP(a,b);return c||a};a.prototype.VP=function(a,b){var c=b.D(),f=!1,q=new e.h;b.s(q);if(!e.l.W(q.B*a,1.570796326794897)&&!e.l.W(q.A*a,-1.570796326794897))return!1;for(var d=new e.b,c=c-1;0<=c;c--)b.w(c,d),d.y==q.B&&e.l.W(d.y*a,1.570796326794897)?(f=!0,this.wJ(d,c,b)):
d.y==q.A&&e.l.W(d.y*a,-1.570796326794897)&&(f=!0,this.wJ(d,c,b));return f};a.prototype.WP=function(a,b){var c=b.Ba(0),f=b.Ba(b.D()-1);return 3.141592653589793<Math.abs(c.x-f.x)*a?(this.qW(b),!0):this.UP(b)};a.prototype.UP=function(a){return 0>a.ef()?(this.pW(a),!0):!1};a.prototype.wJ=function(a,b,g){var c=g.D(),f=0<b?b-1:c-1,c=g.Ba(b<c-1?b+1:0),f=g.Ba(f);if(!e.l.W(c.y,a.y)&&!e.l.W(c.x,a.x)){var d=new e.b;d.ja(c.x,a.y);g.rb(b,d)}e.l.W(f.y,a.y)||e.l.W(f.x,a.x)||(c=new e.b,c.ja(f.x,a.y),g.Wf(0,b,c))};
a.prototype.qW=function(a){var c=new e.Ja,b=new e.Ja,k=new e.Gd,q=a.Ba(0),d=a.Ba(a.D()-1),m=new e.b;q.x>d.x?(d=this.or,k.zg(-this.Gt,0)):(d=-this.or,k.zg(this.Gt,0));c.add(a,!1);a.Oa();b.add(c,!1);b.Vc(k);q=new e.h;b.s(q);q.P((this.Gt-q.O())/2,0);q.A=-this.or;q.B=this.or;for(var h=0;h<b.D();h++)b.w(h,m),c.Wf(0,-1,m);b.Vc(k);for(h=0;h<b.D();h++)b.w(h,m),c.Wf(0,-1,m);b=c.Ba(0);k=c.Ba(c.D()-1);m.ja(k.x,d);c.Wf(0,-1,m);m.ja(.5*(k.x+b.x),d);c.Wf(0,-1,m);m.ja(b.x,d);c.Wf(0,-1,m);c=e.gi.jt(c,this.Pc,2,!0,
q.o);c=e.gi.jt(c,this.Pc,2,!0,q.v);c=e.le.clip(c,q,this.pr,NaN);a.add(c,!1)};a.prototype.pW=function(a){var c=new e.h;a.s(c);c.P((this.Gt-c.O())/2,0);c.A=-this.or;c.B=this.or;a.Gl(null,0);var b=new e.b;b.ja(c.o,c.A);a.Wf(1,-1,b);b.ja(c.o,c.B);a.Wf(1,-1,b);b.ja(.5*(c.o+c.v),c.B);a.Wf(1,-1,b);b.ja(c.v,c.B);a.Wf(1,-1,b);b.ja(c.v,c.A);a.Wf(1,-1,b);b.ja(.5*(c.o+c.v),c.A);a.Wf(1,-1,b)};a.Uy=function(c,b,g,k,q,d,m,h,l,n,p){var f=null;l||(f=new e.b,f.Yc(),0<p.D()&&(f.L(p.Ba(p.D()-1)),f.scale(g)));var t=new e.da(0),
w=new e.da(0),P=new e.da(0),S=new e.b,L=new e.b,ia=d[d.length-1];g=1/g;for(var r=0;r<d.length;r++){var u=d[r],v;0==r?v=m:r==d.length-1?v=h:(e.mb.Kd(c,b,ia.x,ia.y,u.x,u.y,null,null,t,q),v=t.j-1.570796326794897);e.mb.Yi(c,b,u.x,u.y,k,v,w,P);l?L.ja(w.j,P.j):(S.ja(w.j,P.j),a.nE(u.x,S.x,f.x,n),L.ja(n[0]+S.x,S.y),f.L(L));L.scale(g);p.Wf(0,-1,L)}};a.Ds=function(c,b,g,k,q,d,m,h,l,n,p,r,u){if(!(m-d<h)){var f=new e.da(0),t=new e.da(0),w=new e.b,P=new e.b,S=null;l||(S=new e.b,S.Yc(),0<p.D()&&(S.L(p.Ba(p.D()-
1)),S.scale(g)));var L=e.J.truncate(Math.ceil(d/h)),ia=L++*h;ia==d&&(ia=L++*h);for(g=1/g;ia<m+h;){d<r&&r<ia?(ia=r,L--):d<u&&u<ia&&(ia=u,L--);if(ia>=m)break;e.mb.Yi(c,b,q.x,q.y,k,ia,f,t);l?P.ja(f.j,t.j):(w.ja(f.j,t.j),a.nE(q.x,w.x,S.x,n),P.ja(n[0]+w.x,w.y),S.L(P));P.scale(g);p.Wf(0,-1,P);d=ia;ia=L++*h}}};a.jD=function(a,b,g,k,q,d,m,h,l,n){var c=new e.b,f=new e.b,t=new e.da(0),w=new e.da(0);e.mb.Yi(a,b,k.x,k.y,g,q,t,w);c.ja(t.j,w.j);e.mb.Yi(a,b,k.x,k.y,g,d,t,w);f.ja(t.j,w.j);g=new e.da(0);e.mb.Iz(a,
b,m.x,m.y,c.x,c.y,g);l[0]=g.j;e.mb.Iz(a,b,m.x,m.y,f.x,f.y,g);for(n[0]=g.j;l[0]<=n[0];)l[0]+=6.283185307179586;for(;l[0]>n[0];)l[0]-=6.283185307179586;for(;l[0]>=h;)l[0]-=6.283185307179586,n[0]-=6.283185307179586;for(;l[0]<h;)l[0]+=6.283185307179586,n[0]+=6.283185307179586};a.nE=function(a,b,e,k){if(isNaN(e)){for(;3.141592653589793<k[0]+b-a;)k[0]-=6.283185307179586;for(;3.141592653589793<a-(k[0]+b);)k[0]+=6.283185307179586}else 3.141592653589793<k[0]+b-e?k[0]-=6.283185307179586:3.141592653589793<e-
(k[0]+b)&&(k[0]+=6.283185307179586)};a.UY=function(a,b){var c=a.G(),f;e.T.Hc(c)?f=a.aa():550==c?f=a.D():f=1;if(1==f)return a;var q=new e.ha(0);q.resize(f);for(var d=[],m=new e.h,h=0;h<f;h++){q.write(h,h);var l;e.T.Hc(c)?(a.nk(h,m),l=m.Tf()):l=a.Ba(h);l=e.dM.xY(b,l);d[h]=l}q.Fd(0,q.size,function(a,c){return d[a]<d[c]?-1:d[a]>d[c]?1:0});m=a.Ka();for(h=0;h<f;h++)l=q.read(h),e.T.Hc(c)?m.Ui(a,l,!0):m.Hd(a,l,l+1);return m};a.prototype.YX=function(){var a=Math.min(3.141592653589793*this.Vb-this.wb,this.wb),
a=Math.min(a,.39269908169872414*this.Vb),b=new e.b;b.ja(0,10*this.oc);var g=45*this.oc,k=new e.da(0),q=new e.da(0),d=new e.da(0),m=new e.da(0),h=new e.da(0),l=new e.da(0),n=new e.da(0),p=new e.da(0),r=new e.b,u=new e.b,v=new e.b,x=new e.b;e.mb.Yi(this.Vb,this.rc,b.x,b.y,a,0,k,q);r.ja(k.j,q.j);e.mb.Yi(this.Vb,this.rc,b.x,b.y,a,g,d,m);u.ja(d.j,m.j);for(var k=new e.da(0),q=new e.da(0),z=new e.da(0);;){e.mb.Yi(this.Vb,this.rc,b.x,b.y,a,.5*(0+g),h,l);v.ja(h.j,l.j);e.mb.Kd(this.Vb,this.rc,r.x,r.y,u.x,u.y,
k,q,null,2);e.mb.Sj(this.Vb,this.rc,r.x,r.y,.5*k.j,q.j,n,p,2);x.ja(n.j,p.j);e.mb.Kd(this.Vb,this.rc,v.x,v.y,x.x,x.y,z,null,null,2);if(z.j<=this.Vo)break;g*=.9;e.mb.Yi(this.Vb,this.rc,b.x,b.y,a,g,d,m);u.ja(d.j,m.j)}this.Wo=6.283185307179586/Math.ceil(6.283185307179586/(g-0))};a.prototype.ZX=function(){var a=Math.min(3.141592653589793*this.Vb-this.wb,this.wb),a=Math.min(a,.39269908169872414*this.Vb),b=new e.b,g=new e.b;b.ja(0,10*this.oc);g.ja(10*this.oc,10*this.oc);var k=new e.da(0),q=new e.da(0),d=
new e.da(0);e.mb.Kd(this.Vb,this.rc,b.x,b.y,g.x,g.y,d,k,q,this.Xe);var m=new e.da(0),h=new e.da(0),l=new e.da(0),n=new e.da(0),p=new e.b,r=new e.da(0),u=new e.da(0),v=new e.da(0),x=new e.da(0),z=new e.da(0),A=new e.da(0),y=new e.da(0),C=new e.da(0),B=new e.da(0),K=new e.b,H=new e.b,J=new e.b,E=new e.b,F=1,k=k.j,q=q.j+1.570796326794897,d=d.j;e.mb.Yi(this.Vb,this.rc,b.x,b.y,a,k-1.570796326794897,u,v);K.ja(u.j,v.j);e.mb.Yi(this.Vb,this.rc,g.x,g.y,a,q,x,z);H.ja(x.j,z.j);for(var u=new e.da(0),v=new e.da(0),
q=new e.da(0),V=new e.da(0);;){e.mb.Sj(this.Vb,this.rc,b.x,b.y,.5*(0+F)*d,k,m,h,this.Xe);p.ja(m.j,h.j);e.mb.Kd(this.Vb,this.rc,b.x,b.y,p.x,p.y,null,null,r,this.Xe);e.mb.Yi(this.Vb,this.rc,p.x,p.y,a,r.j+1.570796326794897,A,y);J.ja(A.j,y.j);e.mb.Kd(this.Vb,this.rc,K.x,K.y,H.x,H.y,u,v,null,2);e.mb.Sj(this.Vb,this.rc,K.x,K.y,.5*u.j,v.j,C,B,2);E.ja(C.j,B.j);e.mb.Kd(this.Vb,this.rc,J.x,J.y,E.x,E.y,q,null,null,2);if(q.j<=this.Vo)break;F*=.9;e.mb.Sj(this.Vb,this.rc,b.x,b.y,F*d,k,l,n,this.Xe);g.ja(l.j,n.j);
e.mb.Kd(this.Vb,this.rc,b.x,b.y,g.x,g.y,null,null,V,this.Xe);e.mb.Yi(this.Vb,this.rc,g.x,g.y,a,V.j+1.570796326794897,x,z);H.ja(x.j,z.j)}a=F*d;1E5<a&&(a=1E5);this.yB=a};a.prototype.XX=function(){var a;a=5E4<this.wb?100:1E4<this.wb?10:1;500>this.wb/a&&(a=this.wb/500);.01>a&&(a=.01);this.Vo=a};return a}();e.bM=b})(x||(x={}));(function(e){var d=function(){function d(){}d.tb=function(b,a){var c=new e.b;c.L(a);b.push(c)};d.Dj=function(b,a){b.add(a.x);b.add(a.y)};d.SC=function(b){b.uf(b.size-2)};d.$C=function(b,
a){a.ja(b.get(b.size-2),b.get(b.size-1))};d.Js=function(b,a,c,f,g,k){if(null==b)throw e.g.F();var q=b.G();if(b.u()||e.T.Po(q))return b;var t=new d;t.lh=a;t.Pc=e.fb.lc(a);var w=e.fb.hw(t.Pc);t.mc=k;t.Vb=e.fb.Sv(t.Pc);t.rc=w*(2-w);t.oc=t.Pc.Td().Bi;t.pr=t.Pc.Ho();t.Vt=t.pr*t.oc;t.jB=f;t.iB=g;t.Xe=c;197==q?(c=new e.Ja(b.description),c.hd(b,!1)):e.T.Nc(q)?(c=new e.Ua(b.description),c.cc(b,!0)):c=b;if(4!=t.Xe){a=0==t.lh.Eb(t.Pc)?e.fb.Vg(c,t.lh,t.Pc,k):e.gi.Qj(c,t.Pc);if(a.u())return a;a=d.nJ(t.oc,a);a=
t.Jz(a);a=e.bq.Rj(a,t.Pc,t.Xe);t=e.fb.Vg(a,t.Pc,t.lh,k)}else{2==e.ve.Fb(a)?(b=e.fb.Ok(a),k=e.wk.local().V(c,b,a,k),k==b&&(k=new e.Ja,b.copyTo(k))):k=e.gi.Qj(c,t.Pc);a=k;if(a.u())return a;t=t.aY(a)}return t};d.nJ=function(b,a){var c=new e.h;a.ac(c);if(3.141592653589793>c.O()*b)return a;for(var f=!1,c=a.Fa(),g=new e.b,k=new e.b;c.Ya();)for(;c.Ea();){var q=c.ba();g.L(q.ec());k.L(q.Ac());g.scale(b);k.scale(b);if(3.141592653589793<Math.abs(g.x-k.x)){var t=d.Ev(g,k);if(!t){f=!0;break}if(6.283185307179586<
Math.abs(g.x-k.x)){f=!0;break}}}if(!f)return a;var f=a.Ka(),w=1<a.description.Ga,m=new e.b,h=new e.b,l=new e.b,n=new e.b,p=new e.Wa;for(c.zj();c.Ya();)for(var r=NaN,u=[0];c.Ea();){q=c.ba();g.L(q.ec());k.L(q.Ac());g.scale(b);k.scale(b);isNaN(r)?(d.ad(g.x,NaN,u),h.L(g)):h.L(l);r=h.x;if(t=d.Ev(g,k)){if(6.283185307179586<k.x-g.x)for(;6.283185307179586<k.x-g.x;)k.x-=6.283185307179586;if(-6.283185307179586>k.x-g.x)for(;-6.283185307179586>k.x-g.x;)k.x+=6.283185307179586;d.ad(k.x,NaN,u);l.L(k)}else m.L(k),
d.KU(m),d.ad(m.x,r,u),l.ja(u[0]+m.x,m.y);.5>Math.abs(l.x-k.x)&&l.L(k);w?(q.Fx(0,p),n.L(h),n.scale(1/b),p.rb(n),(t=c.pn())?f.Of(p):f.lineTo(p),c.Oo()&&!a.Qb(c.Ta)&&(q.Fx(1,p),n.L(l),n.scale(1/b),p.rb(n),f.lineTo(p))):((t=c.pn())&&f.uA(null,0),q=f.aa()-1,n.L(h),n.scale(1/b),f.Wf(q,-1,n),c.Oo()&&!a.Qb(c.Ta)&&(n.L(l),n.scale(1/b),f.Wf(q,-1,n)))}return f};d.yG=function(b,a,c,f,g,k,q,t,m,h,l,n){var w=new e.b,P=new e.b,S=0<f.compare(g);d.hE(S,f,g,w,P);d.vE(b,a,c,w,P,k,NaN,q,t,m,h,null,l,n);S&&d.aD(m,h,null,
l)};d.prototype.Jz=function(b){var a=b.Ka(),c=b.Fa(),f=[],g=null,k=null,q=1<b.description.Ga;q&&(g=new e.Pd(0),k=new e.Bg);for(var t=[0],m=new e.b,h=new e.b,l=new e.b,n=new e.b;c.Ya();)for(t[0]=0;c.Ea();){var p=c.ba();m.L(p.ec());h.L(p.Ac());m.scale(this.oc);h.scale(this.oc);var r=0<m.compare(h);d.hE(r,m,h,l,n);f.length=0;null!=g&&g.uf(0);0<this.jB?d.vE(this.Vb,this.rc,this.Xe,l,n,this.jB,this.iB,this.Vt,null,null,null,q?g:null,f,t):d.fN(this.Vb,this.rc,this.Xe,l,n,this.iB,this.Vt,q?g:null,f,t);r&&
d.aD(null,null,q?g:null,f);f[0].L(p.ec());f[f.length-1].L(p.Ac());for(var u=1;u<f.length-1;u++)f[u].scale(1/this.oc);q?(r=d.fE(r,p,k),d.CD(c.pn(),c.Oo()&&!b.Qb(c.Ta),p,r,g,f,a)):d.AD(c.pn(),c.Oo()&&!b.Qb(c.Ta),f,a)}return a};d.prototype.aY=function(b){var a=b.Ka(),c=b.Fa(),f=[],g=null,k=new e.Bg,q=1<b.description.Ga;for(q&&(g=new e.Pd(0));c.Ya();)for(;c.Ea();){var t=c.ba(),m=t.ec(),h=t.Ac(),m=0<m.compare(h),h=d.fE(m,t,k);f.length=0;null!=g&&g.uf(0);d.vY(this.Vb,this.rc,this.oc,h,this.lh,this.jB,this.iB,
q?g:null,f);m&&d.aD(null,null,q?g:null,f);q?d.CD(c.pn(),c.Oo()&&!b.Qb(c.Ta),t,h,g,f,a):d.AD(c.pn(),c.Oo()&&!b.Qb(c.Ta),f,a)}return a};d.AD=function(b,a,c,f){b&&f.uA(null,0);b=f.aa()-1;var e=c.slice(0);f.sH(b,e,e.length-1);a&&f.Wf(b,-1,c[c.length-1])};d.CD=function(b,a,c,f,g,k,q){var d=new e.Wa;c.Kp(d);b?q.Of(d):q.lineTo(d);if(2<k.length){b=f.Rb();for(var m=1;m<k.length-1;m++){var h=f.PH(g.get(m)*b);f.Fx(h,d);d.rb(k[m]);q.lineTo(d)}}a&&(c.Ip(d),q.lineTo(d))};d.vE=function(b,a,c,f,g,k,q,t,m,h,l,n,p,
r){var w=new e.da(0),P=new e.da(0),S=new e.da(0);e.mb.Kd(b,a,f.x,f.y,g.x,g.y,S,w,P,c);var S=S.j,L=w=w.j,P=P.j;0>L&&(L+=6.283185307179586);0>P&&(P+=6.283185307179586);null!=m&&(m[0]=S);null!=h&&(h[0]=L);null!=l&&(l[0]=P);h=m=NaN;null!=n&&(h=e.C.Wg(b,a),l=e.C.q(b,a,f.y),m=(h-l)/S,h=(h+l)/S);l=d.Fv(f,g);var P=d.Dv(f,g),L=l||P,u=d.eE(f,g,t),ia=new e.da(0),v=new e.da(0),la=new e.b,x=new e.b,z=new e.b;d.ad(f.x,NaN,r);var A=[r[0]];if(S<=k)d.tb(p,f),d.ad(g.x,NaN,r),null!=n&&n.add(0),L?(l&&d.ZC(f,g,n,p),P&&
d.TC(f,g,n,p)):u?d.UC(f,g,w,m,h,n,p):0<q&&(x.ja(f.x-A[0],f.y),la.ja(g.x-r[0],g.y),d.Gz(b,a,c,f,S,w,x,la,0,1,q,n,p,A)),d.tb(p,g);else{k=1+e.J.truncate(Math.ceil(S/k));var y=S/(k-1),C=new e.b,B=0;d.tb(p,f);C.L(f);x.ja(f.x-r[0],f.y);null!=n&&n.add(0);for(var K=1;K<k;K++){var H;K<k-1?(e.mb.Sj(b,a,f.x,f.y,K*y,w,ia,v,c),la.ja(ia.j,v.j),d.ad(la.x,C.x,r),z.ja(r[0]+la.x,la.y),H=K/(k-1)):(d.ad(g.x,NaN,r),la.ja(g.x-r[0],g.y),z.L(g),H=1);L?(1==K&&l&&d.ZC(f,z,n,p),K==k-1&&P&&d.TC(C,g,n,p)):u?d.cE(C,z,t)&&(f.x<
g.x?C.x>z.x&&(r[0]+=6.283185307179586,z.ja(r[0]+la.x,la.y)):C.x<z.x&&(r[0]-=6.283185307179586,z.ja(r[0]+la.x,la.y)),d.UC(C,z,w,m,h,n,p)):0<q&&d.Gz(b,a,c,f,S,w,x,la,B,H,q,n,p,A);d.tb(p,z);null!=n&&n.add(H);C.L(z);x.L(la);A[0]=r[0];B=H}}};d.fN=function(b,a,c,f,g,k,q,t,m,h){var w=new e.da(0),l=new e.da(0),P=new e.da(0);e.mb.Kd(b,a,f.x,f.y,g.x,g.y,P,w,l,c);var l=P.j,w=w.j,n=P=NaN;if(null!=t)var n=e.C.Wg(b,a),p=e.C.q(b,a,f.y),P=(n-p)/l,n=(n+p)/l;var p=d.Fv(f,g),r=d.Dv(f,g),u=p||r;q=d.eE(f,g,q);var v=d.Ev(f,
g),v=u||q||v;d.ad(f.x,NaN,h);var x=new e.b;d.tb(m,f);x.L(f);null!=t&&t.add(0);v?(u?(p&&d.ZC(f,g,t,m),r&&d.TC(f,g,t,m)):q&&d.UC(f,g,w,P,n,t,m),d.ad(g.x,NaN,h),d.tb(m,g)):l<=k?(d.ad(g.x,NaN,h),d.tb(m,g)):(P=new e.b,q=new e.b,P.L(f),q.L(g),P.x-=h[0],q.x-=h[0],-3.141592653589793>q.x?q.x+=6.283185307179586:3.141592653589793<q.x&&(q.x-=6.283185307179586),d.Gz(b,a,c,f,l,w,P,q,0,1,k,t,m,h),d.tb(m,g),d.ad(g.x,NaN,h));null!=t&&t.add(1)};d.Gz=function(b,a,c,f,g,k,q,t,m,h,l,n,p,r){var w=new e.b,P=new e.b;w.ja(q.x+
r[0],q.y);new e.da(0);new e.da(0);new e.da(0);new e.da(0);var S=new e.da(0),L=new e.da(0),u=new e.da(0),ia=new e.b,v=new e.b,la=new e.b,x=new e.b;ia.L(q);v.L(t);q=new e.Pd(0);t=new e.Pd(0);d.Dj(q,v);t.add(h);var z=new e.b,A=new e.Hb,y=[];for(d.rE(4,y);0<q.size;){for(var C=!1,K,B=NaN,H=0;3>H;H++)if(K=y[H]*h+(1-y[H])*m,e.mb.Sj(b,a,f.x,f.y,K*g,k,S,L,c),la.ja(S.j,L.j),0==H&&(B=K,x.L(la)),d.kX(ia,la,v,A),A.hc(A.ne(la,!0),z),e.mb.Kd(b,a,la.x,la.y,z.x,z.y,u,null,null,2),u.j>l){C=!0;break}C?(v.L(x),h=B,d.Dj(q,
v),t.add(h)):(d.SC(q),t.Hk(t.size-1,1,t.size-1),0<q.size&&(d.ad(v.x,w.x,r),P.ja(r[0]+v.x,v.y),d.tb(p,P),w.L(P),null!=n&&n.add(h),ia.L(v),m=h,d.$C(q,v),h=t.get(t.size-1)))}};d.vY=function(b,a,c,f,g,k,q,t,m){var w=new e.b,h=new e.b,l=new e.b,n=new e.b,p=new e.b,r=new e.b,u=new e.b,v=new e.b,x=new e.b,z=new e.b,A=new e.da(0),y=new e.da(0),C=new e.b,K=[[],[]],B=1==e.ve.Fb(g);g=g.pe(0);var H=f.ec(),J=f.Ac();B?(r.ja(H.x*c,H.y*c),u.ja(J.x*c,J.y*c)):(K[0][0]=H.x,K[0][1]=H.y,K[1][0]=J.x,K[1][1]=J.y,e.fb.nu(),
r.x=K[0][0]*c,r.y=K[0][1]*c,u.x=K[1][0]*c,u.y=K[1][1]*c);var E=0,F=0,V=1,M=f.Mo();w.L(H);h.L(J);var J=new e.Pd(0),D=new e.Pd(0),R=new e.Pd(0);d.Dj(J,h);d.Dj(D,u);R.add(V);d.tb(m,w);null!=t&&t.add(F);var X=[],I;I=0<q?M?5:3:M?5:1;d.rE(I,X);for(var ha=new e.da(0),ca=new e.da(0),U=new e.da(0),ba=new e.da(0),Z=new e.da(0),aa=new e.da(0),ka=new e.da(0);0<D.size;){var N=!1,Y,ga=NaN;e.mb.Kd(b,a,r.x,r.y,u.x,u.y,ha,ca,null,2);for(H=0;H<I;H++){if(0==H){if(!M&&0>=q&&ha.j<=k&&3.141592653589793>Math.abs(r.x-u.x))break;
if(f.zy(F,V)<=g)break}Y=X[H]*V+(1-X[H])*F;f.hc(Y,l);B?v.ja(l.x*c,l.y*c):(K[0][0]=l.x,K[0][1]=l.y,e.fb.nu(),v.x=K[0][0]*c,v.y=K[0][1]*c);if(0==H&&(ga=Y,p.L(l),z.L(v),0<k&&(ha.j>k||3.141592653589793<=Math.abs(r.x-u.x)))){N=!0;break}if(M&&0<k){if(e.mb.Kd(b,a,r.x,r.y,v.x,v.y,U,null,null,2),U.j>k||3.141592653589793<=Math.abs(r.x-v.x)){N=!0;break}}else if(0<q)if(M?(n.kU(w,h,X[H]),B?x.ja(n.x*c,n.y*c):(K[0][0]=n.x,K[0][1]=n.y,e.fb.nu(),x.x=K[0][0]*c,x.y=K[0][1]*c)):(n.L(l),x.L(v)),e.mb.Kd(b,a,r.x,r.y,x.x,
x.y,ba,null,null,2),ba.j<=ha.j){e.mb.Sj(b,a,r.x,r.y,ba.j,ca.j,A,y,2);C.ja(A.j,y.j);e.mb.Kd(b,a,C.x,C.y,v.x,v.y,Z,null,null,2);if(Z.j>q){N=!0;break}if(M){e.mb.Kd(b,a,C.x,C.y,x.x,x.y,aa,null,null,2);if(aa.j>q){N=!0;break}e.mb.Kd(b,a,x.x,x.y,v.x,v.y,ka,null,null,2);if(ka.j>q){N=!0;break}}}else{N=!0;break}}N?(h.L(p),u.L(z),V=ga,d.Dj(J,h),d.Dj(D,u),R.add(V)):(d.SC(J),d.SC(D),R.Hk(R.size-1,1,R.size-1),d.tb(m,h),E+=ha.j,null!=t&&t.add(E),0<D.size&&(w.L(h),r.L(u),F=V,d.$C(J,h),d.$C(D,u),V=R.get(R.size-1)))}if(null!=
t)for(b=1/E,H=0;H<t.size;H++)t.write(H,t.read(H)*b)};d.aD=function(b,a,c,f){f.reverse();null!=c&&c.Xd(0,c.size,1);c=null!=b?b[0]:NaN;f=null!=a?a[0]:NaN;null!=b&&(b[0]=f);null!=a&&(a[0]=c)};d.hE=function(b,a,c,f,e){b?(f.L(c),e.L(a)):(f.L(a),e.L(c))};d.fE=function(b,a,c){if(!b)return a;c.create(a.G());a.copyTo(c.get());c.get().reverse();return c.get()};d.ad=function(b,a,c){if(isNaN(a)){for(;3.141592653589793<c[0]-b;)c[0]-=6.283185307179586;for(;3.141592653589793<b-c[0];)c[0]+=6.283185307179586}else 3.141592653589793<
c[0]+b-a?c[0]-=6.283185307179586:3.141592653589793<a-(c[0]+b)&&(c[0]+=6.283185307179586)};d.kX=function(b,a,c,f){3.141592653589793>Math.abs(a.x-b.x)?(f.Lc(b),3.141592653589793<=c.x-b.x?f.Am(c.x-6.283185307179586,c.y):3.141592653589793<=b.x-c.x?f.Am(c.x+6.283185307179586,c.y):f.Am(c.x,c.y)):(f.Lc(c),3.141592653589793<=b.x-c.x?f.Am(b.x-6.283185307179586,b.y):3.141592653589793<=c.x-b.x?f.Am(b.x+6.283185307179586,b.y):f.Am(b.x,b.y))};d.rE=function(b,a){for(var c=0;c<b;c++){var f=Math.ceil(c/2)/(b+1);
0!=c%2&&(f=-f);a[c]=.5+f}};d.Fv=function(b,a){return e.l.W(b.y,1.570796326794897)&&!e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&!e.l.W(a.y,-1.570796326794897)?!0:!1};d.Dv=function(b,a){return e.l.W(a.y,1.570796326794897)&&!e.l.W(b.y,1.570796326794897)||e.l.W(a.y,-1.570796326794897)&&!e.l.W(b.y,-1.570796326794897)?!0:!1};d.eE=function(b,a,c){return!d.cE(b,a,c)||e.l.W(b.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)||e.l.W(a.y,1.570796326794897)||e.l.W(a.y,-1.570796326794897)?
!1:!0};d.cE=function(b,a,c){return Math.abs(Math.abs(b.x-a.x)-3.141592653589793)<=c?!0:!1};d.Ev=function(b,a){return e.l.W(b.y,1.570796326794897)&&e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&e.l.W(a.y,-1.570796326794897)?!0:!1};d.ZC=function(b,a,c,f){if(0<b.y){var g=new e.b;g.ja(a.x,1.570796326794897)}else g=new e.b,g.ja(a.x,-1.570796326794897);e.l.W(b.x,g.x)||e.l.W(a.y,g.y)||(d.tb(f,g),null!=c&&c.add(0))};d.TC=function(b,a,c,f){if(0<a.y){var g=new e.b;g.ja(b.x,1.570796326794897)}else g=
new e.b,g.ja(b.x,-1.570796326794897);e.l.W(a.x,g.x)||e.l.W(b.y,g.y)||(d.tb(f,g),null!=c&&c.add(1))};d.UC=function(b,a,c,f,g,k,q){e.l.wd(c)?(0<1.570796326794897-b.y&&(c=new e.b,c.ja(b.x,1.570796326794897),d.tb(q,c),null!=k&&k.add(f)),0<1.570796326794897-a.y&&(c=new e.b,c.ja(a.x,1.570796326794897),d.tb(q,c),null!=k&&k.add(f))):(0<1.570796326794897+b.y&&(c=new e.b,c.ja(b.x,-1.570796326794897),d.tb(q,c),null!=k&&k.add(g)),0<1.570796326794897+a.y&&(c=new e.b,c.ja(a.x,-1.570796326794897),d.tb(q,c),null!=
k&&k.add(g)))};d.KU=function(b){if(-3.141592653589793>b.x)for(;-3.141592653589793>b.x;)b.x+=6.283185307179586;if(3.141592653589793<b.x)for(;3.141592653589793<b.x;)b.x-=6.283185307179586};return d}();e.Ij=d})(x||(x={}));(function(e){var d=function(){function d(){}d.Rj=function(b,a,c){if(null==b||null==a||!e.fb.Ic(a))throw e.g.F();if(b.u())return b;var f=b,g=f.G();if(e.T.Hc(g)){f=e.gi.Qj(b,a);b=new e.h;f.s(b);for(var g=e.na.$d(a,b,!1),k=e.fb.Ch(a),q=Math.floor((b.o-k.o)/k.O())*k.O()+k.o;q<b.v;)q>b.o+
g&&q<b.v-g&&(f=e.gi.jt(f,a,c,!0,q)),q+=k.O()}else{if(197==g)return b=new e.Ja(f.description),b.hd(f,!1),d.Rj(b,a,c);if(e.T.Nc(g))return b=new e.Ua(f.description),b.cc(f,!0),d.Rj(b,a,c)}return d.CM(f,a)};d.CM=function(b,a){if(null==b||null==a||!e.fb.Ic(a))throw e.g.F();if(b.u())return b;var c;c=b.G();197==c?(c=new e.Ja(b.description),c.hd(b,!1)):e.T.Nc(c)?(c=new e.Ua(b.description),c.cc(b,!0)):c=b;c=e.gi.Qj(c,a);return c.u()?c:1==e.ve.Fb(a)?e.gi.cn(c,a,0,c!=b,0):d.xM(c,a,c!=b)};d.xM=function(b,a,c){if(!e.fb.Ic(a))throw e.g.F();
if(b.u())return b;var f=e.fb.ce(a),g=0-180*f,f=360*f;2==e.ve.Fb(a)&&(g=e.fb.Ch(a),f=g.v,g=g.o,f-=g);return e.gi.Aq(b,g,f,a,c,0,!0)};return d}();e.bq=d})(x||(x={}));(function(e){var d=function(){function d(){}d.NN=function(b,a){var c=Math.abs(b%a);return isNaN(c)||c==b||c<=Math.abs(a)/2?c:0>b?-1*(c-a):0<b?1*(c-a):0*(c-a)};d.K=function(b){return 0>b?-b:b};d.Bb=function(b,a){return 0<=a?d.K(b):-d.K(b)};d.W=function(b,a){return b==a||d.K(b-a)<=d.cD*(1+(d.K(b)+d.K(a))/2)};d.wd=function(b){return 0==b||
d.K(b)<=d.cD};d.Xu=function(b){b=d.NN(b,d.Wy);return d.K(b)<=d.Xf?b:0>b?b+d.Wy:b-d.Wy};d.HA=function(b,a){b.j=d.Xu(b.j);a.j=d.Xu(a.j);d.K(a.j)>d.ro&&(b.j=d.Xu(b.j+d.Xf),a.j=d.Bb(d.Xf,a.j)-a.j)};d.Wg=function(b,a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var c=a*a;return b/(1+a)*(1+c*(.25+c*(.015625+1/256*c)))*d.ro};d.sS=function(b,a,c,f,g){var k,q,t,w,m,h,l,n=0,p=h=0,r=0,u=0,v=0;m=0;var x,z,A;l=0;var y,C,K;A=new e.da;k=new e.da;if(null!=g)if(A.j=b,k.j=a,d.HA(A,k),b=A.j,a=k.j,A.j=c,k.j=f,d.HA(A,k),c=A.j,f=k.j,
c=d.Xu(c-b),d.W(a,f)&&(d.wd(c)||d.W(d.K(a),d.ro)))null!=g&&(g.j=0);else{if(d.W(a,-f)){if(d.W(d.K(a),d.ro)){null!=g&&(g.j=2*d.Wg(6378137,.0066943799901413165));return}if(d.W(d.K(c),d.Xf)){null!=g&&(g.j=2*d.Wg(6378137,.0066943799901413165));return}}if(d.wd(.0066943799901413165))u=Math.cos(a),v=Math.cos(f),null!=g&&(n=Math.sin((f-a)/2),h=Math.sin(c/2),l=2*Math.asin(Math.sqrt(n*n+u*v*h*h)),g.j=6378137*l);else{A=1-Math.sqrt(.9933056200098587);b=1-A;k=Math.atan(b*Math.tan(a));a=Math.sin(k);k=Math.cos(k);
q=Math.atan(b*Math.tan(f));f=Math.sin(q);q=Math.cos(q);w=t=c;C=0;K=1;y=c;for(z=!0;1==z;)C+=1,1==K&&(m=Math.sin(y),h=Math.cos(y),n=q*m,l=k*f-a*q*h,n=Math.sqrt(n*n+l*l),h=a*f+k*q*h,l=Math.atan2(n,h),p=1E-15>d.K(n)?k*q*m/d.Bb(1E-15,n):k*q*m/n,r=1-p*p,u=1E-15>d.K(r)?h-a*f/d.Bb(1E-15,r)*2:h-a*f/r*2,v=u*u,m=((-3*r+4)*A+4)*r*A/16),x=(1-m)*A*(l+m*n*(u+h*m*(2*v-1))),1==K?(y=c+x*p,1E-14>d.K(y-w)?z=!1:d.K(y)>d.Xf?(K=2,y=d.Xf,0>c&&(y=-y),p=0,r=1,t=w=2,l=d.Xf-d.K(Math.atan(a/k)+Math.atan(f/q)),n=Math.sin(l),h=
Math.cos(l),m=((-3*r+4)*A+4)*r*A/16,1E-14>d.K(p-t)?z=!1:(u=1E-15>d.K(r)?h-a*f/d.Bb(1E-15,r)*2:h-a*f/r*2,v=u*u)):(0>(y-w)*(w-t)&&5<C&&(y=(2*y+3*w+t)/6),t=w,w=y)):(p=(y-c)/x,0>(p-w)*(w-t)&&5<C&&(p=(2*p+3*w+t)/6),t=w,w=p,r=1-p*p,m=p*n/(k*q),h=-Math.sqrt(d.K(1-m*m)),y=Math.atan2(m,h),n=q*m,l=k*f-a*q*h,n=Math.sqrt(n*n+l*l),h=a*f+k*q*h,l=Math.atan2(n,h),m=((-3*r+4)*A+4)*r*A/16,1E-14>d.K(p-t)?z=!1:(u=1E-15>d.K(r)?h-a*f/d.Bb(1E-15,r)*2:h-a*f/r*2,v=u*u));null!=g&&(p=Math.sqrt(1+(1/(b*b)-1)*r),p=(p-1)/(p+1),
r=p*(1-.375*p*p),g.j=(1+p*p/4)/(1-p)*b*6378137*(l-r*n*(u+r/4*(h*(-1+2*v)-r/6*u*(-3+4*n*n)*(-3+4*v)))))}}};d.Xf=3.141592653589793;d.ro=1.5707963267948966;d.Wy=6.283185307179586;d.cD=3.552713678800501E-15;return d}();e.$L=d})(x||(x={}));(function(e){var d=function(){return function(b){this.re=b;this.nl=this.re.getCode();0>this.nl&&(this.nl=0)}}();e.uZ=d;var m=function(){function b(a){void 0===a&&(a=null);this.Lh=null;this.tn=!1;null!==a&&(this.Lh=new d(a))}b.prototype.Bc=function(){return null!=this.Lh?
this.Lh.nl:0};b.prototype.Sf=function(){var a=new b;this.copyTo(a);return a};b.prototype.copyTo=function(a){a.Lh=this.Lh;a.tn=this.tn};b.prototype.Wv=function(){var a=this.Sf();a.mt();return a};b.prototype.mt=function(){this.tn=!this.tn};b.prototype.jn=function(){return null!=this.Lh?this.Lh.re:null};b.prototype.pK=function(a){if(0>=a)throw e.g.F();if(a!=this.Bc()){a=e.Qf.geogtran(a);if(null==a)throw e.g.F("Geogtran not found.");this.Lh=new d(a)}};b.prototype.dH=function(){return null==this.Lh?null:
this.Lh.re.toString()};b.prototype.getName=function(){if(null==this.Lh||null==this.Lh.re)return"";var a="";this.tn&&(a+="~");return a+=this.Lh.re.getName()};b.prototype.TX=function(a){if(null==a)throw e.g.F();var c=null;try{c=e.Qf.fromString(e.Uc.PE_TYPE_GEOGTRAN,a)}catch(f){throw e.g.F();}this.Lh=new d(c)};b.prototype.Eb=function(a){return a==this?!0:a instanceof b&&(!(0>=this.Bc()||this.Bc()!=a.Bc())||this.jn().isEqual(a.jn()))?this.tn==a.tn:!1};b.prototype.toString=function(){var a=toString();
return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};b.create=function(a,c){var f=new b;f.pK(a);c&&f.mt();return f};b.eG=function(a,c){var f=new b;f.TX(a);c&&f.mt();return f};return b}();e.oo=m})(x||(x={}));(function(e){var d=function(){function b(){}b.pa=function(a,c,f,e){var g=new b;g.Bn=a;g.Cn=c;g.zI=f;g.AI=e;return g};b.Fs=function(a,c){return a.Bn==c.Bn?a.Cn==c.Cn?0:a.Cn<c.Cn?-1:1:a.Bn<c.Bn?-1:1};return b}(),m=function(){function b(){this.Hw=!1;this.BI=[];this.cB=
[];this.XH=this.Hw=this.WH=!1;this.kq()}b.Go=function(){null==b.wE&&(b.wE=new b);return b.wE};b.b_=function(){return b.Go().Hw};b.c_=function(){return b.Go().XH};b.eZ=function(a,c){if(a==c)return null;var f=b.Go();if(f.WH){var e=b.Bz(f.cB,a,c);return null!=e?e:null}e=b.Bz(f.cB,a,c);return null!=e?e:b.Bz(f.BI,a,c)};b.XY=function(a,c,b,g,k){var f=e.ky.create();if(0<a)try{var d=e.oo.create(a,c);if(0==d.Bc())return null;f.add(d);if(0<b){var w=e.oo.create(b,g);if(0==w.Bc())return null;f.add(w)}k&&(f=f.Wv())}catch(P){f=
null}return f};b.Bz=function(a,c,f){if(c==f||0==a.length)return null;for(var e=d.pa(c,f,0,0),k=!1,q=!1,t=0,w=0,m=-1,h=0;h<a.length;h++)if(0===d.Fs(e,a[h])){m=h;break}if(0>m||a[m].Bn!=e.Bn||a[m].Cn!=e.Cn){e=d.pa(f,c,0,0);c=-1;for(h=0;h<a.length;h++)if(0===d.Fs(e,a[h])){c=h;break}0<=c&&a[c].Bn==e.Bn&&a[c].Cn==e.Cn&&(t=a[c].zI,w=a[c].AI,q=k=!0)}else t=a[m].zI,w=a[m].AI,k=!1,q=!0;if(!q)return null;0==t&&(t=w,w=0);e=a=!1;0>t&&(t=-t,a=!0);0>w&&(w=-w,e=!0);return b.XY(t,a,w,e,k)};b.prototype.kq=function(){this.FE(this.BI)&&
(this.Hw=!0);this.FE(this.cB)&&(this.XH=!0);this.WH=!this.Hw};b.prototype.FE=function(a){try{for(var c=[],c=c.sort(d.Fs),b=0;b<c.length;b++)a.push(c[b])}catch(g){}return!0};b.yZ=function(){return null};return b}();e.tZ=m})(x||(x={}));(function(e){var d=function(){function e(){}e.prototype.Iy=function(b){this.Ii=b};e.prototype.QE=function(b){this.Mb=b};e.prototype.RE=function(b){this.tp=b};e.KF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()?!1:!0};e.IF=function(b){return b.u()||1607!=b.G()&&1736!=
b.G()||20>b.D()?!1:!0};e.JF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};return e}();e.yl=d})(x||(x={}));(function(e){var d=function(){function d(){}d.EN=function(b){var a=new e.Ja;a.$x(b.dt(),b.ft());a.ak(b.dt(),b.et());a.ak(b.ct(),b.et());a.ak(b.ct(),b.ft());return a};d.Vg=function(b,a){return null===b?null:e.ns.local().V(b,a,null)};d.LY=function(b,a){var c=e.ei.local();b=new e.gd(b);return c.V(b,a,null).next()};d.an=function(b,a,c){return e.eq.local().V(b,a,c,null)};d.Wp=
function(b,a,c){return e.qy.local().V(b,a,c,null)};d.sY=function(b,a,c){var f=e.qy.local();b=new e.gd(b);a=new e.gd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);return f};d.Eb=function(b,a,c){return e.Jj.local().V(3,b,a,c,null)};d.mR=function(b,a,c){return e.Jj.local().V(4,b,a,c,null)};d.nU=function(b,a,c){var f=e.wk.local();b=new e.gd(b);a=new e.gd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);return f};d.jR=function(b,a,c){var f=e.eq.local();b=new e.gd(b);a=new e.gd(a);
c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);return f};d.Ma=function(b,a,c){return e.wk.local().V(b,a,c,null)};d.WY=function(b,a,c){return e.Jj.local().V(2,b,a,c,null)};d.contains=function(b,a,c){return e.Jj.local().V(1,b,a,c,null)};d.VQ=function(b,a,c){return e.Jj.local().V(16,b,a,c,null)};d.touches=function(b,a,c){return e.Jj.local().V(8,b,a,c,null)};d.TV=function(b,a,c){return e.Jj.local().V(32,b,a,c,null)};d.pU=function(b,a,c){return e.Jj.local().V(1073741824,b,a,c,null)};d.aC=function(b,
a,c,f){return e.TM.local().V(b,a,c,f,null)};d.Cb=function(b,a,c,f){var g=null;if(null!=c){if(g=c.Td(),null!=f&&g.Bc()!=f.Bc()&&g.sd!=f.sd)throw e.g.Dl();}else if(null!=f)throw e.g.F();b=e.LM.local().V(b,a,null);null!==g&&null!==f&&(b=e.$c.mi(b,g,f));return b};d.clip=function(b,a,c){return e.FM.local().V(b,e.h.pa(a.dt(),a.ft(),a.ct(),a.et()),c,null)};d.Ml=function(b,a,c){if(null==b||null==a)return null;b=e.HM.local().V(!0,b,a,c,null);for(a=[];null!=(c=b.next());)c.u()||a.push(c);return a.slice(0)};
d.mP=function(b,a,c,f,g,k,q,t){if(!0===g)return d.QW(b,a,c,f,k,q,t);g=c;if(null!=a){if(q=a.Td(),null!=f&&q.Bc()!=f.Bc()){if(q.sd!=f.sd)throw e.g.Dl();g=[];e.$c.cG(c,c.length,f,q,g)}}else if(null!=f)throw e.g.F();c=e.JD.local();if(k){b=new e.gd(b);a=c.V(b,a,g,k,null);for(b=[];null!=(k=a.next());)b.push(k);k=b.slice(0)}else for(k=[],f=0;f<b.length;f++)k[f]=c.V(b[f],a,g[f],null);return k};d.QW=function(b,a,c,f,g,k,q){if(null===a)throw e.g.F();if(null===f||void 0===f)f=4326!==a.Bc()?a.Td():e.$c.vh(9001);
if(0!==f.sd)throw e.g.F();e.$c.cG(c,c.length,f,e.$c.vh(9001),c);f=e.OD.local();if(g){b=new e.gd(b);a=f.V(b,a,k,c,q,!1,g,null);for(c=[];null!=(k=a.next());)c.push(k);g=c.slice(0)}else{g=[];for(var d=0;d<b.length;d++)g[d]=f.V(b[d],a,k,c[d],q,!1,null)}return g};d.buffer=function(b,a,c,f,g,k,q){var d=c;if(!1===g){if(null!=a){if(g=a.Td(),null!=f&&g.Bc()!=f.Bc()){if(g.sd!=f.sd)throw e.g.Dl();d=e.$c.mi(c,f,g)}}else if(null!=f)throw e.g.F();b=e.JD.local().V(b,a,d,null)}else{if(null===a)throw e.g.F();if(null===
f||void 0===f)f=4326!==a.Bc()?a.Td():e.$c.vh(9001);if(0!==f.sd)throw e.g.F();d=e.$c.mi(c,f,e.$c.vh(9001));b=e.OD.local().V(b,a,k,d,q,!1,null)}return b};d.RV=function(b,a,c,f,g,k,q){if(null!=a){var d=a.Td();if(null!=q&&d.Bc()!=q.Bc()){if(d.sd!=q.sd)throw e.g.Dl();c=e.$c.mi(c,q,d)}}else if(null!=q)throw e.g.F();b=new e.gd(b);a=e.RD.local().V(b,a,c,f,g,k,null);for(c=[];null!=(f=a.next());)c.push(f);return c.slice(0)};d.offset=function(b,a,c,f,g,k,q){if(null!=a){var d=a.Td();if(null!=q&&d.Bc()!=q.Bc()){if(d.sd!=
q.sd)throw e.g.Dl();c=e.$c.mi(c,q,d)}}else if(null!=q)throw e.g.F();return e.RD.local().V(b,a,c,f,g,k,null)};d.FQ=function(b){return e.LD.local().V(b,null)};d.GQ=function(b,a){var c=e.LD.local();b=new e.gd(b);c=c.V(b,a,null);for(b=[];null!=(a=c.next());)b.push(a);return b};d.bA=function(b,a,c){return e.oy.local().bA(b,a,c)};d.cA=function(b,a){return e.oy.local().cA(b,a)};d.dA=function(b,a,c,f){return e.oy.local().dA(b,a,c,f)};d.FC=function(b,a){return e.Qm.local().V(b,a,!1,null)};d.AU=function(b,
a){return e.Qm.local().Wq(b,a,null)};d.gS=function(b,a,c,f,g){var k=e.ND.local();if(null!=a){if(a=a.Td(),null!=g&&a.Bc()!=g.Bc()){if(a.sd!=g.sd)throw e.g.Dl();c=e.$c.mi(c,g,a)}}else if(null!=g)throw e.g.F();return k.V(b,c,f,null)};d.Js=function(b,a,c,f){var g=e.Pm.local();if(null!=a){if(a=a.Td(),null!=f&&a.Bc()!=f.Bc()){if(a.sd!=f.sd)throw e.g.Dl();c=e.$c.mi(c,f,a)}}else if(null!=f)throw e.g.F();return g.V(b,c,null)};d.Hz=function(b,a,c,f,g){void 0===g&&(g=0);var k=e.NM.local();if(4==g)throw e.g.af();
if(0!==g)throw e.g.af();if(null!==f){if(0!==f.sd)throw e.g.F("Unit must be a linear unit type");c=e.$c.mi(c,f,e.$c.vh(9001))}return k.V(b,c,a,g,null)};d.mS=function(b,a,c,f){if(null===b)return 0;if(4==f)throw e.g.af();if(0!==f)throw e.g.af();if(197==b.G())b=d.EN(b);else if(1736!=b.G())return 0;f=e.fb.lc(a);b=e.fb.Vg(b,a,f,null);b=e.aM.nS([b])[0];if(null!==c){if(2!==c.sd)throw e.g.F("Unit must be a area unit type");b=e.$c.mi(b,e.$c.vh(109404),c)}return b};d.qS=function(b,a,c,f){b=e.PM.local().V(b,
a,f,null);if(null!==c){if(0!==c.sd)throw e.g.F("Unit must be a linear unit type");b=e.$c.mi(b,e.$c.vh(9001),c)}return b};d.aW=function(b,a,c){if(null===b)return 0;var f=null;if(null!=a){f=a.Td();if(0==f.sd&&(f=e.$c.cH(f),null==f&&null!==c))throw e.g.F();if(null!=c&&f.Bc()!=c.Bc()&&f.sd!=c.sd)throw e.g.Dl();}else if(null!=c)throw e.g.F();return 1736==b.G()||197==b.G()?(b=b.ef(),null!==c?e.$c.mi(b,f,c):b):0};d.bW=function(b,a,c){if(null===b||b.u()||1>b.ub())return 0;var f=null;if(null!=a){if(f=a.Td(),
null!=c&&f.Bc()!=c.Bc()&&f.sd!=c.sd)throw e.g.Dl();}else if(null!=c)throw e.g.F();1736==b.G()||197==b.G()?a=b.Fg():e.T.Nc(b.G())?(a=new e.Ua(b.description),a.cc(b,!0)):a=b;b=0;a=a.Fa();for(var g=new e.b,k=new e.b;a.Ya();)for(;a.Ea();){var q=a.ba();q.Oq(g);q.Ns(k);b+=e.b.Cb(g,k)}null!==f&&null!==c&&(b=e.$c.mi(b,f,c));return b};d.ZZ=function(b,a){return e.ve.pS(b,a)};d.EQ=function(b){return void 0!==b.points?d.pN(b,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM):void 0!==b.rings?d.yE(b.rings,void 0===
b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"P"):void 0!==b.paths?d.yE(b.paths,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"L"):void 0!==b.x?d.uN(b):void 0!==b.xmin?d.nN(b):null};d.uN=function(b){if(null==b.x||"NaN"==b.x)return new e.Wa;var a=new e.Wa(b.x,b.y);void 0!==b.z&&null!==b.z&&a.WX(b.z);void 0!==b.m&&null!==b.m&&a.GX(b.m);return a};d.nN=function(b){if(null==b.xmin||"NaN"==b.xmin)return new e.di;var a=new e.di(b.xmin,b.ymin,b.xmax,b.ymax);void 0!==b.zmin&&null!==b.zmin&&a.setInterval(1,
0,b.zmin,b.zmax);void 0!==b.mmin&&null!==b.mmin&&a.setInterval(2,0,b.mmin,b.mmax);return a};d.pN=function(b,a,c){var f=0,g=new e.Dd,k=3*b.points.length;0!=k%2&&k++;2>k&&(k=2);var q=e.J.truncate(3*b.points.length/2);4>q?q=4:16>q&&(q=16);for(var k=e.Tc.$m(k,0),d=e.Tc.$m(q),q=e.Tc.$m(q),w=0;w<b.points.length;w++)k.write(2*w,b.points[w][0]),k.write(2*w+1,b.points[w][1]),d.write(w,a||c?b.points[w][2]:NaN),q.write(w,c&&a?b.points[w][3]:NaN),f++;0!=f&&(g.resize(f),g.eo(0,k));a&&(g.Rd(1),g.eo(1,d));c&&(g.Rd(2),
g.eo(2,0==a?d:q));g.Cc(16777215);return g};d.yE=function(b,a,c,f){var g,k=0,q=2;"P"==f?(g=new e.Ja,k=1,q=3):g=new e.Ua;for(var d=e.Tc.wh(0),w=e.Tc.vq(0),m=0,h=0,l=[],n=[],p=0;p<b.length;p++){var r=b[p].length;l[p]=!1;if("P"===f&&b[p][0][0]===b[p][b[p].length-1][0]&&b[p][0][1]===b[p][b[p].length-1][1]){var u=0==c?!0:b[p][0][3]===b[p][b[p].length-1][3]||void 0===b[p][0][3]&&void 0===b[p][b[p].length-1][3];(0==a||b[p][0][2]===b[p][b[p].length-1][2]||void 0===b[p][0][2]&&void 0===b[p][b[p].length-1][2])&&
u&&(l[p]=!0,--r)}r>=q?(n[p]=!1,h+=1,d.add(m),w.add(k),m+=r):n[p]=!0}f=3*m;0!=f%2&&f++;2>f&&(f=2);p=e.J.truncate(3*m/2);4>p?p=4:16>p&&(p=16);f=e.Tc.$m(f,0);k=e.Tc.$m(p);q=e.Tc.$m(p);for(p=r=0;p<b.length;p++)if(!1===n[p])for(u=0;u<b[p].length;u++){var v=!1;u===b[p].length-1&&!0===l[p]&&(v=!0);v||(f.write(2*r,b[p][u][0]),f.write(2*r+1,b[p][u][1]),k.write(r,a||c?b[p][u][2]:NaN),q.write(r,c&&a?b[p][u][3]:NaN),r++)}0!=m&&(b=g,d.resize(h),w.resize(h),0<m&&(d.add(m),w.add(0)),b.eo(0,f),b.uK(w),b.vK(d));a&&
(g.Rd(1),g.eo(1,k));c&&(g.Rd(2),g.eo(2,0==a?k:q));g.Cc(16777215);return g};return d}();e.gc=d})(x||(x={}));(function(e){var d=function(){function e(){}e.Gj=function(b){var a=0,c,f=b.length,e=b[0],k;for(c=0;c<f-1;c++)k=b[c+1],a+=(k[0]-e[0])*(k[1]+e[1]),e=k;return 0<=a};e.rotate=function(b,a,c){a=a*Math.PI/180;var f=Math.cos(a),g=Math.sin(a);if(void 0!==b.paths){a={paths:[]};for(var k=0;k<b.paths.length;k++){for(var q=b.paths[k],d=[],w=0;w<q.length;w++){var m=q[w].slice(0);d.push(m);var h=f*(q[w][0]-
c.x)-g*(q[w][1]-c.y)+c.x,l=g*(q[w][0]-c.x)+f*(q[w][1]-c.y)+c.y;m[0]=h;m[1]=l}a.paths.push(d)}return a}if(void 0!==b.rings){a={rings:[]};for(k=0;k<b.rings.length;k++){for(var q=b.rings[k],d=[],n=e.Gj(q),w=0;w<q.length;w++)m=q[w].slice(0),d.push(m),h=f*(q[w][0]-c.x)-g*(q[w][1]-c.y)+c.x,l=g*(q[w][0]-c.x)+f*(q[w][1]-c.y)+c.y,m[0]=h,m[1]=l;e.Gj(d)!==n&&d.reverse();a.rings.push(d)}return a}if(void 0!==b.x)return a={x:f*(b.x-c.x)-g*(b.y-c.y)+c.x,y:g*(b.x-c.x)+f*(b.y-c.y)+c.y},void 0!==b.z&&(a.z=b.z),void 0!==
b.m&&(a.m=b.m),a;if(void 0!==b.points){a={points:[]};b=b.points;for(w=0;w<b.length;w++)k=b[w].slice(0),k[0]=f*(b[w][0]-c.x)-g*(b[w][1]-c.y)+c.x,k[1]=g*(b[w][0]-c.x)+f*(b[w][1]-c.y)+c.y,a.points.push(k);return a}return null};e.YR=function(b,a){var c,f;if(void 0!==b.paths){c={paths:[]};for(var g=0;g<b.paths.length;g++){for(var k=b.paths[g],q=[],d=0;d<k.length;d++){var w=k[d].slice(0);q.push(w);f=a.x-k[d][0];w[0]=k[d][0]+2*f}c.paths.push(q)}return c}if(void 0!==b.rings){c={rings:[]};for(g=0;g<b.rings.length;g++){for(var k=
b.rings[g],m=e.Gj(k),q=[],d=0;d<k.length;d++)w=k[d].slice(0),q.push(w),f=a.x-k[d][0],w[0]=k[d][0]+2*f;e.Gj(q)!==m&&q.reverse();c.rings.push(q)}return c}if(void 0!==b.x)return f=a.x-b.x,c={x:b.x+2*f,y:b.y},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};g=b.points;for(d=0;d<g.length;d++)k=g[d].slice(0),f=a.x-k[0],k[0]+=2*f,c.points.push(k);return c}return void 0!==b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==
b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),f=a.x-b.xmin,c.xmax=b.xmin+2*f,f=a.x-b.xmax,c.xmin=b.xmax+2*f,c):null};e.ZR=function(b,a){var c,f;if(void 0!==b.paths){c={paths:[]};for(var g=0;g<b.paths.length;g++){for(var k=b.paths[g],q=[],d=0;d<k.length;d++){var w=k[d].slice(0);q.push(w);f=a.y-k[d][1];w[1]=k[d][1]+2*f}c.paths.push(q)}return c}if(void 0!==b.rings){c={rings:[]};for(g=0;g<b.rings.length;g++){for(var k=b.rings[g],m=e.Gj(k),q=[],d=0;d<k.length;d++)w=k[d].slice(0),q.push(w),f=a.y-k[d][1],w[1]=k[d][1]+
2*f;e.Gj(q)!==m&&q.reverse();c.rings.push(q)}return c}if(void 0!==b.x)return f=a.y-b.y,c={y:b.y+2*f,x:b.x},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};g=b.points;for(d=0;d<g.length;d++)k=g[d].slice(0),f=a.y-k[1],k[1]+=2*f,c.points.push(k);return c}return void 0!==b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),f=a.y-b.ymin,c.ymax=b.ymin+2*f,f=a.y-b.ymax,c.ymin=b.ymax+
2*f,c):null};return e}();e.my=d})(x||(x={}));(function(e){var d=function(){function d(){}d.ah=function(b,a){null==a&&(a=e.we.Hg());switch(b){case 33:return new e.Wa(a);case 322:return new e.Hb(a);case 197:return new e.di(a);case 550:return new e.Dd(a);case 1607:return new e.Ua(a);case 1736:return new e.Ja(a);default:throw e.g.X("invalid argument.");}};return d}();e.fM=d})(x||(x={}));(function(e){var d=function(){function d(b,a){this.qf=e.ha.yd(b,-1);this.va=new e.Nu;this.gm=a}d.prototype.bX=function(b){this.va.ru(Math.min(this.qf.size,
b));this.va.ao(b)};d.prototype.addElement=function(b,a){if(void 0===a)return this.AO(b);a=e.J.truncate(a%this.qf.size);var c=this.qf.get(a);-1==c&&(c=this.va.ni(),this.qf.set(a,c));return this.va.addElement(c,b)};d.prototype.AO=function(b){var a=this.gm.Yz(b),a=e.J.truncate(a%this.qf.size),c=this.qf.get(a);-1==c&&(c=this.va.ni(),this.qf.set(a,c));return this.va.addElement(c,b)};d.prototype.jd=function(b,a){if(void 0===a)this.dR(b);else{a=e.J.truncate(a%this.qf.size);var c=this.qf.get(a);if(-1==c)throw e.g.F();
for(var f=this.va.wc(c),g=-1;-1!=f;){var k=this.va.nb(f);this.va.ia(f)==b?(this.va.jd(c,g,f),-1==this.va.wc(c)&&(this.va.zh(c),this.qf.set(a,-1))):g=f;f=k}}};d.prototype.dR=function(b){var a=this.gm.Yz(b),a=e.J.truncate(a%this.qf.size),c=this.qf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.wc(c),g=-1;-1!=f;){var k=this.va.nb(f);this.va.ia(f)==b?(this.va.jd(c,g,f),-1==this.va.wc(c)&&(this.va.zh(c),this.qf.set(a,-1))):g=f;f=k}};d.prototype.IS=function(b){b=e.J.truncate(b%this.qf.size);b=this.qf.get(b);
return-1==b?-1:this.va.wc(b)};d.prototype.YS=function(b){return this.va.nb(b)};d.prototype.Jd=function(b){var a=this.gm.Yz(this.ia(b)),a=e.J.truncate(a%this.qf.size),c=this.qf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.wc(c),g=-1;-1!=f;){if(f==b){this.va.jd(c,g,f);-1==this.va.wc(c)&&(this.va.zh(c),this.qf.set(a,-1));return}g=f;f=this.va.nb(f)}throw e.g.F();};d.prototype.ia=function(b){return this.va.ia(b)};d.prototype.clear=function(){this.qf=e.ha.yd(this.qf.size,-1);this.va.clear()};d.prototype.size=
function(){return this.va.WG()};return d}();e.nM=d})(x||(x={}));(function(e){var d=function(){function d(){this.lj=new e.Zc(3);this.va=new e.Zc(6);this.WU=!1;this.De=-1}d.prototype.Pl=function(b){this.lj.jd(b)};d.prototype.Bx=function(){return this.lj.Me()};d.prototype.Qv=function(b){this.va.jd(b)};d.prototype.IB=function(){return this.va.Me()};d.prototype.xC=function(b,a){this.lj.R(b,1,a)};d.prototype.Qx=function(b,a){this.lj.R(b,2,a)};d.prototype.FX=function(b,a){this.lj.R(b,3,a)};d.prototype.vC=
function(b,a){this.va.R(b,4,a)};d.prototype.IX=function(b,a){this.va.R(b,3,a)};d.prototype.yK=function(b,a){this.va.R(b,2,a)};d.prototype.ni=function(b){var a=this.IB();this.va.R(a,3,this.De);this.va.R(a,4,0);this.va.R(a,5,b);-1!=this.De&&this.yK(this.De,a);return this.De=a};d.prototype.zh=function(b){this.QF(b);var a=this.va.S(b,2),c=this.va.S(b,3);-1!=a?this.IX(a,c):this.De=c;-1!=c&&this.yK(c,a);this.Qv(b);return c};d.prototype.ru=function(b){this.va.Ne(b)};d.prototype.SG=function(b){return this.va.S(b,
5)};d.prototype.EX=function(b,a){this.va.R(b,5,a)};d.prototype.addElement=function(b,a){return this.RT(b,a)};d.prototype.RT=function(b,a){var c=this.Bx();this.Qx(c,-1);-1==this.va.S(b,0)&&this.va.R(b,0,c);var f=this.va.S(b,1);this.xC(c,f);-1!=f&&this.Qx(f,c);this.va.R(b,1,c);this.setData(c,a);this.vC(b,this.Zs(b)+1);this.WU&&this.FX(c,b);return c};d.prototype.jd=function(b,a){var c=this.Se(a),f=this.nb(a);-1!=c?this.Qx(c,f):this.va.R(b,0,f);-1!=f?this.xC(f,c):this.va.R(b,1,c);this.Pl(a);this.vC(b,
this.Zs(b)-1);return f};d.prototype.ao=function(b){this.lj.Ne(b)};d.prototype.getData=function(b){return this.lj.S(b,0)};d.prototype.setData=function(b,a){this.lj.R(b,0,a)};d.prototype.nb=function(b){return this.lj.S(b,2)};d.prototype.Se=function(b){return this.lj.S(b,1)};d.prototype.wc=function(b){return this.va.S(b,0)};d.prototype.Ec=function(b){return this.va.S(b,1)};d.prototype.clear=function(){for(var b=this.De;-1!=b;)b=this.zh(b)};d.prototype.QF=function(b){for(var a=this.Ec(b);-1!=a;){var c=
a,a=this.Se(c);this.Pl(c)}this.va.R(b,0,-1);this.va.R(b,1,-1);this.vC(b,0)};d.prototype.u=function(){return 0==this.lj.size};d.prototype.WG=function(){return this.lj.size};d.prototype.Zs=function(b){return this.va.S(b,4)};d.prototype.eA=function(b){return this.va.S(b,3)};return d}();e.cq=d})(x||(x={}));(function(e){var d=function(){function d(b){void 0===b?(this.Og=new e.Zc(2),this.va=new e.Zc(4),this.De=-1,this.Cw=!0):(this.Og=new e.Zc(2),this.va=new e.Zc(b?4:2),this.De=-1,this.Cw=b)}d.prototype.Pl=
function(b){this.Og.jd(b)};d.prototype.Bx=function(){return this.Og.Me()};d.prototype.Qv=function(b){this.va.jd(b)};d.prototype.IB=function(){return this.va.Me()};d.prototype.ni=function(){var b=this.IB();this.Cw&&(this.va.R(b,3,this.De),-1!=this.De&&this.va.R(this.De,2,b),this.De=b);return b};d.prototype.zh=function(b){for(var a=this.wc(b);-1!=a;){var c=a,a=this.nb(a);this.Pl(c)}this.Cw&&(a=this.va.S(b,2),c=this.va.S(b,3),-1!=a?this.va.R(a,3,c):this.De=c,-1!=c&&this.va.R(c,2,a));this.Qv(b)};d.prototype.ru=
function(b){this.va.Ne(b)};d.prototype.addElement=function(b,a){var c=this.va.S(b,1),f=this.Bx();-1!=c?this.Og.R(c,1,f):this.va.R(b,0,f);this.va.R(b,1,f);this.Og.R(f,0,a);return f};d.prototype.ao=function(b){this.Og.Ne(b)};d.prototype.jd=function(b,a,c){-1!=a?(this.Og.R(a,1,this.Og.S(c,1)),this.va.S(b,1)==c&&this.va.R(b,1,a)):(this.va.R(b,0,this.Og.S(c,1)),this.va.S(b,1)==c&&this.va.R(b,1,-1));this.Pl(c)};d.prototype.kz=function(b,a){var c=this.va.S(b,1),f=this.va.S(a,0);-1!=f&&(-1!=c?this.Og.R(c,
1,f):this.va.R(b,0,f),this.va.R(b,1,this.va.S(a,1)));this.Cw&&(c=this.va.S(a,2),f=this.va.S(a,3),-1!=c?this.va.R(c,3,f):this.De=f,-1!=f&&this.va.R(f,2,c));this.Qv(a)};d.prototype.ia=function(b){return this.Og.S(b,0)};d.prototype.pk=function(b,a){this.Og.R(b,0,a)};d.prototype.nb=function(b){return this.Og.S(b,1)};d.prototype.wc=function(b){return this.va.S(b,0)};d.prototype.Fo=function(b){return this.ia(this.wc(b))};d.prototype.clear=function(){this.Og.Wi(!0);this.va.Wi(!0);this.De=-1};d.prototype.u=
function(b){return void 0===b?0==this.Og.size:-1==this.va.S(b,0)};d.prototype.WG=function(){return this.Og.size};d.prototype.eA=function(b){return this.va.S(b,3)};return d}();e.Nu=d})(x||(x={}));(function(e){var d=function(){function d(){}d.wD=function(b,a,c,f,g,k,q){var t=new e.b;t.L(b);b=new e.b;b.L(a);g.Ky(t);g.Ky(b);a=g.av(t);var w=g.av(b);0==w&&(w=g.RG());if(t.x!=b.x&&(t.y!=b.y||t.y!=g.A&&t.y!=g.B)||w>a!=k){a=g.DE(t);var w=g.DE(b),m,h=k?1:3;do a=a+h&3,m=g.Gx(a),0!=q&&(f=d.wD(t,m,c,f,g,k,q)),
c[f++].ja(m.x,m.y),t=m;while((a&3)!=w);0!=q&&(f=d.wD(t,b,c,f,g,k,q))}else if(g=new e.b,g.ja(b.x-t.x,b.y-t.y),0!=q&&(q=e.J.truncate(g.nO()/q),0<q))for(g.scale(1/(q+1)),k=0;k<q;k++)t.add(g),c[f++].ja(t.x,t.y);return f};d.$d=function(b,a,c){a=a.uo();b=null!=b&&void 0!==b.pe?b.pe(0):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};d.As=function(b){return 2*Math.sqrt(2)*b};d.PO=function(b){return Math.sqrt(2)*b};d.$g=function(b,a,c){var f=new e.h;a.s(f);return d.$d(b,f,c)};d.GF=function(b,a,c){a=a.hg(1,0).uo();
b=null!=b?b.pe(1):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};d.$Z=function(b,a){var c=new e.h;b.ac(c);c.Nb(a);return c};d.Zv=function(b,a){var c=new e.h;b.ac(c);b=new e.h;a.ac(b);c.Nb(b);return c};d.f_=function(b,a){var c=b.NS(a),f=b.wa(a),g=b.Fc(a),k=b.Ba(c);c==f?(g=b.Ba(g-1),c=b.Ba(f+1)):c==g-1?(g=b.Ba(c-1),c=b.Ba(f)):(g=b.Ba(c-1),c=b.Ba(c+1));k=e.b.Gp(g,k,c);return 0==k?0<b.Ym(a):-1==k};d.xP=function(b){var a=new e.h;b.ac(a);if(a.u())return null;var c=new e.gq(a,8),f=-1,g=new e.h,k=!1;do for(var q=
0,d=b.aa();q<d;q++)if(b.nk(q,g),f=c.lw(q,g,f),-1==f){if(k)throw e.g.X("internal error");b.Bo(a,!1);k=!0;c.reset(a,8);break}else k=!1;while(k);return c};d.BF=function(b){var a=new e.h;b.ac(a);for(var c=new e.gq(a,8),f=-1,g=b.Fa(),k=new e.h,q=!1;g.Ya();)for(;g.Ea();){var d=g.ba(),w=g.Db();d.s(k);f=c.lw(w,k,f);if(-1==f){if(q)throw e.g.za();b.Bo(a,!1);q=!0;c.reset(a,8);g.zj();break}}return c};d.Pj=function(b,a){var c=new e.h;b.ac(c);for(var f=new e.gq(c,8),g=-1,k=new e.h,q=b.Fa(),d=!1;q.Ya();)for(;q.Ea();){var w=
q.ba(),m=q.Db();w.s(k);if(k.Yb(a)&&(g=f.lw(m,k,g),-1==g)){if(d)throw e.g.X("internal error.");b.Bo(c,!1);d=!0;f.reset(c,8);q.zj();break}}return f};d.AZ=function(b){var a=new e.h;b.ac(a);for(var c=new e.gq(a,8),f=new e.b,g=new e.h,k=!1,q=0;q<b.D();q++)if(b.w(q,f),g.I(f),-1==c.dh(q,g)){if(k)throw e.g.za();b.Bo(a,!1);k=!0;c.reset(a,8);q=-1}return c};d.CF=function(b,a){for(var c=new e.gq(a,8),f=new e.b,g=!1,k=new e.h,q=0;q<b.D();q++)if(b.w(q,f),a.contains(f)&&(k.I(f),-1==c.dh(q,k))){if(g)throw e.g.za();
g=!0;q=new e.h;b.Bo(q,!1);c.reset(q,8);q=-1}return c};d.DS=function(b,a,c){var f=new e.h,g=new e.h;b.ac(f);a.ac(g);f.P(c,c);g.P(c,c);var k=new e.h;k.I(f);k.Ma(g);b=b.Fa();a=a.Fa();var q=new e.mD;q.BC(c);var d=!1;for(q.QK();b.Ya();)for(;b.Ea();)b.ba().s(f),f.Yb(k)&&(d=!0,c=new e.h,c.I(f),q.aF(b.Db(),c));q.qG();if(!d)return null;f=!1;for(q.PK();a.Ya();)for(;a.Ea();)a.ba().s(g),g.Yb(k)&&(f=!0,c=new e.h,c.I(g),q.XE(a.Db(),c));q.pG();return f?q:null};d.ES=function(b,a,c,f,g){var k=b.G(),q=a.G(),d=new e.h,
w=new e.h;b.ac(d);a.ac(w);d.P(c,c);w.P(c,c);var m=new e.h;m.I(d);m.Ma(w);var h=new e.mD;h.BC(c);var l=!1;h.QK();var n=0;for(c=b.aa();n<c;n++)if(!f||1736!=k||b.rw(n))b.nk(n,d),d.Yb(m)&&(l=!0,h.aF(n,d));h.qG();if(!l)return null;b=!1;h.PK();f=0;for(c=a.aa();f<c;f++)if(!g||1736!=q||a.rw(f))a.nk(f,w),w.Yb(m)&&(b=!0,h.XE(f,w));h.pG();return b?h:null};d.p_=function(b,a){return 0<b.Nk(a)};d.zZ=function(b,a){var c=new e.h;b.MW(a,c);var c=new e.gq(c,8),f=-1,g=new e.h;b=b.Fa();b.hC(a);if(b.Ya())for(;b.Ea();){a=
b.ba();var k=b.Db();a.ac(g);f=c.lw(k,g,f);if(-1==f)throw e.g.X("internal error");}return c};d.Jv=function(b,a,c){if(b!=a)for(var f=0;f<c;f++)null==b[f]?b[f]=e.b.Jl(a[f]):b[f].L(a[f])};d.mz=function(b,a,c,f){var e=0;for(f+=0;e<f;c++,e++)null==b[e]&&(b[e]=[0,0]),b[e][0]=a[c].x,b[e][1]=a[c].y};d.lz=function(b,a,c,f){var g=a,k=0;for(a=f+a;g<a;k++,g++)null==b[g]?b[g]=e.b.pa(c[k][0],c[k][1]):b[g].ja(c[k][0],c[k][1])};d.HQ=function(b,a,c){if(b!=a)for(var f=0;f<c;f++)null==b[f]?b[f]=new e.Wa(a[f]):a[f].copyTo(b[f])};
d.RY=function(b,a,c,f){var e=f.ga;f=f.la;for(var k=0;k<a;k+=c){var q=b.read(k);q<e?b.write(k,e):q>f&&b.write(k,f)}};d.JY=function(b,a,c,f){var e=f.ga;f=f.la;for(var k=0;k<a;k+=c){var q=b.read(k);q<e?b.write(k,e):q>f&&b.write(k,f)}};d.IK=function(b,a,c){if(b.hasAttribute(c)){var f=b.G();if(e.T.fh(f)){var g=e.ma.ti(c),f=e.ma.Xa(c),k=b.D();if(1==g){b=b.Qa(c);d.RY(b,k*f,f,a);return}if(2==g){b=b.Qa(c);d.JY(b,k*f,f,a);return}throw e.g.X("snap_coordinate not implemented");}if(197==f)k=b.hg(c,0),f=!1,k.ga<
a.ga&&(f=!0,k.ga=a.ga),k.la>a.la&&(f=!0,k.la=a.la),f&&b.setInterval(c,0,k);else if(33==f)k=b.Wc(c,0),f=!1,k<a.ga&&(f=!0,k=a.ga),k>a.la&&(f=!0,k=a.la),f&&b.setAttribute(c,0,k);else if(e.T.Nc(f))k=b.bt(c,0),f=!1,k<a.ga&&(f=!0,k=a.ga),k>a.la&&(f=!0,k=a.la),f&&b.Tx(c,0,k),k=b.Ms(c,0),k<a.ga&&(f=!0,k=a.ga),k>a.la&&(f=!0,k=a.la),f&&b.Lx(c,0,k);else throw e.g.X("snap_coordinate not implemented");}};d.wl=function(b,a,c,f,e){var g=0;null!=a&&(g=a.pe(b),e&&!f||null==a||(g+=1.01*a.iA(b)));f&&(c*=4,g*=1.01);
return Math.max(g,c)};d.BZ=function(b,a,c,f){a=e.h.XN(a.Te(),a.Cf(),c.Te(),c.Cf());return d.wl(0,b,a,f,!1)};d.Xy=function(b,a,c){return d.wl(0,b,a.uo(),c,!1)};d.CZ=function(b,a,c){return d.wl(1,b,a.uo(),c,!1)};d.DP=function(b,a){var c=new e.h;a.s(c);return d.Xy(b,c,!0)};d.Yy=function(b,a){return d.wl(0,b,a.uo(),!1,!0)};d.DZ=function(b,a,c){return d.wl(1,b,a.uo(),c,!0)};d.zv=function(b,a){var c=new e.h;a.s(c);return d.Yy(b,c)};d.BH=function(b,a,c,f){f*=f;var g=new e.b;g.xc(b,a);b=new e.b;b.xc(c,a);
a=g.uk();c=b.uk();if(a<=f&&c<=f)return!0;var k=e.Ub.Yx(g.Vi(b));return k<=f*a||k<=f*c?0<=g.pi(b):!1};d.JK=function(b,a,c,f){for(var g=0;g<a;g++){var k=b[g].y,q=e.J.tk(k,c,f);q!=k&&(b[g].y=q)}};return d}();e.na=d})(x||(x={}));(function(e){var d=function(){function a(a){this.ab=a}a.prototype.compare=function(a,b,f){a=a.ia(f);f=this.ab.Rk(b);var e=this.ab.Rk(a);return f<e?-1:f==e?c.Vq(b)&&c.tw(a)?-1:c.Vq(a)&&c.tw(b)?1:0:1};return a}(),m=function(){function a(a){this.ab=a}a.prototype.gs=function(a,c,
b){this.ab.eY(b,a,c)};a.prototype.Qq=function(a){return this.ab.Rk(a)};return a}(),b;(function(a){a[a.initialize=0]="initialize";a[a.pIn=1]="pIn";a[a.pL=2]="pL";a[a.pR=3]="pR";a[a.pT=4]="pT";a[a.right=5]="right";a[a.left=6]="left";a[a.all=7]="all"})(b||(b={}));var a=function(){function a(){this.ab=null;this.qj=new e.yc;this.nh=new e.ha(0);this.Mg=[0,0]}a.prototype.Oi=function(a,c){this.qj.ga=a.ga-c;this.qj.la=a.la+c;this.nh.resize(0);this.Be=0;this.Mg[0]=0};a.prototype.gC=function(a,c,b){if(a>c)throw e.g.F();
this.qj.ga=a-b;this.qj.la=c+b;this.nh.resize(0);this.Be=0;this.Mg[0]=0};a.prototype.bo=function(a,c){this.qj.ga=a-c;this.qj.la=a+c;this.nh.resize(0);this.Be=0;this.Mg[0]=0};a.prototype.next=function(){if(!this.ab.ar)throw e.g.Da();if(0>this.Be)return-1;for(var a=!0;a;)switch(this.Mg[this.Be]){case 1:a=this.UV();break;case 2:a=this.VV();break;case 3:a=this.WV();break;case 4:a=this.XV();break;case 5:a=this.gX();break;case 6:a=this.PU();break;case 7:a=this.SO();break;case 0:a=this.tA();break;default:throw e.g.za();
}return-1!=this.ih?this.Gq()>>1:-1};a.NZ=function(c,b,f){var e=new a;e.ab=c;e.nh.zb(20);e.Oi(b,f);return e};a.OZ=function(c,b,f){var e=new a;e.ab=c;e.nh.zb(20);e.bo(b,f);return e};a.pa=function(c){var b=new a;b.ab=c;b.nh.zb(20);b.Be=-1;return b};a.prototype.tA=function(){this.ih=this.uI=this.mj=this.Rc=-1;if(null!=this.ab.Ge&&0<this.ab.Ge.size)return this.Mg[0]=1,this.mj=this.ab.Jf,!0;this.Be=-1;return!1};a.prototype.UV=function(){this.Rc=this.mj;if(-1==this.Rc)return this.ih=this.Be=-1,!1;var a=
this.ab.Hq(this.Rc);if(this.qj.la<a)return a=this.ab.Qk(this.Rc),this.mj=this.ab.Uj(this.Rc),-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=6),!0;if(a<this.qj.ga)return a=this.ab.Qk(this.Rc),this.mj=this.ab.Pk(this.Rc),-1!=a&&(this.Fi=this.ab.Xs(a),this.Mg[++this.Be]=5),!0;this.Mg[this.Be]=2;this.uI=this.Rc;a=this.ab.Qk(this.Rc);this.mj=this.ab.Uj(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);return!0};a.prototype.VV=function(){this.Rc=this.mj;if(-1==this.Rc)return this.Mg[this.Be]=
3,this.mj=this.ab.Pk(this.uI),!0;if(this.ab.Hq(this.Rc)<this.qj.ga){var a=this.ab.Qk(this.Rc);this.mj=this.ab.Pk(this.Rc);-1!=a&&(this.Fi=this.ab.Xs(a),this.Mg[++this.Be]=5);return!0}a=this.ab.Qk(this.Rc);this.mj=this.ab.Uj(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);a=this.ab.Pk(this.Rc);-1!=a&&this.nh.add(a);return!0};a.prototype.WV=function(){this.Rc=this.mj;if(-1==this.Rc)return this.Mg[this.Be]=4,!0;if(this.qj.la<this.ab.Hq(this.Rc)){var a=this.ab.Qk(this.Rc);this.mj=this.ab.Uj(this.Rc);
-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=6);return!0}a=this.ab.Qk(this.Rc);this.mj=this.ab.Pk(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);a=this.ab.Uj(this.Rc);-1!=a&&this.nh.add(a);return!0};a.prototype.XV=function(){if(0==this.nh.size)return this.ih=this.Be=-1,!1;this.Rc=this.nh.get(this.nh.size-1);this.nh.resize(this.nh.size-1);var a=this.ab.Qk(this.Rc);-1!=a&&(this.Fi=this.ab.Tl(a),this.Mg[++this.Be]=7);-1!=this.ab.Uj(this.Rc)&&this.nh.add(this.ab.Uj(this.Rc));-1!=this.ab.Pk(this.Rc)&&
this.nh.add(this.ab.Pk(this.Rc));return!0};a.prototype.PU=function(){this.ih=this.Fi;if(-1!=this.ih&&c.Vq(this.Gq())&&this.ab.Rk(this.Gq())<=this.qj.la)return this.Fi=this.VG(),!1;this.Be--;return!0};a.prototype.gX=function(){this.ih=this.Fi;if(-1!=this.ih&&c.tw(this.Gq())&&this.ab.Rk(this.Gq())>=this.qj.ga)return this.Fi=this.jT(),!1;this.Be--;return!0};a.prototype.SO=function(){this.ih=this.Fi;if(-1!=this.ih&&c.Vq(this.Gq()))return this.Fi=this.VG(),!1;this.Be--;return!0};a.prototype.VG=function(){return this.ab.og?
this.ab.ug.nb(this.ih):this.ab.tj.nb(this.ih)};a.prototype.jT=function(){return this.ab.og?this.ab.ug.Se(this.ih):this.ab.tj.Se(this.ih)};a.prototype.Gq=function(){return this.ab.og?this.ab.ug.ia(this.ih):this.ab.tj.getData(this.ih)};return a}();e.xZ=a;var c=function(){function c(a){this.un=this.Ai=this.ug=this.tj=this.Dn=this.ek=this.Ge=this.fk=null;this.og=a;this.ar=this.Ew=!1}c.prototype.bs=function(){this.sl(!0)};c.prototype.xs=function(a,c){if(!this.Ew)throw e.g.Da();this.fk.push(new e.yc(a,
c))};c.prototype.yq=function(){if(!this.Ew)throw e.g.X("invalid call");this.Ew=!1;this.ar=!0;this.og||(this.TT(),this.Mw=this.fk.length)};c.prototype.dh=function(a){if(!this.og||!this.ar)throw e.g.F("invalid call");if(-1==this.Jf){var c=this.fk.length;if(this.UA){var b=new e.ha(0);b.zb(2*c);this.JJ(b);this.Ai.zb(2*c);this.Ai.resize(0);this.IJ(b);this.Dn.resize(c,-1);this.Dn.$h(-1,0,c);this.UA=!1}else this.Dn.$h(-1,0,c);this.Jf=this.Lv()}c=this.rH(a<<1,this.Jf);b=this.ug.addElement((a<<1)+1,this.kA(c));
this.AK(c,b);this.Dn.set(a,c);this.Mw++};c.prototype.remove=function(a){if(!this.og||!this.ar)throw e.g.X("invalid call");var c=this.Dn.get(a);if(-1==c)throw e.g.F("the interval does not exist in the interval tree");this.Dn.set(a,-1);this.Mw--;var b=this.kA(c),f;f=this.ug.tT(b);this.ug.Jd(this.QS(c),b);this.ug.Jd(this.mT(c),b);a=this.ug.size(b);0==a&&(this.ug.fR(b),this.DK(f,-1));this.ek.jd(c);for(var b=this.XG(f),g=this.Uj(f),d=this.Pk(f),c=0;!(0<a||f==this.Jf||-1!=g&&-1!=d);)f==this.Uj(b)?-1!=g?
(this.tl(b,g),this.rk(g,b),this.tl(f,-1)):-1!=d?(this.tl(b,d),this.rk(d,b),this.vl(f,-1)):this.tl(b,-1):-1!=g?(this.vl(b,g),this.rk(g,b),this.tl(f,-1)):-1!=d?(this.vl(b,d),this.rk(d,b),this.vl(f,-1)):this.vl(b,-1),this.rk(f,-1),c++,f=b,b=this.Qk(f),a=-1!=b?this.ug.size(b):0,g=this.Uj(f),d=this.Pk(f),b=this.XG(f)};c.prototype.reset=function(){if(!this.og||!this.ar)throw e.g.F("invalid call");this.sl(!1)};c.prototype.size=function(){return this.Mw};c.prototype.jf=function(){return a.pa(this)};c.prototype.JJ=
function(a){for(var c=this.fk.length,b=0;b<2*c;b++)a.add(b);this.fY(a,2*c)};c.prototype.IJ=function(a){for(var c=NaN,b=0;b<a.size;b++){var f=a.get(b),e=this.Rk(f);e!=c&&(this.Ai.add(f),c=e)}};c.prototype.TT=function(){var a=this.fk.length,c=new e.ha(0);c.zb(2*a);this.JJ(c);this.Ai.zb(2*a);this.Ai.resize(0);this.IJ(c);this.ek.Ne(a);this.tj.ao(2*a);var b=e.Tc.wh(a);b.$h(-1,0,a);this.Jf=this.Lv();for(a=0;a<c.size;a++){var f=c.get(a),d=b.get(f>>1);-1!=d?this.AK(d,this.tj.addElement(this.kA(d),f)):(d=
this.rH(f,this.Jf),b.set(f>>1,d))}};c.prototype.rH=function(a,c){var b=c,f=c,g,k=-1,d=0,m=this.Ai.size-1,h=0,l=a>>1,n=NaN,p=NaN;g=!0;for(var r=this.XS(l),l=this.US(l);g;){d<m?(h=d+e.J.truncate((m-d)/2),-1==this.Sz(b)&&this.jK(b,this.Ai.get(h),this.Ai.get(h+1))):-1==this.Sz(b)&&this.jK(b,this.Ai.get(d),this.Ai.get(d));var u=this.Hq(b);if(l<u)-1!=c&&(c==b?(f=b,n=u,c=this.Uj(b),-1!=c?p=this.Hq(c):p=NaN):p>u&&(u<n?this.tl(f,b):this.vl(f,b),this.vl(b,c),this.og&&(this.rk(b,f),this.rk(c,b)),f=b,n=u,c=-1,
p=NaN)),m=this.RS(b),-1==m&&(m=this.Lv(),this.CX(b,m)),b=m,m=h;else if(r>u)-1!=c&&(c==b?(f=b,n=u,c=this.Pk(b),-1!=c?p=this.Hq(c):p=NaN):p<u&&(u<n?this.tl(f,b):this.vl(f,b),this.tl(b,c),this.og&&(this.rk(b,f),this.rk(c,b)),f=b,n=u,c=-1,p=NaN)),d=this.nT(b),-1==d&&(d=this.Lv(),this.NX(b,d)),b=d,d=h+1;else{g=this.Qk(b);-1==g&&(g=this.TQ(b),this.DK(b,g));var v=this.BO(g,a),k=this.RQ();this.QX(k,g);this.BX(k,v);b!=c&&(u<n?this.tl(f,b):this.vl(f,b),this.og&&this.rk(b,f),-1!=c&&(p<u?this.tl(b,c):this.vl(b,
c),this.og&&this.rk(c,b)));g=!1}}return k};c.prototype.Lv=function(){return this.Ge.Me()};c.prototype.TQ=function(a){return this.og?this.ug.Is(a):this.tj.ni(a)};c.prototype.RQ=function(){return this.ek.Me()};c.prototype.sl=function(a){a?(this.Ew=this.UA=!0,this.ar=!1,null==this.Ai?this.Ai=e.Tc.wh(0):this.Ai.resize(0),null==this.fk?this.fk=[]:this.fk.length=0):this.UA=!1;this.og?null==this.Dn?(this.Dn=e.Tc.wh(0),this.ug=new e.xk,this.ug.Lp(new d(this))):this.ug.clear():null==this.tj?this.tj=new e.cq:
this.tj.clear();null==this.Ge?(this.ek=new e.Zc(3),this.Ge=new e.Zc(this.og?8:7)):(this.ek.Wi(!1),this.Ge.Wi(!1));this.Jf=-1;this.Mw=0};c.prototype.jK=function(a,c,b){this.wX(a,c);this.xX(a,b)};c.prototype.Hq=function(a){var c=this.Sz(a);if(-1==c)return NaN;c=this.Rk(c);a=this.Rk(this.yS(a));return c==a?c:.5*(c+a)};c.prototype.wX=function(a,c){this.Ge.R(a,0,c)};c.prototype.xX=function(a,c){this.Ge.R(a,1,c)};c.prototype.CX=function(a,c){this.Ge.R(a,3,c)};c.prototype.NX=function(a,c){this.Ge.R(a,4,
c)};c.prototype.DK=function(a,c){this.Ge.R(a,2,c)};c.prototype.tl=function(a,c){this.Ge.R(a,5,c)};c.prototype.vl=function(a,c){this.Ge.R(a,6,c)};c.prototype.rk=function(a,c){this.Ge.R(a,7,c)};c.prototype.QX=function(a,c){this.ek.R(a,0,c)};c.prototype.BO=function(a,c){return this.og?this.ug.addElement(c,a):this.tj.addElement(a,c)};c.prototype.BX=function(a,c){this.ek.R(a,1,c)};c.prototype.AK=function(a,c){this.ek.R(a,2,c)};c.prototype.Tl=function(a){return this.og?this.ug.wc(a):this.tj.wc(a)};c.prototype.Xs=
function(a){return this.og?this.ug.Ec(a):this.tj.Ec(a)};c.Vq=function(a){return 0==(a&1)};c.tw=function(a){return 1==(a&1)};c.prototype.Sz=function(a){return this.Ge.S(a,0)};c.prototype.yS=function(a){return this.Ge.S(a,1)};c.prototype.Qk=function(a){return this.Ge.S(a,2)};c.prototype.RS=function(a){return this.Ge.S(a,3)};c.prototype.nT=function(a){return this.Ge.S(a,4)};c.prototype.Uj=function(a){return this.Ge.S(a,5)};c.prototype.Pk=function(a){return this.Ge.S(a,6)};c.prototype.XG=function(a){return this.Ge.S(a,
7)};c.prototype.kA=function(a){return this.ek.S(a,0)};c.prototype.QS=function(a){return this.ek.S(a,1)};c.prototype.mT=function(a){return this.ek.S(a,2)};c.prototype.XS=function(a){return this.fk[a].ga};c.prototype.US=function(a){return this.fk[a].la};c.prototype.fY=function(a,c){null==this.un&&(this.un=new e.Ju);var b=new m(this);this.un.sort(a,0,c,b)};c.prototype.eY=function(a,b,f){var e=this;a.Fd(b,f,function(a,b){var f=e.Rk(a),g=e.Rk(b);return f<g||f==g&&c.Vq(a)&&c.tw(b)?-1:1})};c.prototype.Rk=
function(a){var b=this.fk[a>>1];return c.Vq(a)?b.ga:b.la};return c}();e.ms=c})(x||(x={}));(function(e){var d=function(){function d(b){if(null==b)throw e.g.X("Invalid arguement");this.He=b;var a=b.FS();a.DT()?b.he.IH()?this.fp=e.Qi.PannableFold:this.fp=e.Qi.Clip:this.fp=e.Qi.DontClip;a.ET()?b.Ee.IH()?this.Jn=e.Qi.PannableFold:this.Jn=e.Qi.Clip:this.Jn=e.Qi.DontClip;this.vn=a.Cv;this.lI=a.sz;b=this.He.rI;this.$H=b.gt(2147483648);this.Gw=b.gt(1073741824)}d.Vg=function(b,a,c){return a.xr.Vg(b,c)};d.fs=
function(b,a,c,f){return b.xr.fs(a,c,f)};d.Fu=function(b,a,c,f){c=0>c?a.length:c;b=b.xr.fs(a,c,f);if(b==c)return b;for(var e=a=0;e<c;e++){var k=f[e];k.isNaN()||(a<e&&f[a].L(k),a++)}for(;a<c;a++)f[a].Yc();return b};d.OC=function(b,a,c,f){return b.xr.OC(a,c,f)};d.XK=function(b,a,c,f){c=0>c?a.length:c;b=b.xr.OC(a,c,f);if(b==c)return b;for(var e=a=0;e<c;e++){var k=f[e];isNaN(k.x)||(a<e&&f[a].I(k.x,k.y,k.z),a++)}for(;a<c;a++)f[a].iv();return b};d.transform=function(b,a,c,f,g){if(b.No())return e.na.HQ(f,
a,c),c;for(var k=[],q=0,t=0;t<c;){for(var w=Math.min(k.length,c-t),m=t,h=0;m<w;m++,h++)null==k[h]?k[h]=a[m].w():a[m].w(k[h]);var l;l=g?d.Fu(b,k,w,k):d.fs(b,k,w,k);for(h=m=0;m<l;m++,h++)null==f[t]&&(f[t]=new e.Wa(a[t])),f[t].rb(k[h]);t+=w;q+=l}return q};d.YK=function(b,a,c){if(0==c)return[];var f=new e.Dd;f.LO(a,2*c);a=this.Vg(f,b,null);b=a.Qa(0);a=2*a.D();c=e.J.df(a);b.rl(0,a,c,0,!0);return c};d.prototype.fs=function(b,a,c){if(this.He.No())return b!=c&&e.na.Jv(c,b,a),a;var f=this.He.he,g=this.He.Ee,
k=f.Fb(),d=g.Fb();if(0==k&&k===d){var t=f.Zi(),g=g.Zi(),g=t/g,t=new e.Gd;t.Vp(g,g);t.DY(b,a,c);return a}t=e.J.vv(Math.min(a,64));if(3==k){var w;w=f.jj;f=w.Ik();k=f.Fb();c!=b&&e.na.Jv(c,b,a);e.Ib.Il(w,c,a,!0);w.Fu(e.Um.forward,c,a);e.Ib.Hl(w,c,a,!0)}if(3==k||3===d)throw e.g.X("image: transform_in_place_");if(2==k)this.fp==e.Qi.Clip?(c!=b&&e.na.Jv(c,b,a),b=f.Ok(),e.Ib.lU(b,f,c,a)):(c!=b&&e.na.Jv(c,b,a),f.Ic()&&(k=f.pe(0),w=f.oe(),e.Ib.cY(c,a,w,k),e.Ib.uG(c,a,f,0))),e.Ib.$M(f,c,a,t);else for(k=f.pe(0),
w=f.oe(),f=0;f<a;f++)e.Ib.dY(b[f],w,k,c[f]);e.Ib.YM(this.He,c,a,t);b=0;(d=2==d)?b=g.ri():isNaN(this.vn)||(b=this.vn);d&&this.Jn!=e.Qi.Clip||e.Ib.uG(c,a,g.lc(),b);d&&(e.Ib.zH(c,a,g,this.Jn),e.Ib.ZM(g,c,a,t));b=a;for(f=0;f<a;++f)c[f].isNaN()&&b--;return b};d.prototype.OC=function(b,a,c){a=0>a?b.length:a;if(this.He.No()){for(var f=0;f<a;++f)null==c[f]&&(c[f]=new e.od),c[f].I(b[f].x,b[f].y,b[f].z);return a}var g=this.He.he,f=this.He.Ee,k=g.Fb(),d=f.Fb();if(0==k&&k==d)return g=g.Zi(),f=f.Zi(),f=g/f,g=
new e.DN,g.Vp(f,f,f),g.transform(b,a,c),a;k=new e.Dd;k.Rd(1);k.Rd(3);k.KO(b);b=k.Qa(3);f=0;for(g=a;f<g;f++)b.write(f,f);k=this.Vg(k,null);for(f=0;f<a;++f)null==c[f]?c[f]=e.od.pa(NaN,NaN,NaN):c[f].iv();if(null==k)return 0;b=k.Qa(3);var d=k.Qa(0),t=k.Qa(1);k.KW(c,a);f=0;for(g=k.D();f<g;f++)a=b.read(f),d.TW(2*f,c[a]),c[a].z=t.read(f);return k.D()};d.prototype.Vg=function(b,a){if(this.He.No()||b.u())return b;if(33==b.G())return this.DJ(b);var c=this.He.he,f=this.He.Ee,g=c.Fb(),k=f.Fb();if(0==g&&g==k)return c=
c.Zi(),f=f.Zi(),c/=f,f=new e.Gd,f.Vp(c,c),c=e.T.me(b),c.Vc(f),c;switch(b.G()){case 1607:case 1736:f=this.BJ(b,a);break;case 550:f=this.zW(b,a);break;case 197:f=this.yW(b,a);break;default:throw e.g.X("");}return f};d.prototype.DJ=function(b){var a=b.w(),c=[];c[0]=a;this.fs(c,1,c);b=new e.Wa(b);b.rb(c[0]);return b};d.prototype.BJ=function(b,a){if(b.on())throw e.g.X("curves not supported");var c=b.G();if(1736==c)return this.AW(b,a);if(1607==c)return this.BW(b,a);throw e.g.X("projectMultiPath");};d.prototype.AW=
function(b,a){var c=this.He.he,f=this.He.Ee,g=c.Fb(),k=f.Fb(),q=e.J.vv(Math.min(b.D(),64));b=e.Ja.me(b);if(3==g){var t=c.jj,c=t.Ik(),g=c.Fb();b=t.Il(b,!0);this.qq(t,e.Um.forward,b);b=t.Hl(b,!0)}t=null;3==k&&(t=f.jj,f=t.Ik(),k=f.Fb());var w=2==g,m=2==k,h=m?f.lc():f,l=!m&&!this.Gw,k=!1,n=b;if(w){if(n=e.Ib.AJ(n,c,this.fp,a),n.u())return n}else{b=new e.h;n.ac(b);g=c.oe();if(b.A<g.A||b.B>g.B){var p=e.h.pa(b.o-1,g.A,b.v+1,g.B),n=e.th.rq(n,p,c,NaN,0,a);if(n.u())return n}b.O()>2*g.O()&&(n=e.Ib.Aq(n,-2*g.O(),
2*g.O(),c,!0,0,!0,a))}b=this.lI;(g=!isNaN(b))&&(n=e.Pm.local().V(n,b,a));var p=m?f.Wj():null,r=NaN;w&&(r=c.ri());var u=null!=f.Us();if(this.$H)w&&(e.Ib.qs(c,r,n,q),g&&(w=c.Dh(),r=c.lc().Dh(),b*=r/w)),e.Ib.ps(this.He,n,l,q),g&&(w=c.lc().Dh(),r=f.lc().Dh(),b*=r/w),c=n;else{var v=new e.Ua(n.description);v.WE(n);w&&(e.Ib.qs(c,r,v,q),g&&(w=c.Dh(),r=c.lc().Dh(),b*=r/w));e.Ib.ps(this.He,v,l,q);g&&(w=c.lc().hn(),r=f.lc().hn(),b*=r/w);l=NaN;m?(p=f.Wj(),l=f.ri()):isNaN(this.vn)||(l=this.vn);w=d.ye(c)|d.ye(f);
r=10*h.pe(0);this.Gw&&(w=3,r=0);c=e.Ib.kS(n,c,v,h,l,a,w,r)}u&&(c=e.Ib.lF(c,f,a));m&&(k||(m=h.oe().O(),c.hg(0,0).O()>=m-h.pe(0)&&(h=p.getNorthPoleLocation(),m=p.getSouthPoleLocation(),n=p.getNorthPoleGeometry(),p=p.getSouthPoleGeometry(),l=0,n==e.Ag.PE_POLE_POINT&&h!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(l=1),p==e.Ag.PE_POLE_POINT&&m!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(l|=2),0!==l&&(k=!0))),c=e.Ib.wA(c,f,this.Jn,a),g&&(c=e.Pm.local().V(c,b,a)),e.Ib.ry(f,c,q));if(c.u())return c;k&&(c=e.Qm.local().V(c,f,!1,a));
null!=t&&(c=t.Hl(c,!1),this.qq(t,e.Um.reverse,c),c=t.Il(c,!1));return c};d.ye=function(b){if(2!=b.Fb())return 0;var a=0,c=b.Wj();b=c.getNorthPoleLocation();var f=c.getSouthPoleLocation(),g=c.getNorthPoleGeometry(),c=c.getSouthPoleGeometry();g==e.Ag.PE_POLE_POINT&&b!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);c==e.Ag.PE_POLE_POINT&&f!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};d.prototype.BW=function(b,a){var c=this.He.he,f=this.He.Ee,g=c.Fb(),k=f.Fb(),q=e.J.vv(Math.min(b.D(),64));b=e.Ua.me(b);if(3==
g){var t=c.jj,c=t.Ik(),g=c.Fb();b=t.Il(b,!0);this.qq(t,e.Um.forward,b);b=t.Hl(b,!0)}t=null;3==k&&(t=f.jj,f=t.Ik(),k=f.Fb());var w=2==g,g=(k=2==k)?f.lc():f,m=!k&&!this.Gw;if(w){if(b=e.Ib.AJ(b,c,this.fp,a),b.u())return b}else{var h=new e.h;b.ac(h);var l=c.oe();if(h.A<l.A||h.B>l.B)if(h=e.h.pa(h.o-1,l.A,h.v+1,l.B),b=e.th.rq(b,h,c,NaN,0,a),b.u())return b}var n=NaN;w&&(n=c.ri());var h=null!=f.Us(),l=this.lI,p=!isNaN(l);p&&(b=e.Pm.local().V(b,l,a));if(this.$H)w&&e.Ib.qs(c,n,b,q),p&&(w=c.Dh(),n=c.lc().Dh(),
l*=n/w),e.Ib.ps(this.He,b,m,q),p&&(w=c.lc().Dh(),n=f.lc().Dh(),l*=n/w),c=b;else{var r=new e.Ua(b.description);r.WE(b);w&&(e.Ib.qs(c,n,r,q),p&&(w=c.Dh(),n=c.lc().Dh(),l*=n/w));e.Ib.ps(this.He,r,m,q);p&&(w=c.lc().Dh(),n=f.lc().Dh(),l*=n/w);m=NaN;k?m=f.ri():isNaN(this.vn)||(m=this.vn);w=d.ye(c)|d.ye(f);n=10*g.pe(0);this.Gw&&(w=3,n=0);c=e.Ib.lS(b,c,r,g,m,a,w,n)}h&&(c=e.Ib.lF(c,f,a));k&&(c=e.Ib.wA(c,f,this.Jn,a),p&&(c=e.Pm.local().V(c,l,a)),e.Ib.ry(f,c,q));if(c.u())return c;null!=t&&(c=t.Hl(c,!1),this.qq(t,
e.Um.reverse,c),c=t.Il(c,!1));return c};d.prototype.yW=function(b,a){var c=(b.ea()+b.O())/400;if(0!=c){var f=e.Pm.local().V(b,c,a),f=this.BJ(f,a),c=b.Ka();f.Wn(c)}else c=new e.Wa(b.Bq()),f=this.DJ(c),c=b.Ka(),f.u()?c.Oa():(b.copyTo(c),f=f.w(),c.I(f.x,f.y,f.x,f.y));return c};d.prototype.zW=function(b,a){b=e.T.me(b);var c=this.He.he,f=this.He.Ee,g=c.Fb(),k=f.Fb(),d=e.J.vv(Math.min(b.D(),64));if(3==g){var t=c.jj,c=t.Ik(),g=c.Fb();b=t.Hl(b,!0);this.qq(t,e.Um.forward,b);b=t.Il(b,!0)}if(2==g){this.fp==
e.Qi.Clip?b=e.wk.local().V(b,c.Ok(),c,a):c.Ic()&&(g=new e.h,b.ac(g),c.oe().contains(g)||(this.fp==e.Qi.PannableFold&&(b=e.Ib.Qj(b,c)),e.Ib.zu(b,c.oe(),c.pe(0),!0),b=e.Ib.cn(b,c,0,!0,0,a)));if(b.u())return b;e.Ib.qs(c,0,b,d)}else e.Ib.zu(b,c.oe(),c.pe(0),!0);e.Ib.ps(this.He,b,!1,d);c=0;g=!1;t=null;3==k&&(g=!0,t=f.jj,f=t.Ik(),k=f.Fb());(k=2==k)?c=f.ri():isNaN(this.vn)||(c=this.vn);k&&this.Jn!=e.Qi.Clip||(b=e.Ib.cn(b,f.lc(),c,!1,0,a));if(k&&(b=e.Ib.wA(b,f,this.Jn,a),e.Ib.ry(f,b,d),b.u()))return b;g&&
(b=t.Hl(b,!0),this.qq(t,e.Um.reverse,b),b=t.Il(b,!0));return b};d.prototype.qq=function(b,a,c){var f=c.D();if(0!=f){for(var g=c.Qa(0),k=e.J.df(200,0),d=[],t=0;t<f;){var w=Math.min(100,f-t);g.rl(2*t,2*w,k,2,!0);for(var m=0;m<w;++m)d[m]=e.b.pa(k[2*t],k[2*t+1]);b.Fu(a,d,w);t+=w}c.Cc(1993)}};d.Fj=function(b,a,c){if(null==b||null==a||!a.Ic())throw e.g.X("Invalid Arguement");if(b.u())return b;var f;f=b.G();197==f?(f=new e.Ja(b.description),f.hd(b,!1)):e.T.Nc(f)?(f=new e.Ua(b.description),f.cc(b,!0)):f=
b;f=e.Ib.Qj(f,a);return f.u()?f:e.Ib.cn(f,a,0,f!=b,0,c)};d.Rj=function(b,a,c,f){if(null==b||null==a||!a.Ic())throw e.g.X("Invalid Arguement");if(b.u())return b;var g=b.G();if(e.T.Hc(g)){b=e.Ib.Qj(b,a);g=new e.h;b.s(g);for(var k=e.na.Xy(a,g,!1),q=a.Ch(),t=Math.floor((g.o-q.o)/q.O())*q.O()+q.o;t<g.v;)t>g.o+k&&t<g.v-k&&(b=e.Ib.ST(b,a,c,t)),t+=q.O()}else{if(197==g)return g=new e.Ja(b.description),g.hd(b,!1),d.Rj(g,a,c,f);if(e.T.Nc(g))return g=new e.Ua(b.description),g.cc(b,!0),d.Rj(g,a,c,f)}return d.Fj(b,
a,f)};d.Lm=function(b,a,c,f){var g=a.Fb(),k=new e.kE;a.NW(k);if(0==g)return d.Ej(b,k,a,c);f==e.aq.foldAndClipWithHorizon&&a.Ic()&&(b=d.Fj(b,a,c));b=d.Ej(b,k,a,c);if(f==e.aq.clipToDomainOnly||b.u())return b;if(1==g)return f==e.aq.clipWithHorizon?(f=new e.h,b.ac(f),g=a.oe(),k=.01*g.O(),f.A=g.A,f.B=g.B,f.o-=k,f.v+=k,e.th.rq(b,f,a,NaN,0,c)):b;if(2==g)return g=a.Ok(),f==e.aq.clipWithHorizon||f==e.aq.foldAndClipWithHorizon?(a=e.wk.local().V(b,g,a,c),a==g?e.T.me(a):a):b;if(3==g)return b;throw e.g.X("missing implementation");
};d.Ej=function(b,a,c,f){var g=a.xT(),k=b.hasAttribute(1),d=b.hasAttribute(2),t=new e.yc;t.Oa();var w=new e.yc;w.Oa();k&&(t=a.zT());d&&(w=a.TS());a=e.th.rq(b,g,c,NaN,0,f);k&&(k=a.hg(1,0),t.contains(k)||(b==a&&(a=e.T.me(a)),e.na.IK(a,t,1)));d&&(k=a.hg(2,0),w.contains(k)||(b==a&&(a=e.T.me(a)),e.na.IK(a,w,2)));return a};return d}();e.qo=d})(x||(x={}));(function(e){var d=function(d){function b(a,c,b,g){var f=d.call(this)||this;void 0===a?f.description=e.we.Hg():void 0===b?f.description=a:(f.description=
e.we.Hg(),f.zC(a,c),f.Am(b,g));return f}fa(b,d);b.prototype.G=function(){return 322};b.prototype.Rb=function(){var a=this.ua-this.sa,c=this.ra-this.oa;return Math.sqrt(a*a+c*c)};b.prototype.eh=function(a){var c=this.ua-this.sa,b=this.ra-this.oa;return Math.sqrt(c*c+b*b)<=a};b.prototype.Mo=function(){return!1};b.prototype.Dg=function(){var a=new e.b;a.xc(this.Ac(),this.ec());return a};b.CQ=function(a,c){return new b(a.x,a.y,c.x,c.y)};b.prototype.Wn=function(a){a.Oa();a.Eg(this.description);var c=new e.h;
this.s(c);a.Np(c);for(var c=1,b=this.description.Ga;c<b;c++)for(var g=this.description.pd(c),k=e.ma.Xa(g);c<k;c++){var d=this.hg(g,0);a.setInterval(g,0,d)}};b.prototype.s=function(a){a.I(this.ua,this.ra,this.sa,this.oa);a.normalize()};b.prototype.Jp=function(a){a.Oa();a.Nb(this.ua,this.ra,this.Zd(0,1,0));a.Nb(this.sa,this.oa,this.Zd(1,1,0))};b.prototype.Vc=function(a){if(a instanceof e.Gd){this.zc();var c=new e.b;c.x=this.ua;c.y=this.ra;a.ai(c,c);this.ua=c.x;this.ra=c.y;c.x=this.sa;c.y=this.oa;a.ai(c,
c);this.sa=c.x;this.oa=c.y}else this.zc(),c=new e.od,c.x=this.ua,c.y=this.ra,c.z=this.Zd(0,1,0),c=a.Yp(c),this.ua=c.x,this.ra=c.y,this.vo(0,1,0,c.z),c.x=this.sa,c.y=this.oa,c.z=this.Zd(1,1,0),c=a.Yp(c),this.sa=c.x,this.oa=c.y,this.vo(1,1,0,c.z)};b.prototype.Ka=function(){return new b(this.description)};b.prototype.yy=function(a,c){return(this.sa-a-(this.ua-a))*(this.oa-c+(this.ra-c))*.5};b.prototype.cy=function(a){return a*this.Rb()};b.prototype.PH=function(a){return a/this.Rb()};b.prototype.HG=function(a){return e.Ub.Xq(this.ua,
this.sa,a)};b.prototype.xS=function(a){return e.Ub.Xq(this.ra,this.oa,a)};b.prototype.Ml=function(a,c){var b=new e.Bg;this.yh(a,c,b);return b.get()};b.prototype.yh=function(a,c,b){if(null==b)throw e.g.F();b.Hs();b=b.get();b.Eg(this.description);var f=new e.b;this.hc(a,f);b.zC(f.x,f.y);this.hc(c,f);b.Am(f.x,f.y);for(var f=1,k=this.description.Ga;f<k;f++)for(var d=this.description.Qd(f),t=e.ma.Xa(d),w=0;w<t;w++){var m=this.Wc(a,d,w);b.Tx(d,w,m);m=this.Wc(c,d,w);b.Lx(d,w,m)}};b.prototype.Wc=function(a,
c,b){if(0==c)return 0==b?this.hc(a).x:this.hc(a).y;switch(e.ma.Zz(c)){case 0:return.5>a?this.bt(c,b):this.Ms(c,b);case 1:var f=this.bt(c,b);c=this.Ms(c,b);return e.Ub.Xq(f,c,a);case 2:throw e.g.X("not implemented");}throw e.g.za();};b.prototype.ne=function(a,c){var b=this.sa-this.ua,e=this.oa-this.ra,k=b*b+e*e;if(0==k)return.5;b=((a.x-this.ua)*b+(a.y-this.ra)*e)/k;c||(0>b?b=0:1<b&&(b=1));return b};b.prototype.Tq=function(a,c,b,e){if(a){a=this.oa-this.ra;if(0==a)return c==this.oa?-1:0;c=(c-this.ra)/
a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.HG(c))}else{a=this.sa-this.ua;if(0==a)return c==this.sa?-1:0;c=(c-this.ua)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.xS(c))}null!=e&&(e[0]=c);return 1};b.prototype.kf=function(a,c){var b=this.oa-this.ra;if(0==b)return a==this.oa?c:NaN;b=(a-this.ra)/b;a=this.HG(b);1==b&&(a=this.sa);return a};b.prototype.fv=function(a,c,b){return 0<=this.lq(a.x,a.y,c,b)};b.prototype.Ti=function(a,c,b){return 0<=this.lq(a,c,b,!0)};b.prototype.ot=function(a,c){return this.fv(a,
c,!1)};b.prototype.pJ=function(){if(this.oa<this.ra||this.oa==this.ra&&this.sa<this.ua){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=0,c=this.description.Er-2;a<c;a++){var b=this.ka[a];this.ka[a]=this.ka[a+c];this.ka[a+c]=b}}};b.prototype.jv=function(a,c){a=e.b.pa(a,c);a.sub(this.ec());c=new e.b;c.xc(this.Ac(),this.ec());var b=c.Vi(a);a=8.881784197001252E-16*(Math.abs(c.x*a.y)+Math.abs(c.y*a.x));return b>a?-1:b<-a?1:0};b.prototype.lq=function(a,c,b,g){var f=
this.ua,d=this.ra,t=a-f,w=c-d,t=Math.sqrt(t*t+w*w);if(t<=Math.max(b,6.661338147750939E-16*t))return g&&0==t?NaN:0;t=a-this.sa;w=c-this.oa;t=Math.sqrt(t*t+w*w);if(t<=Math.max(b,6.661338147750939E-16*t))return g&&0==t?NaN:1;t=this.sa-this.ua;w=this.oa-this.ra;g=Math.sqrt(t*t+w*w);if(0<g){var m=1/g,t=t*m,w=w*m,h=a-f,l=c-d,n=h*t+l*w,p=1.7763568394002505E-15*(Math.abs(h*t)+Math.abs(l*w)),r=t,t=-w,w=r,p=Math.max(b,p);if(n<-p||n>g+p)return NaN;if(Math.abs(h*t+l*w)<=Math.max(b,1.7763568394002505E-15*(Math.abs(h*
t)+Math.abs(l*w)))&&(t=e.J.tk(n*m,0,1),.5>=t?(w=this.ua+(this.sa-this.ua)*t,g=this.ra+(this.oa-this.ra)*t):(w=this.sa-(this.sa-this.ua)*(1-t),g=this.oa-(this.oa-this.ra)*(1-t)),e.b.wz(w,g,a,c)<=b)){if(.5>t){if(e.b.wz(w,g,f,d)<=b)return 0}else if(e.b.wz(w,g,this.sa,this.oa)<=b)return 1;return t}}return NaN};b.prototype.Eb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.hO(a)};b.prototype.LE=function(a,c,b){var f=b?this.ua:this.sa;b=b?this.ra:this.oa;var k=new e.b;
k.x=a.sa-f;k.y=a.oa-b;return c.pi(k)>6.661338147750939E-16*c.CE(k)?(k.x=a.ua-f,k.y=a.ra-b,c.pi(k)<=6.661338147750939E-16*c.CE(k)):!0};b.prototype.KE=function(a){var c=new e.b;c.x=this.sa-this.ua;c.y=this.oa-this.ra;if(!this.LE(a,c,!1))return!1;c.Kr();return this.LE(a,c,!0)?!0:!1};b.dc=function(a,c){var b=a.jv(c.ua,c.ra),e=a.jv(c.sa,c.oa);if(0>b&&0>e||0<b&&0<e)return!1;b=c.jv(a.ua,a.ra);e=c.jv(a.sa,a.oa);if(0>b&&0>e||0<b&&0<e)return!1;b=a.Rb();e=c.Rb();return b>e?a.KE(c):c.KE(a)};b.tb=function(a,c,
b){var f=e.b.pa(NaN,NaN),k=a.sa-a.ua,d=a.oa-a.ra,t=c.sa-c.ua,w=c.oa-c.ra,m=t*d-k*w;if(0==m)return f;var h=8.881784197001252E-16*(Math.abs(t*d)+Math.abs(k*w)),l=c.ua-a.ua,n=c.ra-a.ra,p=t*n-l*w,r=p/m,u=Math.abs(m),t=(8.881784197001252E-16*(Math.abs(t*n)+Math.abs(l*w))*u+h*Math.abs(p))/(m*m)+2.220446049250313E-16*Math.abs(r);if(r<-t||r>1+t)return f;w=k*n-l*d;t=w/m;k=(8.881784197001252E-16*(Math.abs(k*n)+Math.abs(l*d))*u+h*Math.abs(w))/(m*m)+2.220446049250313E-16*Math.abs(t);if(t<-k||t>1+k)return f;r=
e.J.tk(r,0,1);k=e.J.tk(t,0,1);d=a.hc(r);m=c.hc(k);h=new e.b;h.xc(d,m);if(h.length()>b&&(h.add(d,m),h.scale(.5),r=a.ne(h,!1),k=c.ne(h,!1),a=a.hc(r),c=c.hc(k),a.sub(c),a.length()>b))return f;f.ja(r,k);return f};b.lO=function(a,c,f,e){var g=0;if(a.ua==c.ua&&a.ra==c.ra||a.ua==c.sa&&a.ra==c.oa)if(g++,!e)return 1;if(a.sa==c.ua&&a.oa==c.ra||a.sa==c.sa&&a.oa==c.oa){g++;if(2==g)return 2;if(!e)return 1}return c.Ti(a.ua,a.ra,f)||c.Ti(a.sa,a.oa,f)||a.Ti(c.ua,c.ra,f)||a.Ti(c.sa,c.oa,f)?1:e&&0!=g?0:0==b.dc(a,c)?
0:1};b.Cy=function(a,c,f,g,k,d){var q=0,w=a.lq(c.ua,c.ra,d,!1),m=a.lq(c.sa,c.oa,d,!1),h=c.lq(a.ua,a.ra,d,!1),l=c.lq(a.sa,a.oa,d,!1);isNaN(w)||(null!=g&&(g[q]=w),null!=k&&(k[q]=0),null!=f&&(f[q]=e.b.pa(c.ua,c.ra)),q++);isNaN(m)||(null!=g&&(g[q]=m),null!=k&&(k[q]=1),null!=f&&(f[q]=e.b.pa(c.sa,c.oa)),q++);2==q||isNaN(h)||0==w&&0==h||0==m&&1==h||(null!=g&&(g[q]=0),null!=k&&(k[q]=h),null!=f&&(f[q]=e.b.pa(a.ua,a.ra)),q++);2==q||isNaN(l)||1==w&&0==l||1==m&&1==l||(null!=g&&(g[q]=1),null!=k&&(k[q]=l),null!=
f&&(f[q]=e.b.pa(c.sa,c.oa)),q++);if(0<q)return 2==q&&null!=g&&g[0]>g[1]&&(a=g[0],g[0]=g[1],g[1]=a,null!=k&&(g=k[0],k[0]=k[1],k[1]=g),null!=f&&(k=e.b.pa(f[0].x,f[0].y),f[0]=f[1],f[1]=k)),q;q=b.tb(a,c,d);if(isNaN(q.x))return 0;null!=f&&(f[0]=a.hc(q.x));null!=g&&(g[0]=q.x);null!=k&&(k[0]=q.y);return 1};b.prototype.hH=function(){return 0};b.prototype.iq=function(){};b.prototype.toString=function(){return"Line: ["+this.ua.toString()+", "+this.ra.toString()+", "+this.sa.toString()+", "+this.oa.toString()+
"]"};return b}(e.iE);e.Hb=d})(x||(x={}));(function(e){var d=function(){function e(){this.fm=[];this.Ca=-1}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){if(null!=this.fm&&0!=this.fm.length){this.Ca++;var b=this.fm[0];1>=this.fm.length?this.fm=[]:this.fm=this.fm.slice(1);return b}return this.fm=null};e.prototype.wY=function(b){this.fm.push(b)};e.prototype.Oe=function(){return!0};return e}();e.wM=d})(x||(x={}));(function(e){(function(e){e[e.enumFillRuleOddEven=0]="enumFillRuleOddEven";
e[e.enumFillRuleWinding=1]="enumFillRuleWinding"})(e.kN||(e.kN={}));var d=function(d){function b(a,c){var b=d.call(this)||this;b.Yf=!1;b.ur=null;b.hr=0;b.gr=0;b.cj=null;b.gh=!1;b.kb=null;b.jb=null;b.$e=null;b.uj=null;b.Vd=null;b.ir=0;b.Ta=0;b.mr=0;if(void 0===c)b.Yf=a,b.gh=!1,b.ir=0,b.hr=0,b.gr=0,b.qa=0,b.description=e.we.Hg();else{if(null==c)throw e.g.F();b.Yf=a;b.gh=!1;b.ir=0;b.hr=0;b.gr=0;b.qa=0;b.description=c}b.cj=null;b.Ta=0;return b}fa(b,d);b.prototype.on=function(){return 0<this.ir};b.prototype.By=
function(){this.zc();null==this.ur?this.ur=new e.Wa(this.description):this.ur.Eg(this.description)};b.prototype.$x=function(a,c){var b=new e.b;b.x=a;b.y=c;this.Bu(b)};b.prototype.Bu=function(a){this.By();this.ur.rb(a);this.gh=!0};b.prototype.Of=function(a){if(a.u())throw e.g.F();this.tm(a.description);this.By();a.copyTo(this.ur);this.gh=!0};b.prototype.xy=function(){var a=1;this.gh&&(this.By(),null==this.kb?(this.kb=e.Tc.wh(2),this.kb.write(0,0),this.jb=e.Tc.vq(2,0)):(this.kb.resize(this.kb.size+
1,0),this.jb.resize(this.jb.size+1,0)),this.Yf&&this.jb.write(this.jb.size-2,1),a++);var c=this.qa;this.kb.write(this.kb.size-1,this.qa+a);this.El(c+a);this.jb.write(this.kb.size-1,0);this.gh&&(this.xu(c,this.ur),this.gh=!1)};b.prototype.ak=function(a,c){this.xy();this.rb(this.qa-1,a,c)};b.prototype.bj=function(a){this.xy();this.rb(this.qa-1,a)};b.prototype.lineTo=function(a){this.xy();this.xu(this.qa-1,a)};b.prototype.SV=function(a){this.zc();if(this.Yf)throw e.g.za();var c=this.aa();if(a>c)throw e.g.za();
if(this.Qb(a)){if(null==this.jb)throw e.g.za();var b=this.qa,g=this.wa(a),k=this.Fc(a);this.El(this.qa+1);this.vc();for(var d=0,t=this.description.Ga;d<t;d++)if(null!=this.ya[d]){var w=e.ma.Xa(this.description.Qd(d));this.ya[d].Tk(w*k,this.ya[d],w*g,w,!0,1,w*b)}for(;c>a;c--)b=this.kb.read(c),this.kb.write(c,b+1);this.jb.dz(a,1)}};b.prototype.sq=function(){var a;this.Eu();void 0===a&&(this.gh=!1,a=this.aa()-1);var c=this.jb.read(a);this.jb.write(a,c|1);null!=this.$e&&(a=this.Fc(a)-1,this.$e.write(a,
1),this.uj.write(a,-1))};b.tb=function(a){return b.N[a]};b.prototype.Qb=function(a){return 0!=(this.jb.read(a)&1)};b.prototype.Ko=function(a){if(this.Qb(a))return!0;var c=this.wa(a);a=this.Fc(a)-1;if(c>a)return!1;c=this.Ba(c);a=this.Ba(a);return c.vb(a)};b.prototype.ht=function(a){return 0!=(this.jb.read(a)&2)};b.prototype.cc=function(a,c){this.tm(a.description);if(322==a.G()){var b=new e.Wa;if(c||this.u())a.Kp(b),this.Of(b);a.Ip(b);this.lineTo(b)}else throw e.g.za();};b.prototype.oq=function(a){var c=
0==this.qa;this.$x(a.o,a.A);this.ak(a.o,a.B);this.ak(a.v,a.B);this.ak(a.v,a.A);this.sq();this.gh=!1;c&&this.kg(256,!1)};b.prototype.hd=function(a,c){if(!a.u()){for(var b=0==this.qa,g=new e.Wa(this.description),k=0;4>k;k++)a.gg(c?4-k-1:k,g),0==k?this.Of(g):this.lineTo(g);this.sq();this.gh=!1;b&&!c&&this.kg(256,!1)}};b.prototype.add=function(a,c){for(var b=0;b<a.aa();b++)this.Ui(a,b,!c)};b.prototype.Ui=function(a,c,b){this.Vf(-1,a,c,b)};b.prototype.Gl=function(a,c){this.uA(a,c)};b.prototype.zs=function(a,
c,b,g,k){k||0!=this.aa()||(k=!0);0>c&&(c=a.aa()-1);if(c>=a.aa()||0>b||0>g||g>a.ew(c))throw e.g.X("index out of bounds");if(0!=g){var f=a.Qb(c)&&b+g==a.ew(c);if(!f||1!=g){this.gh=!1;this.tm(a.description);b=a.wa(c)+b+1;k&&(g++,b--);f&&g--;f=this.qa;this.El(this.qa+g);this.vc();if(k){if(0==g)return;this.kb.add(this.qa);k=a.jb.read(c);k&=-5;this.Yf&&(k|=1);this.jb.write(this.jb.size-1,k);this.jb.add(0)}else this.kb.write(this.jb.size-1,this.qa);k=0;for(var d=this.description.Ga;k<d;k++){var w=this.description.pd(k),
m=e.ma.Xa(w),h=a.description.lg(w);0>h||null==a.ya[h]?this.ya[k].Zj(m*f,e.ma.be(w),g*m,m*f):this.ya[k].Tk(m*f,a.ya[h],m*b,g*m,!0,m,m*f)}if(this.on())throw e.g.za();if(a.ht(c))throw e.g.za();this.Cc(1993)}}};b.prototype.TJ=function(){for(var a=0,c=this.aa();a<c;a++)this.fX(a)};b.prototype.fX=function(a){this.vc();if(a>=this.aa())throw e.g.F();var c=this.wa(a),b=this.La(a);a=this.Qb(a)?1:0;for(var g=0,k=this.description.Ga;g<k;g++)if(null!=this.ya[g]){var d=e.ma.Xa(this.description.Qd(g));this.ya[g].Xd(d*
(c+a),d*(b-a),d)}this.Cc(1993)};b.prototype.Qr=function(a){this.vc();var c=this.aa();0>a&&(a=c-1);if(a>=c)throw e.g.F();for(var b=this.wa(a),g=this.La(a),k=0,d=this.description.Ga;k<d;k++)if(null!=this.ya[k]){var t=e.ma.Xa(this.description.Qd(k));this.ya[k].Hk(t*b,t*g,t*this.qa)}for(b=a+1;b<=c;b++)k=this.kb.read(b),this.kb.write(b-1,k-g);if(null==this.jb)for(b=a+1;b<=c;b++)a=this.jb.read(b),this.jb.write(b-1,a);this.kb.resize(c);this.jb.resize(c);this.qa-=g;this.kh-=g;this.Cc(1993)};b.prototype.Vf=
function(a,c,b,g){if(c==this)throw e.g.F();if(b>=c.aa())throw e.g.F();var f=this.aa();if(a>f)throw e.g.F();0>a&&(a=f);0>b&&(b=c.aa()-1);this.gh=!1;this.tm(c.description);c.vc();var d=c.wa(b),t=c.La(b),w=this.qa,m=c.Qb(b)&&!g?1:0;this.El(this.qa+t);this.vc();for(var h=a<f?this.wa(a):w,l=0,n=this.description.Ga;l<n;l++){var p=this.description.Qd(l),r=c.description.lg(p),u=e.ma.Xa(p);0<=r&&null!=c.ya[r]?(0!=m&&this.ya[l].Tk(h*u,c.ya[r],u*d,u,!0,u,u*w),this.ya[l].Tk((h+m)*u,c.ya[r],u*(d+m),u*(t-m),g,
u,u*(w+m))):this.ya[l].Zj(h*u,e.ma.be(p),u*t,u*w)}this.kb.add(w+t);for(g=f;g>=a+1;g--)d=this.kb.read(g-1),this.kb.write(g,d+t);c.ht(b);this.jb.add(0);for(g=f-1;g>=a+1;g--)f=this.jb.read(g),f&=-5,this.jb.write(g+1,f);f=c.cT().read(b);f&=-5;this.Yf&&(f|=1);this.jb.write(a,f)};b.prototype.uA=function(a,c){var b=-1,g=this.aa();if(b>g)throw e.g.F();0>b&&(b=g);this.gh=!1;var k=this.qa;this.El(this.qa+c);this.vc();var d=b<g?this.wa(b):k;null!=a?this.ya[0].Sq(2*d,a,0,c,!0,2*k):(a=e.ma.be(0),this.ya[0].Zj(2*
d,a,2*c,2*k));for(var t=1,w=this.description.Ga;t<w;t++){a=this.description.pd(t);var m=e.ma.Xa(a);a=e.ma.be(a);this.ya[t].Zj(d*m,a,m*c,m*k)}this.kb.add(this.qa);for(k=g;k>=b+1;k--)d=this.kb.read(k-1),this.kb.write(k,d+c);this.jb.add(0);for(k=g-1;k>=b+1;k--)g=this.jb.read(k),g&=-5,this.jb.write(k+1,g);this.Yf&&this.jb.write(b,1)};b.prototype.sH=function(a,c,b){var f=-1;0>a&&(a=this.aa());if(a>this.aa()||f>this.La(a)||b>c.length)throw e.g.X("index out of bounds");if(0!=b){a==this.aa()&&(this.kb.add(this.qa),
this.Yf?this.jb.add(1):this.jb.add(0));0>f&&(f=this.La(a));this.vc();var k=this.qa;this.El(this.qa+b);this.vc();for(var d=0,t=this.description.Ga;d<t;d++){var w=this.description.Qd(d),m=e.ma.Xa(w);this.ya[d].no(m*(this.wa(a)+f+b),(k-this.wa(a)-f)*m,this.ya[d],m*(this.wa(a)+f),!0,m);0==d?this.ya[d].js(m*(this.wa(a)+f),b,c,0,!0):this.ya[d].$h(e.ma.be(w),(this.wa(a)+f)*m,b*m)}this.on()&&(this.$e.no(this.wa(a)+f+b,k-this.wa(a)-f,this.$e,this.wa(a)+f,!0,1),this.uj.no(this.wa(a)+f+b,k-this.wa(a)-f,this.uj,
this.wa(a)+f,!0,1),this.$e.$h(1,this.wa(a)+f,b),this.uj.$h(-1,this.wa(a)+f,b));a+=1;for(c=this.aa();a<=c;a++)this.kb.write(a,this.kb.read(a)+b)}};b.prototype.Wf=function(a,c,b){var f=this.aa();0>a&&(a=this.aa());if(a>=f||c>this.La(a))throw e.g.X("index out of bounds");a==this.aa()&&(this.kb.add(this.qa),this.Yf?this.jb.add(1):this.jb.add(0));0>c&&(c=this.La(a));var k=this.qa;this.El(this.qa+1);this.vc();var d=this.wa(a);this.ya[0].dh(2*(d+c),b,2*k);b=1;for(var t=this.description.Ga;b<t;b++){var w=
this.description.Qd(b),m=e.ma.Xa(w);this.ya[b].Zj(m*(d+c),e.ma.be(w),m,m*k)}for(a+=1;a<=f;a++)this.kb.write(a,this.kb.read(a)+1)};b.prototype.fC=function(a,c){var b=this.aa();0>a&&(a=b-1);if(a>=b||c>=this.La(a))throw e.g.X("index out of bounds");this.vc();var g=this.wa(a);0>c&&(c=this.La(a)-1);g+=c;c=0;for(var k=this.description.Ga;c<k;c++)if(null!=this.ya[c]){var d=e.ma.Xa(this.description.Qd(c));this.ya[c].Hk(d*g,d,d*this.qa)}for(;b>=a+1;b--)g=this.kb.read(b),this.kb.write(b,g-1);this.qa--;this.kh--;
this.Cc(1993)};b.prototype.FF=function(a,c,b,g){a=this.wa(a)+c;b=this.wa(b)+g;if(b<a||0>a||b>this.D()-1)throw e.g.F();g=this.Fa();c=0;g.Tb(a);do{for(;g.Ea();){a=g.ba();if(g.Db()==b)break;a=a.Rb();c+=a}if(g.Db()==b)break}while(g.Ya());return c};b.prototype.CP=function(a,c,b){c=this.wa(a)+c;b=this.wa(a)+b;if(0>c||b>this.D()-1)throw e.g.F();var f=this.Fa();if(c>b){if(!this.Qb(a))throw e.g.F("cannot iterate across an open path");f.mC()}var k=a=0;f.Tb(c);do k+=a,a=f.ba().Rb();while(f.Db()!=b);return k};
b.prototype.Fg=function(){return e.Pi.Xm(this,null)};b.prototype.hU=function(a,c,b,g){for(var f=a;f<b-1;f++)if(this.Qb(f))throw e.g.F("cannot interpolate across closed paths");f=this.description.Ga;if(1!=f){var d=this.FF(a,c,b,g);if(0!=d)for(var t=1;t<f;t++){var w=this.description.pd(t);if(2!=e.ma.Zz(w))for(var m=e.ma.Xa(w),h=0;h<m;h++)this.jU(w,a,c,b,g,d,h)}}};b.prototype.gU=function(a,c,b){var f=this.description.Ga;if(1!=f){var k=this.CP(a,c,b);if(0!=k)for(var d=1;d<f;d++){var t=this.description.pd(d);
if(2!=e.ma.Zz(t))for(var w=e.ma.Xa(t),m=0;m<w;m++)this.iU(t,a,c,b,k,m)}}};b.prototype.jU=function(a,c,b,g,k,d,t){var f=this.Fa();c=this.wa(c)+b;g=this.wa(g)+k;k=this.Wc(a,c,t);b=this.Wc(a,g,t);var q=k,m=0;f.Tb(c);do if(f.Ea()){f.ba();if(f.Db()==g)break;this.setAttribute(a,f.Db(),t,q);f.Mi();do{c=f.ba();if(f.Lk()==g)return;c=c.Rb();m+=c;q=e.Ub.Xq(k,b,m/d);f.Lo()||this.setAttribute(a,f.Lk(),t,q)}while(f.Ea())}while(f.Ya())};b.prototype.iU=function(a,c,b,g,k,d){var f=this.Fa(),q=this.wa(c)+b;c=this.wa(c)+
g;if(c!=q){g=this.Wc(a,q,d);b=this.Wc(a,c,d);var m=0;f.Tb(q);f.mC();q=g;do{var h=f.ba();this.setAttribute(a,f.Db(),d,q);q=h.Rb();m+=q;q=e.Ub.Xq(g,b,m/k)}while(f.Lk()!=c)}};b.prototype.Oa=function(){this.ir=0;this.gh=!1;this.Vd=this.$e=this.uj=this.jb=this.kb=null;this.PE()};b.prototype.Vc=function(a){a instanceof e.Gd?this.mF(a,-1):this.VO(a)};b.prototype.mF=function(a,c){if(!this.u()&&!a.No()){this.vc();var b=this.ya[0],g=new e.b,k=new e.b,d,t,w;for(0>c?(d=this.on(),t=0,w=this.qa):(d=this.ht(c),
t=this.wa(c),w=this.Fc(c));t<w;t++){g.x=b.read(2*t);g.y=b.read(2*t+1);if(d&&(c=this.uj.read(t),0<=c))switch(this.$e.read(t)&7){case 2:k.x=this.Vd.read(c);k.y=this.Vd.read(c+1);a.ai(k,k);this.Vd.write(c,k.x);this.Vd.write(c+1,k.y);k.x=this.Vd.read(c+3);k.y=this.Vd.read(c+4);a.ai(k,k);this.Vd.write(c+3,k.x);this.Vd.write(c+4,k.y);break;case 4:throw e.g.za();}a.ai(g,g);b.write(2*t,g.x);b.write(2*t+1,g.y)}this.Cc(1993)}};b.prototype.VO=function(a){if(!this.u()){this.Rd(1);this.vc();for(var c=this.ya[0],
b=this.ya[1],g=new e.od,k=new e.od,d=this.on(),t=0;t<this.qa;t++){g.x=c.read(2*t);g.y=c.read(2*t+1);g.z=b.read(t);if(d){var w=this.uj.read(t);if(0<=w)switch(this.$e.read(t)&7){case 2:k.x=this.Vd.read(w);k.y=this.Vd.read(w+1);k.z=this.Vd.read(w+2);k=a.Yp(k);this.Vd.write(w,k.x);this.Vd.write(w+1,k.y);this.Vd.write(w+1,k.z);k.x=this.Vd.read(w+3);k.y=this.Vd.read(w+4);k.z=this.Vd.read(w+5);k=a.Yp(k);this.Vd.write(w+3,k.x);this.Vd.write(w+4,k.y);this.Vd.write(w+5,k.z);break;case 4:throw e.g.za();}}g=
a.Yp(g);c.write(2*t,g.x);c.write(2*t+1,g.y);b.write(t,g.z)}this.Cc(1993)}};b.prototype.My=function(){null==this.kb&&(this.kb=e.Tc.wh(1,0),this.jb=e.Tc.vq(1,0));null!=this.$e&&(this.$e.resize(this.kh,1),this.uj.resize(this.kh,-1))};b.prototype.iq=function(a){a.gh=!1;a.ir=this.ir;a.mr=this.mr;null!=this.kb?a.kb=e.ha.Dk(this.kb):a.kb=null;null!=this.jb?a.jb=e.Km.Dk(this.jb):a.jb=null;null!=this.uj?a.uj=e.ha.Dk(this.uj):a.uj=null;null!=this.$e?a.$e=e.Km.Dk(this.$e):a.$e=null;null!=this.Vd?a.Vd=e.Pd.Dk(this.Vd):
a.Vd=null;a.hr=this.hr;a.gr=this.gr;this.Ak(1024)?a.cj=null:a.cj=this.cj};b.prototype.Rb=function(){if(!this.Ak(512))return this.hr;for(var a=this.Fa(),c=new e.ny(0);a.Ya();)for(;a.Ea();)c.add(a.ba().Rb());this.hr=c.ln();this.kg(512,!1);return c.ln()};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&d.prototype.Eb.call(this,a)))return!1;var c=this.aa();return c!=a.aa()||null!=this.kb&&!this.kb.Eb(a.kb,0,c+1)||this.mr!=a.mr||null!=this.jb&&!this.jb.Eb(a.jb,0,c)?!1:d.prototype.Eb.call(this,
a)};b.prototype.Fa=function(){return new e.xN(this)};b.prototype.Ly=function(a){d.prototype.Ly.call(this,a);if(this.on())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.Bo=function(a,c){d.prototype.Bo.call(this,a,c);if(this.on())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.Ey=function(){null==this.kb||0==this.kb.size?this.qa=0:this.qa=this.kb.read(this.kb.size-1)};b.prototype.ef=function(){if(!this.Yf)return 0;this.lv();return this.gr};b.prototype.rw=function(a){if(!this.Yf)return!1;
if(!this.Ak(8))return 0!=(this.jb.read(a)&4);this.lv();return 0<this.cj.read(a)};b.prototype.Ym=function(a){if(!this.Yf)return 0;this.lv();return this.cj.read(a)};b.prototype.lv=function(){if(this.Ak(1024)){var a=this.aa();null==this.cj?this.cj=new e.Pd(a):this.cj.size!=a&&this.cj.resize(a);for(var a=new e.ny(0),c=new e.ny(0),b=new e.b,g=0,k=this.Fa();k.Ya();){c.reset();for(this.w(this.wa(k.Ta),b);k.Ea();)c.add(k.ba().yy(b.x,b.y));a.add(c.ln());var d=g++;this.cj.write(d,c.ln())}this.gr=a.ln();this.kg(1024,
!1)}};b.prototype.ZS=function(){if(this.Yf){this.Fl();for(var a=0,c=this.aa(),b=0;b<c;b++)0!=(this.jb.read(b)&4)&&a++}};b.prototype.Fl=function(){if(this.Ak(8)){this.lv();var a=this.aa();if(null==this.jb||this.jb.size<a)this.jb=e.Tc.vq(a+1);for(var c=1,b=0;b<a;b++){var g=this.cj.read(b);0==b&&(c=0<g?1:-1);0<g*c?this.jb.lC(b,4):this.jb.dz(b,4)}this.kg(8,!1)}};b.prototype.cw=function(a){var c=this.Ta,b=this.aa();if(0<=c&&c<b){if(a<this.Fc(c)){if(a>=this.wa(c))return c;c--}else c++;if(0<=c&&c<b&&a>=
this.wa(c)&&a<this.Fc(c))return this.Ta=c}if(5>b){for(c=0;c<b;c++)if(a<this.Fc(c))return this.Ta=c;throw e.g.X("corrupted geometry");}c=0;for(--b;b>c;){var g=c+(b-c>>1),k=this.wa(g);if(a<k)b=g-1;else if(c=this.Fc(g),a>=c)c=g+1;else return this.Ta=g}return this.Ta=c};b.prototype.NS=function(a){var c=this.Qa(0);this.dT();var b=this.Fc(a),g=this.wa(a);a=-1;var k=new e.b,d=new e.b;k.y=-Infinity;k.x=-Infinity;for(g+=0;g<b;g++)c.fc(2*g,d),-1==k.compare(d)&&(a=g,k.L(d));return a};b.prototype.lA=function(){var a=
this.D();if(!this.Yf)for(var a=a-this.aa(),c=0,b=this.aa();c<b;c++)this.Qb(c)&&a++;return a};b.prototype.ew=function(a){var c=this.La(a);this.Qb(a)||c--;return c};b.prototype.Ka=function(){return new b(this.Yf,this.description)};b.prototype.ub=function(){return this.Yf?2:1};b.prototype.G=function(){return this.Yf?1736:1607};b.prototype.dT=function(){this.Eu()};b.prototype.vK=function(a){this.kb=a;this.Cc(16777215)};b.prototype.oT=function(){this.Eu();return this.$e};b.prototype.cT=function(){this.Eu();
return this.jb};b.prototype.uK=function(a){this.jb=a;this.Cc(16777215)};b.prototype.aa=function(){return null!=this.kb?this.kb.size-1:0};b.prototype.Fc=function(a){return this.kb.read(a+1)};b.prototype.La=function(a){return this.kb.read(a+1)-this.kb.read(a)};b.prototype.wa=function(a){return this.kb.read(a)};b.prototype.bv=function(a,c){null==this.ob&&(this.ob=new e.yl);c=e.ty.PW(c);var b=this.ob.Ii;if(null!=b)if(b.ll<a||c>b.kT())this.ob.Iy(null);else return!0;b=e.ty.create(this,a,c);this.ob.Iy(b);
return!0};b.prototype.kc=function(){var a=d.prototype.kc.call(this);if(!this.Gc()){var c=this.aa();null!=this.kb&&this.kb.Ck(a,0,c+1);null!=this.jb&&this.jb.Ck(a,0,c)}return a};b.prototype.aH=function(a){return null!=this.$e?this.$e.read(a):1};b.prototype.jc=function(a,c,b){var f=this.cw(a);if(a==this.Fc(f)-1&&!this.Qb(f))throw e.g.X("index out of bounds");this.vc();var k=this.$e,d=1;null!=k&&(d=k.read(a)&7);switch(d){case 1:c.Hs();break;case 2:throw e.g.za();case 4:throw e.g.za();default:throw e.g.za();
}c=c.get();b?c.Eg(e.we.Hg()):c.Eg(this.description);f=a==this.Fc(f)-1&&this.Qb(f)?this.wa(f):a+1;k=new e.b;this.w(a,k);c.Lc(k);this.w(f,k);c.Xc(k);if(!b)for(b=1,k=this.description.Ga;b<k;b++)for(var d=this.description.Qd(b),t=e.ma.Xa(d),w=0;w<t;w++){var m=this.Wc(d,a,w);c.Tx(d,w,m);m=this.Wc(d,f,w);c.Lx(d,w,m)}};b.prototype.nk=function(a,c){if(a>=this.aa())throw e.g.F();if(this.u())c.Oa();else{if(this.ht(a))throw e.g.X("not implemented");var b=this.Qa(0),g=new e.b,k=new e.h;k.Oa();var d=this.wa(a);
for(a=this.Fc(a);d<a;d++)b.fc(2*d,g),k.Nb(g);c.I(k)}};b.prototype.MW=function(a,c){if(a>=this.aa())throw e.g.F();if(this.u())c.Oa();else{if(this.ht(a))throw e.g.X("not implemented");var b=this.Qa(0),g=new e.b,k=new e.h;k.Oa();var d=this.wa(a);for(a=this.Fc(a);d<a;d++)b.fc(2*d,g),k.Nb(g);c.I(k)}};b.prototype.Kj=function(a){null==this.ob&&(this.ob=new e.yl);if(0==a||16>this.D())return!1;a=e.na.BF(this);this.ob.QE(a);return!0};b.prototype.WN=function(){null==this.ob&&(this.ob=new e.yl);if(null!=this.ob.tp)return!0;
this.ob.RE(null);var a=e.na.xP(this);this.ob.RE(a);return!0};b.prototype.Op=function(a){this.mr=a};b.prototype.Eo=function(){return this.mr};b.prototype.WE=function(a){if(this==a)throw e.g.X("MultiPathImpl.add");for(var c=this.aa(),b=0;b<a.aa();b++)this.Ui(a,b,!0),this.SV(c),c++};b.prototype.KP=function(a){var c=this.cw(a),b=this.wa(c);if(b!=a){c=this.Fc(c);if(a>=c||a<b)throw e.g.X("change_ring_start_point");for(var g=0,k=this.description.Ga;g<k;g++){var d=this.description.pd(g),d=e.ma.Xa(d);this.ya[g].rotate(b*
d,a*d,c*d)}}};b.N=[0,0,6,0,8,0];return b}(e.Ou);e.Bl=d})(x||(x={}));(function(e){var d=function(d){function b(a){var c=d.call(this)||this;if(void 0!==a){if(null==a)throw e.g.F();c.description=a}else c.description=e.we.Hg();c.qa=0;return c}fa(b,d);b.prototype.Ka=function(){return new b(this.description)};b.prototype.add=function(a){this.resize(this.qa+1);this.Zh(this.qa-1,a)};b.prototype.qv=function(a,c){this.resize(this.qa+1);var b=new e.b;b.ja(a,c);this.rb(this.qa-1,b)};b.prototype.Hd=function(a,
c,b){b=0>b?a.D():b;if(0>c||c>a.D()||b<c)throw e.g.F();if(c!=b){this.tm(a.description);b-=c;var f=this.qa;this.resize(this.qa+b);this.vc();for(var k=0,d=a.description.Ga;k<d;k++){var t=a.description.Qd(k),w=e.ma.Xa(t),m=this.Qa(t),t=a.Qa(t);m.Tk(f*w,t,c*w,b*w,!0,1,f*w)}}};b.prototype.$E=function(a,c){var b=a.length;c=0>c?b:c;if(0>b||0>c)throw e.g.F();if(0!=c){b=c-0;c=this.qa;this.resize(this.qa+b);for(var g=0;g<b;g++)this.rb(c+g,a[0+g])}};b.prototype.fC=function(a){if(0>a||a>=this.D())throw e.g.X("index out of bounds");
this.vc();for(var c=0,b=this.description.Ga;c<b;c++)if(null!=this.ya[c]){var g=e.ma.Xa(this.description.Qd(c));this.ya[c].Hk(g*a,g,g*this.qa)}this.qa--;this.kh--;this.Cc(1993)};b.prototype.resize=function(a){this.El(a)};b.prototype.iq=function(){};b.prototype.Oa=function(){d.prototype.PE.call(this)};b.prototype.Vc=function(a){if(a instanceof e.Gd){if(!this.u()){this.vc();for(var c=this.ya[0],b=new e.b,g=0;g<this.qa;g++)b.x=c.read(2*g),b.y=c.read(2*g+1),a.ai(b,b),c.write(2*g,b.x),c.write(2*g+1,b.y);
this.Cc(1993)}}else if(!this.u()){this.vc();this.Rd(1);this.vc();for(var c=this.ya[0],b=this.ya[1],k=new e.od,g=0;g<this.qa;g++){k.x=c.read(2*g);k.y=c.read(2*g+1);k.z=b.read(g);var d=a.Yp(k);c.write(2*g,d.x);c.write(2*g+1,d.y);b.write(g,d.z)}this.Cc(1993)}};b.prototype.ub=function(){return 0};b.prototype.G=function(){return 550};b.prototype.ef=function(){return 0};b.prototype.Rb=function(){return 0};b.prototype.Eb=function(a){return a==this?!0:a instanceof b?d.prototype.Eb.call(this,a):!1};b.prototype.KO=
function(a){var c=a.length,b=c;if(0>c||0>c||0>b)throw e.g.F();this.Rd(1);if(0!=b){c=b-0;b=this.qa;this.PJ(this.qa+c);for(var g=this.Qa(0),k=0;k<c;k++){var d=a[0+k].y;g.write(2*(b+k),a[0+k].x);g.write(2*(b+k)+1,d)}g=this.Qa(1);for(k=0;k<c;k++)g.write(b+k,a[0+k].z);this.Cc(1993)}};b.prototype.LO=function(a,c){var b=a.length;c=0>c?b:c;if(0>b||0>c)throw e.g.F();if(0!=c){b=c-0;if(0!=(b&1))throw e.g.F();c=this.qa;this.PJ(this.qa+b/2);this.ya[0].hs(2*c,b,a,0,!0)}};b.prototype.PJ=function(a){var c=this.qa;
this.El(a);if(this.qa>c){a=1;for(var b=this.description.Ga;a<b;a++){var g=this.description.pd(a),k=e.ma.Xa(g);this.ya[a].Zj(k*c,e.ma.be(g),k*(this.qa-c),k*c)}}};b.prototype.JW=function(a,c){var b=this.qa,b=Math.min(b,c+1E3);if(0>c||c>=this.qa||b<c||1E3!=a.length)throw e.g.F();var g=this.Qa(0),k=b-c,d=[];g.rl(2*c,2*k,d,0,!0);for(g=0;g<k;g++)a[g]=e.b.pa(d[2*g],d[2*g+1]);return b};b.prototype.KW=function(a,c){var b=this.qa,b=Math.min(b,0+c);if(0>=this.qa||0>b||a.length!=c)throw e.g.F();c=this.Qa(0);
var g=null,k=e.ma.be(1),d=this.hasAttribute(1);d&&(g=this.Qa(1));var b=b-0,t=[],w=[];c.rl(0,2*b,t,0,!0);g.rl(0,b,w,0,!0);for(c=0;c<b;c++)a[c]=new e.od(t[2*c],t[2*c+1],d?w[c]:k)};b.prototype.Ey=function(){};b.prototype.My=function(){};b.prototype.bv=function(){return!1};b.prototype.Kj=function(){return!1};b.prototype.Fg=function(){return null};return b}(e.Ou);e.Dd=d})(x||(x={}));(function(e){(function(e){e[e.NotDetermined=0]="NotDetermined";e[e.Structure=1]="Structure";e[e.DegenerateSegments=2]="DegenerateSegments";
e[e.Clustering=3]="Clustering";e[e.Cracking=4]="Cracking";e[e.CrossOver=5]="CrossOver";e[e.RingOrientation=6]="RingOrientation";e[e.RingOrder=7]="RingOrder";e[e.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";e[e.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";e[e.OGCDisconnectedInterior=10]="OGCDisconnectedInterior"})(e.BM||(e.BM={}));var d=function(){function e(b,a,c){void 0===b?(this.Ji=0,this.rm=this.qm=-1):(this.Ji=b,this.qm=a,this.rm=c)}e.prototype.ls=function(b){this.Ji=b.Ji;this.qm=
b.qm;this.rm=b.rm};return e}();e.Yd=d})(x||(x={}));(function(e){var d=function(){function d(){}d.XZ=function(b){if(!1===b)throw e.g.yL();};d.GK=function(b){return isNaN(b)?NaN:0===b?b:0<b?1:-1};d.vv=function(b){var a;void 0===a&&(a=0);for(var c=[],f=0;f<b;f++)c[f]=d.df(2,a);return c};d.df=function(b,a){void 0===a&&(a=0);for(var c=[],f=0;f<b;f++)c[f]=a;return c};d.Ov=function(b,a){var c,f;void 0===c&&(c=0);for(void 0===f&&(f=b.length-1);c<=f;c++)b[c]=a};d.tk=function(b,a,c){return b<a?a:b>c?c:b};d.y_=
function(){return 4};d.bh=function(b,a){var c=5381;void 0!==a?c=(a<<5)+a+(b&255):c=(c<<5)+c+(b&255);c=(c<<5)+c+(b>>8&255);c=(c<<5)+c+(b>>16&255);return(c<<5)+c+(b>>24&255)&2147483647};d.$i=function(){throw Error("Not Implemented");};d.q_=function(){return-Infinity};d.v_=function(){return Infinity};d.e_=function(){return 2147483647};d.UZ=function(){return 2.220446049250313E-16};d.cZ=function(){return 1.7976931348623157E308};d.KB=function(b){return d.LN(b)+12345&2147483647};d.UH=function(b){var a=32,
c=b%d.qz|0,f=b/d.qz|0;if(0===(a&=63))return b;32>a?(b=c>>>a|f<<32-a,a=f>>a):(b=f>>a-32,a=0<=f?0:-1);return a*d.qz+(b>>>0)};d.LN=function(b){b|=0;return(1103495168*b|0)+(20077*b|0)|0};d.truncate=function(b){return 0>b?-1*Math.floor(Math.abs(b)):Math.floor(b)};d.zM=Math.pow(2,53)-1;d.WZ=-d.zM;d.eD=65536;d.sZ=16777216;d.qz=d.eD*d.eD;return d}();e.J=d})(x||(x={}));(function(e){(function(e){e[e.Project=0]="Project";e[e.Union=1]="Union";e[e.Difference=2]="Difference";e[e.Proximity2D=3]="Proximity2D";e[e.Relate=
4]="Relate";e[e.Equals=5]="Equals";e[e.Disjoint=6]="Disjoint";e[e.Intersects=7]="Intersects";e[e.Within=8]="Within";e[e.Contains=9]="Contains";e[e.Crosses=10]="Crosses";e[e.Touches=11]="Touches";e[e.Overlaps=12]="Overlaps";e[e.Buffer=13]="Buffer";e[e.Distance=14]="Distance";e[e.Intersection=15]="Intersection";e[e.Clip=16]="Clip";e[e.Cut=17]="Cut";e[e.DensifyByLength=18]="DensifyByLength";e[e.DensifyByAngle=19]="DensifyByAngle";e[e.LabelPoint=20]="LabelPoint";e[e.GeodesicBuffer=21]="GeodesicBuffer";
e[e.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";e[e.ShapePreservingDensify=23]="ShapePreservingDensify";e[e.GeodeticLength=24]="GeodeticLength";e[e.GeodeticArea=25]="GeodeticArea";e[e.Simplify=26]="Simplify";e[e.SimplifyOGC=27]="SimplifyOGC";e[e.Offset=28]="Offset";e[e.Generalize=29]="Generalize";e[e.SymmetricDifference=30]="SymmetricDifference";e[e.ConvexHull=31]="ConvexHull";e[e.Boundary=32]="Boundary";e[e.SimpleRelation=33]="SimpleRelation"})(e.WM||(e.WM={}));var d=function(){function d(){}
d.prototype.G=function(){return null};d.prototype.xo=function(){return!1};d.prototype.Av=function(){return!1};d.RZ=function(b){e.T.fh(b.G())&&(b=b.ob,null!=b&&(b.Iy(null),b.QE(null)))};return d}();e.bf=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 13};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,c,b,g,k){return a instanceof e.T?(k=new e.gd(a),this.V(k,c,[b],!1,g).next()):
!0===g?(b=new e.KD(a,c,b,!1,k),e.ei.local().V(b,c,k)):new e.KD(a,c,b,!1,k)};b.N=null;return b}(e.bf);e.JD=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c,f,g){this.Ca=-1;this.ge=b;this.LA=a;this.At=c;this.XU=new e.h;this.XU.Oa();this.Zo=-1;this.mc=g}d.prototype.next=function(){for(var b;null!=(b=this.ge.next());)return this.Ca=this.ge.Ia(),this.Zo+1<this.At.length&&this.Zo++,this.buffer(b,this.At[this.Zo]);return null};d.prototype.Ia=function(){return this.Ca};d.prototype.buffer=function(b,
a){return e.EL.buffer(b,a,this.LA,NaN,96,this.mc)};d.prototype.Oe=function(){return!0};return d}();e.KD=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 16};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,c,b,g){return a instanceof e.T?(a=new e.gd(a),this.V(a,c,b,g).next()):new e.GM(a,c,b,g)};b.N=null;return b}(e.bf);e.FM=d})(x||(x={}));(function(e){var d=function(){function d(b,
a,c){this.Ca=-1;if(null==b)throw e.g.F();this.$=a;this.bl=b;this.ta=e.na.$d(c,a,!1)}d.prototype.next=function(){var b;return null!=(b=this.bl.next())?(this.Ca=this.bl.Ia(),e.le.clip(b,this.$,this.ta,0)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.Oe=function(){return!0};return d}();e.GM=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 31};b.local=function(){null===b.N&&(b.N=new b);return b.N};
b.prototype.V=function(a,c,b){return a instanceof e.T?e.MD.EF(a):new e.MD(c,a,b)};b.N=null;return b}(e.bf);e.LD=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c){this.dB=new e.Lu;this.Ca=-1;if(null==a)throw e.g.F();this.bI=b;this.Oc=!1;this.bl=a;this.mc=c}d.prototype.next=function(){if(this.bI){if(!this.Oc){var b=this.BP(this.bl);this.Oc=!0;return b}return null}if(!this.Oc){b=this.bl.next();if(null!=b)return this.Ca=this.bl.Ia(),d.EF(b);this.Oc=!0}return null};d.prototype.Ia=function(){return this.Ca};
d.prototype.BP=function(b){for(var a;null!=(a=b.next());)this.dB.Jb(a);return this.dB.uS()};d.prototype.Oe=function(){if(this.Oc)return!0;if(!this.bI)throw e.g.X("Invalid call for non merging convex hull.");var b=this.bl.next();if(null!=b)return this.dB.Jb(b),!0;throw e.g.X("Expects a non-null geometry.");};d.EF=function(b){if(d.Xf(b))return b;var a=b.G();if(e.Bl.Nc(a))return a=new e.Ua(b.description),a.cc(b,!0),a;if(550==a&&2==b.D()){var c=new e.Wa,a=new e.Ua(b.description);b.xe(0,c);a.Of(c);b.xe(1,
c);a.lineTo(c);return a}return e.Lu.qQ(b)};d.Xf=function(b){if(b.u())return!0;var a=b.G();return 33==a||197==a?!0:e.Bl.Nc(a)?!1:550==a?1==b.D()?!0:!1:1607==a?1==b.aa()&&2>=b.D()?!0:!1:1!=b.aa()?!1:2>=b.D()?!0:e.Lu.JH(b,0)};return d}();e.MD=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 17};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,c,b,g,k){return new e.IM(a,c,b,
g,k)};b.N=null;return b}(e.bf);e.HM=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c,f,g){this.pg=null;if(null==a||null==c)throw e.g.X("invalid argument");this.UU=b;this.YA=a;this.kI=c;b=e.na.Zv(a,c);this.ta=e.na.$d(f,b,!0);this.jI=-1;this.ie=g}d.prototype.Ia=function(){return 0};d.prototype.next=function(){this.hS();return++this.jI<this.pg.length?this.pg[this.jI]:null};d.prototype.hS=function(){if(null==this.pg)switch(this.pg=[],this.YA.G()){case 1607:this.jS();break;case 1736:this.iS()}};
d.prototype.jS=function(){var b=new e.Ua,a=new e.Ua,c=new e.Ua;this.pg.push(b);this.pg.push(a);var f=[];e.KL.IL(this.UU,this.YA,this.kI,this.ta,f,this.ie);for(var g=0;g<f.length;g++){var k=f[g];0==k.nx?b.add(k.Y,!1):1==k.nx||2==k.nx?a.add(k.Y,!1):3==k.nx?this.pg.push(k.Y):c.add(k.Y,!1)}c.u()||b.u()&&a.u()&&!(3<=this.pg.length)||this.pg.push(c);b.u()&&a.u()&&3>this.pg.length&&(this.pg.length=0)};d.prototype.iS=function(){var b=new e.ha(0),a=new e.ed,c=a.gG(),f=a.Jb(this.YA),g=a.Jb(this.kI),k=new e.Cg;
try{k.Wr(a,this.ta,this.ie);k.Ml(c,f,g,b);var d=a.Pe(f),t=new e.Ja,w=new e.Ja;this.pg.length=0;this.pg.push(t);this.pg.push(w);for(f=0;f<b.size;f++){var h,m=new e.ed,l=m.Jb(d),n=m.Jb(a.Pe(b.get(f)));k.Vr(m,this.ie);var p=k.nw(l,n);h=m.Pe(p);if(!h.u()){var r=a.NG(b.get(f),c);2==r?t.add(h,!1):1==r?w.add(h,!1):this.pg.push(h);var u=new e.ed,l=u.Jb(d),n=u.Jb(a.Pe(b.get(f)));k.Vr(u,this.ie);d=u.Pe(k.an(l,n))}}!d.u()&&0<b.size&&this.pg.push(d);t.u()&&w.u()&&(this.pg.length=0)}finally{k.ph()}};d.prototype.Oe=
function(){return!0};return d}();e.IM=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 18};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,c,b){if(a instanceof e.T)return a=new e.gd(a),this.V(a,c,b).next();if(0>=c)throw e.g.F();return new e.JM(a,c,b)};b.N=null;return b}(e.bf);e.Pm=d})(x||(x={}));(function(e){var d=function(){function d(b,a){this.Ca=-1;this.ge=b;this.Mt=
a}d.prototype.Ia=function(){return this.Ca};d.prototype.next=function(){var b;return null!=(b=this.ge.next())?(this.Ca=this.ge.Ia(),this.gR(b)):null};d.prototype.gR=function(b){if(b.u()||1>b.ub())return b;var a=b.G();if(1736==a||1607==a)return this.vz(b);if(e.T.Nc(a))return this.iR(b);if(197==a)return this.hR(b);throw e.g.za();};d.prototype.iR=function(b){if(b.Rb()<=this.Mt)return b;var a=new e.Ua(b.description);a.cc(b,!0);return this.vz(a)};d.prototype.hR=function(b){var a=new e.Ja(b.description);
a.hd(b,!1);var c=new e.h;b.s(c);b=c.ea();return c.O()<=this.Mt&&b<=this.Mt?a:this.vz(a)};d.prototype.vz=function(b){for(var a=b.Ka(),c=b.Fa();c.Ya();)for(var f=!0;c.Ea();){var g=c.ba();if(322!=g.G())throw e.g.X("not implemented");var k=c.Lo(),d=g.Rb();if(d>this.Mt){var t=Math.ceil(d/this.Mt),d=new e.Wa(b.description);f&&(g.Kp(d),a.Of(d));for(var w=f=1/t,h=0,t=t-1;h<t;h++)g.Fx(w,d),a.lineTo(d),w+=f;k?a.sq():(g.Ip(d),a.lineTo(d))}else k?a.sq():a.cc(g,f);f=!1}return a};d.prototype.Oe=function(){return!0};
return d}();e.JM=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.G=function(){return 2};b.prototype.V=function(a,c,b,g){return a instanceof e.T?(a=new e.gd(a),c=new e.gd(c),this.V(a,c,b,g).next()):new e.KM(a,c,b,g)};b.an=function(a,c,f,g){if(a.u()||c.u())return a;var k=a.ub(),d=c.ub();if(k>d)return a;var t=a.G(),w=c.G(),h=new e.h,m=new e.h,l=new e.h;a.s(h);c.s(m);l.I(h);
l.Nb(m);var l=e.na.$d(f,l,!0),n=l*Math.sqrt(2)*1.00001,p=new e.h;p.I(h);p.P(n,n);if(!p.Yb(m))return a;if(1==k&&2==d)return b.ro(a,c,w,f,g);if(33==t)switch(e.Bl.Nc(w)?(f=new e.Ua(c.description),f.cc(c,!0)):f=c,w){case 1736:return b.Mm(a,f,l);case 1607:return b.Nm(a,f,l);case 550:return b.Al(a,f,l);case 197:return b.zl(a,f,l);case 33:return b.Lm(a,f,l);default:throw e.g.F();}else if(550==t)switch(w){case 1736:return b.xl(a,c,l);case 197:return b.Hj(a,c,l);case 33:return b.wl(a,c,l)}return e.Cg.an(a,
c,f,g)};b.Mm=function(a,c,b){return 0==e.fd.KH(c,a,b)?a:a.Ka()};b.Nm=function(a,c,b){var f=a.w();c=c.Fa();for(var k=b*Math.sqrt(2)*1.00001,d=k*k,t=new e.h;c.Ya();)for(;c.Ea();){var w=c.ba();w.s(t);t.P(k,k);if(t.contains(f)){if(w.ot(f,b))return a.Ka();var h=w.ec();if(e.b.sc(f,h)<=d)return a.Ka();h=w.Ac();if(e.b.sc(f,h)<=d)return a.Ka()}}return a};b.Al=function(a,c,b){var f=c.Qa(0);c=c.D();var k=a.w(),d=new e.b;b=b*Math.sqrt(2)*1.00001;b*=b;for(var t=0;t<c;t++)if(f.fc(2*t,d),e.b.sc(d,k)<=b)return a.Ka();
return a};b.zl=function(a,b,f){var c=new e.h;b.s(c);c.P(f,f);b=a.w();return c.contains(b)?a.Ka():a};b.Lm=function(a,b,f){f=f*Math.sqrt(2)*1.00001;f*=f;var c=a.w();b=b.w();return e.b.sc(c,b)<=f?a.Ka():a};b.xl=function(a,b,f){var c=new e.h;b.s(c);c.P(f,f);for(var k=a.D(),d=!1,t=[],w=0;w<k;w++)t[w]=!1;for(var h=new e.b,w=0;w<k;w++)a.w(w,h),c.contains(h)&&0!=e.fd.ee(b,h,f)&&(d=!0,t[w]=!0);if(!d)return a;b=a.Ka();for(w=0;w<k;w++)t[w]||b.Hd(a,w,w+1);return b};b.Hj=function(a,b,f){var c=new e.h;b.s(c);c.P(f,
f);b=a.D();var k=!1;f=[];for(var d=0;d<b;d++)f[d]=!1;for(var t=new e.b,d=0;d<b;d++)a.w(d,t),c.contains(t)&&(k=!0,f[d]=!0);if(!k)return a;c=a.Ka();for(d=0;d<b;d++)f[d]||c.Hd(a,d,d+1);return c};b.wl=function(a,b,f){var c=a.Qa(0),k=a.D(),d=b.w(),t=new e.b,w=!1;b=[];for(var h=0;h<k;h++)b[h]=!1;h=f*Math.sqrt(2)*1.00001;f=h*h;for(h=0;h<k;h++)c.fc(2*h,t),e.b.sc(t,d)<=f&&(w=!0,b[h]=!0);if(!w)return a;c=a.Ka();for(h=0;h<k;h++)b[h]||c.Hd(a,h,h+1);return c};b.ro=function(a,b,f,g,k){var c=new e.di;a.Wn(c);var d=
new e.h;b.s(d);c.Nb(d);c.P(.1*c.O(),.1*c.ea());d=new e.Ja;d.hd(c,!1);1736==f?d.add(b,!0):d.hd(b,!0);return e.wk.local().V(a,d,g,k)};b.N=null;return b}(e.bf);e.eq=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c,f){this.qt=null==a;this.Ca=-1;this.ge=b;this.LA=c;this.$U=a.next();this.mc=f}d.prototype.next=function(){if(this.qt)return null;var b;return null!=(b=this.ge.next())?(this.Ca=this.ge.Ia(),e.eq.an(b,this.$U,this.LA,this.mc)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.Oe=
function(){return!0};return d}();e.KM=d})(x||(x={}));(function(e){var d=function(){function b(a){this.ie=a;this.ck=new e.h;this.ck.Oa();this.Kh=new e.h;this.Kh.Oa()}b.prototype.Du=function(){var a;a=this.ck.o;this.ck.o=this.Kh.o;this.Kh.o=a;a=this.ck.v;this.ck.v=this.Kh.v;this.Kh.v=a;a=this.ck.A;this.ck.A=this.Kh.A;this.Kh.A=a;a=this.ck.B;this.ck.B=this.Kh.B;this.Kh.B=a};b.prototype.wR=function(a,b){var c=!this.ck.Yb(this.Kh);if(e.T.Hc(a.G())&&e.T.Hc(b.G())){if(a.D()>b.D())return this.uF(a,b,c);this.Du();
c=this.uF(b,a,c);this.Du();return c}if(550==a.G()&&e.T.Hc(b.G()))return c=this.vF(b,a,c),this.Du(),c;if(550==b.G()&&e.T.Hc(a.G()))return this.vF(a,b,c);if(550==a.G()&&550==b.G()){if(a.D()>b.D())return this.wF(a,b);this.Du();c=this.wF(b,a);this.Du();return c}return 0};b.prototype.uF=function(a,b,f){var c=a.Fa(),k=b.Fa(),d=new e.h,t=new e.h,w=1.7976931348623157E308;if(!f&&this.VY(a,b,c,k))return 0;for(;c.Ya();)for(;c.Ea();)if(a=c.ba(),a.s(d),!(d.Zx(this.Kh)>w)){for(;k.Ya();)for(;k.Ea();)if(b=k.ba(),
b.s(t),d.Zx(t)<w&&(b=a.Cb(b,f),b*=b,b<w)){if(0==b)return 0;w=b}k.zj()}return Math.sqrt(w)};b.prototype.vF=function(a,b,f){var c=a.Fa(),k=new e.h,d=1.7976931348623157E308,t=new e.b,w,h=b.D();for(f=!f&&1736==a.G();c.Ya();)for(;c.Ea();){var m=c.ba();m.s(k);if(!(1<h&&k.Zx(this.Kh)>d)){for(var l=0;l<h;l++){b.w(l,t);if(f&&0!=e.fd.ee(a,t,0))return 0;w=m.ne(t,!1);t.sub(m.hc(w));w=t.uk();if(w<d){if(0==w)return 0;d=w}}f=!1}}return Math.sqrt(d)};b.prototype.wF=function(a,b){for(var c=1.7976931348623157E308,
g=new e.b,k=new e.b,d,t=a.D(),w=b.D(),h=0;h<t;h++)if(a.w(h,g),!(1<w&&this.Kh.NK(g)>c))for(var m=0;m<w;m++)if(b.w(m,k),d=e.b.sc(g,k),d<c){if(0==d)return 0;c=d}return Math.sqrt(c)};b.prototype.VY=function(a,b,f,g){if(1736==a.G()){for(;g.Ya();)if(g.Ea()){var c=g.ba();if(0!=e.fd.ee(a,c.Ac(),0))return!0}g.zj()}if(1736==b.G()){for(;f.Ya();)if(f.Ea()&&(a=f.ba(),0!=e.fd.ee(b,a.Ac(),0)))return!0;f.zj()}return!1};b.prototype.Xm=function(a,b){if(a.u()||b.u())return NaN;a.s(this.ck);b.s(this.Kh);return this.wR(a,
b)};return b}(),h=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}fa(a,b);a.prototype.V=function(a,b,g){if(null==a||null==b)throw e.g.F();if(a.u()||b.u())return NaN;var c,f;c=a.G();f=b.G();if(33==c){if(33==f)return e.b.Cb(a.w(),b.w());if(197==f)return g=new e.h,b.s(g),g.Cb(a.w());c=new e.Dd;c.add(a);a=c}else if(197==c){if(197==f)return f=new e.h,a.s(f),g=new e.h,b.s(g),g.Cb(f);c=new e.Ja;c.hd(a,!1);a=c}33==f?(f=new e.Dd,f.add(b),b=f):197==f&&(f=new e.Ja,f.hd(b,!1),b=f);return(new d(g)).Xm(a,
b)};a.local=function(){null===a.N&&(a.N=new a);return a.N};a.prototype.G=function(){return 14};a.N=null;return a}(e.bf);e.LM=h})(x||(x={}));(function(e){var d=function(){function d(b,a,c,f){this.yI=b;this.FI=a;this.ie=f;this.ZH=c}d.prototype.next=function(){var b=this.yI.next();return null==b?null:this.rD(b)};d.prototype.Ia=function(){return this.yI.Ia()};d.prototype.rD=function(b){var a=b.G();if(e.T.Po(a))return b;if(197==a)return a=new e.Ja(b.description),a.hd(b,!1),this.rD(a);if(b.u())return b;
if(null==b)throw e.g.za();for(var a=b.Ka(),c=new e.Hb,f=0,g=b.aa();f<g;f++)this.ZL(b,f,a,c);return a};d.prototype.ZL=function(b,a,c,f){if(!(2>b.La(a))){var g=b.wa(a),k=b.Fc(a)-1,d=b.Qa(0),t=b.Qb(a),w=new e.ha(0);w.zb(b.La(a)+1);var h=new e.ha(0);h.zb(b.La(a)+1);w.add(t?g:k);w.add(g);for(g=new e.b;1<w.size;){var m=w.Ec();w.Mf();var l=w.Ec();b.w(m,g);f.Lc(g);b.w(l,g);f.Xc(g);l=this.WL(f,g,d,m,l,k);0<=l?(w.add(l),w.add(m)):h.add(m)}t||h.add(w.get(0));if(h.size==w.size)c.Ui(b,a,!0);else if(2<=h.size&&
(!this.ZH||2!=h.size||!(t||e.b.Cb(b.Ba(h.get(0)),b.Ba(h.get(1)))<=this.FI))){a=new e.Wa;f=0;for(k=h.size;f<k;f++)b.xe(h.get(f),a),0==f?c.Of(a):c.lineTo(a);t&&(this.ZH||2!=h.size||c.lineTo(a),c.sq())}}};d.prototype.WL=function(b,a,c,f,e,k){var g=e-1;e<=f&&(g=k);k=e=-1;for(f+=1;f<=g;f++){c.fc(2*f,a);var d=a.x,w=a.y;b.hc(b.ne(a,!1),a);a.x-=d;a.y-=w;d=a.length();d>this.FI&&d>k&&(e=f,k=d)}return e};d.prototype.Oe=function(){return!0};return d}();e.MM=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==
d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 29};b.prototype.V=function(a,b,f,g){return a instanceof e.T?(a=new e.gd(a),this.V(a,b,f,g).next()):new e.MM(a,b,f,g)};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.N=null;return b}(e.bf);e.ND=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 21};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,
b,f,g,k,d,t,w){return a instanceof e.T?(w=new e.gd(a),this.V(w,b,f,[g],k,d,!1,t).next()):!0===t?(f=new e.PD(a,b,f,g,k,!1,!1,w),e.ei.local().V(f,b,w)):new e.PD(a,b,f,g,k,!1,!1,w)};b.N=null;return b}(e.bf);e.OD=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c,f,g,k,d,t){if(k)throw e.g.af();if(null==a)throw e.g.F();this.Ca=-1;this.Jt=b;this.Pg=a;this.Xe=c;this.At=f;this.Vo=g;this.Zo=-1;this.mc=t;this.YU=new e.h;this.YU.Oa()}d.prototype.next=function(){for(var b;null!=(b=this.Jt.next());)return this.Ca=
this.Jt.Ia(),this.Zo+1<this.At.length&&this.Zo++,this.rS(b,this.At[this.Zo]);return null};d.prototype.Ia=function(){return this.Ca};d.prototype.rS=function(b,a){return e.bM.buffer(b,this.Pg,this.Xe,a,this.Vo,this.mc)};d.prototype.Oe=function(){return!0};return d}();e.PD=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 24};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,
b,f,g){if(null==b)throw e.g.F();if(a.u()||1>a.ub())return 0;if(4==f)throw e.g.af();var c=e.fb.lc(b),d=e.fb.hw(c),t=e.fb.Sv(c),d=d*(2-d),w=c.Td().Bi,h=a.G(),m;1736==h||197==h?m=a.Fg():e.T.Nc(h)?(m=new e.Ua(a.description),m.cc(a,!0)):m=a;if(0==c.Eb(b)){if(e.fb.Ic(b)){m=e.gi.Qj(m,b);1607==h&&m==a&&(m=e.T.me(a));a=new e.yc;e.fb.Ch(b).Yn(a);for(var h=0,l=m.D();h<l;h++){var n=m.Ba(h);n.x=e.gi.Tn(n.x,a);m.rb(h,n)}}a=m.Ka();m=e.gi.CJ(b,c,m,a,g)?a:e.fb.Vg(m,b,c,g)}return this.yR(m,f,t,d,w)};b.prototype.yR=
function(a,b,f,g,k){var c=new e.da(0),d=0;for(a=a.Fa();a.Ya();)for(;a.Ea();){var w=a.ba(),h=w.ec(),w=w.Ac();h.scale(k);w.scale(k);e.mb.Kd(f,g,h.x,h.y,w.x,w.y,c,null,null,b);d+=c.j}return d};b.N=null;return b}(e.bf);e.PM=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 18};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,b,f,g,k){return a instanceof e.T?(a=new e.gd(a),this.V(a,
b,f,g,k).next()):new e.OM(a,f,g,b,-1,-1,k)};b.N=null;return b}(e.bf);e.NM=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c,f,g,k){if(0<k)throw e.g.af();if(4!=c&&0<g)throw e.g.af();if(null==a)throw e.g.F();this.Ca=-1;this.Jt=b;this.Pg=a;this.Xe=c;this.eV=f;this.dV=g}d.prototype.next=function(){for(var b;null!=(b=this.Jt.next());)return this.Ca=this.Jt.Ia(),this.Jz(b);return null};d.prototype.Ia=function(){return this.Ca};d.prototype.Jz=function(b){return e.Ij.Js(b,this.Pg,this.Xe,this.eV,
this.dV,this.mc)};d.prototype.Oe=function(){return!0};return d}();e.OM=d})(x||(x={}));(function(e){(function(e){e[e.Unknown=0]="Unknown";e[e.Contains=1]="Contains";e[e.Within=2]="Within";e[e.Equals=3]="Equals";e[e.Disjoint=4]="Disjoint";e[e.Touches=8]="Touches";e[e.Crosses=16]="Crosses";e[e.Overlaps=32]="Overlaps";e[e.NoThisRelation=64]="NoThisRelation";e[e.Intersects=1073741824]="Intersects";e[e.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(e.kM||(e.kM={}));var d=function(){function d(){}
d.w_=function(b,a,c,f){if(a.u()||b.u())return 4;var g=b.G(),k=a.G(),q;e.T.Nc(g)&&(b=q=new e.Ua(b.description),q.cc(b,!0));e.T.Nc(k)&&(a=q=new e.Ua(a.description),q.cc(a,!0));switch(g){case 33:switch(k){case 33:return d.LT(b,a,c);case 197:return d.de(d.lD(a,b,c));case 550:return d.de(d.tD(a,b,c));case 1607:return d.de(d.dE(a,b,c,f));case 1736:return d.de(d.DD(a,b,c))}throw e.g.za();case 197:switch(k){case 33:return d.lD(b,a,c);case 197:return d.JP(b,a,c);case 550:return d.de(d.oD(a,b,c,f));case 1607:return d.de(d.HD(a,
b));case 1736:return d.de(d.zD(a,b))}throw e.g.za();case 550:switch(k){case 33:return d.tD(b,a,c);case 197:return d.oD(b,a,c,f);case 550:return d.qD(b,a,c,f);case 1607:return d.de(d.YD(a,b));case 1736:return d.de(d.BD(a,b))}throw e.g.za();case 1607:switch(k){case 33:return d.dE(b,a,c,f);case 197:return d.HD(b,a);case 550:return d.YD(b,a);case 1607:return d.QV(b,a);case 1736:return d.de(d.FD(a,b))}throw e.g.za();case 1736:switch(k){case 33:return d.DD(b,a,c);case 197:return d.zD(b,a);case 550:return d.BD(b,
a);case 1607:return d.FD(b,a);case 1736:return d.OU(b,a)}throw e.g.za();default:throw e.g.za();}};d.LT=function(b,a,c){b=b.w();a=a.w();return d.xD(b,a,c)};d.xD=function(b,a,c){b.sub(a);return b.uk()<=c*c?3:4};d.lD=function(b,a,c){var f=new e.h;b.s(f);b=a.w();return d.uR(f,b,c)};d.uR=function(b,a,c){b.P(-c,-c);if(b.contains(a))return 1;b.P(c,c);return b.contains(a)?8:4};d.GR=function(b,a,c){return a.contains(c)?1:b.contains(c)?8:4};d.JP=function(b,a,c){var f=new e.h;b.s(f);b=new e.h;a.s(b);return d.ZQ(f,
b,c)};d.ZQ=function(b,a,c){var f=0;b.contains(a)&&(f|=1);a.contains(b)&&(f|=2);if(0!=f)return f;b.P(-c,-c);a.P(-c,-c);if(b.Yb(a))return f=b,f.P(c,c),f=f.contains(a)?1:0,a.P(c,c),f|=a.contains(b)?2:0,0!=f?f:32;f=b;f.P(c,c);a.P(c,c);return f.Yb(a)?8:4};d.tD=function(b,a,c){a=a.w();return d.vD(b,a,c)};d.vD=function(b,a,c){for(var f=0,e=b.D();f<e;f++){var k;k=b.Ba(f);k=d.xD(k,a,c);if(4!=k)return 0!=(k&2)&&1!=e?1:k}return 4};d.oD=function(b,a,c,f){var g=new e.h;a.s(g);return d.IT(b,g,c,f)};d.IT=function(b,
a,c,f){a.P(-c,-c);a.P(c,c);for(var e=c=0,k=b.D();e<k;e++){var q;q=b.Ba(e);q=d.de(d.GR(a,a,q));if(4!=q&&(c|=q,4==f))return 1073741824}return 0==c?4:2==c?c:32};d.qD=function(b,a,c,f){for(var e=0,k=0,q=a.D();k<q;k++){var t;t=a.Ba(k);t=d.vD(b,t,c);if(4!=t&&(e++,4==f))return 1073741824}return 0<e?e==a.D()?3==f?(t=d.qD(a,b,c,1),1==t?3:0):1:32:0};d.dE=function(b,a,c,f){a=a.w();return d.IV(b,a,c,f)};d.fS=function(b,a){var c=null;b=b.ob;null!=b&&(c=b.Ii);if(null!=c){c=c.wm(a.x,a.y);if(0==c)return 4;if(1==
c)return 1}else return-1;return 0};d.IV=function(b,a,c,f){if(0==(f&1073741839))return 64;var g=d.fS(b,a);if(0<g)return g;c*=c;for(g=b.Fa();g.Ya();){var k=g.Ta;if(!b.Qb(k)){var q=b.La(k),k=b.wa(k);if(0==q)continue;if(e.b.sc(b.Ba(k),a)<=c||1<q&&e.b.sc(b.Ba(k+q-1),a)<=c)return 8}if(8!=f)for(;g.Ea();)if(q=g.ba(),q=q.hc(q.ne(a,!1)),e.b.sc(q,a)<=c)return 0!=(f&1073741828)?1073741824:1}return 0!=(f&1073741828)?4:64};d.HD=function(b,a){var c=new e.h;a.s(c);return d.wV(b,c)};d.wV=function(b,a){b=d.Nm(b,a);
return 0<b?b:0};d.Nm=function(b,a){b=b.ob;if(null!=b)b=b.Ii;else return-1;if(null!=b){b=b.Xn(a);if(0==b)return 4;if(1==b)return 1}else return-1;return 0};d.YD=function(b,a){var c=new e.h;a.s(c);c=d.Nm(b,c);return 0<c?c:0};d.$u=function(b,a){var c=new e.h;a.s(c);c=d.Nm(b,c);return 0<c?c:-1==c&&(c=new e.h,b.s(c),c=d.Nm(a,c),0<c)?d.de(c):0};d.QV=function(b,a){b=d.$u(b,a);return 0<b?b:0};d.DD=function(b,a,c){a=a.w();return d.LU(b,a,c)};d.LU=function(b,a,c){b=e.fd.ee(b,a,c);if(0==b)return 4;if(1==b)return 1;
if(2==b)return 8;throw e.g.za();};d.zD=function(b,a){var c=new e.h;a.s(c);return d.IU(b,c)};d.IU=function(b,a){b=d.Nm(b,a);return 0<b?b:0};d.BD=function(b,a){b=d.$u(b,a);return 0<b?b:0};d.FD=function(b,a){b=d.$u(b,a);return 0<b?b:0};d.OU=function(b,a){b=d.$u(b,a);return 0<b?b:0};d.OW=function(b,a){var c=b.G(),f=a.G(),g;if(e.T.fh(c)&&(g=b.ob,null!=g&&(g=g.Ii,null!=g))){if(33==f){var k=a.w();g=g.wm(k.x,k.y)}else k=new e.h,a.s(k),g=g.Xn(k);if(1==g)return 1;if(0==g)return 4}if(e.T.fh(f)&&(g=a.ob,null!=
g&&(g=g.Ii,null!=g))){33==c?(c=b.w(),g=g.wm(c.x,c.y)):(c=new e.h,b.s(c),g=g.Xn(c));if(1==g)return 2;if(0==g)return 4}return 0};d.de=function(b){0!=(b&1)&&(b=b&-2|2);0!=(b&2)&&(b=b&-3|1);return b};return d}();e.QM=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.G=function(){return 15};b.prototype.V=function(a,b,f,g,k){return a instanceof e.T?(a=new e.gd(a),b=new e.gd(b),
this.V(a,b,f,g,k).next()):void 0===k?new e.QD(a,b,f,g,-1):new e.QD(a,b,f,g,k)};b.prototype.xo=function(a,b,f){if(!this.Av(a))return!1;b=e.na.$g(b,a,!1);var c=a.Kj(f);return c=c||a.bv(b,f)};b.prototype.Av=function(a){return e.ty.$y(a)};b.N=null;return b}(e.bf);e.wk=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c,f,g){this.qt=null==a;this.Ca=-1;this.ge=b;this.Pg=c;this.pf=a.next();this.dk=this.pf.G();this.mc=f;this.fj=g;if(-1!=this.fj&&(0>=this.fj||7<this.fj))throw e.g.F("bad dimension mask");
}d.prototype.next=function(){if(this.qt)return null;var b;if(null!=this.ox){b=this.ox.next();if(null!=b)return b;this.ox=null}for(;null!=(b=this.ge.next());){this.Ca=this.ge.Ia();if(-1==this.fj)return b=this.Ma(b);this.ox=this.mU(b);return b=this.ox.next()}return null};d.prototype.Ia=function(){return this.Ca};d.prototype.Ma=function(b){var a=this.cL(b);if(null!=a)return a;var a=e.na.Zv(this.pf,b),c=e.na.$d(this.Pg,a,!0),a=new e.h;this.pf.s(a);var f=new e.h;b.s(f);a.P(2*c,2*c);a.Ma(f);a.P(100*c,100*
c);c=e.le.clip(this.pf,a,0,0);b=e.le.clip(b,a,0,0);return e.Cg.nw(b,c,this.Pg,this.mc)};d.prototype.xJ=function(b,a,c){var f=0;if(0!=(a&1))null==c[0]&&(c[0]=new e.Dd(b)),f++;else for(var g=0;g<c.length-1;g++)c[g]=c[g+1];if(0!=(a&2))null==c[f]&&(c[f]=new e.Ua(b)),f++;else for(g=f;g<c.length-1;g++)c[g]=c[g+1];if(0!=(a&4))null==c[f]&&(c[f]=new e.Ja(b)),f++;else for(g=f;g<c.length-1;g++)c[g]=c[g+1];if(3!=f){b=[];for(g=0;g<f;g++)b[g]=c[g];return new e.gd(b)}return new e.gd(c)};d.prototype.mU=function(b){var a=
this.cL(b);if(null!=a){var c=[null,null,null];c[a.ub()]=a;return this.xJ(b.description,this.fj,c)}a=e.na.Zv(this.pf,b);c=e.na.$d(this.Pg,a,!0);a=new e.h;this.pf.s(a);a.P(2*c,2*c);var f=new e.h;b.s(f);a.Ma(f);a.P(100*c,100*c);c=e.le.clip(this.pf,a,0,0);a=e.le.clip(b,a,0,0);c=e.Cg.yA(a,c,this.Pg,this.mc);return this.xJ(b.description,this.fj,c)};d.prototype.cL=function(b){var a=e.na.Zv(b,this.pf),c=e.na.$d(this.Pg,a,!0),a=b.G(),f=b.u(),g=this.pf.u(),g=f||g;if(!g){g=new e.h;b.s(g);var k=new e.h;this.pf.s(k);
k.P(2*c,2*c);g=!g.Yb(k)}if(!g)if(k=e.QM.OW(this.pf,b),4==k)g=!0;else{if(0!=(k&2))return this.pf;if(0!=(k&1))return b}if(g)return c=e.T.hf(a),g=e.T.hf(this.dk),c<g?d.N(b,f):c>g?this.SJ():0==c?550==a&&33==this.dk?this.SJ():d.N(b,f):d.N(b,f);if((-1==this.fj||4==this.fj)&&197==a&&197==this.dk)return c=this.pf,a=new e.h,b.s(a),f=new e.h,c.s(f),a.Ma(f),c=new e.di,b.copyTo(c),c.Np(a),c;if(197==a&&0==e.T.hf(this.dk)||197==this.dk&&0==e.T.hf(a))return f=197==a?b:this.pf,b=197==a?this.pf:b,a=new e.h,f.s(a),
e.le.clip(b,a,c,0);if(0==e.T.hf(a)&&0<e.T.hf(this.dk)||0<e.T.hf(a)&&0==e.T.hf(this.dk)){c=e.na.$g(this.Pg,b,!1);if(550==a||33==a)return e.Cg.AH(b,this.pf,c);if(550==this.dk||33==this.dk)return e.Cg.AH(this.pf,b,c);throw e.g.za();}return-1!=this.fj&&2!=this.fj||1607!=a||1736!=this.dk?-1!=this.fj&&2!=this.fj||1736!=a||1607!=this.dk?null:this.$K(this.pf,b):this.$K(b,this.pf)};d.prototype.$K=function(b,a){var c=b,f=a,g=e.na.$g(this.Pg,a,!1),k=new e.h;f.s(k);var d=new e.h;c.s(d);d.P(2*g,2*g);k.Ma(d);k.P(10*
g,10*g);var c=b=e.le.clip(b,k,0,0),d=new e.ha(0),t=-1,w=f.ob;if(null!=w){var h=w.Ii;if(null!=h){t=0;d.zb(c.D()+c.aa());for(var m=new e.h,l=c.Fa();l.Ya();)for(;l.Ea();){l.ba().s(m);var n=h.Xn(m);1==n?d.add(1):0==n?d.add(0):(d.add(-1),t++)}}}5<a.D()&&(f=a=e.le.clip(a,k,0,0),w=f.ob);0>t&&(t=c.lA());k=c.D()+f.D();if(t*f.D()>Math.log(k)*k*4)return null;k=null;t=f.Fa();null!=w&&null!=w.Mb&&(k=w.Mb);null==k&&20<f.D()&&(k=e.na.BF(f));f=b.Ka();w=null;h=c.Fa();m=[0,0,0,0,0,0,0,0,0];l=new e.Pd(0);n=new e.Bg;
b=-1;for(var p=0,r=0,u=0<d.size,v=-1;h.Ya();){var v=h.Ta,x=0;b=-1;for(p=0;h.Ea();){var z=u?e.J.truncate(d.get(r)):-1;r++;var A=h.ba();if(0>z){if(null!=k)for(null==w?w=k.PS(A,g):w.bo(A,g),z=w.next();-1!=z;z=w.next()){t.Tb(k.ia(z));for(var z=t.ba(),y=A.Ma(z,null,m,null,g),z=0;z<y;z++)l.add(m[z])}else for(t.zj();t.Ya();)for(;t.Ea();)for(z=t.ba(),y=A.Ma(z,null,m,null,g),z=0;z<y;z++)l.add(m[z]);if(0<l.size){l.Fd(0,l.size,function(a,b){return a-b});var C=0;l.add(1);for(var y=-1,z=0,B=l.size;z<B;z++){var H=
l.get(z);if(H!=C){var J=!1;0!=C||1!=H?(A.yh(C,H,n),C=n.get()):(C=A,J=!0);if(2<=x){f.zs(c,v,b,p,3==x);if(1!=this.gF(a,C.ec(),g)&&1!=this.hF(a,C,g))return null;f.cc(C,!1);x=1;p=0}else switch(y=this.hF(a,C,g),y){case 1:J?2>x?(b=h.Db()-c.wa(v),p=1,x=0==x?3:2):p++:(f.cc(C,0==x),x=1);break;case 0:x=0;b=-1;p=0;break;default:return null}C=H}}}else{z=this.gF(a,A.ec(),g);if(0>z)return null;1==z?(2>x&&(b=h.Db()-c.wa(v),x=0==x?3:2),p++):(b=-1,p=0)}l.clear(!1)}else 0!=z&&1==z&&(0==x?(x=3,b=h.Db()-c.wa(v)):1==
x?(x=2,b=h.Db()-c.wa(v)):p++)}2<=x&&(f.zs(c,v,b,p,3==x),b=-1)}return f};d.prototype.gF=function(b,a,c){return e.cf.qn(b,a,c)};d.prototype.hF=function(b,a,c){var f=a.ec();a=a.Ac();var g=e.cf.qn(b,f,c),k=e.cf.qn(b,a,c);if(1==g&&0==k||0==g&&1==k)return-1;if(0==g||0==k)return 0;if(1==g||1==k)return 1;g=new e.b;g.add(f,a);g.scale(.5);b=e.cf.qn(b,g,c);return 0==b?0:1==b?1:-1};d.N=function(b,a){return a?b:b.Ka()};d.prototype.SJ=function(){null==this.xI&&(this.xI=this.pf.Ka());return this.xI};d.prototype.Oe=
function(){return!0};return d}();e.QD=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 28};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,b,f,g,k,d,t){return a instanceof e.T?(a=new e.gd(a),this.V(a,b,f,g,k,d,t).next()):new e.RM(a,b,f,g,k,d,t)};b.N=null;return b}(e.bf);e.RD=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c,f,e,k,d){this.Ca=-1;this.ge=b;this.jk=
a;this.Pa=c;this.kj=f;this.lB=e;this.tI=k;this.ie=d}d.prototype.next=function(){var b=this.ge.next();return null!=b?(this.Ca=this.ge.Ia(),this.EM(b)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.EM=function(b){var a;a=0>=this.tI?e.na.$g(this.jk,b,!1):this.tI;return e.HL.V(b,this.Pa,this.kj,this.lB,a,this.ie)};d.prototype.Oe=function(){return!0};return d}();e.RM=d})(x||(x={}));(function(e){(function(e){e[e.clipToDomainOnly=1]="clipToDomainOnly";e[e.clipWithHorizon=2]="clipWithHorizon";
e[e.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(e.aq||(e.aq={}));var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 0};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=function(a,b,f){return a instanceof e.T?(a=new e.gd(a),this.V(a,b,f).next()):new e.SM(a,b,f)};b.prototype.transform=function(a,b,f,g){return e.qo.transform(a,b,f,g,!0)};b.prototype.YK=function(a,b,f){return e.qo.YK(a,b,f)};b.prototype.Fu=
function(a,b,f,g){return e.qo.Fu(a,b,f,g)};b.prototype.AY=function(a,b,f,g){return e.qo.fs(a,b,f,g)};b.prototype.XK=function(a,b,f,g){return e.qo.XK(a,b,f,g)};b.N=null;return b}(e.bf);e.ns=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c){this.Ca=-1;this.ge=b;this.nV=a;this.ie=c}d.prototype.next=function(){var b=this.ge.next();return null!=b?(this.Ca=this.ge.Ia(),e.qo.Vg(b,this.nV,this.ie)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.Oe=function(){return!0};return d}();
e.SM=d})(x||(x={}));(function(e){var d=function(){function b(){}b.prototype.reset=function(){this.Mh=this.al=-1;this.st=this.$q=!1};b.prototype.QR=function(a,b,f){for(a.Tb(b,f);a.Ea();){var c=a.ba(),c=c.Rb();if(0!=c)return a.Db()}for(a.Tb(b,f);a.rA();)if(c=a.Mi(),c=c.Rb(),0!=c)return a.Db();return-1};b.prototype.RR=function(a,b){for(a.Tb(b,-1);a.rA();)if(0!=a.Mi().Rb())return a.Db();return-1};b.prototype.PR=function(a,b){a.Tb(b,-1);for(a.ba();a.Ea();)if(0!=a.ba().Rb())return a.Db();return-1};b.prototype.OR=
function(a,b,f,g){this.al=this.QR(b,f,g);if(-1!=this.al){b.Tb(this.al,-1);var c=b.ba(),d=c.hc(c.ne(a,!1));f=e.b.sc(d,a);g=new e.b;g.L(d);g.sub(c.ec());d=new e.b;d.L(a);d.sub(c.ec());this.$q=0>g.Vi(d);this.Mh=this.PR(b,this.al);if(-1!=this.Mh){b.Tb(this.Mh,-1);var c=b.ba(),t=c.ne(a,!1),t=c.hc(t),w=e.b.sc(t,a);w>f?this.Mh=-1:(g.L(t),g.sub(c.ec()),d.L(a),d.sub(c.ec()),this.st=0>g.Vi(d))}-1==this.Mh&&(this.Mh=this.RR(b,this.al),-1!=this.Mh&&(b.Tb(this.Mh,-1),c=b.ba(),t=c.ne(a,!1),t=c.hc(t),w=e.b.sc(t,
a),w>f?this.Mh=-1:(g.L(t),g.sub(c.ec()),d.L(a),d.sub(c.ec()),this.st=0>g.Vi(d),a=this.al,this.al=this.Mh,this.Mh=a,a=this.$q,this.$q=this.st,this.st=a)))}};b.prototype.AP=function(a,b,f,e,k){f=f.Fa();this.OR(a,f,e,k);if(-1!=this.al&&-1==this.Mh)return this.$q;if(-1!=this.al&&-1!=this.Mh){if(this.$q==this.st)return this.$q;f.Tb(this.al,-1);a=f.ba().Dg(1);f.Tb(this.Mh,-1);b=f.ba().Dg(0);return 0<=a.Vi(b)?!0:!1}return b};return b}(),h=function(b){function a(){return null!==b&&b.apply(this,arguments)||
this}fa(a,b);a.local=function(){null===a.N&&(a.N=new a);return a.N};a.prototype.G=function(){return 3};a.prototype.bA=function(a,b,g,k){void 0===k&&(k=!1);if(a.u())return new e.Sm;b=b.w();var c=a,f=a.G();197==f&&(c=new e.Ja,c.hd(a,!1),f=1736);switch(f){case 33:return this.tJ(c,b);case 550:return this.fJ(c,b);case 1607:case 1736:return this.DV(c,b,g,k);default:throw e.g.X("not implemented");}};a.prototype.cA=function(a,b){if(a.u())return new e.Sm;b=b.w();var c=a,f=a.G();197==f&&(c=new e.Ja,c.hd(a,
!1),f=1736);switch(f){case 33:return this.tJ(c,b);case 550:case 1607:case 1736:return this.fJ(c,b);default:throw e.g.X("not implemented");}};a.prototype.dA=function(a,b,g,k){if(0>k)throw e.g.F();if(a.u())return[];b=b.w();var c=a,f=a.G();197==f&&(c=new e.Ja,c.hd(a,!1),f=1736);switch(f){case 33:return this.hW(c,b,g,k);case 550:case 1607:case 1736:return this.GV(c,b,g,k);default:throw e.g.X("not implemented");}};a.prototype.DV=function(a,b,g,k){if(1736==a.G()&&g&&(g=new e.h,a.s(g),g=e.na.$d(null,g,!1),
0!=(k?e.fd.ee(a,b,0):e.fd.ee(a,b,g)))){var c=new e.Sm(b,0,0);k&&c.BK(!0);return c}for(var f=a.Fa(),c=new e.b,w=g=-1,h=1.7976931348623157E308,m=0;f.Ya();)for(;f.Ea();){var l=f.ba(),l=l.hc(l.ne(b,!1)),n=e.b.sc(l,b);n<h?(m=1,c=l,g=f.Db(),w=f.Ta,h=n):n==h&&m++}c=new e.Sm(c,g,Math.sqrt(h));k&&(f.Tb(g,w),l=f.ba(),k=0>e.b.Gp(b,l.ec(),l.Ac()),1<m&&(m=new d,m.reset(),k=m.AP(b,k,a,g,w)),c.BK(k));return c};a.prototype.tJ=function(a,b){a=a.w();b=e.b.Cb(a,b);return new e.Sm(a,0,b)};a.prototype.fJ=function(a,b){var c=
a.Qa(0);a=a.D();for(var f=0,d=0,t=0,w=1.7976931348623157E308,h=0;h<a;h++){var m=new e.b;c.fc(2*h,m);var l=e.b.sc(m,b);l<w&&(d=m.x,t=m.y,f=h,w=l)}c=new e.Sm;c.Hy(d,t,f,Math.sqrt(w));return c};a.prototype.hW=function(a,b,g,k){if(0==k)return g=[];g*=g;a=a.w();b=e.b.sc(a,b);b<=g?(g=[],k=new e.Sm,k.Hy(a.x,a.y,0,Math.sqrt(b)),g[0]=k):g=[];return g};a.prototype.GV=function(a,b,g,k){if(0==k)return k=[];var c=a.Qa(0),f=a.D();a=[];var d=0;g*=g;for(var h=0;h<f;h++){var m=c.read(2*h),l=c.read(2*h+1),n=b.x-m,
p=b.y-l,n=n*n+p*p;n<=g&&(p=new e.Sm,p.Hy(m,l,h,Math.sqrt(n)),d++,a.push(p))}b=a.length;a.sort(function(a,b){return a.Pa<b.Pa?-1:a.Pa==b.Pa?0:1});if(k>=b)return a.slice(0);a.length=k;return a.slice(0)};a.N=null;return a}(e.bf);e.oy=h})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 4};b.prototype.V=function(a,b,f,g,k){return e.Tm.aC(a,b,f,g,k)};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.Av=
function(a){return e.Iu.az(a)};b.prototype.xo=function(a,b,f){return e.Iu.VE(a,b,f)};b.N=null;return b}(e.bf);e.TM=d})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 33};b.prototype.V=function(a,b,f,g,k){return 1073741824===a?!e.Ed.bC(b,f,g,4,k):e.Ed.bC(b,f,g,a,k)};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.Av=function(a){return e.Iu.az(a)};b.prototype.xo=function(a,b,f){return e.Iu.VE(a,
b,f)};b.N=null;return b}(e.bf);e.Jj=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c,f){this.ie=f;this.VU=c;this.Ca=-1;if(null==b)throw e.g.F();this.bl=b;this.jk=a}d.prototype.next=function(){var b;return null!=(b=this.bl.next())?(this.Ca=this.bl.Ia(),this.FC(b)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.FC=function(b){if(null==b)throw e.g.F();return e.py.HK(b,this.jk,this.VU,this.ie)};d.prototype.Oe=function(){return!0};return d}();e.UM=d})(x||(x={}));(function(e){var d=
function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 26};b.prototype.V=function(a,b,f,g){return a instanceof e.T?(a=new e.gd(a),this.V(a,b,f,g).next()):new e.UM(a,b,f,g)};b.prototype.Wq=function(a,b,f,g,k){return 0<(void 0!==g?e.py.Wq(a,b,f,g,k):e.py.Wq(a,b,!1,null,f))};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.N=null;return b}(e.bf);e.Qm=d})(x||(x={}));(function(e){var d=function(){function a(){this.nr=0}a.prototype.MX=function(a){this.nr&=
-2;this.nr|=a?1:0};a.prototype.mn=function(){return 0!=(this.nr&1)};a.prototype.ZG=function(){return this.mn()?0:1};return a}();e.lZ=d;var h=function(){return function(){}}(),b=function(){return function(a,b,c,f){this.x=a;this.y=b;this.aj=c;this.rn=f}}(),a=function(){function a(a){this.Ze=a}a.prototype.compare=function(a,b,c){a=a.ia(c);b=this.Ze.Kf.read(2*b);a=this.Ze.Kf.read(2*a);b-=a;return 0>b?-1:0<b?1:0};return a}(),c=function(){function a(a){this.Ze=a}a.prototype.compare=function(a,b,c){b=this.Ze.ib[b];
a=this.Ze.ib[a.ia(c)];var f=b.mn(),e=a.mn();c=b.Ie.kf(this.Ze.Dp,0);var g=a.Ie.kf(this.Ze.Dp,0);c==g&&(c=Math.min(f?b.Ie.ra:b.Ie.oa,e?a.Ie.ra:a.Ie.oa),f=.5*(c-this.Ze.Dp)+this.Ze.Dp,f==this.Ze.Dp&&(f=c),c=b.Ie.kf(f,0),g=a.Ie.kf(f,0));return c<g?-1:c>g?1:0};return a}(),f=function(){function a(a,b){this.EJ=new e.b;this.parent=a;this.AT=b}a.prototype.gs=function(a,b,c){var f=this.parent,e=this.AT;c.Fd(a,b,function(a,b){return f.li(a,b,e)})};a.prototype.Qq=function(a){a=this.parent.Hi.get(a);this.parent.Kf.fc(2*
(a>>1),this.EJ);return this.EJ.y+(0!=(a&1)?this.parent.lk:-this.parent.lk)};return a}(),g=function(){function g(a,b,c,f,g){this.mI=a.description;this.Y=a;this.lh=b;this.lk=e.na.$g(this.lh,a,!1);this.vp=e.na.$g(this.lh,a,!0);this.gB=c;this.TU=this.mI.Ga;this.ib=[];this.jp=[];this.Ih=new e.cq;this.hb=new e.xk;this.se=new e.Yd;this.YH=this.Zl=g}g.prototype.DA=function(){this.YH=!0;return(!e.T.Hc(this.Y.G())||this.NF()&&this.MF(!1))&&this.MP()?e.T.Hc(this.Y.G())?this.PP()?1607==this.Y.G()?this.RP()?2:
0:this.SP()?this.TP():0:0:2:0};g.prototype.LC=function(a,b){var c=this.Kf.read(2*a);a=this.Kf.read(2*a+1);var f=this.Kf.read(2*b);b=this.Kf.read(2*b+1);var g=!e.Ku.pw(c,a,f,b,this.lk*this.lk);return g?g:0==this.Y.ub()?!1:c==f&&a==b};g.prototype.NF=function(){for(var a=this.Y,b=a.Yf?3:2,c=0,f=a.aa();c<f;c++)if(a.La(c)<b)return this.se=new e.Yd(1,c,0),!1;return!0};g.prototype.MF=function(a){for(var b=this.Y,c=b.Fa(),f=b.hasAttribute(1),b=f?e.na.GF(this.lh,b,!1):0;c.Ya();)for(;c.Ea();){var g=c.ba();
if(!(g.Rb()>this.lk)){if(a&&f){var k=g.bt(1,0),g=g.bt(1,0);if(Math.abs(g-k)>b)continue}this.se=new e.Yd(2,c.Db(),-1);return!1}}return!0};g.prototype.MP=function(){var b=this.Y,c=null;e.T.Hc(this.Y.G())&&(c=this.Y);var g=(this.YH||this.Zl)&&null!=c,k=b.D();this.Kf=b.Qa(0);this.Hi=new e.ha(0);this.Hi.zb(2*k);this.Gi=new e.ha(0);this.Gi.zb(2*k);g&&(null==this.nm&&(this.nm=new e.ha(0)),this.nm.zb(k));for(var d=b=0;d<k;d++)if(this.Hi.add(2*d),this.Hi.add(2*d+1),this.Gi.add(2*d),this.Gi.add(2*d+1),g){for(;d>=
c.Fc(b);)b++;this.nm.add(b)}(new e.Ju).sort(this.Gi,0,2*k,new f(this,g));this.hb.clear();this.hb.Lp(new a(this));this.hb.Ne(k);c=0;for(k*=2;c<k;c++)if(g=this.Gi.get(c),b=this.Hi.get(g),g=b>>1,0==(b&1)){b=this.hb.addElement(g,-1);d=this.hb.Se(b);if(-1!=d&&!this.LC(this.hb.ia(d),g))return this.se=new e.Yd(3,g,this.hb.ia(d)),!1;var h=this.hb.nb(b);if(-1!=h&&!this.LC(this.hb.ia(h),g))return this.se=new e.Yd(3,g,this.hb.ia(h)),!1}else if(b=this.hb.search(g,-1),d=this.hb.Se(b),h=this.hb.nb(b),this.hb.Jd(b,
-1),-1!=d&&-1!=h&&!this.LC(this.hb.ia(d),this.hb.ia(h)))return this.se=new e.Yd(3,this.hb.ia(d),this.hb.ia(h)),!1;return!0};g.prototype.PP=function(){return 10>this.Y.D()?this.NP():this.OP()};g.prototype.OP=function(){var a=new e.ed;a.Jb(this.Y);var b=new e.Yd;return e.Mu.hJ(!1,a,this.lk,b,this.ie)?(b.qm=a.Za(b.qm),b.rm=a.Za(b.rm),this.se.ls(b),!1):!0};g.prototype.NP=function(){for(var a=this.Y,b=a.Fa(),a=a.Fa();b.Ya();)for(;b.Ea();){var c=b.ba();if(!b.Oo()||!b.vU()){a.cX(b);do for(;a.Ea();){var f=
a.ba(),f=c.ws(f,this.lk,!0);if(0!=f)return this.se=new e.Yd(2==f?5:4,b.Db(),a.Db()),!1}while(a.Ya())}}return!0};g.prototype.SP=function(){var a=this.Y;this.ib.length=0;this.jp.length=0;this.tg=a.Fa();this.tg.mC();var b=new e.ha(0);b.zb(10);for(var c=NaN,f=0,g=0,a=2*a.D();g<a;g++){var k=this.Gi.get(g),k=this.Hi.get(k);if(0==(k&1)){var k=k>>1,d=this.Kf.read(2*k),h=this.Kf.read(2*k+1);if(0!=b.size&&(d!=c||h!=f)){if(!this.yJ(b))return!1;null!=b&&b.clear(!1)}b.add(k);c=d;f=h}}return this.yJ(b)?!0:!1};
g.prototype.RP=function(){for(var a=this.Y,b=Array(a.aa()),c=0,f=a.aa();c<f;c++)b[c]=a.Ko(c);var f=new h,g,k,d,m=new e.b,c=this.Gi.get(0),c=this.Hi.get(c),l=c>>1;this.Kf.fc(2*l,m);c=this.nm.get(l);g=b[c];k=a.wa(c);d=a.Fc(c)-1;f.Nl=l==k||l==d;f.Ry=this.Zl?!g&&f.Nl:f.Nl;f.aj=c;f.x=m.x;f.y=m.y;f.rn=l;for(var n=new h,p=1,r=this.Gi.size;p<r;p++)if(c=this.Gi.get(p),c=this.Hi.get(c),0==(c&1)){l=c>>1;this.Kf.fc(2*l,m);c=this.nm.get(l);c!=f.aj&&(g=b[c],k=a.wa(c),d=a.Fc(c)-1);var u,v=l==k||l==d;u=this.Zl?!g&&
f.Nl:f.Nl;n.x=m.x;n.y=m.y;n.aj=c;n.rn=l;n.Ry=u;n.Nl=v;if(n.x==f.x&&n.y==f.y)if(this.Zl){if(!n.Ry||!f.Ry)if(n.aj!=f.aj||!n.Nl&&!f.Nl)return this.se=new e.Yd(8,n.rn,f.rn),!1}else if(!n.Nl||!f.Nl)return this.se=new e.Yd(5,n.rn,f.rn),!1;c=f;f=n;n=c}return!0};g.prototype.PF=function(){for(var a=this.Y,c=[],f=-1,g=!1,k=0,d=a.aa();k<d;k++)a.rw(k)&&(g=!1,f++,k<d-1&&(a.rw(k+1)||(g=!0))),c[k]=g?f:-1;var g=new e.b,k=this.Gi.get(0),k=this.Hi.get(k),h=k>>1;this.Kf.fc(2*h,g);for(var k=this.nm.get(h),f=new b(g.x,
g.y,k,h,c[k]),a=[],m=1,d=this.Gi.size;m<d;m++)if(k=this.Gi.get(m),k=this.Hi.get(k),0==(k&1)){h=k>>1;this.Kf.fc(2*h,g);k=this.nm.get(h);k=new b(g.x,g.y,k,h,c[k]);if(k.x==f.x&&k.y==f.y){if(k.aj==f.aj)return this.se=new e.Yd(9,k.rn,f.rn),!1;0<=c[k.aj]&&c[k.aj]==c[f.aj]&&(0!=a.length&&a[a.length-1]==f||a.push(f),a.push(k))}f=k}if(0==a.length)return!0;k=new e.cq(!0);e.J.Ov(c,-1);g=-1;m=new e.b;m.Yc();f=0;for(d=a.length;f<d;f++){h=a[f];if(h.x!=m.x||h.y!=m.y)g=k.ni(0),m.x=h.x,m.y=h.y;var l=c[h.aj];-1==l&&
(l=k.ni(2),c[h.aj]=l);k.addElement(l,g);k.addElement(g,l)}d=new e.ha(0);d.zb(10);for(f=k.De;-1!=f;f=k.eA(f))if(a=k.SG(f),0==(a&1)&&0!=(a&2)){a=-1;d.add(f);for(d.add(-1);0<d.size;){g=d.Ec();d.Mf();m=d.Ec();d.Mf();h=k.SG(m);if(0!=(h&1)){a=0==(h&2)?g:m;break}k.EX(m,h|1);for(h=k.wc(m);-1!=h;h=k.nb(h))l=k.getData(h),l!=g&&(d.add(l),d.add(m))}if(-1!=a){k=-1;f=0;for(d=c.length;f<d;f++)if(c[f]==a){k=f;break}this.se=new e.Yd(10,k,-1);return!1}}return!0};g.prototype.TP=function(){var a=this.Y;if(0>=a.ef())return this.se=
new e.Yd(6,1==a.aa()?1:-1,-1),0;if(1==a.aa())return this.Zl&&!this.PF()?0:2;this.np=e.ha.yd(a.aa(),0);this.sB=e.ha.yd(a.aa(),-1);for(var b=-1,f=0,g=0,k=a.aa();g<k;g++){var d=a.Ym(g);this.np.write(g,0>d?0:256);if(0<d)b=g,f=d;else{if(0==d)return this.se=new e.Yd(6,g,-1),0;if(0>b||f<Math.abs(d))if(this.se=new e.Yd(7,g,-1),this.Zl)return 0;this.sB.write(g,b)}}this.Yt=a.aa();this.Hn=new e.ha(0);this.Hn.zb(10);k=a.D();this.Dp=NaN;a=new e.ha(0);a.zb(10);this.Ir=e.ha.yd(k,-1);this.ux=e.ha.yd(k,-1);null!=
this.bk?this.bk.clear(!1):this.bk=new e.ha(0);this.bk.zb(10);this.hb.clear();this.hb.Lp(new c(this));b=0;for(k*=2;0<this.Yt&&b<k;b++)if(f=this.Gi.get(b),f=this.Hi.get(f),0==(f&1)){f>>=1;g=this.Kf.read(2*f+1);if(g!=this.Dp&&0!=a.size){if(!this.lu(a))return 0;null!=a&&a.clear(!1)}a.add(f);this.Dp=g}return 0<this.Yt&&!this.lu(a)?0:this.Zl?0==this.se.Ji&&this.PF()?2:0:0==this.se.Ji?2:1};g.prototype.yJ=function(a){if(1==a.size)return!0;for(var b=0,c=a.size;b<c;b++){var f=a.get(b);this.tg.Tb(f);var g=this.tg.Mi();
this.ib.push(this.Kv(g,f,this.tg.Ta,!0));this.tg.ba();g=this.tg.ba();this.ib.push(this.Kv(g,f,this.tg.Ta,!1))}var k=this;this.ib.sort(function(a,b){return k.sR(a,b)});f=this.Ih.De;-1==f&&(f=this.Ih.ni(0));this.Ih.ao(this.ib.length);b=0;for(c=this.ib.length;b<c;b++)this.Ih.addElement(f,b);for(var b=!0,d=c=-1;b;){b=!1;g=this.Ih.wc(f);if(-1==g)break;for(var q=this.Ih.nb(g);-1!=q;){c=this.Ih.getData(g);d=this.Ih.getData(q);c=this.ib[c].Bp;d=this.ib[d].Bp;if(c==d)if(b=!0,this.Ih.jd(f,g),g=this.Ih.Se(q),
q=this.Ih.jd(f,q),-1==q||-1==g)break;else continue;g=q;q=this.Ih.nb(g)}}b=this.Ih.Zs(f);this.Ih.QF(f);if(0<b)return this.se=new e.Yd(5,c,d),!1;b=0;for(c=a.size;b<c;b++)this.YB(this.ib[b]);this.ib.length=0;return!0};g.prototype.lu=function(a){for(var b=0,c=a.size;b<c;b++){var f=a.get(b),g=this.Ir.read(f);if(-1!=g){var k=this.hb.ia(g);this.bk.add(k);this.hb.Jd(g,-1);this.YB(this.ib[k]);this.ib[k]=null;this.Ir.write(f,-1)}g=this.ux.read(f);-1!=g&&(k=this.hb.ia(g),this.bk.add(k),this.hb.Jd(g,-1),this.YB(this.ib[k]),
this.ib[k]=null,this.ux.write(f,-1))}b=0;for(c=a.size;b<c;b++){f=a.get(b);this.tg.Tb(f);g=this.tg.Mi();if(g.ra>g.oa){var d=this.tg.Db(),q=this.Kv(g,f,this.tg.Ta,!0);0<this.bk.size?(k=this.bk.Ec(),this.bk.Mf(),this.ib[k]=q):(k=this.ib.length,this.ib.push(q));g=this.hb.addElement(k,-1);-1==this.Ir.read(d)?this.Ir.write(d,g):this.ux.write(d,g);0==(this.np.read(this.tg.Ta)&3)&&this.Hn.add(g)}this.tg.ba();g=this.tg.ba();g.ra<g.oa&&(d=this.tg.Lk(),q=this.Kv(g,f,this.tg.Ta,!1),0<this.bk.size?(k=this.bk.Ec(),
this.bk.Mf(),this.ib[k]=q):(k=this.ib.length,this.ib.push(q)),g=this.hb.addElement(k,-1),-1==this.Ir.read(d)?this.Ir.write(d,g):this.ux.write(d,g),0==(this.np.read(this.tg.Ta)&3)&&this.Hn.add(g))}b=0;for(c=this.Hn.size;b<c&&0<this.Yt;b++)if(g=this.Hn.get(b),0==(this.np.read(this.ib[this.hb.ia(g)].rB)&3)){a=-1;for(var f=this.hb.Se(g),h=g,q=null,k=-1,m=0;-1!=f;){k=this.hb.ia(f);q=this.ib[k];k=q.rB;m=this.np.read(k);if(0!=(m&3))break;h=f;f=this.hb.Se(f)}-1==f?(d=1,f=h):(a=1==(m&3)?k:this.sB.read(k),
d=0!=q.ZG()?0:1,f=this.hb.nb(f));do{k=this.hb.ia(f);q=this.ib[k];k=q.rB;h=this.np.read(k);if(0==(h&3)){if(d!=q.ZG())return this.se=new e.Yd(6,k,-1),!1;m=0==d||q.mn()?2:1;h=h&252|m;this.np.write(k,m);if(2==m&&0==this.se.Ji&&this.sB.read(k)!=a&&(this.se=new e.Yd(7,k,-1),this.Zl))return!1;this.Yt--;if(0==this.Yt)return!0}1==(h&3)&&(a=k);h=f;f=this.hb.nb(f);d=0!=d?0:1}while(h!=g)}null!=this.Hn?this.Hn.clear(!1):this.Hn=new e.ha(0);return!0};g.prototype.Kv=function(a,b,c,f){if(322==a.G())a=this.OQ(a);
else throw e.g.za();a.Bp=b;a.rB=c;a.nr=0;a.MX(f);return a};g.prototype.OQ=function(a){var b;0<this.jp.length?(b=this.jp[this.jp.length-1],--this.jp.length,a.copyTo(b.Ie)):(b=new d,b.Ie=e.iE.me(a));return b};g.prototype.YB=function(a){322==a.Ie.G()&&this.jp.push(a)};g.prototype.EV=function(){for(var a=this.Y.D(),b=new e.ha(0),c=0;c<a;c++)b.add(c);var f=this;b.Fd(0,a,function(a,b){return f.Gv(a,b)});for(c=1;c<a;c++)if(0==this.Gv(b.get(c-1),b.get(c)))return this.se=new e.Yd(3,b.get(c-1),b.get(c)),0;
return 2};g.prototype.mW=function(){return this.NF()?this.MF(!0)?2:0:0};g.prototype.kW=function(){return this.DA()};g.prototype.FV=function(){for(var a=this.Y.D(),b=new e.ha(0),c=0;c<a;c++)b.add(c);var f=this;b.Fd(0,a,function(a,b){return f.oQ(a,b)});var g=Array(a);e.J.Ov(g,!1);g[b.get(0)]=!0;for(c=1;c<a;c++){var k=b.get(c-1),d=b.get(c);0==this.Gv(k,d)?g[d]=!1:g[d]=!0}for(var b=this.Y.Ka(),k=this.Y,d=0,h=1,c=0;c<a;c++)g[c]?h=c+1:(d<h&&b.Hd(k,d,h),d=c+1);d<h&&b.Hd(k,d,h);b.Xg(2,this.vp);return b};
g.prototype.nW=function(){var a=this.Y,b=a.Fa(),c=a.Fa(),f=this.Y.Ka(),g=this.Y,k=a.hasAttribute(1),d=k?e.na.GF(this.lh,a,!0):0,h=new e.ha(0),m=new e.ha(0);h.zb(e.J.truncate(a.D()/2+1));for(m.zb(e.J.truncate(a.D()/2+1));b.Ya();)if(c.Ya(),!(2>a.La(b.Ta))){c.eX();for(var l,n,p=!0;b.Ea();){var r=b.ba(),u=c.Mi();if(b.Db()>c.Db())break;p&&(h.add(b.Db()),m.add(c.Lk()),p=!1);n=h.Ec();var v=b.Lk();if(1<v-n){var x=new e.b;x.xc(a.Ba(n),a.Ba(v));l=x.length()}else l=r.Rb();n=m.Ec();v=c.Db();1<v-n?(x=new e.b,
x.xc(a.Ba(n),a.Ba(v)),n=x.length()):n=u.Rb();l>this.vp?h.add(b.Lk()):k&&(l=a.Wc(1,h.Ec(),0),r=r.Ms(1,0),Math.abs(r-l)>d&&h.add(b.Lk()));n>this.vp?m.add(c.Db()):k&&(l=a.Wc(1,m.Ec(),0),r=u.Ms(1,0),Math.abs(r-l)>d&&m.add(c.Db()))}h.Ec()<m.Ec()?h.size>m.size?h.Mf():m.Mf():(h.Ec()!=m.Ec()&&m.Mf(),m.Mf());if(2<=m.size+h.size){p=new e.Wa;u=0;for(r=h.size;u<r;u++)g.xe(h.get(u),p),0==u?f.Of(p):f.lineTo(p);for(u=m.size-1;0<u;u--)g.xe(m.get(u),p),f.lineTo(p);g.Qb(b.Ta)?f.sq():0<m.size&&(g.xe(m.get(0),p),f.lineTo(p))}null!=
h&&h.clear(!1);null!=m&&m.clear(!1)}f.Xg(2,this.vp);return f};g.prototype.lW=function(){return this.bY()};g.prototype.bY=function(){if(1736==this.Y.G()&&1==this.Y.Eo())return e.Cg.ql(this.Y,this.vp,!0,!1,this.ie);this.hj=new e.ed;this.hj.Jb(this.Y);0!=this.hj.ud&&(1!=this.gB&&e.vk.V(this.hj,this.vp,this.ie,!0),1736==this.Y.G()&&e.so.V(this.hj,this.hj.qd,this.gB,!1,this.ie));this.Y=this.hj.Pe(this.hj.qd);1736==this.Y.G()&&(this.Y.Fl(),this.Y.Op(0));this.Y.Xg(2,this.vp);return this.Y};g.dc=function(a,
b,c){if(a.u())return 1;var f=a.G();if(33==f)return 1;if(197==f)return c=new e.h,a.s(c),c.eh(e.na.$g(b,a,!1))?0:1;if(e.T.Nc(f))throw e.g.za();if(!e.T.fh(f))throw e.g.za();var f=e.na.$g(b,a,!1),k=a.Nk(f);c=c?-1:k;if(-1!=c)return c;1==c&&(f=0);c=(new g(a,b,c,0,!1)).DA();a.Xg(c,f);return c};g.Wq=function(a,b,c,f,k){null!=f&&(f.Ji=0,f.qm=-1,f.rm=-1);if(a.u())return 1;var d=a.G();if(33==d)return 1;var q=e.na.$g(b,a,!1);if(197==d)return b=new e.h,a.s(b),b.eh(q)?(null!=f&&(f.Ji=2,f.qm=-1,f.rm=-1),0):1;if(e.T.Nc(d))return q=
new e.Ua(a.description),q.cc(a,!0),g.Wq(q,b,c,f,k);k=a.Nk(q);c=c?-1:k;if(-1!=c)return c;b=new g(a,b,c,0,!1);if(550==d)c=b.EV();else if(1607==d)c=b.mW();else if(1736==d)c=b.kW();else throw e.g.za();a.Xg(c,q);null!=f&&0==c&&f.ls(b.se);return c};g.tb=function(a,b,c,f,k){null!=f&&(f.Ji=0,f.qm=-1,f.rm=-1);if(a.u())return 1;var d=a.G();if(33==d)return 1;var q=e.na.$g(b,a,!1);if(197==d)return b=new e.h,a.s(b),b.eh(q)?(null!=f&&(f.Ji=2,f.qm=-1,f.rm=-1),0):1;if(e.T.Nc(d))return d=new e.Ua(a.description),d.cc(a,
!0),g.Wq(d,b,c,f,k);a=new g(a,b,-1,0,!0);if(550==d||1607==d||1736==d)b=a.DA();else throw e.g.za();null!=f&&f.ls(a.se);return b};g.HK=function(a,b,c,f){if(a.u())return a;var k=a.G();if(33==k)return a;var d=e.na.$g(b,a,!1);if(197==k)return b=new e.h,a.s(b),b.eh(d)?a.Ka():a;if(e.T.Nc(k))return k=new e.Ua(a.description),k.cc(a,!0),g.HK(k,b,c,f);f=a.Nk(d);c=c?-1:f;if(2==c)return a;a=new g(a,b,c,0,!1);if(550==k)a=a.FV();else if(1607==k)a=a.nW();else if(1736==k)a=a.lW();else throw e.g.za();return a};g.GC=
function(a,b,c,f){if(a.u())return a;var k=a.G();if(33==k)return a;var d=e.na.$g(b,a,!1);if(197==k)return b=new e.h,a.s(b),b.eh(d)?a.Ka():a;if(e.T.Nc(k))return d=new e.Ua(a.description),d.cc(a,!0),g.GC(d,b,c,f);if(!e.T.fh(k))throw e.g.X("OGC simplify is not implemented for this geometry type "+k);return e.Cg.GC(a,d,!1,f)};g.prototype.li=function(a,b,c){if(a==b)return 0;a=this.Hi.get(a);var f=this.Hi.get(b);b=a>>1;var g=f>>1,k=new e.b,d=new e.b;this.Kf.fc(2*b,k);k.y+=0!=(a&1)?this.lk:-this.lk;this.Kf.fc(2*
g,d);d.y+=0!=(f&1)?this.lk:-this.lk;a=k.compare(d);return 0==a&&c?(c=this.nm.get(b)-this.nm.get(g),0>c?-1:0<c?1:0):a};g.prototype.Gv=function(a,b){if(a==b)return 0;var c=this.Y,f=c.Ba(a),g=c.Ba(b);if(f.x<g.x)return-1;if(f.x>g.x)return 1;if(f.y<g.y)return-1;if(f.y>g.y)return 1;for(f=1;f<this.TU;f++)for(var g=this.mI.pd(f),k=e.ma.Xa(g),d=0;d<k;d++){var q=c.Wc(g,a,d),t=c.Wc(g,b,d);if(q<t)return-1;if(q>t)return 1}return 0};g.prototype.oQ=function(a,b){var c=this.Gv(a,b);return 0==c?a<b?-1:1:c};g.prototype.sR=
function(a,b){if(a===b)return 0;var c=a.Ie.Dg(a.mn()?1:0);a.mn()&&c.Kr();a=b.Ie.Dg(b.mn()?1:0);b.mn()&&a.Kr();b=c.ev();var f=a.ev();return f==b?(b=c.Vi(a),Math.abs(b)<=8.881784197001252E-16*(Math.abs(a.x*c.y)+Math.abs(a.y*c.x))&&(b--,b++),0>b?1:0<b?-1:0):b<f?-1:1};return g}();e.py=g})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=function(){return 30};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.prototype.V=
function(a,b,f,g){return a instanceof e.T?(a=new e.gd(a),b=new e.gd(b),this.V(a,b,f,g).next()):new e.VM(a,b,f,g)};b.Wp=function(a,c,f,g){var k=a.ub(),d=c.ub();if(a.u()&&c.u())return k>d?a:c;if(a.u())return c;if(c.u())return a;var t=new e.h,h=new e.h,m=new e.h;a.s(t);c.s(h);m.I(t);m.Nb(h);t=e.na.$d(f,m,!0);h=a.G();m=c.G();return 33==h&&33==m?b.Om(a,c,t):h!=m?0<k||0<d?k>d?a:c:550==h?b.ye(a,c,t):b.ye(c,a,t):e.Cg.Wp(a,c,f,g)};b.Om=function(a,b,f){f=f*Math.sqrt(2)*1.00001;f*=f;var c=a.w(),k=b.w(),d=new e.Dd(a.description);
e.b.sc(c,k)>f&&(d.add(a),d.add(b));return d};b.ye=function(a,b,f){var c=a.Qa(0),k=a.D(),d=b.w(),t=a.Ka();f=f*Math.sqrt(2)*1.00001;var h=new e.h;a.s(h);h.P(f,f);if(h.contains(d)){f*=f;for(var h=!1,m=[],l=0;l<k;l++)m[l]=!1;for(l=0;l<k;l++){var n=c.read(2*l),p=c.read(2*l+1),n=n-d.x,p=p-d.y;n*n+p*p<=f&&(h=!0,m[l]=!0)}if(h)for(l=0;l<k;l++)m[l]||t.Hd(a,l,l+1);else t.Hd(a,0,k),t.add(b)}else t.Hd(a,0,k),t.add(b);return t};b.N=null;return b}(e.bf);e.qy=d})(x||(x={}));(function(e){var d=function(){function d(b,
a,c,f){this.qt=null==a;this.Ca=-1;this.ge=b;this.Pg=c;this.oV=a.next();this.mc=f}d.prototype.next=function(){if(this.qt)return null;var b;return null!=(b=this.ge.next())?(this.Ca=this.ge.Ia(),e.qy.Wp(b,this.oV,this.Pg,this.mc)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.Oe=function(){return!0};return d}();e.VM=d})(x||(x={}));(function(e){var d=function(){function a(){}a.prototype.kw=function(){this.Kz=null;this.gy=-1;this.eL=!1};return a}(),h=function(){function a(){this.Cs=0;this.Tj=
[]}a.prototype.NO=function(a){this.Cs+=a.gy;this.Tj.push(a)};a.prototype.oW=function(){this.Cs-=this.Tj[this.Tj.length-1].gy;--this.Tj.length};a.prototype.Qy=function(){return this.Tj[this.Tj.length-1]};a.prototype.Eb=function(a){return a===this};return a}(),b=function(){function a(a,b,e){this.Ca=-1;this.Oc=!1;this.CI=[!1,!1,!1,!1];this.jr=[0,0,0,0];this.VA=!1;this.dl=-1;this.Yq=0;this.Xo=-1;this.xp=[];this.ge=a;this.Pg=b;this.mc=e}a.tb=function(a){var b=[],c=0;for(a=Object.keys(a);c<a.length;c++)b.push(Number(a[c]));
b.sort(function(a,b){return a-b});return b};a.prototype.iH=function(b){var c=this.xp[b],g=a.tb(c)[0],k=c[g],d=k.Qy().Kz,k=k.Qy().eL;delete c[g];k&&(d=e.Qm.local().V(d,this.Pg,!1,this.mc),0==b&&33==d.G()&&(b=new e.Dd(d.description),d.u()||b.add(d),d=b));return d};a.prototype.next=function(){if(this.Oc&&this.Xo==this.dl)return null;for(;!this.RK(););if(-1==this.dl)return null;if(this.VA){for(this.Xo++;;){if(this.Xo>this.dl||0>this.Xo)throw e.g.za();if(this.CI[this.Xo])break}this.Ca++;return this.iH(this.Xo)}this.Ca=
0;this.Xo=this.dl;return this.iH(this.dl)};a.prototype.Ia=function(){return this.Ca};a.prototype.RK=function(){if(this.Oc)return!0;var a=null;null!=this.ge&&(a=this.ge.next(),null==a&&(this.Oc=!0,this.ge=null));if(null!=a){var b=a.ub();this.CI[b]=!0;b>=this.dl&&!this.VA&&(this.eF(b,!1,a),b>this.dl&&!this.VA&&this.aX(b))}if(0<this.Yq)for(b=0;b<=this.dl;b++)for(;1<this.jr[b];)if(a=this.eQ(b),0!=a.length)a=e.Cg.nR(a,this.Pg,this.mc),this.eF(b,!0,a);else break;return this.Oc};a.prototype.eQ=function(b){for(var c=
[],e=[],k=this.xp[b],d=a.tb(k),t=0;t<d.length;t++){var h=d[t],m=k[h];if(this.Oc||1E4<m.Cs&&1<m.Tj.length){this.jr[b]-=m.Tj.length;for(this.Yq-=m.Tj.length;0<m.Tj.length;)c.push(m.Qy().Kz),m.oW();e.push(h)}}for(t=0;t<e.length;t++)delete k[e[t]];return c};a.prototype.aX=function(a){for(var b=0;b<a;b++)this.xp[b]=[],this.Yq-=this.jr[b],this.jr[b]=0};a.prototype.eF=function(b,f,e){var c=new d;c.kw();c.Kz=e;e=a.lf(e);c.gy=e;e=a.ye(e);if(b+1>this.xp.length)for(var g=0,t=Math.max(2,b+1);g<t;g++)this.xp.push([]);
g=this.xp[b][e];void 0===g&&(g=new h,this.xp[b][e]=g);c.eL=f;g.NO(c);this.jr[b]++;this.Yq++;this.dl=Math.max(this.dl,b)};a.ye=function(a){return 0<a?e.J.truncate(Math.log(a)/Math.log(4)+.5):0};a.lf=function(a){var b=a.G();if(e.T.fh(b))return a.D();if(33==b)return 1;if(197==b)return 4;if(e.T.Nc(b))return 2;throw e.g.za();};a.prototype.Oe=function(){return this.RK()};return a}();e.XM=b})(x||(x={}));(function(e){var d=function(d){function b(){return null!==d&&d.apply(this,arguments)||this}fa(b,d);b.prototype.G=
function(){return 1};b.prototype.V=function(a,b,f,g){return void 0===g?new e.XM(a,b,f):this.xR(a,b,f,g)};b.prototype.xR=function(a,b,f,g){a=new e.gd([a,b]);return this.V(a,f,g).next()};b.local=function(){null===b.N&&(b.N=new b);return b.N};b.N=null;return b}(e.bf);e.ei=d})(x||(x={}));(function(e){var d;(function(e){e[e.nextPath=0]="nextPath";e[e.nextSegment=1]="nextSegment";e[e.iterate=2]="iterate"})(d||(d={}));d=function(){function d(b,a,c,f){this.Qt=new e.h;this.hV=b;this.iV=a;this.br=f;this.op=
-1;this.$l=!1;var g=b.ob;null!=g&&(g=f?g.tp:g.Mb,null!=g&&(this.Oc=!1,this.ta=c,this.Mb=g,this.lx=this.Mb.jf(),this.cr=this.$l=!0,this.Zb=0,f?this.op=a.aa():this.Bd=a.Fa()));this.$l||(g=a.ob,null!=g&&(g=f?g.tp:g.Mb,null!=g&&(this.Oc=!1,this.ta=c,this.Mb=g,this.lx=this.Mb.jf(),this.$l=!0,this.cr=!1,this.Zb=0,f?this.op=b.aa():this.Bd=b.Fa())));this.$l||(this.Di=f?e.na.ES(b,a,c,1<=b.Nk(0),1<=a.Nk(0)):e.na.DS(b,a,c))}d.prototype.next=function(){if(this.$l){if(this.Oc)return!1;for(var b=!0;b;)switch(this.Zb){case 0:b=
this.MV();break;case 1:b=this.NV();break;case 2:b=this.FA();break;default:throw e.g.X("internal error");}return this.Oc?!1:!0}return null==this.Di?!1:this.Di.next()};d.prototype.Vl=function(){return this.$l?this.cr?this.Mb.ia(this.Dt):this.br?this.op:this.Bd.Db():this.Di.Vl(this.Di.rg)};d.prototype.Rl=function(){return this.$l?this.cr?this.br?this.op:this.Bd.Db():this.Mb.ia(this.Dt):this.Di.Rl(this.Di.$f)};d.prototype.hA=function(){if(!this.br)throw e.g.X("internal error");return this.$l?this.cr?
this.Mb.JG(this.Dt):this.Qt:this.Di.hA(this.Di.rg)};d.prototype.Lz=function(){if(!this.br)throw e.g.X("internal error");return this.$l?this.cr?this.Qt:this.Mb.JG(this.Dt):this.Di.Lz(this.Di.$f)};d.prototype.MV=function(){if(!this.br){if(!this.Bd.Ya())return this.Oc=!0,!1;this.Zb=1;return!0}if(-1==--this.op)return this.Oc=!0,!1;this.cr?this.iV.nk(this.op,this.Qt):this.hV.nk(this.op,this.Qt);this.lx.Oi(this.Qt,this.ta);this.Zb=2;return!0};d.prototype.NV=function(){if(!this.Bd.Ea())return this.Zb=0,
!0;var b=this.Bd.ba();this.lx.bo(b,this.ta);this.Zb=2;return!0};d.prototype.FA=function(){this.Dt=this.lx.next();return-1==this.Dt?(this.Zb=this.br?0:1,!0):!1};return d}();e.Rm=d})(x||(x={}));(function(e){e=e.eN||(e.eN={});e[e.enumClosed=1]="enumClosed";e[e.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";e[e.enumOGCStartPolygon=4]="enumOGCStartPolygon";e[e.enumCalcMask=4]="enumCalcMask"})(x||(x={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,g,k,q,t,h){var w=[0,0,0],
m=[0,0,0],l=[0,0,0],n=[0,0,0,0],p=new e.da(0),r=new e.da(0),u=new e.da(0);if(null!=q||null!=t||null!=h)if(e.l.Ri(a))e.uh.Cb(b,c,f,g,k,q,t,h);else{g=e.C.ca(g);c=e.C.ca(c);var v=e.C.ca(g-c);if(e.l.W(f,k)&&(e.l.W(c,g)||e.l.W(e.l.K(f),1.570796326794897)))null!=q&&(q.j=0),null!=t&&(t.j=0),null!=h&&(h.j=0);else{if(e.l.W(f,-k)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=q&&(q.j=2*e.C.Wg(b,a));null!=t&&(t.j=0<f?e.C.ca(3.141592653589793-e.C.ca(g)):e.C.ca(g));null!=h&&(h.j=0<f?e.C.ca(g):e.C.ca(3.141592653589793-
e.C.ca(g)));return}e.l.W(e.l.K(v),3.141592653589793)&&(null!=q&&(q.j=2*e.C.Wg(b,a)),null!=t&&(t.j=0),null!=h&&(h.j=0))}else{if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(k),1.570796326794897)){e.Cl.Cb(b,a,c,f,g,k,q,t,h);return}if(e.l.W(c,g)||e.l.W(e.l.K(v),3.141592653589793)){e.Cl.Cb(b,a,c,f,g,k,q,t,h);return}if(e.l.wd(f)){e.Cl.Cb(b,a,c,f,g,k,q,t,h);return}}var x=Math.sqrt(1-a);g=e.C.ca(g-c);c=0;e.C.Fk(1,a,f,c,0,p,r,u);w[0]=p.j;w[1]=r.j;w[2]=u.j;e.C.Fk(1,a,k,g,0,p,r,u);m[0]=p.j;m[1]=r.j;m[2]=
u.j;l[0]=0;l[1]=0;l[2]=-1*a*e.C.n(1,a,f)*Math.sin(f);0>g?e.C.Nr(l,m,w,n,0):e.C.Nr(l,w,m,n,0);for(var r=[0,0,0],u=[0,0,0],z=[0,0,0],w=[0,0,0],p=[0,0,0],A=Math.acos(n[2]/1),y=1-a,C=Math.tan(A),B=1+C*C/y,H=2*l[2]*C/y,C=Math.sqrt(H*H-4*B*(l[2]*l[2]/y-1)),B=2*B,y=(-H+C)/B,H=(-H-C)/B,C=Math.tan(A),B=C*y+l[2],A=(y+H)/2,l=(B+(C*H+l[2]))/2,C=e.C.Zp(y-A,B-l),y=l/x*1.570796326794897,H=0;100>H;H++){B=e.C.Hm(a,y);B=B*B/Math.cos(y)*(Math.sin(y)-l*B/(1*(1-a)));if(e.l.wd(B))break;y-=B}var l=e.C.n(1,a,y)*Math.cos(y),
l=Math.sqrt((l-A)*(l+A)),C=1-C/l,C=C*(2-C),B=e.C.lo(r),A=e.C.lo(u),y=e.C.lo(z),J=e.C.Gu(z,r),H=e.C.Gu(z,u);e.C.fy(z,r,w);e.C.fy(z,u,p);r=Math.acos(J/(y*B));u=Math.acos(H/(y*A));u*=e.l.Bb(1,e.C.Gu(w,p));if(1.570796326794897<=e.l.K(r)&&1.570796326794897<=e.l.K(u)||3.141592653589793<e.l.K(r-u))r=(3.141592653589793-e.l.K(r))*e.l.Bb(1,r),u=(3.141592653589793-e.l.K(u))*e.l.Bb(1,u);w=e.C.mk(C,u);p=e.C.q(l,C,e.C.mk(C,r));w=e.C.q(l,C,w);w=e.l.K(w-p)*b;r=new e.da(0);u=new e.da(0);z=n[1]/1;z*=-e.l.Bb(1,v);p=
Math.acos(z)*e.l.Bb(1,v);d.Rf(b,a,c,f,w,p,r,u);e.l.W(g,r.j)&&e.l.W(k,u.j)||(C=e.C.Zp(e.C.ca(g-r.j),k-u.j),d.Rf(b,a,c,f,w,e.C.ca(p+3.141592653589793),r,u),B=e.C.Zp(e.C.ca(g-r.j),k-u.j),B<C&&(p=e.C.ca(p+3.141592653589793)));r=[0,0,0,0];u=[0,0,0,0];l=[0,0,0];C=[0,0,0];b=[0,0,0];c=[0,0,0];f=[0,0,0];z=[0,0,0];l[0]=0;l[1]=0;l[2]=x;C[0]=0;C[1]=0;C[2]=0;e.C.Nr(C,l,m,r,0);e.l.wd(k)?(b[0]=m[0],b[1]=m[1],b[2]=1,c[0]=1*Math.cos(g)-1*Math.sin(g),c[1]=1*Math.sin(g)+1*Math.cos(g)):(a=e.C.n(1,a,k)*Math.cos(k),b[0]=
0,b[1]=0,m[2]+=Math.tan(1.570796326794897-e.l.K(k))*a*e.l.Bb(1,k),c[0]=a*Math.cos(g)-a*Math.sin(g),c[1]=a*Math.sin(g)+a*Math.cos(g));c[2]=m[2];e.C.Nr(m,c,b,u,1);e.C.fy(u,r,f);e.C.fy(u,n,z);z=e.C.Gu(f,z)/(e.C.lo(f)*e.C.lo(z));z*=e.l.Bb(1,v);g=Math.acos(z)*-e.l.Bb(1,v);0<p&&0<g?g=e.C.ca(g+3.141592653589793):0>p&&0>g&&(g=e.C.ca(g+3.141592653589793));null!=q&&(q.j=w);null!=t&&(t.j=p);null!=h&&(h.j=g)}}};d.Rf=function(b,a,c,f,g,d,q,t){var k=[0,0,0],h=[0,0,0],m=[0,0,0],l=[0,0,0],n=[0,0,0],p=[0,0,0],r=[0,
0,0],u=[0,0,0,0],v=new e.da(0),x=new e.da(0),z=new e.da(0),y=new e.da(0),A=new e.da(0),C=new e.da(0);if(null!=q&&null!=t)if(e.l.Ri(a))e.uh.Rf(b,c,f,g,d,q,t);else if(e.l.wd(g))null!=q&&(q.j=c),null!=t&&(t.j=f);else if(d=e.C.ca(d),0>g&&(g=e.l.K(g),d=e.C.ca(d+3.141592653589793)),c=e.C.ca(c),f=e.C.ca(f),1.570796326794897<e.l.K(f)&&(c=e.C.ca(c+3.141592653589793),f=e.l.Bb(3.141592653589793,f)-f),e.l.W(e.l.K(f),1.570796326794897)||e.l.wd(f)||e.l.wd(d)||e.l.W(e.l.K(d),3.141592653589793))e.Cl.Rf(b,a,c,f,g,
d,q,t);else{var B=Math.sqrt(1-a);b=g/b;e.C.Fk(1,a,f,0,0,y,A,C);k[0]=y.j;k[1]=A.j;k[2]=A.j;r[0]=0;r[1]=0;r[2]=-1*a*e.C.n(1,a,f)*Math.sin(f);y=e.C.n(1,a,f);A=e.C.ca(1.570796326794897-d);C=Math.sin(A);g=Math.cos(f);f=Math.sin(f);n[0]=y*g-f*C;n[1]=Math.cos(A);n[2]=(1-a)*y*f+g*C;0>d?e.C.Nr(r,n,k,u,0):e.C.Nr(r,k,n,u,0);k=Math.acos(u[2]/1);u=Math.atan2(-u[1],-u[0]);f=1-a;n=Math.tan(k);A=1+n*n/f;y=2*r[2]*n/f;n=Math.sqrt(y*y-4*A*(r[2]*r[2]/f-1));A*=2;f=(-y+n)/A;y=(-y-n)/A;n=Math.tan(k);A=n*f+r[2];k=(f+y)/
2;r=(A+(n*y+r[2]))/2;n=e.C.Zp(f-k,A-r);B=r/B*1.570796326794897;for(f=0;100>f;f++){y=e.C.Hm(a,B);y=y*y/Math.cos(B)*(Math.sin(B)-r*y/(1*(1-a)));if(e.l.wd(y))break;B-=y}B=e.C.n(1,a,B)*Math.cos(B);B=Math.sqrt((B-k)*(B+k));r=1-n/B;r*=2-r;p=Math.acos(e.C.Gu(p,h)/(e.C.lo(p)*e.C.lo(h)));p*=e.l.Bb(1,h[0]);d=(e.C.q(B,r,e.C.mk(r,p))+b*e.l.Bb(1,d))/e.C.Wg(B,r);d=e.C.ca(1.570796326794897*d);d=e.C.Ep(r,d);e.C.n(B,r,d);n=e.C.ca(u+c);c=Math.cos(n);d=Math.sin(n);m[0]=l[0]*c+l[1]*-d;m[1]=l[0]*d+l[1]*c;m[2]=l[2];e.C.GP(a,
m[0],m[1],m[2],z,x,v);null!=q&&(q.j=x.j);null!=t&&(t.j=z.j)}};return d}();e.aE=d})(x||(x={}));(function(e){var d=function(){function a(a){this.ab=null;this.ou=new e.b;this.pu=new e.b;this.a=a}a.prototype.compare=function(a,b,c){this.a.Mc(b,this.ou);this.a.Mc(a.ia(c),this.pu);return this.ou.compare(this.pu)};return a}(),h=function(){function a(a){this.ag=new e.b;this.hl=new e.b;this.a=a}a.prototype.Zh=function(a){this.ag.L(a)};a.prototype.compare=function(a,b){this.a.Mc(a.ia(b),this.hl);return this.ag.compare(this.hl)};
return a}(),b=function(a){function b(b){var c=a.call(this,b.a,b.ta,!1)||this;c.bb=b;return c}fa(b,a);b.prototype.compare=function(a,b,c){if(this.Lg)return-1;var f=this.bb.fe.Fo(this.bb.si(b));a=a.ia(c);var e=this.bb.fe.Fo(this.bb.si(a));this.xn=c;return this.XF(b,f,a,e)};return b}(e.lE),a=function(a){function b(b){var c=a.call(this,b.a,b.ta)||this;c.bb=b;return c}fa(b,a);b.prototype.compare=function(a,b){if(this.Lg)return-1;a=this.bb.fe.Fo(this.bb.si(a.ia(b)));this.xn=b;return this.YF(b,a)};return b}(e.AN),
c=function(){function c(){this.Sc=this.Ef=this.cp=this.fe=this.Hh=this.Md=this.ib=this.a=null;this.hh=!1;this.Uh=this.Gn=this.Ce=this.jl=this.Jh=this.el=this.eg=this.te=null;this.Wh=this.zr=this.DB=this.ta=0;this.Kw=this.Ro=!1;this.sp=new e.b;this.pj=new e.b;this.ib=new e.Zc(8);this.Md=new e.Zc(5);this.Hh=new e.Nu;this.fe=new e.Nu;this.hh=!1;this.Uh=new e.b;this.Uh.ja(0,0);this.ta=0;this.Wh=-1;this.Ro=!1;this.a=null;this.Ef=new e.xk;this.Sc=new e.xk;this.Jh=new e.ha(0);this.jl=new e.jE;this.eg=new e.ha(0);
this.el=new e.ha(0);this.cp=new e.Wa}c.prototype.mY=function(a,b){var c=new e.Gd;c.AC();a.Vc(c);this.Xr(a);this.Ro=!1;this.ta=b;this.DB=b*b;b=this.JC();a.Vc(c);b||(this.JR(),b||this.JC());-1!=this.Wh&&(this.a.je(this.Wh),this.Wh=-1);this.a=null;return this.Ro};c.prototype.qY=function(a,b){this.Xr(a);this.Ro=!1;this.ta=b;this.DB=b*b;this.hh=!1;this.JC();this.hh||(this.hh=1==a.zq(b,!0,!1));-1!=this.Wh&&(this.a.je(this.Wh),this.Wh=-1);this.a=null};c.prototype.Ig=function(a,b){return this.ib.S(a,0+b)};
c.prototype.oC=function(a,b,c){this.ib.R(a,0+b,c)};c.prototype.si=function(a){return this.ib.S(a,2)};c.prototype.yX=function(a,b){this.ib.R(a,2,b)};c.prototype.UG=function(a,b){return this.ib.S(a,3+b)};c.prototype.Jq=function(a){return this.ib.S(a,7)};c.prototype.zm=function(a,b){this.ib.R(a,7,b)};c.prototype.Kq=function(a,b){return this.ib.S(a,3+this.Iq(a,b))};c.prototype.Yr=function(a,b,c){this.ib.R(a,3+this.Iq(a,b),c)};c.prototype.gT=function(a,b){return this.ib.S(a,5+this.Iq(a,b))};c.prototype.$r=
function(a,b,c){this.ib.R(a,5+this.Iq(a,b),c)};c.prototype.Ls=function(a){return this.Md.S(a,0)};c.prototype.vX=function(a,b){this.Md.R(a,0,b)};c.prototype.Pz=function(a){return this.Md.S(a,4)};c.prototype.Ur=function(a,b){this.Md.R(a,4,b)};c.prototype.Sl=function(a){return this.Md.S(a,1)};c.prototype.io=function(a,b){this.Md.R(a,1,b)};c.prototype.Oz=function(a){return this.Md.S(a,3)};c.prototype.vu=function(a,b){this.Md.R(a,3,b)};c.prototype.Sn=function(a){var b=this.Md.Me(),c=this.Hh.ni();this.vX(b,
c);-1!=a?(this.Hh.addElement(c,a),this.a.Va(a,this.Wh,b),this.Ur(b,this.a.Za(a))):this.Ur(b,-1);return b};c.prototype.aR=function(a){this.Md.jd(a)};c.prototype.cF=function(a,b){this.Hh.addElement(this.Ls(a),b);this.a.Va(b,this.Wh,a)};c.prototype.eu=function(a){var b=this.ib.Me(),c=this.fe.ni();this.yX(b,c);-1!=a&&this.fe.addElement(c,a);return b};c.prototype.dF=function(a,b){this.fe.addElement(this.si(a),b)};c.prototype.Mv=function(a){this.ib.jd(a);a=this.Jh.Pv(a);0<=a&&this.Jh.vJ(a)};c.prototype.Nj=
function(a,b){if(-1==this.Ig(a,0))this.oC(a,0,b);else if(-1==this.Ig(a,1))this.oC(a,1,b);else throw e.g.za();this.Oy(a,b)};c.prototype.Oy=function(a,b){var c=this.Sl(b);if(-1!=c){var f=this.Kq(c,b);this.$r(f,b,a);this.Yr(a,b,f);this.Yr(c,b,a);this.$r(a,b,c)}else this.$r(a,b,a),this.Yr(a,b,a),this.io(b,a)};c.prototype.Iq=function(a,b){return this.Ig(a,0)==b?0:1};c.prototype.Rn=function(a,b){var c=this.Oz(b);-1!=c&&(this.Ef.Jd(c,-1),this.vu(b,-1));var f,c=this.Sl(b);if(-1!=c){var e=f=c,g;do{g=!1;var d=
this.Iq(f,b),k=this.UG(f,d);if(this.Ig(f,d+1&1)==a){this.Nv(f);this.fe.zh(this.si(f));this.Mv(f);if(f==k){c=-1;break}c==f&&(c=this.Sl(b),e=k,g=!0)}f=k}while(f!=e||g);if(-1!=c){do d=this.Iq(f,b),k=this.UG(f,d),this.oC(f,d,a),f=k;while(f!=e);f=this.Sl(a);-1!=f?(e=this.Kq(f,a),g=this.Kq(c,a),e==f?(this.io(a,c),this.Oy(f,a),this.io(a,f)):g==c&&this.Oy(c,a),this.Yr(c,a,e),this.$r(e,a,c),this.Yr(f,a,g),this.$r(g,a,f)):this.io(a,c)}}c=this.Ls(a);f=this.Ls(b);for(e=this.Hh.wc(f);-1!=e;e=this.Hh.nb(e))this.a.Va(this.Hh.ia(e),
this.Wh,a);this.Hh.kz(c,f);this.aR(b)};c.prototype.xV=function(a,b){var c=this.Ig(a,0),f=this.Ig(a,1),e=this.Ig(b,0),g=this.Ig(b,1);this.fe.kz(this.si(a),this.si(b));b==this.Sl(c)&&this.io(c,a);b==this.Sl(f)&&this.io(f,a);this.Nv(b);this.Mv(b);c==e&&f==g||f==e&&c==g||(this.Do(c,this.sp),this.Do(e,this.pj),this.sp.vb(this.pj)?(c!=e&&this.Rn(c,e),f!=g&&this.Rn(f,g)):(f!=e&&this.Rn(f,e),c!=g&&this.Rn(c,g)))};c.prototype.Nv=function(a){var b=this.Ig(a,1);this.jG(a,this.Ig(a,0));this.jG(a,b)};c.prototype.jG=
function(a,b){var c=this.Kq(a,b),f=this.gT(a,b),e=this.Sl(b);c!=a?(this.Yr(f,b,c),this.$r(c,b,f),e==a&&this.io(b,c)):this.io(b,-1)};c.prototype.kF=function(a,b,c){var f=this.fe.wc(a),e=this.fe.ia(f);a=this.ff(e);var g=this.ff(this.a.U(e));this.a.as(e,b,c,!0);for(f=this.fe.nb(f);-1!=f;f=this.fe.nb(f)){var e=this.fe.ia(f),d=this.ff(e)==a;this.a.as(e,b,c,d)}f=b.Mq(c,0).ec();b=b.Mq(c,b.Wl(c)-1).Ac();this.fL(a,f);this.fL(g,b)};c.prototype.dG=function(a,b,c){var f=this.si(a),e=this.Ig(a,0),g=this.Ig(a,
1),d=this.eu(-1);this.Jh.add(d);this.zm(d,-3);this.eg.add(d);this.Nj(d,e);a=1;for(b=b.Wl(c);a<b;a++)c=this.Sn(-1),this.el.add(c),this.eg.add(c),this.Nj(d,c),d=this.eu(-1),this.Jh.add(d),this.zm(d,-3),this.eg.add(d),this.Nj(d,c);this.Nj(d,g);for(f=this.fe.wc(f);-1!=f;f=this.fe.nb(f))if(g=this.fe.ia(f),this.ff(g)==e){a=0;do 0<a&&(d=this.eg.get(a-1),this.cF(d,g),-1==this.Pz(d)&&this.Ur(d,this.a.Za(g))),d=this.eg.get(a),a+=2,this.dF(d,g),g=this.a.U(g);while(a<this.eg.size)}else{a=this.eg.size-1;do a<
this.eg.size-2&&(d=this.eg.get(a+1),this.cF(d,g),0>this.Pz(d)&&this.Ur(d,this.a.Za(g))),d=this.eg.get(a),a-=2,this.dF(d,g),g=this.a.U(g);while(0<=a)}this.eg.clear(!1)};c.prototype.ff=function(a){return this.a.Sa(a,this.Wh)};c.prototype.zJ=function(a,b,c){var f=this.Ig(b,0),g=new e.b;this.Do(f,g);var d=new e.b,k=this.Ig(b,1);this.Do(k,d);var q=c.Wl(a),h=c.Mq(a,0),m=new e.b;h.Oq(m);if(!g.vb(m)){if(!this.hh){var l=g.compare(this.Uh),m=m.compare(this.Uh);0>l*m&&(this.hh=!0)}this.zG(f,this.eg);this.el.add(f)}!this.hh&&
1<q&&(l=g.compare(d),h=h.Ac(),g.compare(h)!=l||h.compare(d)!=l?this.hh=!0:0>h.compare(this.Uh)&&(this.hh=!0));h=c.Mq(a,q-1);a=h.Ac();d.vb(a)||(this.hh||(l=d.compare(this.Uh),m=a.compare(this.Uh),0>l*m&&(this.hh=!0)),this.zG(k,this.eg),this.el.add(k));this.eg.add(b);d=0;for(k=this.eg.size;d<k;d++)a=this.eg.get(d),c=this.Jq(a),e.Zc.EA(c)&&(this.Sc.Jd(c,-1),this.zm(a,-1)),a!=b&&-3!=this.Jq(a)&&(this.Jh.add(a),this.zm(a,-3));this.eg.clear(!1)};c.prototype.LP=function(a,b){this.te.compare(this.Sc,this.Sc.ia(a),
b);this.te.Lg&&(this.te.Es(),this.tG(a,b))};c.prototype.tG=function(a,b){this.Ro=!0;a=this.Sc.ia(a);b=this.Sc.ia(b);var c,f;f=this.fe.Fo(this.si(a));var g=this.fe.Fo(this.si(b));c=this.a.jc(f);null==c&&(null==this.Ce&&(this.Ce=new e.Hb),this.a.nd(f,this.Ce),c=this.Ce);f=this.a.jc(g);null==f&&(null==this.Gn&&(this.Gn=new e.Hb),this.a.nd(g,this.Gn),f=this.Gn);this.jl.Hp(c);this.jl.Hp(f);this.jl.Ma(this.ta,!0)&&(this.hh=!0);this.MK(a,b,-1,this.jl);this.jl.clear()};c.prototype.VR=function(a,b){this.Ro=
!0;b=this.Sc.ia(b);var c,f=this.fe.Fo(this.si(b));c=this.a.jc(f);null==c&&(null==this.Ce&&(this.Ce=new e.Hb),this.a.nd(f,this.Ce),c=this.Ce);f=this.FG(a);this.jl.Hp(c);this.a.xj(f,this.cp);this.jl.vA(this.ta,this.cp,!0);this.MK(b,-1,a,this.jl);this.jl.clear()};c.prototype.VT=function(){if(0!=this.Jh.size)for(;0!=this.Jh.size;){if(this.Jh.size>Math.max(100,this.a.ud)){this.Jh.clear(!1);this.hh=!0;break}var a=this.Jh.Ec();this.Jh.Mf();this.zm(a,-1);-1!=this.rU(a)&&this.UT(a);this.Qo=!1}};c.prototype.UT=
function(a){var b;this.Qo?(b=this.Sc.ov(this.NI,this.II,a,!0),this.Qo=!1):b=this.Sc.bF(a);-1==b?this.xV(this.Sc.ia(this.Sc.IG()),a):(this.zm(a,b),this.te.Lg&&(this.te.Es(),this.tG(this.te.xn,b)))};c.prototype.rU=function(a){var b=this.Ig(a,0);a=this.Ig(a,1);this.Do(b,this.sp);this.Do(a,this.pj);if(e.b.sc(this.sp,this.pj)<=this.DB)return this.hh=!0,-1;var c=this.sp.compare(this.Uh),f=this.pj.compare(this.Uh);return 0>=c&&0<f?a:0>=f&&0<c?b:-1};c.prototype.HR=function(){var a=new e.ha(0);a.zb(this.a.ud);
for(var b=this.a.Pr(),c=b.next();-1!=c;c=b.next())-1!=this.a.Sa(c,this.Wh)&&a.add(c);this.a.Xx(a,a.size);this.IR(a)};c.prototype.IR=function(a){this.Ef.clear();this.Ef.Ne(a.size);this.Ef.Lp(new d(this.a));var b=new e.b;b.Yc();for(var c=-1,f=new e.b,g=0,h=a.size;g<h;g++){var m=a.get(g);this.a.Mc(m,f);f.vb(b)?(m=this.a.Sa(m,this.Wh),this.Rn(c,m)):(c=this.ff(m),this.a.Mc(m,b),m=this.Ef.yo(m),this.vu(c,m))}};c.prototype.JR=function(){var a=new e.ha(0);a.zb(this.a.ud);for(var b=this.Ef.wc(-1);-1!=b;b=
this.Ef.nb(b))a.add(this.Ef.ia(b));this.Ef.clear();this.a.Xx(a,a.size);for(var b=0,c=a.size;b<c;b++){var f=a.get(b),d=this.ff(f),f=this.Ef.yo(f);this.vu(d,f)}};c.prototype.zG=function(a,b){var c=this.Sl(a);if(-1!=c){var f=c;do e.Zc.EA(this.Jq(f))&&b.add(f),f=this.Kq(f,a);while(f!=c)}};c.prototype.fL=function(a,b){for(a=this.Hh.wc(this.Ls(a));-1!=a;a=this.Hh.nb(a))this.a.Nf(this.Hh.ia(a),b)};c.prototype.MK=function(a,b,c,f){this.Nv(a);-1!=b&&this.Nv(b);this.zJ(0,a,f);-1!=b&&this.zJ(1,b,f);-1!=c&&(f.ag.w(this.sp),
this.Do(c,this.pj),this.pj.vb(this.sp)||this.el.add(c));c=0;for(var e=this.el.size;c<e;c++){var g=this.el.get(c),d=this.Oz(g);-1!=d&&(this.Ef.Jd(d,-1),this.vu(g,-1))}c=this.si(a);e=-1!=b?this.si(b):-1;this.kF(c,f,0);-1!=b&&this.kF(e,f,1);this.dG(a,f,0);-1!=b&&this.dG(b,f,1);this.fe.zh(c);this.Mv(a);-1!=b&&(this.fe.zh(e),this.Mv(b));c=0;for(e=this.el.size;c<e;c++)g=this.el.get(c),g==this.zr&&(this.Kw=!0),d=this.Oz(g),-1==d&&(d=this.Ef.bF(this.FG(g)),-1==d?(a=this.ff(this.Ef.ia(this.Ef.IG())),this.Rn(a,
g)):this.vu(g,d));this.el.clear(!1)};c.prototype.Do=function(a,b){this.a.gH(this.Pz(a),b)};c.prototype.FG=function(a){return this.Hh.Fo(this.Ls(a))};c.prototype.JC=function(){this.Kw=!1;this.zr=-1;null==this.te&&(this.Sc.Dw=!1,this.te=new b(this),this.Sc.Uo=this.te);var c=new e.ha(0),f=null,d=null,t=0;this.II=this.NI=-1;this.Qo=!1;for(var w=this.Ef.wc(-1);-1!=w;){t++;this.Qo=!1;var m=this.Ef.ia(w);this.zr=this.ff(m);this.a.Mc(m,this.Uh);this.te.EK(this.Uh.y,this.Uh.x);var l,n=this.Sl(this.zr);l=-1==
n;if(!l){m=n;do{var p=this.Jq(m);-1==p?(this.Jh.add(m),this.zm(m,-3)):-3!=p&&c.add(p);m=this.Kq(m,this.zr)}while(m!=n)}if(0<c.size){this.Qo=1==c.size&&1==this.Jh.size;l=0;for(n=c.size;l<n;l++)m=this.Sc.ia(c.get(l)),this.zm(m,-2);var r=-2,u=-2;l=0;for(n=c.size;l<n;l++){p=c.get(l);if(-2==r){var v=this.Sc.Se(p);-1!=v?(m=this.Sc.ia(v),m=this.Jq(m),-2!=m&&(r=v)):r=-1}-2==u&&(p=this.Sc.nb(p),-1!=p?(m=this.Sc.ia(p),m=this.Jq(m),-2!=m&&(u=p)):u=-1);if(-2!=r&&-2!=u)break}l=0;for(n=c.size;l<n;l++)p=c.get(l),
m=this.Sc.ia(p),this.Sc.Jd(p,-1),this.zm(m,-1);c.clear(!1);this.NI=-1!=r?r:-1;this.II=-1!=u?u:-1;-1!=r&&-1!=u?this.Qo||this.LP(r,u):-1==r&&-1==u&&(this.Qo=!1)}else l&&(null==f&&(f=new a(this)),f.Zh(this.Uh),this.Sc.$J(f),f.Lg&&(f.Es(),this.VR(this.zr,f.xn)));this.VT();this.Kw?(this.Kw=!1,null==d&&(d=new h(this.a)),d.Zh(this.Uh),w=this.Ef.$J(d)):w=this.Ef.nb(w)}return this.Ro};c.prototype.Xr=function(a){this.a=a;this.Wh=this.a.Sd();this.ib.Ne(a.ud+32);this.Md.Ne(a.ud);this.Hh.ru(a.ud);this.Hh.ao(a.ud);
this.fe.ru(a.ud+32);this.fe.ao(a.ud+32);for(a=this.a.qd;-1!=a;a=this.a.Re(a))if(e.T.Hc(this.a.ic(a)))for(m=this.a.Pb(a);-1!=m;m=this.a.Sb(m)){var b=this.a.La(m),c=this.a.cb(m),f=this.Sn(c),g=this.eu(c);this.Nj(g,f);l=this.a.U(c);c=0;for(b-=2;c<b;c++){var d=this.a.U(l),h=this.Sn(l);this.Nj(g,h);g=this.eu(l);this.Nj(g,h);l=d}this.a.Qb(m)?(h=this.Sn(l),this.Nj(g,h),g=this.eu(l),this.Nj(g,h),this.Nj(g,f)):(h=this.Sn(l),this.Nj(g,h))}else for(var m=this.a.Pb(a);-1!=m;m=this.a.Sb(m))for(var l=this.a.cb(m),
f=0,b=this.a.La(m);f<b;f++)this.Sn(l),l=this.a.U(l);this.HR()};return c}();e.bE=c})(x||(x={}));(function(e){var d=function(d){function b(a,c,f){var g=d.call(this)||this;if(void 0!==a)if(void 0!==f){g.description=e.we.Hg();var k=new e.od;k.I(a,c,f);g.EC(k)}else if(void 0!==c)g.description=e.we.Hg(),g.rb(a,c);else if(a instanceof e.ma)g.description=a;else if(a instanceof e.b)g.description=e.we.Hg(),g.rb(a);else if(a instanceof b)g.description=a.description,g.rb(a.Te(),a.Cf()),null!==a.ka&&(g.ka=a.ka.slice(0));
else throw e.g.F();else g.description=e.we.Hg();return g}fa(b,d);b.prototype.w=function(a){if(void 0!==a){if(this.Gc())throw e.g.X("This operation should not be performed on an empty geometry.");a.ja(this.ka[0],this.ka[1])}else{if(this.Gc())throw e.g.X("This operation should not be performed on an empty geometry.");a=new e.b;a.ja(this.ka[0],this.ka[1]);return a}};b.prototype.rb=function(a,b){"number"===typeof a?(this.zc(),null==this.ka&&this.nq(),this.ka[0]=a,this.ka[1]=b):(this.zc(),this.rb(a.x,
a.y))};b.prototype.oA=function(){if(this.Gc())throw e.g.X("This operation should not be performed on an empty geometry.");var a=new e.od;a.x=this.ka[0];a.y=this.ka[1];a.z=this.description.kH()?this.ka[2]:e.ma.be(1);return a};b.prototype.EC=function(a){this.zc();var b=this.hasAttribute(1);b||e.ma.DH(1,a.z)||(this.Rd(1),b=!0);null==this.ka&&this.nq();this.ka[0]=a.x;this.ka[1]=a.y;b&&(this.ka[2]=a.z)};b.prototype.Te=function(){if(this.Gc())throw e.g.X("This operation should not be performed on an empty geometry.");
return this.ka[0]};b.prototype.DC=function(a){this.setAttribute(0,0,a)};b.prototype.Cf=function(){if(this.Gc())throw e.g.X("This operation should not be performed on an empty geometry.");return this.ka[1]};b.prototype.FK=function(a){this.setAttribute(0,1,a)};b.prototype.yT=function(){return this.Wc(1,0)};b.prototype.WX=function(a){this.setAttribute(1,0,a)};b.prototype.SS=function(){return this.Wc(2,0)};b.prototype.GX=function(a){this.setAttribute(2,0,a)};b.prototype.Bc=function(){return this.CG(3,
0)};b.prototype.pK=function(a){this.setAttribute(3,0,a)};b.prototype.Wc=function(a,b){var c=this.description.lg(a);return 0<=c?this.ka[this.description.zk(c)+b]:e.ma.be(a)};b.prototype.CG=function(a,b){var c=this.description.lg(a);return 0<=c?this.ka[this.description.zk(c)+b]:e.ma.be(a)};b.prototype.setAttribute=function(a,b,f){this.zc();var c=this.description.lg(a);0>c&&(this.Rd(a),c=this.description.lg(a));null==this.ka&&this.nq();this.ka[this.description.zk(c)+b]=f};b.prototype.G=function(){return 33};
b.prototype.ub=function(){return 0};b.prototype.Oa=function(){this.zc();null!=this.ka&&(this.ka[0]=NaN,this.ka[1]=NaN)};b.prototype.to=function(a){if(null!=this.ka){for(var b=e.we.vx(a,this.description),f=[],g=0,d=0,q=a.Ga;d<q;d++){var t=a.pd(d),h=e.ma.Xa(t);if(-1==b[d])for(var m=e.ma.be(t),t=0;t<h;t++)f[g]=m,g++;else for(m=this.description.zk(b[d]),t=0;t<h;t++)f[g]=this.ka[m],g++,m++}this.ka=f}this.description=a};b.prototype.nq=function(){this.QJ(this.description.Ye.length);b.N(this.description.Ye,
this.ka,this.description.Ye.length);this.ka[0]=NaN;this.ka[1]=NaN};b.prototype.Vc=function(a){if(a instanceof e.Gd){if(!this.Gc()){var b=this.w();a.ai(b,b);this.rb(b)}}else this.Gc()||(this.Rd(1),b=this.oA(),this.EC(a.Yp(b)))};b.prototype.copyTo=function(a){if(33!=a.G())throw e.g.F();a.zc();null==this.ka?(a.Oa(),a.ka=null,a.Eg(this.description)):(a.Eg(this.description),a.QJ(this.description.Ye.length),b.N(this.ka,a.ka,this.description.Ye.length))};b.prototype.Ka=function(){return new b(this.description)};
b.prototype.u=function(){return this.Gc()};b.prototype.Gc=function(){return null==this.ka||isNaN(this.ka[0])||isNaN(this.ka[1])};b.prototype.Wn=function(a){a.Oa();this.description!=a.description&&a.Eg(this.description);a.Nb(this)};b.prototype.s=function(a){this.Gc()?a.Oa():(a.o=this.ka[0],a.A=this.ka[1],a.v=this.ka[0],a.B=this.ka[1])};b.prototype.Jp=function(a){if(this.Gc())a.Oa();else{var b=this.oA();a.o=b.x;a.A=b.y;a.xf=b.z;a.v=b.x;a.B=b.y;a.Zg=b.z}};b.prototype.hg=function(a,b){var c=new e.yc;
if(this.Gc())return c.Oa(),c;a=this.Wc(a,b);c.ga=a;c.la=a;return c};b.prototype.QJ=function(a){if(null==this.ka)this.ka=e.J.df(a);else if(this.ka.length<a){for(var b=this.ka.slice(0),f=this.ka.length;f<a;f++)b[f]=0;this.ka=b}};b.N=function(a,b,f){if(0<f)for(f=0;f<a.length;f++)b[f]=a[f]};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.Gc())return a.Gc()?!0:!1;for(var c=0,f=this.description.Ye.length;c<f;c++)if(this.ka[c]!=a.ka[c])return!1;
return!0};b.prototype.kc=function(){var a=this.description.kc();if(!this.Gc())for(var b=0,f=this.description.Ye.length;b<f;b++)var g=this.ka[b],g=e.J.truncate(g^g>>>32),a=e.J.bh(g,a);return a};b.prototype.Fg=function(){return null};return b}(e.T);e.Wa=d})(x||(x={}));(function(e){var d=function(){function e(b,a,c){void 0!==b&&(this.x=b,this.y=a,this.z=c)}e.pa=function(b,a,c){var f=new e;f.x=b;f.y=a;f.z=c;return f};e.prototype.I=function(b,a,c){this.x=b;this.y=a;this.z=c};e.prototype.Vx=function(){this.z=
this.y=this.x=0};e.prototype.normalize=function(){var b=this.length();0==b&&(this.x/=b,this.y/=b,this.z/=b)};e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};e.prototype.sub=function(b){return new e(this.x-b.x,this.y-b.y,this.z-b.z)};e.prototype.Tg=function(b){return new e(this.x*b,this.y*b,this.z*b)};e.prototype.iv=function(){this.x=NaN};e.prototype.Dy=function(){return isNaN(this.x)};e.prototype.pi=function(b){return this.x*b.x+this.y*b.y+this.z*b.z};return e}();
e.od=d})(x||(x={}));(function(e){var d=function(){function d(b,a,c){this.tx=this.dx=null;this.sg=a;this.gV=a.y-c;this.fV=a.y+c;this.Hr=0;this.PA=b;this.ta=c;this.sV=c*c;this.QA=0!=c;this.yw=!1}d.prototype.result=function(){return 0!=this.Hr?1:0};d.prototype.tO=function(b){b=b.hc(b.ne(this.sg,!1));return e.b.sc(b,this.sg)<=this.sV?!0:!1};d.prototype.mG=function(b){if(!this.QA&&(this.PA&&this.sg.vb(b.ec())||this.sg.vb(b.Ac())))this.yw=!0;else if(b.ra==this.sg.y&&b.ra==b.oa){if(this.PA&&!this.QA){var a=
Math.max(b.ua,b.sa);this.sg.x>Math.min(b.ua,b.sa)&&this.sg.x<a&&(this.yw=!0)}}else{var c=!1,a=Math.max(b.ua,b.sa);this.sg.x>a?c=!0:this.sg.x>=Math.min(b.ua,b.sa)&&(c=0<b.Tq(!0,this.sg.y,this.tx,null)&&this.tx[0]<=this.sg.x);if(c){if(this.sg.y==b.ec().y){if(this.sg.y<b.Ac().y)return}else if(this.sg.y==b.Ac().y&&this.sg.y<b.ec().y)return;this.Hr=this.PA?this.Hr^1:this.Hr+(b.ec().y>b.Ac().y?1:-1)}}};d.prototype.mu=function(b){var a=b.hg(0,1);if(a.ga>this.fV||a.la<this.gV)return!1;if(this.QA&&this.tO(b))return!0;
if(a.ga>this.sg.y||a.la<this.sg.y)return!1;null==this.dx&&(this.dx=[null,null,null,null,null]);null==this.tx&&(this.tx=[0,0,0]);a=b.hH(this.dx);if(0<a)for(b=0;b<a;b++){var c=this.dx[b].get();this.mG(c);if(this.yw)return!0}else if(this.mG(b),this.yw)return!0;return!1};d.N=function(b,a,c){a=new d(0==b.Eo(),a,c);for(b=b.Fa();b.Ya();)for(;b.Ea();)if(c=b.ba(),a.mu(c))return-1;return a.result()};d.dc=function(b,a,c,f){var g=new e.h;b.ac(g);g.P(f,f);var k=new d(0==b.Eo(),c,f);b=b.Fa();var q=new e.h;q.I(g);
q.v=c.x+f;q.A=c.y-f;q.B=c.y+f;c=a.$z(q,f);for(f=c.next();-1!=f;f=c.next())if(b.Tb(a.ia(f)),b.Ea()&&(f=b.ba(),k.mu(f)))return-1;return k.result()};d.qn=function(b,a,c){if(b.u())return 0;var f=new e.h;b.ac(f);f.P(c,c);if(!f.contains(a))return 0;f=b.ob;if(null!=f){var g=f.Ii;if(null!=g){g=g.wm(a.x,a.y);if(1==g)return 1;if(0==g)return 0}f=f.Mb;if(null!=f)return d.dc(b,f,a,c)}return d.N(b,a,c)};d.yU=function(b,a,c,f){if(b.u())return 0;var g=new e.h;b.ac(g);g.P(f,f);if(!g.contains(a,c))return 0;g=b.ob;
if(null!=g&&(g=g.Ii,null!=g)){g=g.wm(a,c);if(1==g)return 1;if(0==g)return 0}return d.N(b,e.b.pa(a,c),f)};d.xU=function(b,a,c){return a.u()?0:d.qn(b,a.w(),c)};d.BA=function(b,a,c,f,g){var k=new e.h;b.ac(k);k.P(f,f);if(!k.contains(c))return 0;var q=new d(!0,c,f);if(null!=g){var t=new e.h;t.I(k);t.v=c.x+f;t.A=c.y-f;t.B=c.y+f;b=b.Fa();f=g.$z(t,f);for(t=f.next();-1!=t;t=f.next())if(b.Tb(g.ia(t),a),b.Ea()&&b.Ta==a&&(t=b.ba(),q.mu(t)))return-1}else if(b=b.Fa(),b.hC(a),b.Ya())for(;b.Ea();)if(t=b.ba(),q.mu(t))return-1;
return q.result()};d.AA=function(b,a,c){var f=new e.h;b.ac(f);f.P(c,c);if(!f.contains(a))return 0;a=new d(!1,a,c);for(c=b.Fa();c.Ya();)if(!(0>b.Ym(c.Ta))){for(a.Hr=0;c.Ea();)if(f=c.ba(),a.mu(f))return-1;if(0!=a.Hr)return 1}return a.result()};d.Ug=function(b,a,c,f,g){var k=b.Fa();k.hC(a);if(!k.Ya()||!k.Ea())throw e.g.X("corrupted geometry");for(a=2;2==a&&k.Ea();)a=k.ba().hc(.5),a=d.BA(b,c,a,f,g);if(2==a)throw e.g.X("internal error");return 1==a?!0:!1};d.vm=function(b,a){b=b.D();return 16>b?!1:2*b+
Math.log(b)/Math.log(2)*1*a<1*b*a};return d}();e.cf=d})(x||(x={}));(function(e){var d=function(e){function b(a){return e.call(this,!0,a)||this}fa(b,e);b.prototype.Ka=function(){return new b(this.description)};b.prototype.ub=function(){return 2};b.prototype.G=function(){return 1736};b.prototype.yH=function(a,b,f){this.gU(a,b,f)};b.prototype.HS=function(){this.ZS()};return b}(e.Bl);e.Ja=d})(x||(x={}));(function(e){(function(e){e[e.PiPOutside=0]="PiPOutside";e[e.PiPInside=1]="PiPInside";e[e.PiPBoundary=
2]="PiPBoundary"})(e.jN||(e.jN={}));var d=function(){function d(){}d.KH=function(b,a,c){b=e.cf.xU(b,a,c);return 0==b?0:1==b?1:2};d.ee=function(b,a,c){b=e.cf.qn(b,a,c);return 0==b?0:1==b?1:2};d.BN=function(b,a,c,f){b=e.cf.yU(b,a,c,f);return 0==b?0:1==b?1:2};d.o_=function(b,a,c,f){return 0==e.cf.BA(b,a,c,f,null)?0:1};d.AA=function(b,a,c){return 0==e.cf.AA(b,a,c)?0:1};d.YY=function(b,a,c,f,g){if(a.length<c||g.length<c)throw e.g.F();for(var k=0;k<c;k++)g[k]=d.ee(b,a[k],f)};d.$Y=function(b,a,c,f,g){if(a.length/
2<c||g.length<c)throw e.g.F();for(var k=0;k<c;k++)g[k]=d.BN(b,a[2*k],a[2*k+1],f)};d.UK=function(b,a,c,f,g){if(1736==b.G())d.YY(b,a,c,f,g);else if(197==b.G()){var k=new e.h;b.s(k);d.OV(k,a,c,f,g)}else throw e.g.X("invalid_call");};d.A_=function(b,a,c,f,g){if(1736==b.G())d.$Y(b,a,c,f,g);else if(197==b.G()){var k=new e.h;b.s(k);d.YV(k,a,c,f,g)}else throw e.g.Da();};d.OV=function(b,a,c,f,g){if(a.length<c||g.length<c)throw e.g.F();if(b.u())for(f=0;f<c;f++)g[f]=0;else for(b.P(.5*-f,.5*-f),b.P(.5*f,.5*f),
f=0;f<c;f++)b.contains(a[f])?g[f]=1:b.contains(a[f])?g[f]=2:g[f]=0};d.YV=function(b,a,c,f,g){if(a.length/2<c||g.length<c)throw e.g.F();if(b.u())for(f=0;f<c;f++)g[f]=0;else for(b.P(.5*-f,.5*-f),b.P(.5*f,.5*f),f=0;f<c;f++)b.contains(a[2*f],a[2*f+1])?g[f]=1:b.contains(a[2*f],a[2*f+1])?g[f]=2:g[f]=0};d.xL=function(b,a,c,f,e){for(var g=0;g<c;g++)e[g]=b.ot(a[g],f)?2:0};d.bZ=function(b,a,c,f,e){var g=b.ob,d=null;null!=g&&(d=g.Ii);for(var g=c,t=0;t<c;t++)if(e[t]=1,null!=d){var h=a[t];0==d.wm(h.x,h.y)&&(e[t]=
0,g--)}if(0!=g)for(b=b.Fa();b.Ya()&&0!=g;)for(;b.Ea()&&0!=g;)for(d=b.ba(),t=0;t<c&&0!=g;t++)1==e[t]&&d.ot(a[t],f)&&(e[t]=2,g--);for(t=0;t<c;t++)1==e[t]&&(e[t]=0)};d.VK=function(b,a,c,f,g){var k=b.G();if(1607==k)d.bZ(b,a,c,f,g);else if(e.T.Nc(k))d.xL(b,a,c,f,g);else throw e.g.X("Invalid call.");};return d}();e.fd=d})(x||(x={}));(function(e){var d=function(e){function b(a,b){var c;2==arguments.length?(c=e.call(this,!1,a.description)||this,c.Of(a),c.lineTo(b)):c=e.call(this,!1,a)||this;return c}fa(b,
e);b.prototype.Ka=function(){return new b(this.description)};b.prototype.ub=function(){return 1};b.prototype.G=function(){return 1607};b.prototype.yH=function(a,b,f,e){this.hU(a,b,f,e)};return b}(e.Bl);e.Ua=d})(x||(x={}));(function(e){var d=function(){function e(){}e.JZ=function(){};return e}();e.FZ=d})(x||(x={}));(function(e){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(e.RL||(e.RL={}));var d=function(){function a(){this.Ol=
3;this.sz=this.Cv=NaN}a.prototype.DT=function(){return this.gt(1)};a.prototype.ET=function(){return this.gt(2)};a.prototype.gt=function(a){return 0!=(this.Ol&a)};a.prototype.Sf=function(){var b=new a;b.Cv=this.Cv;b.sz=this.sz;b.Ol=this.Ol;return b};return a}();e.pZ=d;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(e.SL||(e.SL={}));var h=function(){function a(){this.Ol=0}a.prototype.gt=function(a){return 0!=
(this.Ol&a)};a.me=function(b){var c=new a;c.Ol=b.Ol;return c};a.prototype.ZN=function(a){this.Ol=a.Ol};return a}();e.qZ=h;var b=function(){function a(a,b,g){this.he=a;this.Ee=b;this.qg=new e.h;this.qg.I(g);this.bV=a.kc()+b.kc()+this.qg.kc().toString()}a.prototype.kc=function(){return this.bV};a.prototype.Eb=function(a){return this==a||this.he.Eb(a.he)&&this.Ee.Eb(a.Ee)&&this.qg.Eb(a.qg)};return a}();e.GZ=b;b=function(){function a(){this.Ee=this.he=null;this.qI=new d;this.rI=new h;this.xr=this.re=
null;this.sr=this.Yl=!0}a.Gs=function(b,f,e,d){var c;void 0===d&&(d=null);void 0===c&&(c=null);var g=new a;g.kq(b,f,e,d,c);return g};a.prototype.kq=function(a,b,g,d,q){if(null==a||null==b)throw e.g.X("invalidArgument");this.he=a;this.Ee=b;this.sr=this.Yl=!1;null!=d&&(this.qI=d.Sf());null!=q&&this.rI.ZN(q);q=!1;1==b.Fb()&&null!=d&&(d=d.Cv,isNaN(d)||0==d||(q=!0));if(a==b)this.Yl=!q,this.sr=!0;else{d=a.Fb();var c=b.Fb();if(0==d||0==c){if(null!=g)throw e.g.F();null!=a.Td()&&null!=b.Td()&&(this.Yl=a.Td().Eb(b.Td()))}else 3==
d||3==c?this.Yl=a.Eb(b):this.he.JT(this.Ee)?this.Yl=!q:this.Yl=!1,this.re=g,null!=this.re&&this.re.Tp(),this.sr=(null==this.re||0==this.re.count())&&this.he.lc().Eb(this.Ee.lc())}this.jL()};a.prototype.Wv=function(){var b=new a;b.he=this.Ee;b.Ee=this.he;null!=this.re&&(b.re=this.re.Wv());b.Yl=this.Yl;b.sr=this.sr;b.jL();return b};a.prototype.No=function(){return this.Yl};a.prototype.FS=function(){return this.qI.Sf()};a.prototype.Eb=function(b){return b==this?!0:b instanceof a&&this.he.Eb(b.he)&&this.Ee.Eb(b.Ee)?
this.re==b.re?!0:null!=this.re&&null!=b.re&&this.re.Eb(b.re)?!0:!1:!1};a.prototype.jL=function(){this.xr=new e.qo(this)};a.z_={};return a}();e.rs=b})(x||(x={}));(function(e){var d=function(){function b(){}b.uq=function(a){return a*b.$V};b.Wx=function(a,c){return b.PY(c-a)};b.SY=function(a){if(-360<=a&&720>a)return 0>a?a+=360:360<=a&&(a-=360),a;a=e.Ub.TL(a);0>a&&(a+=360);return a};b.PY=function(a){a=b.SY(a);180<a&&(a-=360);return a};b.SZ=.0174532925199433;b.$V=57.29577951308232;return b}();e.ks=d;
var h=function(){function b(){}b.Qj=function(a,b){var c=new e.h;a.s(c);var g=e.fb.Ch(b),d=new e.h;d.I(g);d.o=c.o;d.v=c.v;d.P(.01*d.ea(),0);g=e.na.$d(b,c,!1);return d.contains(c)?a:e.le.clip(a,d,g,0)};b.jt=function(a,c,f,g,d){if(!e.fb.Ic(c))throw e.g.F();var k=e.na.$g(c,a,!1),t=e.fb.Ch(c),h=e.fb.lc(c),m=h.Td().Bi,l=e.fb.hw(h),h=e.fb.Sv(h),l=l*(2-l),n=new e.yc;t.Yn(n);var p=[[0,0],[0,0]];2==e.ve.Fb(c)?g?(p[0][0]=b.Tn(d,n),p[0][1]=t.Cq(),e.fb.nu(),t=p[0][0]*m):(p[0][0]=t.Jk(),p[0][1]=d,e.fb.nu(),t=p[0][1]*
m):t=d*m;if(!g&&0!=t)throw e.g.F();var r=new e.da,u=new e.ed;a=u.Jb(a);for(var v=[0],x=new e.b,z=new e.b,y=new e.b,A=new e.b,C=new e.b,B=new e.b,H=u.Pb(a);-1!=H;H=u.Sb(H)){var J=u.cb(H);u.w(J,y);for(var E=!1,F=J=u.U(J);-1!=F;F=u.U(F)){if(F==J){if(E)break;E=!0}u.w(F,A);if(g&&k<d-y.x&&A.x-d>k||k<d-A.x&&y.x-d>k||!g&&k<-y.y&&A.y>k||k<-A.y&&y.y>k){do if(!(Math.abs(y.x-A.x)>=.5*n.O())){2==e.ve.Fb(c)?(p[0][0]=b.Tn(y.x,n),p[0][1]=y.y,p[1][0]=b.Tn(A.x,n),p[1][1]=A.y,e.fb.xW(),C.x=p[0][0]*m,C.y=p[0][1]*m,B.x=
p[1][0]*m,B.y=p[1][1]*m):(C.x=y.x*m,C.y=y.y*m,B.x=A.x*m,B.y=A.y*m);B.x=6.283185307179586*(A.x-y.x)/n.O()+C.x;if(g){if(z.x=t,z.y=b.sA(h,l,C,B,t,f),isNaN(z.y))break}else{z.x=b.pA(h,l,C,B,f);if(isNaN(z.x))break;z.y=0}e.mb.Kd(h,l,C.x,C.y,B.x,B.y,r,null,null,f);var V=r.j;e.mb.Kd(h,l,C.x,C.y,z.x,z.y,r,null,null,f);var K=r.j;2==e.ve.Fb(c)?(p[0][0]=z.x/m,p[0][1]=z.y/m,e.fb.tS(),g?(x.y=p[0][1],x.x=d):(x.x=b.zl(p[0][0],y.x,A.x,n),x.y=d)):g?(x.x=d,x.y=z.y/m):(x.x=b.zl(z.x/m,y.x,A.x,n),x.y=d);v[0]=0<V?e.J.tk(K/
V,0,1):.5;0!=v[0]&&1!=v[0]&&(V=u.Ra(F),u.Em(V,v,1),u.rb(u.U(V),x.x,x.y))}while(0)}y.L(A)}}return u.Pe(a)};b.cn=function(a,c,f,g,d){if(a.u())return a;var k=e.fb.ce(c);return b.Aq(a,f-180*k,360*k,c,g,d,!0)};b.sA=function(a,c,f,g,d,q){if(3.141592653589793<=Math.abs(f.x-g.x)||!b.Ug(f.x,g.x,d))return NaN;var k;f.x>g.x?k=g:(k=f,f=g);g=new e.da(0);var h=new e.da(0),m=new e.da(0);e.mb.Kd(a,c,k.x,k.y,f.x,f.y,h,g,null,q);var l=h.j,n=0,p=1,r=new e.b;for(r.L(k);l*(p-n)>1E-12*a;){var u=.5*(n+p);e.mb.Sj(a,c,k.x,
k.y,l*u,g.j,h,m,q);r.x=h.j;r.y=m.j;if(r.x==d)break;if(b.Ug(k.x,r.x,d))p=u;else if(b.Ug(f.x,r.x,d))n=u;else return NaN}return r.y};b.Ug=function(a,b,f){a=d.uq(a);b=d.Wx(a,d.uq(b));f=d.Wx(a,d.uq(f));return 0==f||0<b&&0<f&&f<=b||0>b&&0>f&&f>=b?!0:!1};b.Tn=function(a,b){var c=b.la-b.ga;return b.yu(a-Math.floor((a-b.ga)/c)*c)};b.zl=function(a,b,f,g){var c=new e.yc;c.I(b,f);f=g.O();a=Math.floor((a-b)/f)*f+a;for(c=c.Tf();Math.abs(a-c)>Math.abs(a+f-c);)a+=f;return a};b.pA=function(a,b,f,g,d){var c;f.y>g.y?
c=g:(c=f,f=g);g=new e.yc;g.I(c.y,f.y);if(!g.contains(0)||3.141592653589793<=Math.abs(c.x-f.x))return NaN;if(c.x==f.x)return c.x;var k=new e.da(0),h=new e.da(0),m=new e.da(0);e.mb.Kd(a,b,c.x,c.y,f.x,f.y,h,k,null,d);var l=h.j,n=0,p=1,r=new e.b;for(r.L(c);l*(p-n)>1E-12*a;){var u=.5*(n+p);e.mb.Sj(a,b,c.x,c.y,l*u,k.j,h,m,d);r.x=h.j;r.y=m.j;g.I(c.y,r.y);if(0==r.y)break;if(g.contains(0))p=u;else if(g.I(f.y,r.y),g.contains(0))n=u;else return NaN}return r.x};b.Aq=function(a,b,f,g,d,q,t){var c=new e.h;a.s(c);
if(c.u())return a;var k=new e.yc;c.Yn(k);var h=new e.yc;h.I(b,b+f);if(h.contains(k)&&h.la!=k.la)return a;var m=new e.h;m.I(c);var l=a.G();if(33==l){m=d?a:a.Sf();c=m.Te();if(c<h.ga||c>=h.la||t&&c==h.la)c+=Math.ceil((h.ga-c)/f)*f,c=h.yu(c),m.DC(c);return m}if(550==l){m=d?a:a.Sf();g=m.Qa(0);l=2*m.D();a=!1;for(d=0;d<l;d+=2)if(c=g.read(d),c<h.ga||c>=h.la||t&&c==h.la)a=!0,c+=Math.ceil((h.ga-c)/f)*f,c=h.yu(c),g.write(d,c);a&&m.Cc(1993);return m}if(h.contains(k))return a;if(197==l)return f=d?a:a.Sf(),c.Ma(m),
f.Np(c),f;var n=.1*Math.max(c.ea(),c.O());m.P(0,n);t=a;h=g.pe(0);a=e.ei.local();d=new e.Gd;for(var p=0;;){var r=Math.floor((k.ga-b)/f),u=Math.ceil((k.la-b)/f);if(3<u-r){r=Math.floor(.5*(u+r));m.o=c.o-n;m.v=b+f*r;var v=e.le.clip(t,m,h,q);m.o=m.v;m.v=c.v+n;var x=e.le.clip(t,m,h,q);d.zg((r-u)*f,0);x.Vc(d);1736==l?t=a.V(v,x,g,null):(t=v,t.add(x,!1));t.s(c);c.Yn(k);p++}else break}m.o=b;m.v=b+f;b=new e.h;b.I(m);b.P(h,0);b=Math.floor((c.o-m.o)/f)*f;0!=b?(m.move(b,0),d.zg(-b,0)):d.sC();b=1607==l?new e.Ua(t.description):
new e.Ja(t.description);q=new e.h;for(k=new e.h;c.v>m.o;){n=e.le.clip(t,m,h,0);n.s(k);if(1607==l?!n.u()&&(k.O()>h||k.ea()>h):!n.u()&&(1736!=l||k.O()>h))n.Vc(d),n.s(k),b.s(q),q.P(h,h),q.Yb(k)&&1736==l?b=a.V(b,n,g,null):b.add(n,!1);m.move(f,0);d.shift(-f,0)}return b};b.CJ=function(a,b,f,g,d){var c=new e.Dd(f.description);c.Hd(f,0,-1);d=e.fb.Vg(c,a,b,d);c=f.D();g.Oa();if(!e.fb.Ic(a)||c!=d.D())return!1;var k=new e.h;f.s(k);var h=new e.h;d.s(h);k=k.O();h=h.O();if(0!=k&&0!=h){if(h/=k,a=e.fb.Ch(b).O()/e.fb.Ch(a).O(),
1E-10<Math.abs(h/a-1))return!1}else if(0!=k||0!=h)return!1;g.add(f,!1);for(f=0;f<c;f++)a=d.Ba(f),g.rb(f,a);return!0};b.xA=function(){throw e.g.af();};return b}();e.gi=h})(x||(x={}));(function(e){var d;(function(a){a[a.Clip=0]="Clip";a[a.DontClip=1]="DontClip";a[a.PannableFold=2]="PannableFold"})(d=e.Qi||(e.Qi={}));var h;(function(a){a[a.Geodesic=0]="Geodesic";a[a.Loxodrome=1]="Loxodrome";a[a.GreatElliptic=2]="GreatElliptic";a[a.NormalSection=3]="NormalSection";a[a.ShapePreserving=4]="ShapePreserving"})(h=
e.cM||(e.cM={}));var b=function(){function a(){}a.iw=function(a,b,g){if(g||0<b){a=a.toString(e.Uc.PE_STR_NAME_CANON|e.Uc.PE_STR_AUTH_NONE);b=[];for(g=0;g<a.length;g++)b[g]="a"<=a[g]&&"z">=a[g]?b[g]=a[g].toUpperCase():a[g];return b.join()}return a.toString(e.Uc.PE_STR_AUTH_TOP)};a.qs=function(a,b,g,d){var c=d.length,f=g.D();if(0!=f){var k=g.Qa(0),h=Math.min(f,c),m=0,l=a.Jg();isNaN(b)&&(b=0);var n=a.Ic();a=n?a.lc().oe().O():0;for(var p=179*a/360;0<f;){k.Hx(m<<1,h,d,0,!0);e.fi.projToGeogCenter(l,h,d,
b);if(n)for(var r=0;r<h;r++){var u=d[r][0]-b,v=e.Ub.sign(u),x=k.read(2*(m+r));0>v*e.Ub.sign(x)&&Math.abs(u)>p&&(d[r][0]+=-v*a)}k.hy(m<<1,h,d,0,!0);m+=h;f-=h;h=Math.min(f,c)}g.Cc(1993)}};a.rZ=function(a,b,g,d){var c=a.Jg();isNaN(b)&&(b=0);var f=g.Te();d[0][0]=f;d[0][1]=g.Cf();e.fi.projToGeogCenter(c,1,d,b);a.Ic()&&(b=e.Ub.sign(d[0][0]-b),0>b*e.Ub.sign(f)&&(a=a.lc().oe().O(),Math.abs(d[0][0])>179*a/360&&(d[0][0]-=b*a)));g.rb(d[0][0],d[0][1])};a.$M=function(a,b,g,d){var c=0,f=a.Jg();isNaN(c)&&(c=0);
var k=a.Ic(),h=a.ce();a=360*h;for(var h=179*h,m=d.length,l=0;l<g;){for(var n=l;n<g&&b[n].isNaN();++n)l++;var p=Math.min(m,g-l);if(0<p){for(var n=1,r=l+1;n<p;++n,++r)if(b[r].isNaN()){p=n;break}e.na.mz(d,b,l,p);e.fi.projToGeogCenter(f,p,d,c);if(k)for(n=0,r=l;n<p;++n,++r){var u=b[r].x,v=d[n][0]-c,x=e.Ub.sign(v);0>x*e.Ub.sign(u)&&Math.abs(v)>h&&(d[n][0]-=x*a)}e.na.lz(b,l,d,p);l+=p}}};a.ry=function(a,b,g){var c=g.length,f=b.D();if(!(1>f)){var d=b.Qa(0),h=Math.min(f,c),m=0,l=a.Jg(),n=a.Ic(),p=n?a.oe().O():
0,r=179*p/360,u=0;for(n&&(u=a.ri());0<f;){d.Hx(m<<1,h,g,0,!0);e.fi.geogToProj(l,h,g);if(n)for(a=0;a<h;a++){var v=g[a][0],x=e.Ub.sign(v),z=d.read(2*(m+a))-u;0>x*e.Ub.sign(z)&&Math.abs(v)>r&&(g[a][0]+=-x*p)}d.hy(m<<1,h,g,0,!0);m+=h;f-=h;h=Math.min(f,c)}b.Cc(1993)}};a.oZ=function(a,b,g){if(!b.u()){var c=a.Jg();g[0][0]=b.Te();g[0][1]=b.Cf();e.fi.geogToProj(c,1,g);if(a.Ic()){var c=e.Ub.sign(g[0][0]),f=a.ri();0>c*e.Ub.sign(b.Te()-f)&&(a=a.oe().O(),Math.abs(g[0][0])>179*a/360&&(g[0][0]-=c*a))}b.rb(g[0][0],
g[0][1])}};a.ZM=function(a,b,g,d){if(0!=g){var c=a.Jg(),f=a.Ic(),k=f?a.oe().O():0,h=179*k/360,m=0;f&&(m=a.ri());for(a=0;a<g;){for(var l=a;l<g&&b[l].isNaN();++l)a++;var n=Math.min(d.length,g-a);if(0<n){for(var l=1,p=a+1;l<n;++l,++p)if(b[p].isNaN()){n=l;break}e.na.mz(d,b,a,n);e.fi.geogToProj(c,n,d);if(f)for(l=0,p=a;l<n;l++){var r=d[l][0],u=e.Ub.sign(r);0>u*e.Ub.sign(b[p].x-m)&&Math.abs(r)>h&&(d[l][0]-=u*k)}e.na.lz(b,a,d,n);a+=n}}}};a.ps=function(a,b,g,d){var c=b.D();if(0!=c){var f=b.Qa(0),k=a.he,h=
a.Ee,m=k.lc().Zi(),l=h.lc().Zi(),n=k.ce(),p=h.ce();a=a.re;if(null==a||0==a.count()){g=m/l;d=(k.kn()-h.kn())*p;l=-90*n;a=90*n;m=!1;p=1;for(k=2*c;p<k;)n=f.get(p),h=e.J.tk(n,l,a),h!=n&&(f.set(p,h),m=!0),p+=2;if(0!=d||1!=g)for(m=!0,l=new e.b,p=0;p<c;p++)f.fc(2*p,l),l.x*=g,l.x+=d,l.y*=g,f.mo(2*p,l);m&&b.Cc(1993)}else{var k=d.length,h=Math.min(c,k),r=e.J.df(h),u=null,v=0,x=NaN,z=NaN,y=360*p,A=p/n;g&&(z=90*p,x=89.9*n,u=e.J.df(h));for(var C=!0,B=0;0!=c;){n=!1;f.Hx(v<<1,h,d,0,!0);for(p=0;p<h;p++)r[p]=d[p][0];
if(g)for(p=0;p<h;p++){var H=Math.abs(d[p][1])-x;0<H&&(n=d[p][1],d[p][1]=e.Ub.Kl(x,n),u[p]=e.Ub.Kl(H,n),n=!0)}p=d[0][0];a.transform(d,h,m,l);C&&(B=d[0][0]-A*p,C=!1);for(p=0;p<h;p++)H=d[p][0]-r[p]*A-B,200<Math.abs(H)&&(d[p][0]=0<H?d[p][0]-y:d[p][0]+y);if(n){for(p=0;p<h;p++)0!=u[p]&&(d[p][1]+=A*u[p],d[p][1]>z?d[p][1]=z:d[p][1]<-z&&(d[p][1]=-z));for(n=0;n<h;n++)u[n]=0}f.hy(v<<1,h,d,0,!0);v+=h;c-=h;h=Math.min(c,k)}b.Cc(1993)}}};a.iZ=function(a,b,g,d){if(b.u())return!1;var c=a.he,f=a.Ee,k=a.re,h=c.lc().Zi(),
m=f.lc().Zi();d[0][0]=b.Te();d[0][1]=b.Cf();if(null!=k&&0<k.count()){a=!0;var l=!1,n=NaN,p=0,r=1;g&&(g=c.ce(),n=f.ce(),r=n/g,n*=90,c=89.9*g,f=Math.abs(d[0][1])-c,0<f&&(l=d[0][1],d[0][1]=e.Ub.Kl(c,l),p=e.Ub.Kl(f,l),l=!0));k.transform(d,1,h,m);l&&0!=p&&(d[0][1]+=r*p,d[0][1]>n?d[0][1]=n:d[0][1]<-n&&(d[0][1]=-n));b.rb(d[0][0],d[0][1])}else{g=c.ce();a=e.J.tk(d[0][1],-90*g,90*g)!=d[0][1];n=f.ce();k=(c.kn()-f.kn())*n;h/=m;if(1!=h||0!=k)a=!0,d[0][0]*=h,d[0][0]+=k,d[0][1]*=h;a&&b.rb(d[0][0],d[0][1])}return a};
a.YM=function(a,b,g,d){var c;if(a.sr)d=90*a.he.ce(),e.na.JK(b,g,-d,d);else{var f=a.re,k=a.he,h=a.Ee;a=k.Vs();var m=h.Vs(),l=k.ce(),n=90*l,p=h.ce();if(null==f||0==f.count()){if(d=a/m,f=(k.kn()-h.kn())*p,e.na.JK(b,g,-n,n),0!=f||1!=d)for(p=0;p<g;p++)b[p].x*=d,b[p].x+=f,b[p].y*=d}else for(var k=Math.min(g,d.length),n=e.J.df(k),h=360*p,l=p/l,r=!0,u=0,v=0;0!=g;){for(p=0;p<k;p++)n[p]=b[p+v].x;p=b[0].x;e.na.mz(d,b,v,k);f.transform(d,k,a,m);e.na.lz(b,v,d,k);r&&(u=b[0].x-l*p,r=!1);for(p=0;p<k;p++)c=b[v+p].x-
n[p]*l-u,200<Math.abs(c)&&(b[v+p].x=0<c?b[v+p].x-h:b[v+p].x+h);v+=k;g-=k;k=Math.min(g,d.length)}}};a.YZ=function(b,f,e,d){return a.cn(b,f,isNaN(e)?0:e,!0,d,null)};a.Wu=function(a,b){a=a.Ch();isNaN(b)||a.Bv(b,0);return a};a.kS=function(b,f,g,d,q,h,m,l){for(var c=a.Wu(d,q),k=c.O(),t=k/360,w=a.ED*t,n=b.Qa(0),p=f.Ic(),r=p?k/f.oe().O():0,u=!1,v=new e.Ja(g.description),x=0,P=g.aa();x<P;++x){var z=p,y=new e.Ua(g.description);y.Ui(g,x,!0);if(0!=m){var A=a.yD(!0,y,c.B-l,c.B,m);(u=u||A)&&(z=!1)}var C=-1;z&&
(C=b.wa(x));var B=y.Qa(0),H=y.D(),J=0,E=B.read(0),F=0,A=3*d.pe(0),V=!1,K=new e.b;K.Yc();var M=new e.b;M.Yc();for(var R=!1,D=1;D<H;++D){var X=e.b.pa(B.Lf(2*D),B.Lf(2*D+1)),ha=X.x,I=ha+J,ca=I-E;X.x=I;if(Math.abs(ca)>w){if(z){var U=C+(D+1<H?D:0),ba=n.read(2*(C+D-1)),U=(n.read(2*U)-ba)*r;Math.abs(ca-U)>1*t&&(z=!1)}z||(J-=e.Ub.Kl(k,I-E),I=ha+J,++F,R=0!=J,X.x=I)}else V||e.na.BH(M,K,X,A)&&(V=!0);R&&B.write(2*D,I);E=I;M.L(K);K.L(X)}0<F&&y.Cc(1993);z=y.Ba(0);H=y.Ba(H-1);y=e.b.Cb(z,H)<A?a.lM(y,d,q,h,V):a.pM(b,
x,y,d,q);v.add(y,!1)}q=d.pe(0);g=c.O()/180;a.zu(v,c,.1*q,!1);q=e.th.clip(v,c,q,g,h);v=v!=q;b=b.ef();l=q.ef();m=0;0<l&&0>b?m=1:0>=l&&0<b&&(0==l?(l=NaN,2==f.Fb()?l=f.Ok().ef():1==f.Fb()&&(l=f.oe().AG()),b>.99*l&&(m=-1)):m=-1);0!=m&&(f=new e.Ja(q.description),f.oq(c),f=e.Pm.local().V(f,g,h),f.add(q,!1),v=!0,q=f);v&&(q=e.Qm.local().V(q,d,!1,h));return q};a.pM=function(b,f,g,d,q){var c=g.D(),k=g.Ba(0),h=g.Ba(c-1);d=a.Wu(d,q);q=d.O();var k=e.Ub.sign(h.x-k.x),m=new e.h;g.ac(m);var l=d.Jk(),n,h=l-q,l=l+q;
if(0<=k){for(var p=Math.ceil((h-m.o)/q),p=p*q;h>m.o+p;)p+=q;for(;h<m.v+p;)p-=q;n=p;720<m.O()&&(l=h+360*Math.ceil(m.O()/360))}else{p=Math.ceil((l-m.v)/q);for(p*=q;l<m.v+p;)p-=q;for(;l>m.o+p;)p+=q;n=p;720<m.O()&&(h=l-360*Math.ceil(m.O()/360))}var p=k*q,r=e.h.pa(m.o,m.A,m.v,m.B);r.move(n,0);var u=new e.Gd;u.zg(n,0);g.Vc(u);m=new e.Ua(g.description);m.add(g,!1);n=g.Ba(c-1);q=0;for(var v=m.Ba(0).x,x=0;0<k?r.v<l:r.o>h;)1024<=x&&(x=0),r.move(p,0),u.Wb=p,g.Vc(u),v+=p,d.o<=v&&d.v>=v&&(q=m.D()-1),g.rb(0,n),
n=g.Ba(c-1),m.zs(g,0,0,c-1,!1);g=new e.Ja(m.description);c=0<b.Ym(f);g.add(m,!1);b=m.Ba(0);h=m.Ba(m.D()-1);f=g.aa()-1;(0>k?c:!c)?(k=e.b.pa(h.x,d.B),g.bj(k),k=e.b.pa(d.Jk(),d.B),g.bj(k),d=e.b.pa(b.x,d.B)):(k=e.b.pa(h.x,d.A),g.bj(k),k=e.b.pa(d.Jk(),d.A),g.bj(k),d=e.b.pa(b.x,d.A));g.bj(d);g.yH(0,f,0);g.KP(q);return g};a.lM=function(b,f,g,d,q){var c=new e.Ja(b.description);c.add(b,!1);c.fC(0,c.D()-1);var k=new e.h;c.ac(k);g=a.Wu(f,g);for(var h=g.O(),m=Math.ceil((g.o-k.o)/h),m=m*h;g.o>k.o+m;)m+=h;for(;g.o<
k.v+m;)m-=h;m+=h;if(0!=m){k.move(m,0);var l=new e.Gd;l.zg(m,0);c.Vc(l)}if(g.o<=k.o&&g.v>k.v)return q&&(q=c.ef(),c=e.Qm.local().V(c,f,!0,d),f=c.ef(),(f=e.Ub.sign(q)!=e.Ub.sign(f))&&c.TJ()),c;b=new e.Ja(b.description);b.add(c,!1);for(q=q||k.O()>h-f.pe(0);k.o<g.v;)k.move(h,0),l=new e.Gd,l.zg(h,0),c.Vc(l),b.add(c,!1);q&&(q=b.ef(),b.Op(1),b=e.Qm.local().V(b,f,!0,d),f=b.ef(),(f=e.Ub.sign(q)!=e.Ub.sign(f))&&b.TJ());return b};a.yD=function(a,b,g,d,q){for(var c=b.Qa(0),f=b.D(),k=!1,h=0;h<f;h++){var m=e.b.pa(c.Lf(2*
h),c.Lf(2*h+1));if(0!=(q&1)&&m.y>=g){k=!0;break}if(0!=(q&2)&&m.y<=-g){k=!0;break}}if(!k)return!1;c=!1;a&&(c=b.Ko(0));a=new e.ed;var f=a.Jb(b),k=a.Pb(f),l=-1,n=!0,p=new e.b;p.Yc();for(var h=new e.Wa,r=-1,u=a.cb(k);-1!=u;u=a.U(u)){var m=a.Ba(u),v=0!=(q&1)&&90<=m.y?1:0,v=v|(0!=(q&2)&&m.y<=-g?2:0);if(0<l&&l!=v){if(p.x!=m.x){p.x=m.x;a.xj(a.Ra(u),h);var x=a.$j(k,u,h);a.Nf(x,p)}if(c)for(r=-1!=r?a.U(r):a.cb(k),x=a.Ra(u);r!=x;)r=a.td(r,!1);r=-1}0<v&&(m.y=e.Ub.Kl(d,m.y),a.Nf(u,m),n||l==v||(m.x!=p.x?(a.xj(u,
h),x=a.$j(k,u,h),a.rb(x,p.x,m.y),r=x):r=u));l=v;p=m;n=!1}if(c){if(-1!=r)for(r=a.U(r);-1!=r;)r=a.td(r,!1);g=a.cb(k);a.Uq(g,a.Vj(k))||(a.xj(g,h),a.$j(k,-1,h))}a.Pe(f).copyTo(b);return!0};a.x_=function(a,b){var c=0,f=a.La(b);b+=1;for(var e=a.aa();b<e&&!(0<a.Ym(b));++b)c++;return 64<f&&3<=c};a.wA=function(b,f,g,k){var c=b;if(c.u()||g==d.DontClip)return c;var h=c.G();if(33==h)return k=c,c=[k.w()],a.zH(c,1,f,g),c[0].isNaN()?k.Oa():k.rb(c[0]),b;b=f.lc();var m=b.ce(),l=90*m,n=180*m,p=360*m,r=f.ri(),u=.5*
m,v=new e.h;c.s(v);var x=f.Ts(),z=f.dS(),y=197==x.G();f=new e.h;x.s(f);g==d.PannableFold&&(g=b.oe().O(),f.o=r-.5*g,f.v=f.o+g);if(v.A<-l||v.B>l){(new e.h).I(v.o-m,-l,v.v+m,l);c=e.th.rq(c,f,b,NaN,0,k);if(c.u())return c;c.s(v)}if(z&&(f.B<v.A||f.A>v.B))return c.Ka();v.O()>p&&(c=a.Aq(c,r-n,p,b,!0,0,!0,k),c.s(v));l=a.hX(v.o,v.v,f.o,f.v,p);0!=l&&v.move(l,0);if(v.v>f.v||v.o<f.o){if(v.v>f.v)for(;v.o>=f.v;)v.move(-p,0),l-=p;for(;v.o<f.v-p;)v.move(p,0),l+=p}g=e.na.zv(b,x);0!=l&&(m=new e.Gd,m.zg(l,0),c.Vc(m));
if(z){if(y&&f.contains(v))return c;z=[null,null];for(l=0;2>l;l++){y?m=e.T.Hc(h)?e.th.clip(c,f,g,u,k):e.th.clip(c,f,g,0,k):(m=e.wk.local().V(c,x,b,k),m==x&&(m=e.T.me(m)));if(f.o<=v.o&&f.v>=v.v||f.o>=v.o&&f.v<=v.v)return m;z[l]=m;0==l&&(v.move(-p,0),m=new e.Gd,m.zg(-p,0),c.Vc(m))}if(550==h)z[0].Hd(z[1],0,-1);else if(e.T.Hc(h))z[0].add(z[1],!1);else if(33==h)z[0].u()&&(z[0]=z[1]);else throw e.g.X("intersect_with_GCS_horizon: unexpected geometry type");return z[0]}if(f.B<v.A||f.A>v.B)return c;for(h=0;!c.u()&&
v.v>f.o;)0!=h&&(m=new e.Gd,m.zg(h,0),c.Vc(m)),e.Jj.local().V(4,c,x,b,k)||(c=e.eq.local().V(c,x,b,k),x==c&&(c=e.T.me(c))),0!=h&&(u=new e.Gd,u.zg(-h,0),c.Vc(u)),h-=p,v.move(-p,0);return c};a.zH=function(b,f,g,k){if(0!=f&&k!=d.DontClip)if(k==d.PannableFold){k=g.aT();for(var c=f,h=0;h<f;h++)if(b[h].y>k.B||b[h].y<k.A)b[h].Yc(),c--;0!=c&&a.Uu(b,f,k.o,k.O())}else{k=g.ce();var m=90*k,l=180*k;k*=360;c=f;for(h=0;h<f;h++)if(b[h].y>m||b[h].y<-m)b[h].Yc(),c--;if(0!=c){c=new e.h;c.Mx(b,f);var m=g.Ts(),n=g.Uv(),
h=197==m.G(),p=new e.h;m.s(p);if(!n||!(p.B<c.A||p.A>c.B))if(n)if(a.Uu(b,f,p.Jk()-l,k),c=f,h)for(h=0;h<f;h++)p.contains(b[h])||(b[h].Yc(),c--);else for(g=e.na.zv(g.lc(),m),h=0;h<f;h++)(l=0!=e.fd.ee(m,b[h],g))||(b[h].Yc(),c--);else for(a.Uu(b,f,-l,k),c=f,g=e.na.zv(g.lc(),m),h=0;h<f;h++)if(l=b[h],l.isNaN()&&c--,n=a.XD(l.x,p.o,p.v,k),l.x+=n,l=0!=e.fd.ee(m,l,g))b[h].Yc(),c--}}};a.a_=function(a,b,g){if(0<=b&&!a.Qb(b))return 0;var c=0;if(1==g.Fb())return b=90*g.ce(),b-=2*b/Math.PI*e.Uc.PE_HORIZON_DELTA,
g=new e.h,a.s(g),g.B>=b&&(c=1),g.A<=-b&&(c|=2),c;var f=g.Wj();if(null==f)return 0;var d=null;0<=b&&(d=a);for(var h=0;2>h;h++)if((0<h?f.getSouthPoleLocation():f.getNorthPoleLocation())!=e.Ag.PE_POLE_OUTSIDE_BOUNDARY){var m=g.gA(0<h);m.isNaN()||(m=0>b?e.cf.AA(a,m,0):e.cf.BA(d,b,m,0,null),c|=m<<h)}return c};a.Aq=function(a,b,g,d,q,h,m,l){var c=a.G(),f=b+g;if(33===c){d=q?a:a.Sf();var k=d.Te();if(k<b||k>=f||m&&k==f)k+=Math.ceil((b-k)/g)*g,k=e.J.tk(k,b,f),d.DC(k);return d}if(a.u())return a;k=new e.h;a.s(k);
if(k.u())return a;var t=new e.yc;k.Yn(t);var w=new e.yc;w.I(b,f);if(w.contains(t))return a;f=new e.h;f.I(k);if(550===c){d=q?a:a.Sf();l=d.Qa(0);c=2*d.D();f=!1;for(b=0;b<c;b+=2)if(k=l.read(b),k<w.ga||k>=w.la||m&&k==w.la)f=!0,k+=Math.ceil((w.ga-k)/g)*g,k=w.yu(k),l.write(b,k);f&&d.Cc(1993);return d}if(197==c)return g=q?a:a.Sf(),k.Ma(f),g.Np(k),g;var n=.1*Math.max(k.ea(),k.O());f.P(0,n);m=a;w=d.pe(0);a=e.ei.local();for(q=new e.Gd;;){var p=Math.floor((t.ga-b)/g),r=Math.ceil((t.la-b)/g);if(3<r-p){p=Math.floor(.5*
(r+p));f.o=k.o-n;f.v=b+g*p;var u=e.th.clip(m,f,w,h,l);f.o=f.v;f.v=k.v+n;var v=e.th.clip(m,f,w,h,l);q.zg((p-r)*g,0);v.Vc(q);1736==c?m=a.V(u,v,d,null):(m=u,m.add(v,!1));m.s(k);k.Yn(t)}else break}f.o=b;f.v=b+g;b=new e.h;b.I(f);b.P(w,0);b=Math.floor((k.o-f.o)/g)*g;0!=b?(f.move(b,0),q.zg(-b,0)):q.sC();b=1607==c?new e.Ua(m.description):new e.Ja(m.description);h=new e.h;for(t=new e.h;k.v>f.o;){n=e.th.clip(m,f,w,0,l);n.s(t);if(1607==c?!n.u()&&(t.O()>w||t.ea()>w):!n.u()&&(1736!=c||t.O()>w))n.Vc(q),n.s(t),
b.s(h),h.P(w,w),h.Yb(t)&&1736==c?b=a.V(b,n,d,null):b.add(n,!1);f.move(g,0);q.shift(-g,0)}return b};a.Uu=function(a,b,g,d){for(var c=g+d,f=0;f<b;f++){var k=a[f].x;g<=k&&k<c||!(k<g||k>c||k==c)||(k+=Math.ceil((g-k)/d)*d,k=e.J.tk(k,g,c),a[f].x=k)}};a.cn=function(b,f,d,k,q,h){if(!f.Ic())throw e.g.X("fold_into_360_degree_range");if(b.u())return b;var c;if(2==f.Fb())d=f.bw(),c=f.aw()-d;else{var g=f.ce();c=360*g;d-=180*g}return a.Aq(b,d,c,f,k,q,!0,h)};a.uG=function(b,f,e,d){if(2==e.Fb())d=e.bw(),e=e.aw()-
d;else{var c=e.ce();e=360*c;d-=180*c}a.Uu(b,f,d,e)};a.Qj=function(a,b){var c=b.oe();if(33==a.G()){var f=a.Cf();return c.A<=f&&f<=c.B?a:a.Ka()}f=new e.h;a.s(f);var d=new e.h;d.I(c);d.o=f.o;d.v=f.v;d.P(.01*d.ea(),0);c=e.na.Yy(b,f);return d.contains(f)?a:e.th.clip(a,d,c,0,null)};a.Hj=function(a,b,e){return a>b.v&&a-b.v<e?b.v:a<b.o&&b.o-a<e?b.o:a};a.dY=function(b,f,e,d){d.x=a.Hj(b.x,f,e);d.y=b.y};a.cY=function(b,f,e,d){for(var c=0;c<f;c++)b[c].y<e.A||b[c].y>e.B?b[c].Yc():b[c].x=a.Hj(b[c].x,e,d)};a.zu=
function(b,f,d,k){if(!b.u()){var c=b.G();if(!k||1736!=c)if(e.T.fh(c)){k=b.Qa(0);for(var c=0,g=b.D();c<g;c++){var h=k.read(2*c),m=a.Hj(h,f,d);m!=h&&k.write(2*c,m)}b.Cc(1993)}else if(197==c)k=new e.h,b.s(k),k.o=a.Hj(k.o,f,d),k.v=a.Hj(k.v,f,d),b.Np(k);else if(33==c)b.DC(a.Hj(b.Te(),f,d));else throw e.g.X("internal error");}};a.ST=function(b,f,d,k){var c=new e.ed,g=c.Jb(b);b=e.na.zv(f,b);a.jt(c,g,f,b,d,!0,k);return c.Pe(g)};a.jt=function(b,f,d,k,q,t,m){if(!d.Ic())throw e.g.F("invalid call");var c=d.oe(),
g=d.lc(),l=g.Jg().getDatum().getSpheroid(),g=g.Td().Bi,w=l.getFlattening(),l=l.getAxis(),w=w*(2-w),n=new e.yc;c.Yn(n);var p=null,r=[[0,0],[0,0]];2==d.Fb()?(p=d.Jg(),t?(r[0][0]=a.Tn(m,n),r[0][1]=c.Cq(),e.fi.projToGeog(p,1,r),c=r[0][0]*g):(r[0][0]=c.Jk(),r[0][1]=m,e.fi.projToGeog(p,1,r),c=r[0][1]*g)):c=m*g;if(!t&&0!=c&&q!=h.GreatElliptic)throw e.g.X("invalid argument");var u=new e.da,v=[0],x=new e.b,z=new e.b,y=new e.b,A=[null,null],C=new e.b,B=new e.b,H=new e.b,J=new e.b;for(f=b.Pb(f);-1!=f;f=b.Sb(f)){var E=
b.cb(f);b.w(E,C);for(var F=!1,V=E=b.U(E);-1!=V;V=b.U(V)){if(V==E){if(F)break;F=!0}b.w(V,B);if(t&&(k<m-C.x&&B.x-m>k||k<m-B.x&&C.x-m>k)||!t&&(0!=m||k<-C.y&&B.y>k||k<-B.y&&C.y>k)){do if(!(Math.abs(C.x-B.x)>=.5*n.O())){2==d.Fb()?(r[0][0]=a.Tn(C.x,n),r[0][1]=C.y,r[1][0]=a.Tn(B.x,n),r[1][1]=B.y,e.fi.projToGeogCenter(p,2,r,0),H.x=r[0][0]*g,H.y=r[0][1]*g,J.y=r[1][1]*g):(H.x=C.x*g,H.y=C.y*g,J.y=B.y*g);J.x=2*(B.x-C.x)*Math.PI/n.O()+H.x;var K;if(t){z.x=c;z.y=a.sA(l,w,H,J,c,q);if(isNaN(z.y))break;A[0]=z;K=1}else if(q==
h.GreatElliptic){var M=[0,0];K=e.uy.xA(l,w,H,J,c,M);if(0==K)break;z.x=M[0];z.y=c;A[0]=z;2==K&&(y.x=M[1],y.y=c,A[1]=y)}else{z.x=a.pA(l,w,H,J,q);if(isNaN(z.x))break;z.y=0;A[0]=z;K=1}for(var D=-1,M=0;M<K;M++){e.mb.Kd(l,w,H.x,H.y,J.x,J.y,u,null,null,q);var R=u.j;e.mb.Kd(l,w,H.x,H.y,A[M].x,A[M].y,u,null,null,q);var X=u.j;2==d.Fb()?(r[0][0]=A[M].x/g,r[0][1]=A[M].y/g,e.fi.geogToProj(p,1,r),t?(x.y=r[0][1],x.x=m):(x.x=a.zl(r[0][0],C.x,B.x,n),x.y=m)):t?(x.x=m,x.y=A[M].y/g):(x.x=a.zl(A[M].x/g,C.x,B.x,n),x.y=
m);v[0]=0<R?e.J.tk(X/R,0,1):.5;if(0==v[0]||1==v[0])break;D>v[0]||(D=b.Ra(V),b.Em(D,v,1),b.rb(b.U(D),x.x,x.y),D=v[0])}}while(0)}C.L(B)}}};a.Tn=function(a,b){var c=b.la-b.ga;return b.yu(a-Math.floor((a-b.ga)/c)*c)};a.zl=function(a,b,d,k){var c=new e.yc;c.I(b,d);d=k.O();a=Math.floor((a-b)/d)*d+a;for(c=c.Tf();Math.abs(a-c)>Math.abs(a+d-c);)a+=d;return a};a.Ug=function(a,b,d){a=e.ks.uq(a);b=e.ks.Wx(a,e.ks.uq(b));d=e.ks.Wx(a,e.ks.uq(d));return 0==d||0<b&&0<d&&d<=b||0>b&&0>d&&d>=b?!0:!1};a.sA=function(b,
f,d,k,q,t){if(t==h.GreatElliptic)return e.uy.oU(f,d,k,q);if(Math.abs(d.x-k.x)>=Math.PI||!a.Ug(d.x,k.x,q))return NaN;var c;d.x>k.x?c=k:(c=d,d=k);k=new e.da;var g=new e.da,m=new e.da;e.mb.Kd(b,f,c.x,c.y,d.x,d.y,g,k,null,t);var l=g.j,n=0,p=1,r=new e.b;for(r.L(c);l*(p-n)>1E-12*b;){var u=.5*(n+p);e.mb.Sj(b,f,c.x,c.y,l*u,k.j,g,m,t);r.x=g.j;r.y=m.j;if(r.x==q)break;if(a.Ug(c.x,r.x,q))p=u;else if(a.Ug(d.x,r.x,q))n=u;else return NaN}return r.y};a.pA=function(a,b,d,k,q){if(q==h.GreatElliptic)return q=[0,0],
e.uy.xA(a,b,d,k,0,q),q[0];var c;d.y>k.y?c=k:(c=d,d=k);k=new e.yc;k.I(c.y,d.y);if(!k.contains(0)||Math.abs(c.x-d.x)>=Math.PI)return NaN;if(c.x==d.x)return c.x;var f=new e.da,g=new e.da,m=new e.da;e.mb.Kd(a,b,c.x,c.y,d.x,d.y,g,f,null,q);var l=g.j,n=0,p=1,r=new e.b;for(r.L(c);l*(p-n)>1E-12*a;){var u=.5*(n+p);e.mb.Sj(a,b,c.x,c.y,l*u,f.j,g,m,q);r.x=g.j;r.y=m.j;k.I(c.y,r.y);if(0==r.y)break;if(k.contains(0))p=u;else if(k.I(d.y,r.y),k.contains(0))n=u;else return NaN}return r.x};a.E_=function(a,b,d,k,q,h){if(b==
q&&d!=h)throw e.g.F();if(0>=k)return 0;if(a.No()){h*=2;var c=2*d;a=2*k;for(d=0;d<a;d++)q[h+d]=b[c+d];return k}if(2>=k){h=[new e.b,new e.b];for(c=0;c<k;c++)h[c].ja(b[2*c],b[2*c+1]);b=e.ns.local().AY(a,h,k,h);for(c=0;c<k;c++)q[2*c]=h[c].x,q[2*c+1]=h[c].y;return b}var f=a.he,c=a.Ee,g=f.Fb(),t=c.Fb();if(0==g&&g==t)return a=f.Zi(),c=c.Zi(),c=a/c,a=new e.Gd,a.Vp(c,c),a.BY(b,d,q,h,k),k;g=new e.Dd;g.Rd(3);g.resize(k);for(var t=g.Qa(0),m=g.Qa(3),c=0,l=2*d,n=2*h;c<k;c++,n+=2){d=b[l++];var f=b[l++],p=n;if(isNaN(d)||
isNaN(f))f=d=0,p=-1;m.write(c,p);t.write(2*c,d);t.write(2*c+1,f)}g.Cc(1993);b=e.ns.local().V(g,a,null);c=0;for(h*=2;c<k;c++,h+=2)q[h]=NaN,q[h+1]=NaN;if(b.u())return 0;h=b.Qa(3);a=b.Qa(0);c=g=0;for(k=b.D();c<k;c++)b=h.read(c),-1!=b&&(d=a.read(2*c),f=a.read(2*c+1),q[b]=d,q[b+1]=f,g++);return g};a.CJ=function(a,b,d,k){if(!a.he.Ic())return!1;var c=new e.Dd(b.description);c.Hd(b,0,-1);k=e.ns.local().V(c,a,k);c=b.D();d.Oa();if(c!=k.D())return!1;var f=new e.h;b.s(f);var g=new e.h;k.s(g);f=f.O();g=g.O();
if(0!=f&&0!=g){if(g/=f,a=a.Ee.Ch().O()/a.he.Ch().O(),1E-10<Math.abs(g/a-1))return!1}else if(0!=f||0!=g)return!1;d.add(b,!1);b=new e.b;for(a=0;a<c;a++)k.w(a,b),d.rb(a,b);return!0};a.OO=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};a.AJ=function(b,f,g,k){if(g==d.Clip){var c=f.Ok();197==c.G()?(g=new e.h,c.s(g),c=e.na.Yy(f,g),b=e.th.clip(b,g,c,5E4*f.hn(),k)):e.Jj.local().V(1,c,b,f,k)||(b=e.wk.local().V(b,c,f,k),b==c&&(b=e.Bl.me(b)))}else f.Ic()&&(k=new e.h,b.ac(k),f.oe().contains(k)||(a.zu(b,
f.oe(),f.pe(0),!0),g==d.PannableFold&&(b=a.Qj(b,f)),b=a.cn(b,f,0,!0,1E5*f.hn(),null)));return b};a.lF=function(a,b,d){var c=b.Us();if(null==c)return a;b=b.lc();var f=b.oe().O(),g=new e.h;a.ac(g);var h=new e.yc;g.Yn(h);for(var g=c.Fa(),c=null,m=new e.Gd;g.Ya();)for(;g.Ea();){var l=g.ba(),n=l.hg(0,0),p=new e.yc;p.I(n.ga,n.la);for(n=0;p.la>h.ga;)p.move(-f),--n;for(;p.ga<=h.la;){if(p.Yb(h)){null==c&&(c=new e.Ua);var r=e.Hb.CQ(l.ec(),l.Ac());0!=n&&(m.zg(n*f,0),r.Vc(m));c.cc(r,!0)}p.move(f);++n}}return null!=
c?(b=e.na.DP(b,c),b=e.na.As(b),e.Mu.IQ(a,c,b,d)):a};a.hX=function(b,f,e,d,q){return b>=e&&f<=d?0:a.XD(.5*(f+b),e,d,q)};a.XD=function(a,b,d,k){return e.Ub.round((.5*(d+b)-a)/k)*k};a.lS=function(b,f,d,k,q,h,m,l){var c=a.Wu(k,q),g=c.O(),t=g/360,w=a.ED*t,n=b.Qa(0),p=f.Ic(),r=p?g/f.oe().O():0,u;f=b.Ka();for(var v=0,x=d.aa();v<x;++v){var z=p,y=new e.Ua(d.description);y.Ui(d,v,!0);u=d.Qb(v);0!=m&&(u=a.yD(u,y,c.B-l,c.B,m))&&(z=!1);var P=-1;u=y.D();var A=!1;z&&(P=b.wa(v),A=b.Qb(v));var C=y.Qa(0),B=0,H=C.read(0),
J=0,E=3*k.pe(0),F=!1,V=new e.b;V.Yc();var K=new e.b;K.Yc();for(var M=!1,D=1;D<u;++D){var R=e.b.pa(C.Lf(2*D),C.Lf(2*D+1)),X=R.x,I=X+B,ha=I-H;R.x=I;if(Math.abs(ha)>w){if(z){var ca=P+D-1,U=P;if(!A||D+1<u)U+=D;ca=n.read(2*ca);U=(n.read(2*U)-ca)*r;Math.abs(ha-U)>1*t&&(p=!1)}z||(B-=e.Ub.Kl(g,I-H),I=X+B,++J,M=0!=B,R.x=I)}else F||e.na.BH(V,K,R,E)&&(F=!0);M&&C.write(2*D,I);H=I;V.L(K);K.L(R)}0!=J&&y.Cc(1993);z=y.Ba(0);u=y.Ba(u-1);e.b.Cb(z,u);y=a.sM(y,k,isNaN(q)?0:q,h);f.add(y,!1)}b=k.pe(0);d=c.O()/180;a.zu(f,
c,.1*b,!1);return e.th.clip(f,c,b,d,h)};a.sM=function(b,f,e,d){return a.cn(b,f,e,!0,0,d)};a.lU=function(a,b,d,k){var c=a.G();if(1736==c)for(b=null!=b?b.pe(0):0,c=0;c<k;c++)1!=e.fd.ee(a,d[c],b)&&d[c].Yc();else if(197==c)for(c=0;c<k;c++)a.DQ(d[c])||d[c].Yc();else throw e.g.F();};a.Il=function(a,b,d,k){if(32>d)for(var c=new e.Wa,f=0;f<d;f++)c.rb(b[f]),a.Il(c,k).w(b[f]);else{var g=new e.Dd;g.Rd(3);g.$E(b,d);c=g.Qa(3);for(f=0;f<d;f++)c.write(f,f);f=a.Il(g,k);a=f.Qa(0);c=f.Qa(3);k=e.b.pa(NaN,NaN);for(g=
0;g<d;g++)b[g]=k;d=f.D();for(f=0;f<d;f++)k=c.read(f),a.fc(2*f,b[k])}};a.Hl=function(a,b,d,k){if(32>d)for(var c=new e.Wa,f=0;f<d;f++)c.rb(b[f]),a.Hl(c,k).w(b[f]);else{var g=new e.Dd;g.Rd(3);g.$E(b,d);c=g.Qa(3);for(f=0;f<d;f++)c.write(f,f);f=a.Hl(g,k);a=f.Qa(0);c=f.Qa(3);k=e.b.pa(NaN,NaN);for(g=0;g<d;g++)b[g]=k;d=f.D();for(f=0;f<d;f++)k=c.read(f),a.fc(2*f,b[k])}};a.HZ="ABCDEFGHIJKLMNOPQRSTUVWXYZ";a.ED=210;return a}();e.Ib=b})(x||(x={}));(function(e){(function(e){e[e.rightSide=1]="rightSide"})(e.mN||
(e.mN={}));var d=function(){function d(b,a,c){this.zt=new e.b;void 0===b?this.Bp=-1:(this.zt.L(b),this.Bp=a,this.Pa=c,this.$w=0)}d.prototype.BK=function(b){this.$w=b?this.$w|1:this.$w&-2};d.prototype.u=function(){return 0>this.Bp};d.prototype.Qz=function(){if(this.u())throw e.g.X("invalid call");return new e.Wa(this.zt.x,this.zt.y)};d.prototype.Za=function(){if(this.u())throw e.g.X("invalid call");return this.Bp};d.prototype.Tz=function(){if(this.u())throw e.g.X("invalid call");return this.Pa};d.prototype.CA=
function(){return 0!=(this.$w&1)};d.prototype.Hy=function(b,a,c,f){this.zt.x=b;this.zt.y=a;this.Bp=c;this.Pa=f};return d}();e.Sm=d})(x||(x={}));(function(e){var d=function(){function b(){}b.prototype.bo=function(a,b){this.Sh.resize(0);this.ij.length=0;this.Xk=-1;a.ac(this.il);this.il.P(b,b);this.il.Yb(this.Mb.Ha)?((this.tt=e.T.Nc(a.G()))?(this.VI=a.ec(),this.UI=a.Ac(),this.ta=b):this.ta=NaN,this.Sh.add(this.Mb.Jf),this.ij.push(this.Mb.Ha),this.Nt=this.Mb.Ss(this.Mb.Jf)):this.Nt=-1};b.prototype.Oi=
function(a,b){this.Sh.resize(0);this.ij.length=0;this.Xk=-1;this.il.I(a);this.il.P(b,b);this.ta=NaN;this.il.Yb(this.Mb.Ha)?(this.Sh.add(this.Mb.Jf),this.ij.push(this.Mb.Ha),this.Nt=this.Mb.Ss(this.Mb.Jf),this.tt=!1):this.Nt=-1};b.prototype.next=function(){if(0==this.Sh.size)return-1;this.Xk=this.Nt;var a=null,b=null,f,d=null,k=null;this.tt&&(a=new e.b,b=new e.b,d=new e.h);for(var q=!1;!q;){for(;-1!=this.Xk;){f=this.Mb.Mz(this.Mb.Tv(this.Xk));if(f.Yb(this.il))if(this.tt){if(a.L(this.VI),b.L(this.UI),
d.I(f),d.P(this.ta,this.ta),0<d.ez(a,b)){q=!0;break}}else{q=!0;break}this.Xk=this.Mb.$v(this.Xk)}if(-1==this.Xk){f=this.Sh.Ec();var t=this.ij[this.ij.length-1];null==k&&(k=[],k[0]=new e.h,k[1]=new e.h,k[2]=new e.h,k[3]=new e.h);h.iK(t,k);this.Sh.Mf();--this.ij.length;for(t=0;4>t;t++){var m=this.Mb.Eq(f,t);if(-1!=m&&0<this.Mb.qT(m)&&k[t].Yb(this.il))if(this.tt){if(a.L(this.VI),b.L(this.UI),d.I(k[t]),d.P(this.ta,this.ta),0<d.ez(a,b)){var l=new e.h;l.I(k[t]);this.Sh.add(m);this.ij.push(l)}}else l=new e.h,
l.I(k[t]),this.Sh.add(m),this.ij.push(l)}if(0==this.Sh.size)return-1;this.Xk=this.Mb.Ss(this.Sh.get(this.Sh.size-1))}}this.Nt=this.Mb.$v(this.Xk);return this.Xk};b.BQ=function(a,c,f){var d=new b;d.Mb=a;d.il=new e.h;d.Sh=new e.ha(0);d.ij=[];d.bo(c,f);return d};b.AQ=function(a,c,f){var d=new b;d.Mb=a;d.il=new e.h;d.Sh=new e.ha(0);d.ij=[];d.Oi(c,f);return d};b.zQ=function(a){var c=new b;c.Mb=a;c.il=new e.h;c.Sh=new e.ha(0);c.ij=[];return c};return b}();e.IZ=d;var h=function(){function b(a,b){this.If=
new e.Zc(11);this.zi=new e.Zc(5);this.ut=[];this.Ww=new e.ha(0);this.Ha=new e.h;this.sl(a,b)}b.prototype.reset=function(a,b){this.If.Wi(!1);this.zi.Wi(!1);this.ut.length=0;this.Ww.clear(!1);this.sl(a,b)};b.prototype.dh=function(a,b){return this.mw(a,b,0,this.Ha,this.Jf,!1,-1)};b.prototype.lw=function(a,b,f){f=-1==f?this.Jf:this.YG(f);var c=this.ea(f),e=this.GS(f);return this.mw(a,b,c,e,f,!1,-1)};b.prototype.ia=function(a){return this.BS(a)};b.prototype.JG=function(a){return this.Mz(this.Tv(a))};b.prototype.ea=
function(a){return this.Vv(a)};b.prototype.GS=function(a){var b=new e.h;b.I(this.Ha);var f=this.Vv(a);a=this.TG(a);for(var d=0;d<2*f;d+=2){var k=e.J.truncate(3&a>>d);0==k?(b.o=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):1==k?(b.v=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):(2==k?b.v=.5*(b.o+b.v):b.o=.5*(b.o+b.v),b.B=.5*(b.A+b.B))}return b};b.prototype.qT=function(a){return this.nA(a)};b.prototype.PS=function(a,b){return d.BQ(this,a,b)};b.prototype.$z=function(a,b){return d.AQ(this,a,b)};b.prototype.jf=function(){return d.zQ(this)};
b.prototype.sl=function(a,b){if(0>b||32<2*b)throw e.g.F("invalid height");this.cV=b;this.Ha.I(a);this.Jf=this.If.Me();this.Ux(this.Jf,0);this.Ox(this.Jf,0);this.sK(this.Jf,0);this.oK(this.Jf,0)};b.prototype.mw=function(a,c,f,d,k,q,h){if(!d.contains(c))return 0==f?-1:this.mw(a,c,0,this.Ha,this.Jf,q,h);if(!q)for(var g=k;-1!=g;g=this.bT(g))this.Ux(g,this.nA(g)+1);g=new e.h;g.I(d);d=k;var t=[];t[0]=new e.h;t[1]=new e.h;t[2]=new e.h;for(t[3]=new e.h;f<this.cV&&this.FP(d);f++){b.iK(g,t);for(var m=!1,l=
0;4>l;l++)if(t[l].contains(c)){var m=!0,n=this.Eq(d,l);-1==n&&(n=this.NQ(d,l));this.Ux(n,this.nA(n)+1);d=n;g.I(t[l]);break}if(!m)break}return this.QT(a,c,f,g,d,q,k,h)};b.prototype.QT=function(a,b,f,e,d,q,h,m){var c=this.PG(d);if(q){if(d==h)return m;this.lR(m);q=m}else q=this.PQ(),this.qC(q,a),this.nX(this.Tv(q),b);this.LX(q,d);-1!=c?(this.Sx(q,c),this.Px(c,q)):this.kK(d,q);this.tC(d,q);this.Ox(d,this.Yv(d)+1);this.EP(d)&&this.aS(f,e,d);return q};b.prototype.lR=function(a){var b=this.YG(a),f=this.PG(b),
e=this.hT(a),d=this.$v(a);this.Ss(b)==a?(-1!=d?this.Sx(d,-1):this.tC(b,-1),this.kK(b,d)):f==a?(this.Px(e,-1),this.tC(b,e)):(this.Sx(d,e),this.Px(e,d));this.Sx(a,-1);this.Px(a,-1);this.Ox(b,this.Yv(b)-1)};b.iK=function(a,b){var c=.5*(a.o+a.v),e=.5*(a.A+a.B);b[0].I(c,e,a.v,a.B);b[1].I(a.o,e,c,a.B);b[2].I(a.o,a.A,c,e);b[3].I(c,a.A,a.v,e)};b.prototype.EP=function(a){return 8==this.Yv(a)&&!this.jH(a)};b.prototype.aS=function(a,b,f){var c,e,d=this.Ss(f);do e=this.Tv(d),c=this.zi.S(d,0),e=this.Mz(e),this.mw(c,
e,a,b,f,!0,d),d=c=this.$v(d);while(-1!=d)};b.prototype.FP=function(a){return 8<=this.Yv(a)||this.jH(a)};b.prototype.jH=function(a){return-1!=this.Eq(a,0)||-1!=this.Eq(a,1)||-1!=this.Eq(a,2)||-1!=this.Eq(a,3)};b.prototype.NQ=function(a,b){var c=this.If.Me();this.rX(a,b,c);this.Ux(c,0);this.Ox(c,0);this.ul(c,a);this.oK(c,this.Vv(a)+1);this.sK(c,b<<2*this.Vv(a)|this.TG(a));return c};b.prototype.PQ=function(){var a=this.zi.Me(),b;0<this.Ww.size?(b=this.Ww.Ec(),this.Ww.Mf()):(b=this.ut.length,this.ut.push(new e.h));
this.oX(a,b);return a};b.prototype.Eq=function(a,b){return this.If.S(a,b)};b.prototype.rX=function(a,b,f){this.If.R(a,b,f)};b.prototype.Ss=function(a){return this.If.S(a,4)};b.prototype.kK=function(a,b){this.If.R(a,4,b)};b.prototype.PG=function(a){return this.If.S(a,5)};b.prototype.tC=function(a,b){this.If.R(a,5,b)};b.prototype.TG=function(a){return this.If.S(a,6)};b.prototype.sK=function(a,b){this.If.R(a,6,b)};b.prototype.Yv=function(a){return this.If.S(a,7)};b.prototype.nA=function(a){return this.If.S(a,
8)};b.prototype.Ox=function(a,b){this.If.R(a,7,b)};b.prototype.Ux=function(a,b){this.If.R(a,8,b)};b.prototype.bT=function(a){return this.If.S(a,9)};b.prototype.ul=function(a,b){this.If.R(a,9,b)};b.prototype.Vv=function(a){return this.If.S(a,10)};b.prototype.oK=function(a,b){this.If.R(a,10,b)};b.prototype.BS=function(a){return this.zi.S(a,0)};b.prototype.qC=function(a,b){this.zi.R(a,0,b)};b.prototype.hT=function(a){return this.zi.S(a,1)};b.prototype.$v=function(a){return this.zi.S(a,2)};b.prototype.Sx=
function(a,b){this.zi.R(a,1,b)};b.prototype.Px=function(a,b){this.zi.R(a,2,b)};b.prototype.YG=function(a){return this.zi.S(a,3)};b.prototype.LX=function(a,b){this.zi.R(a,3,b)};b.prototype.Tv=function(a){return this.zi.S(a,4)};b.prototype.oX=function(a,b){this.zi.R(a,4,b)};b.prototype.Mz=function(a){return this.ut[a]};b.prototype.nX=function(a,b){this.ut[a].I(b)};return b}();e.gq=h})(x||(x={}));(function(e){(function(b){b[b.Outside=0]="Outside";b[b.Inside=1]="Inside";b[b.Border=2]="Border"})(e.jM||
(e.jM={}));var d=function(){function b(a,b){this.Eh=null;this.qV=b;this.Eh=a}b.prototype.Kx=function(a,b){this.hI!=b&&a.flush();this.hI=b};b.prototype.nG=function(a,b){for(var c=0;c<b;)for(var e=a[c++],d=a[c++],q=a[c++]*this.qV;e<d;e++)this.Eh[q+(e>>4)]|=this.hI<<2*(e&15)};return b}();e.KZ=d;var h=function(){function b(a,b,f){this.Eh=null;this.BB=this.ll=this.dJ=this.bJ=this.Ct=this.pI=this.fg=this.Nn=0;this.rj=this.ml=this.em=null;this.kw(a,b,f)}b.create=function(a,c,f){if(!b.$y(a))throw e.g.F();
return b.ad(a,c,f)};b.Yg=function(a,c,f){if(!b.$y(a))throw e.g.F();return b.de(a,c,f)};b.PW=function(a){switch(a){case 0:a=1024;break;case 1:a=16384;break;case 2:a=262144;break;default:throw e.g.X("Internal Error");}return a};b.$y=function(a){return a.u()||1607!=a.G()&&1736!=a.G()?!1:!0};b.prototype.KR=function(a,b){b=b.Fa();for(var c=new e.b,d=new e.b;b.Ya();)for(;b.Ea();){var k=b.ba();if(322!=k.G())throw e.g.X("Internal Error");a.ai(k.ec(),c);a.ai(k.Ac(),d);this.rj.Ny(c.x,c.y,d.x,d.y)}this.rj.MJ(e.vy.ly)};
b.prototype.LR=function(){throw e.g.X("Internal Error");};b.prototype.Cz=function(a,b){for(var c=1;4>c;c++)a.Ny(b[c-1].x,b[c-1].y,b[c].x,b[c].y);a.Ny(b[3].x,b[3].y,b[0].x,b[0].y);this.rj.MJ(e.vy.ly)};b.prototype.SK=function(a,b,f){for(var c=[null,null,null,null],d=0;d<c.length;d++)c[d]=new e.b;b=b.Fa();f=this.ml.CY(f)+1.5;for(var d=new e.b,q=new e.b,h=new e.b,m=new e.b,l=new e.b,n=new e.h,p=new e.b;b.Ya();){var r=!1,u=!0;for(p.ja(0,0);b.Ea();){var v=b.ba();m.x=v.ua;m.y=v.ra;l.x=v.sa;l.y=v.oa;n.Oa();
n.Nb(m.x,m.y);n.ol(l.x,l.y);if(this.em.HH(n)){this.ml.ai(l,l);u?(this.ml.ai(m,m),p.L(m),u=!1):m.L(p);d.xc(l,m);var v=d.length(),x=.5>v;0==v?d.ja(1,0):(x||p.L(l),d.scale(f/v),q.ja(-d.y,d.x),h.ja(d.y,-d.x),m.sub(d),l.add(d),c[0].add(m,q),c[1].add(m,h),c[2].add(l,h),c[3].add(l,q),x?r=!0:this.Cz(a,c))}else r&&(this.Cz(a,c),r=!1),u=!0}r&&this.Cz(a,c)}};b.prototype.XC=function(a){return e.J.truncate(a*this.pI+this.bJ)};b.prototype.YC=function(a){return e.J.truncate(a*this.Ct+this.dJ)};b.ad=function(a,c,
f){return new b(a,c,f)};b.de=function(a,c,f){return new b(a,c,f)};b.prototype.kw=function(a,b,f){this.fg=Math.max(e.J.truncate(2*Math.sqrt(f)+.5),64);this.Nn=e.J.truncate((2*this.fg+31)/32);this.em=new e.h;this.ll=b;f=0;for(var c=this.fg,k=this.Nn;8<=c;)f+=c*k,c=e.J.truncate(c/2),k=e.J.truncate((2*c+31)/32);this.Eh=e.J.df(f,0);this.rj=new e.vy;f=new d(this.Eh,this.Nn,this);this.rj.$X(this.fg,this.fg,f);a.s(this.em);this.em.P(b,b);var c=new e.h,k=e.h.pa(1,1,this.fg-2,this.fg-2),q=b*k.O();b*=k.ea();
c.I(this.em.Tf(),Math.max(q,this.em.O()),Math.max(b,this.em.ea()));this.BB=this.ll;this.ml=new e.Gd;this.ml.NT(c,k);new e.Gd;switch(a.G()){case 550:f.Kx(this.rj,2);this.LR();break;case 1607:f.Kx(this.rj,2);this.SK(this.rj,a,this.BB);break;case 1736:f.Kx(this.rj,1),this.KR(this.ml,a),f.Kx(this.rj,2),this.SK(this.rj,a,this.BB)}this.pI=this.ml.lb;this.Ct=this.ml.gb;this.bJ=this.ml.Wb;this.dJ=this.ml.bc;this.wP()};b.prototype.wP=function(){this.rj.flush();for(var a=0,b=this.fg*this.Nn,f=this.fg,d=e.J.truncate(this.fg/
2),k=this.Nn,q=e.J.truncate((2*d+31)/32);8<f;){for(f=0;f<d;f++)for(var h=2*f,m=2*f+1,l=0;l<d;l++){var n=2*l,p=2*l+1,r=n>>4,n=2*(n&15),u=p>>4,p=2*(p&15),v=this.Eh[a+k*h+r]>>n&3,v=v|this.Eh[a+k*h+u]>>p&3,v=v|this.Eh[a+k*m+r]>>n&3,v=v|this.Eh[a+k*m+u]>>p&3;this.Eh[b+q*f+(l>>4)]|=v<<2*(l&15)}f=d;k=q;a=b;d=e.J.truncate(f/2);q=e.J.truncate((2*d+31)/32);b=a+k*f}};b.prototype.wm=function(a,b){if(!this.em.contains(a,b))return 0;a=this.XC(a);b=this.YC(b);if(0>a||a>=this.fg||0>b||b>=this.fg)return 0;a=this.Eh[this.Nn*
b+(a>>4)]>>2*(a&15)&3;return 0==a?0:1==a?1:2};b.prototype.Xn=function(a){if(!a.Ma(this.em))return 0;var b=this.XC(a.o),f=this.XC(a.v),d=this.YC(a.A);a=this.YC(a.B);0>b&&(b=0);0>d&&(d=0);f>=this.fg&&(f=this.fg-1);a>=this.fg&&(a=this.fg-1);if(b>f||d>a)return 0;for(var k=Math.max(f-b,1)*Math.max(a-d,1),q=0,h=this.Nn,m=this.fg,l=0;;){if(32>k||16>m){for(k=d;k<=a;k++)for(var n=b;n<=f;n++)if(l=this.Eh[q+h*k+(n>>4)]>>2*(n&15)&3,1<l)return 2;if(0==l)return 0;if(1==l)return 1}q+=h*m;m=e.J.truncate(m/2);h=e.J.truncate((2*
m+31)/32);b=e.J.truncate(b/2);d=e.J.truncate(d/2);f=e.J.truncate(f/2);a=e.J.truncate(a/2);k=Math.max(f-b,1)*Math.max(a-d,1)}};b.prototype.kT=function(){return this.fg*this.Nn};return b}();e.ty=h})(x||(x={}));(function(e){(function(b){b[b.contains=1]="contains";b[b.within=2]="within";b[b.equals=3]="equals";b[b.disjoint=4]="disjoint";b[b.touches=8]="touches";b[b.crosses=16]="crosses";b[b.overlaps=32]="overlaps";b[b.unknown=0]="unknown";b[b.intersects=1073741824]="intersects"})(e.rN||(e.rN={}));var d=
function(){function b(){}b.pa=function(a,c,f,e,d,q,h,m){var g=new b;g.bx=a;g.Fn=c;g.ik=f;g.sj=e;g.DI=d;g.l_=q;g.m_=h;g.n_=m;return g};return b}(),h=function(){function b(){}b.VE=function(a,c,f){if(!b.az(a))return!1;var d=e.na.$g(c,a,!1);c=!1;e.yl.KF(a)&&(c=c||a.bv(d,f));d=a.G();1736!=d&&1607!=d||!e.yl.IF(a)||0==f||(c=c||a.Kj(f));1736!=d&&1607!=d||!e.yl.JF(a)||0==f||(c=c||a.WN());return c};b.az=function(a){return e.yl.KF(a)||e.yl.IF(a)||e.yl.JF(a)};return b}();e.Iu=h;h=function(){function b(){this.Qh=
[]}b.bC=function(a,c,f,d,k){var g=a.G(),h=c.G();if(197==g){if(197==h)return b.IW(a,c,f,d);if(33==h)return 2==d?d=1:1==d&&(d=2),b.pE(c,a,f,d)}else if(33==g){if(197==h)return b.pE(a,c,f,d);if(33==h)return b.SW(a,c,f,d)}if(a.u()||c.u())return 4==d?!0:!1;var m=new e.h;a.s(m);var l=new e.h;c.s(l);var n=new e.h;n.I(m);n.Nb(l);f=e.na.$d(f,n,!1);if(b.Gk(m,l,f))return 4==d?!0:!1;m=!1;e.Bl.Nc(g)&&(g=new e.Ua(a.description),g.cc(a,!0),a=g,g=1607);e.Bl.Nc(h)&&(h=new e.Ua(c.description),h.cc(c,!0),c=h,h=1607);
if(197!=g&&197!=h){if(a.ub()<c.ub()||33==g&&550==h)2==d?d=1:1==d&&(d=2)}else 1736!=g&&197!=h&&(2==d?d=1:1==d&&(d=2));switch(g){case 1736:switch(h){case 1736:m=b.iu(a,c,f,d,k);break;case 1607:m=b.Un(a,c,f,d,k);break;case 33:m=b.hu(a,c,f,d,k);break;case 550:m=b.gu(a,c,f,d,k);break;case 197:m=b.TK(a,c,f,d,k)}break;case 1607:switch(h){case 1736:m=b.Un(c,a,f,d,k);break;case 1607:m=b.PB(a,c,f,d,k);break;case 33:m=b.ku(a,c,f,d,k);break;case 550:m=b.ju(a,c,f,d,k);break;case 197:m=b.rL(a,c,f,d)}break;case 33:switch(h){case 1736:m=
b.hu(c,a,f,d,k);break;case 1607:m=b.ku(c,a,f,d,k);break;case 550:m=b.cu(c,a,f,d,k)}break;case 550:switch(h){case 1736:m=b.gu(c,a,f,d,k);break;case 1607:m=b.ju(c,a,f,d,k);break;case 550:m=b.GB(a,c,f,d,k);break;case 33:m=b.cu(a,c,f,d,k);break;case 197:m=b.nH(a,c,f,d)}break;case 197:switch(h){case 1736:m=b.TK(c,a,f,d,k);break;case 1607:m=b.rL(c,a,f,d);break;case 550:m=b.nH(c,a,f,d)}}return m};b.IW=function(a,c,f,d){if(a.u()||c.u())return 4==d?!0:!1;var g=new e.h,q=new e.h,h=new e.h;a.s(g);c.s(q);h.I(g);
h.Nb(q);a=e.na.$d(f,h,!1);switch(d){case 4:return b.Gk(g,q,a);case 2:return b.mE(q,g,a);case 1:return b.mE(g,q,a);case 3:return b.ye(g,q,a);case 8:return b.UL(g,q,a);case 32:return b.OL(g,q,a);case 16:return b.LL(g,q,a)}return!1};b.pE=function(a,c,f,d){if(a.u()||c.u())return 4==d?!0:!1;a=a.w();var g=new e.h,q=new e.h;c.s(g);q.I(a);q.Nb(g);c=e.na.$d(f,q,!1);switch(d){case 4:return b.Dx(a,g,c);case 2:return b.KC(a,g,c);case 1:return b.vV(a,g,c);case 3:return b.MH(a,g,c);case 8:return b.jC(a,g,c)}return!1};
b.SW=function(a,c,f,d){if(a.u()||c.u())return 4==d?!0:!1;a=a.w();c=c.w();var g=new e.h;g.I(a);g.Nb(c);f=e.na.$d(f,g,!1);switch(d){case 4:return b.HV(a,c,f);case 2:return b.LH(c,a,f);case 1:return b.LH(a,c,f);case 3:return b.NH(a,c,f)}return!1};b.iu=function(a,c,f,e,d){switch(e){case 4:return b.wL(a,c,f);case 2:return b.Ex(c,a,f,d);case 1:return b.Ex(a,c,f,d);case 3:return b.ML(a,c,f);case 8:return b.qM(a,c,f);case 32:return b.VL(a,c,f,d)}return!1};b.Un=function(a,c,f,e,d){switch(e){case 4:return b.CL(a,
c,f);case 1:return b.OB(a,c,f,d);case 8:return b.tM(a,c,f,d);case 16:return b.uY(a,c,f)}return!1};b.hu=function(a,c,f,e){switch(e){case 4:return b.TY(a,c,f);case 1:return b.HW(a,c,f);case 8:return b.mM(a,c,f)}return!1};b.gu=function(a,c,f,e){switch(e){case 4:return b.QY(a,c,f);case 1:return b.ZV(a,c,f);case 8:return b.iM(a,c,f);case 16:return b.jX(a,c,f)}return!1};b.TK=function(a,c,f,e,d){if(b.IY(a,c,f))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.vM(a,c,f);case 1:return b.PV(a,c,
f);case 3:return b.GL(a,c,f);case 8:return b.YL(a,c,f,d);case 32:return b.PL(a,c,f,d);case 16:return b.RW(a,c,f,d)}return!1};b.PB=function(a,c,f,e){switch(e){case 4:return b.FN(a,c,f);case 2:return b.oL(c,a,f);case 1:return b.oL(a,c,f);case 3:return b.KN(a,c,f);case 8:return b.dD(a,c,f);case 32:return b.PN(a,c,f);case 16:return b.qL(a,c,f)}return!1};b.ku=function(a,c,f,e){switch(e){case 4:return b.CN(a,c,f);case 1:return b.DM(a,c,f);case 8:return b.RO(a,c,f)}return!1};b.ju=function(a,c,f,e){switch(e){case 4:return b.vN(a,
c,f);case 1:return b.AM(a,c,f);case 8:return b.uL(a,c,f);case 16:return b.oN(a,c,f)}return!1};b.rL=function(a,c,f,e){if(b.qN(a,c,f))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.aP(a,c,f);case 1:return b.yM(a,c,f);case 3:return b.IN(a,c,f);case 8:return b.SN(a,c,f);case 32:return b.MN(a,c,f);case 16:return b.gN(a,c,f)}return!1};b.GB=function(a,c,f,e){switch(e){case 4:return b.$O(a,c,f);case 2:return b.sG(c,a,f);case 1:return b.sG(a,c,f);case 3:return b.YQ(a,c,f);case 32:return b.FR(a,
c,f)}return!1};b.cu=function(a,c,f,e){switch(e){case 4:return b.xG(a,c,f);case 2:return b.HU(a,c,f);case 1:return b.RN(a,c,f);case 3:return b.zx(a,c,f)}return!1};b.nH=function(a,c,f,e){switch(e){case 4:return b.xO(a,c,f);case 2:return b.HT(a,c,f);case 1:return b.ON(a,c,f);case 3:return b.IP(a,c,f);case 8:return b.eS(a,c,f);case 16:return b.tL(a,c,f)}return!1};b.ML=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(!b.ye(d,k,f))return!1;d=b.uc(a,c,!1);if(4==d||1==d||2==d)return!1;if(b.oG(a,c,
f))return!0;d=a.Rb();k=c.Rb();return Math.abs(d-k)>4*Math.max(a.D(),c.D())*f?!1:b.IA(a,c,f,!0)};b.wL=function(a,c,f){var e=b.uc(a,c,!0);return 4==e?!0:1==e||2==e||1073741824==e?!1:b.LJ(a,c,f)};b.qM=function(a,c,f){var e=b.uc(a,c,!1);return 4==e||1==e||2==e?!1:b.lL(a,c,f,null)};b.VL=function(a,c,f,e){var d=b.uc(a,c,!1);return 4==d||1==d||2==d?!1:b.YJ(a,c,f,e)};b.Ex=function(a,c,f,d){var g=new e.h,q=new e.h;a.s(g);c.s(q);if(!b.Dc(g,q,f))return!1;g=b.uc(a,c,!1);return 4==g||2==g?!1:1==g?!0:b.oJ(a,c,
f,d)};b.CL=function(a,c,f){var e=b.uc(a,c,!0);return 4==e?!0:1==e||1073741824==e?!1:b.LJ(a,c,f)};b.tM=function(a,c,f,e){var d=b.uc(a,c,!1);return 4==d||1==d?!1:b.mL(a,c,f,e)};b.uY=function(a,c,f){var e=b.uc(a,c,!1);return 4==e||1==e?!1:b.FJ(a,c,f,null)};b.OB=function(a,c,f,d){var g=new e.h,q=new e.h;a.s(g);c.s(q);if(!b.Dc(g,q,f))return!1;g=b.uc(a,c,!1);return 4==g?!1:1==g?!0:b.qJ(a,c,f,d)};b.TY=function(a,b,f){return 0==e.fd.KH(a,b,f)?!0:!1};b.mM=function(a,c,f){c=c.w();return b.dL(a,c,f)};b.HW=function(a,
c,f){c=c.w();return b.gJ(a,c,f)};b.QY=function(a,c,f){var d=b.uc(a,c,!1);if(4==d)return!0;if(1==d)return!1;d=new e.h;a.s(d);d.P(f,f);for(var k=new e.b,q=0;q<c.D();q++)if(c.w(q,k),d.contains(k)){var h=e.fd.ee(a,k,f);if(1==h||2==h)return!1}return!0};b.iM=function(a,b,f){var c=this.uc(a,b,!1);if(4==c||1==c)return!1;c=new e.h;a.s(c);c.P(f,f);var d,q=!1,h;h=a;for(var m=!1,l=0;l<b.D();l++){d=b.Ba(l);if(c.contains(d))if(d=e.fd.ee(h,d,f),2==d)q=!0;else if(1==d)return!1;m||(!e.cf.vm(a,b.D()-1)||null!=a.ob&&
null!=a.ob.Mb?h=a:(h=new e.Ja,a.copyTo(h),h.Kj(1)),m=!0)}return q?!0:!1};b.jX=function(a,b,f){var c=this.uc(a,b,!1);if(4==c||1==c)return!1;var d=new e.h,c=new e.h,q=new e.h;a.s(d);b.s(q);c.I(d);c.P(f,f);var q=d=!1,h,m;m=a;for(var l=!1,n=0;n<b.D();n++){h=b.Ba(n);c.contains(h)?(h=e.fd.ee(m,h,f),0==h?q=!0:1==h&&(d=!0)):q=!0;if(d&&q)return!0;l||(!e.cf.vm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?m=a:(m=new e.Ja,a.copyTo(m),m.Kj(1)),l=!0)}return!1};b.ZV=function(a,b,f){var c=new e.h,d=new e.h;a.s(c);b.s(d);
if(!this.Dc(c,d,f))return!1;d=this.uc(a,b,!1);if(4==d)return!1;if(1==d)return!0;var d=!1,q,h;h=a;for(var m=!1,l=0;l<b.D();l++){q=b.Ba(l);if(!c.contains(q))return!1;q=e.fd.ee(h,q,f);if(1==q)d=!0;else if(0==q)return!1;m||(!e.cf.vm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?h=a:(h=new e.Ja,a.copyTo(h),h.Kj(1)),m=!0)}return d};b.GL=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(!b.ye(d,k,f))return!1;d=new e.Ja;d.hd(c,!1);return b.IA(a,d,f,!0)};b.IY=function(a,c,f){var d=b.uc(a,c,!1);if(4==d)return!0;
if(1==d||2==d)return!1;var k=new e.h,d=new e.h;a.s(k);c.s(d);if(b.Dc(d,k,f))return!1;k=new e.b;d.Zn(k);c=e.fd.ee(a,k,f);if(0!=c)return!1;d.HJ(k);c=e.fd.ee(a,k,f);if(0!=c)return!1;d.$n(k);c=e.fd.ee(a,k,f);if(0!=c)return!1;d.KJ(k);c=e.fd.ee(a,k,f);if(0!=c)return!1;c=a.Qa(0);k=new e.h;k.I(d);k.P(f,f);for(var q=0,h=a.D();q<h;q++){var m=c.read(2*q),l=c.read(2*q+1);if(k.contains(m,l))return!1}return!b.UE(a,d,f)};b.YL=function(a,c,f,d){var g=b.uc(a,c,!1);if(4==g||1==g||2==g)return!1;var g=new e.h,q=new e.h;
a.s(g);c.s(q);if(b.Dc(q,g,f))return!1;if(q.O()<=f&&q.ea()<=f)return c=c.Bq(),b.dL(a,c,f);if(q.O()<=f||q.ea()<=f)return g=new e.Ua,q=new e.Wa,c.gg(0,q),g.Of(q),c.gg(2,q),g.lineTo(q),b.mL(a,g,f,d);g=new e.Ja;g.hd(c,!1);return b.lL(a,g,f,d)};b.PL=function(a,c,f,d){var g=b.uc(a,c,!1);if(4==g||1==g||2==g)return!1;var g=new e.h,q=new e.h;a.s(g);c.s(q);if(b.Dc(q,g,f)||q.O()<=f||q.ea()<=f)return!1;g=new e.Ja;g.hd(c,!1);return b.YJ(a,g,f,d)};b.vM=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);return b.Dc(k,
d,f)};b.PV=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(!b.Dc(d,k,f))return!1;d=b.uc(a,c,!1);if(4==d||2==d)return!1;if(1==d)return!0;if(k.O()<=f&&k.ea()<=f)return c=c.Bq(),b.gJ(a,c,f);if(k.O()<=f||k.ea()<=f)return k=new e.Ua,d=new e.Wa,c.gg(0,d),k.Of(d),c.gg(2,d),k.lineTo(d),b.qJ(a,k,f,null);k=new e.Ja;k.hd(c,!1);return b.oJ(a,k,f,null)};b.RW=function(a,c,f,d){var g=new e.h,q=new e.h;a.s(g);c.s(q);if(b.Dc(q,g,f)||q.ea()>f&&q.O()>f||q.ea()<=f&&q.O()<=f)return!1;g=new e.Ua;q=new e.Wa;c.gg(0,
q);g.Of(q);c.gg(2,q);g.lineTo(q);return b.FJ(a,g,f,d)};b.KN=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);return b.ye(d,k,f)&&4!=b.uc(a,c,!1)?b.oG(a,c,f)?!0:b.IA(a,c,f,!1):!1};b.FN=function(a,b,f){return 4==this.uc(a,b,!1)?!0:(new e.Rm(a,b,f,!0)).next()?!this.TH(a,b,f):!1};b.dD=function(a,c,f){if(4==b.uc(a,c,!1))return!1;var d=new e.Pd(0);if(0!=b.FB(a,c,f,d))return!1;for(var k=new e.Dd,q=0;q<d.size;q+=2){var h=d.read(q),m=d.read(q+1);k.qv(h,m)}a=a.Fg();c=c.Fg();a.Hd(c,0,c.D());return b.yx(a,
k,f)};b.qL=function(a,c,f){if(4==b.uc(a,c,!1))return!1;var d=new e.Pd(0);if(0!=b.FB(a,c,f,d))return!1;for(var k=new e.Dd,q=0;q<d.size;q+=2){var h=d.read(q),m=d.read(q+1);k.qv(h,m)}a=a.Fg();c=c.Fg();a.Hd(c,0,c.D());return!b.yx(a,k,f)};b.PN=function(a,c,f){return 4==b.uc(a,c,!1)?!1:b.LF(a,c,f)};b.oL=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);return b.Dc(d,k,f)&&4!=b.uc(a,c,!1)?b.lf(c,a,f,!1):!1};b.CN=function(a,c,f){if(4==b.uc(a,c,!1))return!0;c=c.w();return!b.KA(a,c,f)};b.RO=function(a,
c,f){if(4==b.uc(a,c,!1))return!1;c=c.w();return b.HB(a,c,f)};b.DM=function(a,c,f){if(4==b.uc(a,c,!1))return!1;c=c.w();return b.bD(a,c,f)};b.vN=function(a,c,f){return 4==b.uc(a,c,!1)?!0:!b.rF(a,c,f,!1)};b.uL=function(a,b,f){if(4==this.uc(a,b,!1))return!1;var c=a.Fa(),d=new e.h,q=new e.h,h=new e.h;a.s(d);b.s(q);d.P(f,f);q.P(f,f);h.I(d);h.Ma(q);var m,l,d=null;m=a.ob;null!=m?(l=m.Mb,d=m.tp,null==l&&(l=m=e.na.Pj(a,h))):l=m=e.na.Pj(a,h);var n=l.jf(),p=null;null!=d&&(p=d.jf());var r=new e.b,u=new e.b,v=
!1,x=f*f,d=new e.Km(b.D());for(m=0;m<b.D();m++)d.write(m,0);for(m=0;m<b.D();m++)if(b.w(m,r),h.contains(r))if(q.I(r.x,r.y,r.x,r.y),null==p||(p.Oi(q,f),-1!=p.next())){n.Oi(q,f);for(var z=n.next();-1!=z;z=n.next())if(c.Tb(l.ia(z)),z=c.ba(),z.hc(z.ne(r,!1),u),e.b.sc(r,u)<=x){d.write(m,1);v=!0;break}}if(!v)return!1;a=a.Fg();c=new e.Dd;q=new e.b;for(m=0;m<b.D();m++)0!=d.read(m)&&(b.w(m,q),c.qv(q.x,q.y));return this.yx(a,c,f)};b.oN=function(a,b,f){if(4==this.uc(a,b,!1))return!1;var c=a.Fa(),d=new e.h,q=
new e.h,h=new e.h;a.s(d);b.s(q);d.P(f,f);q.P(f,f);h.I(d);h.Ma(q);var m,l,d=null;m=a.ob;null!=m?(l=m.Mb,d=m.tp,null==l&&(l=m=e.na.Pj(a,h))):l=m=e.na.Pj(a,h);var n=l.jf(),p=null;null!=d&&(p=d.jf());var r=new e.b,u=new e.b,v=!1,x=!1,z=f*f,d=new e.Km(b.D());for(m=0;m<b.D();m++)d.write(m,0);for(m=0;m<b.D();m++)if(b.w(m,r),h.contains(r))if(q.I(r.x,r.y,r.x,r.y),null!=p&&(p.Oi(q,f),-1==p.next()))x=!0;else{n.Oi(q,f);for(var y=!1,A=n.next();-1!=A;A=n.next())if(c.Tb(l.ia(A)),A=c.ba(),A.hc(A.ne(r,!1),u),e.b.sc(r,
u)<=z){d.write(m,1);y=v=!0;break}y||(x=!0)}else x=!0;if(!v||!x)return!1;a=a.Fg();c=new e.Dd;q=new e.b;for(m=0;m<b.D();m++)0!=d.read(m)&&(b.w(m,q),c.qv(q.x,q.y));return!this.yx(a,c,f)};b.AM=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(!b.Dc(d,k,f)||4==b.uc(a,c,!1)||!b.rF(a,c,f,!0))return!1;a=a.Fg();return!b.mH(a,c,f)};b.IN=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);return k.ea()>f&&k.O()>f?!1:b.ye(d,k,f)};b.qN=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);return b.Dc(k,
d,f)?!1:!b.UE(a,k,f)};b.SN=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(k.ea()<=f&&k.O()<=f)return k=c.Bq(),b.HB(a,k,f);if(k.ea()<=f||k.O()<=f)return k=new e.Ua,d=new e.Wa,c.gg(0,d),k.Of(d),c.gg(2,d),k.lineTo(d),b.dD(a,k,f);a=a.Fa();c=new e.h;d=new e.h;c.I(k);d.I(k);c.P(-f,-f);d.P(f,f);for(var k=!1,q=new e.h,h=new e.h;a.Ya();)for(;a.Ea();){a.ba().s(q);h.I(c);h.Ma(q);if(!h.u()&&(h.ea()>f||h.O()>f))return!1;h.I(d);h.Ma(q);h.u()||(k=!0)}return k};b.MN=function(a,c,f){var d=new e.h,k=new e.h;
a.s(d);c.s(k);if(b.Dc(d,k,f)||b.Dc(k,d,f)||b.Dc(k,d,f)||k.ea()>f&&k.O()>f||k.ea()<=f&&k.O()<=f)return!1;d=new e.Ua;k=new e.Wa;c.gg(0,k);d.Of(k);c.gg(2,k);d.lineTo(k);return b.LF(a,d,f)};b.aP=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(!b.Dc(k,d,f)||k.ea()<=f&&k.O()<=f)return!1;if(k.ea()<=f||k.O()<=f)return b.Dc(k,d,f);a=a.Fa();c=new e.h;c.I(k);c.P(-f,-f);for(var k=!1,d=new e.h,q=new e.h;a.Ya();)for(;a.Ea();)a.ba().s(d),c.Zm(d)?k=!0:(q.I(c),q.Ma(d),!q.u()&&(q.ea()>f||q.O()>f)&&(k=!0));
return k};b.yM=function(a,c,f){var d=new e.h,k=new e.h;c.s(k);a.s(d);if(!b.Dc(d,k,f)||k.ea()>f&&k.O()>f)return!1;if(k.ea()<=f&&k.O()<=f)return c=c.Bq(),b.bD(a,c,f);d=new e.Ua;k=new e.Wa;c.gg(0,k);d.Of(k);c.gg(2,k);d.lineTo(k);return b.lf(d,a,f,!1)};b.gN=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(b.Dc(k,d,f)||k.ea()<=f&&k.O()<=f)return!1;if(k.ea()<=f||k.O()<=f)return d=new e.Ua,k=new e.Wa,c.gg(0,k),d.Of(k),c.gg(2,k),d.lineTo(k),b.qL(a,d,f);a=a.Fa();c=new e.h;d=new e.h;d.I(k);c.I(k);d.P(-f,
-f);c.P(f,f);for(var q=k=!1,h=new e.h,m=new e.h;a.Ya();)for(;a.Ea();)if(a.ba().s(h),q||c.contains(h)||(q=!0),k||(m.I(d),m.Ma(h),!m.u()&&(m.ea()>f||m.O()>f)&&(k=!0)),k&&q)return!0;return!1};b.YQ=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);return b.ye(d,k,f)?b.rR(a,c,f)?!0:b.RB(a,c,f,!1,!0,!1):!1};b.$O=function(a,c,f){return!b.mH(a,c,f)};b.FR=function(a,c,f){return b.RB(a,c,f,!1,!1,!0)};b.sG=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);return b.Dc(d,k,f)?b.RB(c,a,f,!0,!1,!1):!1};
b.yx=function(a,b,f){f*=f;for(var c=new e.b,d=new e.b,q=0;q<b.D();q++){b.w(q,d);for(var h=!1,m=0;m<a.D();m++)if(a.w(m,c),e.b.sc(c,d)<=f){h=!0;break}if(!h)return!1}return!0};b.zx=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);return b.ye(d,k,f)};b.xG=function(a,c,f){c=c.w();return b.bu(a,c,f)};b.HU=function(a,c,f){return b.zx(a,c,f)};b.RN=function(a,c,f){return!b.xG(a,c,f)};b.IP=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);return k.ea()>f||k.O()>f?!1:b.ye(d,k,f)};b.xO=function(a,c,
f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(b.Dc(k,d,f))return!1;c=new e.h;c.I(k);c.P(f,f);f=new e.b;for(k=0;k<a.D();k++)if(a.w(k,f),c.contains(f))return!1;return!0};b.eS=function(a,b,f){var c=new e.h,d=new e.h,q=new e.h;b.s(c);if(c.ea()<=f&&c.O()<=f)return!1;if(c.ea()<=f||c.O()<=f){b=new e.b;var h=!1;d.I(c);q.I(c);d.P(f,f);c.ea()>f?q.P(0,-f):q.P(-f,0);for(var m=0;m<a.D();m++)if(a.w(m,b),d.contains(b)){if(c.ea()>f){if(b.y>q.A&&b.y<q.B)return!1}else if(b.x>q.o&&b.x<q.v)return!1;h=!0}return h}d.I(c);
q.I(c);d.P(f,f);q.P(-f,-f);b=new e.b;h=!1;for(m=0;m<a.D();m++)if(a.w(m,b),d.contains(b)){if(q.Zm(b))return!1;h=!0}return h};b.HT=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(!b.Dc(k,d,f))return!1;if(k.ea()<=f&&k.O()<=f)return b.ye(d,k,f);if(k.ea()<=f||k.O()<=f){c=!1;var d=new e.h,q=new e.h;d.I(k);q.I(k);k.ea()>f?d.P(0,-f):d.P(-f,0);q.P(f,f);for(var h=new e.b,m=0;m<a.D();m++){a.w(m,h);if(!q.contains(h))return!1;k.ea()>f?h.y>d.A&&h.y<d.B&&(c=!0):h.x>d.o&&h.x<d.v&&(c=!0)}return c}c=!1;d=
new e.h;q=new e.h;d.I(k);q.I(k);d.P(-f,-f);q.P(f,f);h=new e.b;for(m=0;m<a.D();m++){a.w(m,h);if(!q.contains(h))return!1;d.Zm(h)&&(c=!0)}return c};b.ON=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(!b.Dc(d,k,f)||k.ea()>f||k.O()>f)return!1;c=c.Bq();return!b.bu(a,c,f)};b.tL=function(a,c,f){var d=new e.h,k=new e.h;a.s(d);c.s(k);if(b.Dc(k,d,f)||k.ea()<=f&&k.O()<=f)return!1;if(k.ea()<=f||k.O()<=f){c=new e.h;d=new e.h;c.I(k);k.ea()>f?c.P(0,-f):c.P(-f,0);d.I(k);d.P(f,f);for(var q=new e.b,h=!1,m=
!1,l=0;l<a.D();l++)if(a.w(l,q),h||(k.ea()>f?q.y>c.A&&q.y<c.B&&(h=!0):q.x>c.o&&q.x<c.v&&(h=!0)),m||d.contains(q)||(m=!0),h&&m)return!0;return!1}c=new e.h;d=new e.h;c.I(k);c.P(-f,-f);d.I(k);d.P(f,f);q=new e.b;m=h=!1;for(l=0;l<a.D();l++)if(a.w(l,q),!h&&c.Zm(q)&&(h=!0),m||d.contains(q)||(m=!0),h&&m)return!0;return!1};b.NH=function(a,b,f){return e.b.sc(a,b)<=f*f?!0:!1};b.HV=function(a,b,f){return e.b.sc(a,b)>f*f?!0:!1};b.LH=function(a,c,f){return b.NH(a,c,f)};b.MH=function(a,c,f){var d=new e.h;d.I(a);
return b.ye(d,c,f)};b.Dx=function(a,b,f){var c=new e.h;c.I(b);c.P(f,f);return!c.contains(a)};b.jC=function(a,b,f){if(b.ea()<=f&&b.O()<=f)return!1;var c=new e.h,d=new e.h;c.I(b);c.P(f,f);if(!c.contains(a))return!1;if(b.ea()<=f||b.O()<=f){d.I(b);b.ea()>f?d.P(0,-f):d.P(-f,0);if(b.ea()>f){if(a.y>d.A&&a.y<d.B)return!1}else if(a.x>d.o&&a.x<d.v)return!1;return!0}d.I(b);d.P(-f,-f);return d.Zm(a)?!1:!0};b.KC=function(a,b,f){if(b.ea()<=f&&b.O()<=f)return!0;if(b.ea()<=f||b.O()<=f){var c=new e.h;c.I(b);b.ea()>
f?c.P(0,-f):c.P(-f,0);var d=!1;b.ea()>f?a.y>c.A&&a.y<c.B&&(d=!0):a.x>c.o&&a.x<c.v&&(d=!0);return d}c=new e.h;c.I(b);c.P(-f,-f);return c.Zm(a)};b.vV=function(a,c,f){return b.MH(a,c,f)};b.ye=function(a,c,f){return b.Dc(a,c,f)&&b.Dc(c,a,f)};b.Gk=function(a,b,f){var c=new e.h;c.I(b);c.P(f,f);return!a.Yb(c)};b.UL=function(a,c,f){if(a.ea()<=f&&a.O()<=f){var d=a.Tf();return b.jC(d,c,f)}if(c.ea()<=f&&c.O()<=f)return d=c.Tf(),b.jC(d,a,f);a.ea()>f&&a.O()>f&&(c.ea()<=f||c.O()<=f)?d=c:(d=a,a=c);if(d.ea()<=f||
d.O()<=f){if(a.ea()<=f||a.O()<=f){c=new e.Hb;var k=new e.Hb,q=[0,0],h=[0,0],m=new e.b;d.Zn(m);c.Lc(m);d.$n(m);c.Xc(m);a.Zn(m);k.Lc(m);a.$n(m);k.Xc(m);c.Ma(k,null,q,h,f);return 1!=c.Ma(k,null,null,null,f)?!1:0==q[0]||1==q[1]||0==h[0]||1==h[1]}c=new e.h;k=new e.h;c.I(a);c.P(-f,-f);k.I(c);k.Ma(d);return!k.u()&&(k.ea()>f||k.O()>f)?!1:!0}a.P(f,f);k=new e.h;k.I(d);k.Ma(a);return k.u()||!k.u()&&k.ea()>f&&k.O()>f?!1:!0};b.OL=function(a,c,f){if(b.Dc(a,c,f)||b.Dc(c,a,f)||a.ea()<=f&&a.O()<=f||c.ea()<=f&&c.O()<=
f)return!1;if(a.ea()<=f||a.O()<=f){if(c.ea()>f&&c.O()>f)return!1;var d=new e.Hb,k=new e.Hb,q=[0,0],h=[0,0],m=new e.b;a.Zn(m);d.Lc(m);a.$n(m);d.Xc(m);c.Zn(m);k.Lc(m);c.$n(m);k.Xc(m);d.Ma(k,null,q,h,f);return 2!=d.Ma(k,null,null,null,f)?!1:(0<q[0]||1>q[1])&&(0<h[0]||1>h[1])}if(c.ea()<=f||c.O()<=f)return!1;d=new e.h;d.I(a);d.Ma(c);return d.u()||d.ea()<=f||d.O()<=f?!1:!0};b.mE=function(a,c,f){if(!b.Dc(a,c,f))return!1;if(a.ea()<=f&&a.O()<=f)return a=a.Tf(),b.KC(a,c,f);if(c.ea()<=f&&c.O()<=f)return c=c.Tf(),
b.KC(c,a,f);if(a.ea()<=f||a.O()<=f)return b.Dc(a,c,f);if(c.ea()<=f||c.O()<=f){var d=new e.h;d.I(a);d.P(-f,-f);if(d.Zm(c))return!0;a=new e.h;a.I(d);a.Ma(c);return a.u()||a.ea()<=f&&a.O()<=f?!1:!0}return b.Dc(a,c,f)};b.LL=function(a,c,f){if(b.Dc(a,c,f)||b.Dc(c,a,f)||a.ea()<=f&&a.O()<=f||c.ea()<=f&&c.O()<=f||c.ea()>f&&c.O()>f&&a.ea()>f&&a.O()>f)return!1;var d;a.ea()>f&&a.O()>f?d=c:(d=a,a=c);if(a.ea()>f&&a.O()>f){c=new e.h;var k=new e.h;k.I(a);k.P(-f,-f);c.I(k);c.Ma(d);return c.u()||c.ea()<=f&&c.O()<=
f?!1:!0}c=new e.Hb;var k=new e.Hb,q=[0,0],h=[0,0],m=new e.b;d.Zn(m);c.Lc(m);d.$n(m);c.Xc(m);a.Zn(m);k.Lc(m);a.$n(m);k.Xc(m);c.Ma(k,null,q,h,f);return 1!=c.Ma(k,null,null,null,f)?!1:0<q[0]&&1>q[1]&&0<h[0]&&1>h[1]};b.LJ=function(a,b,f){var c,d,q=new e.h,h=new e.h,m=new e.Rm(a,b,f,!0);if(!m.next())return!0;if(this.TH(a,b,f))return!1;var l;l=a;var n;n=null;1736==b.G()&&(n=b);var p=!1,r=!1;do{c=m.Vl();d=m.Rl();d=b.Ba(b.wa(d));q.I(m.hA());q.P(f,f);if(q.contains(d)&&(d=e.fd.ee(l,d,0),0!=d)||1736==b.G()&&
(c=a.Ba(a.wa(c)),h.I(m.Lz()),h.P(f,f),h.contains(c)&&(d=e.fd.ee(n,c,0),0!=d)))return!1;p||(!e.cf.vm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?l=a:(l=new e.Ja,a.copyTo(l),l.Kj(1)),p=!0);1736!=b.G()||r||(r=b,!e.cf.vm(r,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?n=b:(n=new e.Ja,r.copyTo(n),n.Kj(1)),r=!0)}while(m.next());return!0};b.Dc=function(a,b,f){var c=new e.h;c.I(a);c.P(f,f);return c.contains(b)};b.xl=function(a,b,f){var c=new e.h;c.I(b);c.P(f,f);b=new e.b;a.Zn(b);if(!c.contains(b))return!0;a.HJ(b);if(!c.contains(b))return!0;
a.KJ(b);if(!c.contains(b))return!0;a.$n(b);return c.contains(b)?!1:!0};b.oG=function(a,b,f){if(a.aa()!=b.aa()||a.D()!=b.D())return!1;var c=new e.b,d=new e.b,q=!0;f*=f;for(var h=0;h<a.aa();h++){if(a.Fc(h)!=b.Fc(h)){q=!1;break}for(var m=a.wa(h);m<b.Fc(h);m++)if(a.w(m,c),b.w(m,d),e.b.sc(c,d)>f){q=!1;break}if(!q)break}return q?!0:!1};b.rR=function(a,b,f){if(a.D()!=b.D())return!1;var c=new e.b,d=new e.b,q=!0;f*=f;for(var h=0;h<a.D();h++)if(a.w(h,c),b.w(h,d),e.b.sc(c,d)>f){q=!1;break}return q?!0:!1};b.RB=
function(a,b,f,d,k,q){var c=!1,g;a.D()>b.D()?(d&&(d=!1,c=!0),g=b):(g=a,a=b);b=null;if(k||q||c){b=new e.Km(a.D());for(var h=0;h<a.D();h++)b.write(h,0)}var h=new e.h,m=new e.h,l=new e.h;g.s(h);a.s(m);h.P(f,f);m.P(f,f);l.I(h);l.Ma(m);for(var m=new e.b,n=new e.b,p=!0,r=e.na.CF(a,l),u=r.jf(),v=f*f,x=0;x<g.D();x++)if(g.w(x,m),l.contains(m)){var z=!1;h.I(m.x,m.y,m.x,m.y);u.Oi(h,f);for(var y=u.next();-1!=y&&!(y=r.ia(y),a.w(y,n),e.b.sc(m,n)<=v&&((k||q||c)&&b.write(y,1),z=!0,d));y=u.next());if(!z&&(p=!1,k||
d))return!1}else{if(k||d)return!1;p=!1}if(q&&p)return!1;if(d)return!0;for(h=0;h<a.D();h++)if(1==b.read(h)){if(q)return!0}else if(k||c)return!1;return q?!1:!0};b.mH=function(a,b,f){var c;a.D()>b.D()?c=b:(c=a,a=b);b=new e.h;var d=new e.h,q=new e.h;c.s(b);a.s(d);b.P(f,f);d.P(f,f);q.I(b);q.Ma(d);for(var d=new e.b,h=new e.b,m=f*f,l=e.na.CF(a,q),n=l.jf(),p=0;p<c.D();p++)if(c.w(p,d),q.contains(d)){b.I(d.x,d.y,d.x,d.y);n.Oi(b,f);for(var r=n.next();-1!=r;r=n.next())if(a.w(l.ia(r),h),e.b.sc(d,h)<=m)return!0}return!1};
b.IA=function(a,c,f,e){return b.lf(a,c,f,e)&&b.lf(c,a,f,e)};b.lf=function(a,c,f,g){function k(a,b){return p.WF(a,b)}var q=!0,h=[0,0],m=[0,0],l=0,n=new e.ha(0),p=new b,r,u=new e.h,v=new e.h,x=new e.h;a.s(u);c.s(v);u.P(f,f);v.P(f,f);x.I(u);x.Ma(v);a=a.Fa();var v=c.Fa(),z=null,y=z=null,A=c.ob;null!=A?(z=A.Mb,y=A.tp,null==z&&(z=e.na.Pj(c,x))):z=e.na.Pj(c,x);c=z.jf();A=null;for(null!=y&&(A=y.jf());a.Ya();)for(;a.Ea();){var C=!1,B=a.ba();B.s(u);if(!u.Yb(x))return!1;if(null!=A&&(A.Oi(u,f),-1==A.next()))return q=
!1;y=B.Rb();c.bo(B,f);for(r=c.next();-1!=r;r=c.next()){v.Tb(z.ia(r));r=v.ba();var H=B.Ma(r,null,h,m,f);if(2==H&&(!g||m[0]<=m[1])){var H=h[0],J=h[1],E=m[0],F=m[1];if(H*y<=f&&(1-J)*y<=f){C=!0;l=0;n.resize(0);p.Qh.length=0;for(var V=a.Db(),E=!0;E;){if(a.Ea()){B=a.ba();y=B.Rb();H=B.Ma(r,null,h,m,f);if(2==H&&(!g||m[0]<=m[1])&&(H=h[0],J=h[1],H*y<=f&&(1-J)*y<=f)){V=a.Db();continue}if(v.Ea()&&(r=v.ba(),H=B.Ma(r,null,h,m,f),2==H&&(!g||m[0]<=m[1])&&(H=h[0],J=h[1],H*y<=f&&(1-J)*y<=f))){V=a.Db();continue}}E=
!1}V!=a.Db()&&(a.Tb(V),a.ba());break}else V=a.Db(),r=d.pa(V,a.Ta,H,J,v.Db(),v.Ta,E,F),p.Qh.push(r),n.add(n.size)}}if(!C){if(l==p.Qh.length)return!1;1<n.size-l&&n.Fd(l,n.size,k);for(C=0;l<p.Qh.length;l++)if(r=p.Qh[n.get(l)],!(r.ik<C&&r.sj<C)){if(y*(r.ik-C)>f)return!1;C=r.sj;if(y*(1-C)<=f||1==C)break}if(y*(1-C)>f)return!1;l=0;n.resize(0);p.Qh.length=0}}return q};b.LF=function(a,c,f){if(1>b.FB(a,c,f,null))return!1;var d=new e.h,k=new e.h;a.s(d);c.s(k);var q=b.xl(d,k,f),d=b.xl(k,d,f);return q&&d?!0:q&&
!d?!b.lf(c,a,f,!1):d&&!q?!b.lf(a,c,f,!1):!b.lf(a,c,f,!1)&&!b.lf(c,a,f,!1)};b.FB=function(a,c,f,g){function k(a,b){return v.WF(a,b)}var q,h;a.lA()>c.lA()?(q=c,h=a):(q=a,h=c);a=q.Fa();c=h.Fa();var m=[0,0],l=[0,0],n=-1,p=0,r,u=new e.ha(0),v=new b,x,z=new e.h,y=new e.h,A=new e.h;q.s(z);h.s(y);z.P(f,f);y.P(f,f);A.I(z);A.Ma(y);q=null;null!=g&&(q=new e.b);r=y=y=null;var C=h.ob;null!=C?(y=C.Mb,r=C.tp,null==y&&(y=e.na.Pj(h,A))):y=e.na.Pj(h,A);h=y.jf();C=null;for(null!=r&&(C=r.jf());a.Ya();)for(r=0;a.Ea();){var B=
a.ba();B.s(z);if(z.Yb(A)&&(null==C||(C.Oi(z,f),-1!=C.next()))){var H=B.Rb();h.bo(B,f);for(var J=h.next();-1!=J;J=h.next()){var E=y.ia(J);c.Tb(E);x=c.ba();var V=x.Rb(),F=B.Ma(x,null,m,l,f);if(0<F){var J=m[0],n=l[0],M=2==F?m[1]:NaN,D=2==F?l[1]:NaN;if(2==F){if(H*(M-J)>f)return n=1;var K=H*(M-J);if(c.Ea()){x=c.ba();F=B.Ma(x,null,m,null,f);if(2==F){var F=m[0],R=m[1],F=H*(R-F);if(K+F>f)return n=1}c.Tb(E);c.ba()}if(!c.pn()){c.Mi();x=c.Mi();F=B.Ma(x,null,m,null,f);if(2==F&&(F=m[0],R=m[1],F=H*(R-F),K+F>f))return n=
1;c.Tb(E);c.ba()}if(a.Ea()){E=a.Db();B=a.ba();F=B.Ma(x,null,m,null,f);if(2==F&&(F=m[0],R=m[1],F=H*(R-F),K+F>f))return n=1;a.Tb(E);a.ba()}if(!a.pn()){E=a.Db();a.Mi();B=a.Mi();F=B.Ma(x,null,m,null,f);if(2==F&&(F=m[0],R=m[1],F=V*(R-F),K+F>f))return n=1;a.Tb(E);a.ba()}x=d.pa(a.Db(),a.Ta,J,M,c.Db(),c.Ta,n,D);v.Qh.push(x);u.add(u.size)}n=0;null!=g&&(B.hc(J,q),g.add(q.x),g.add(q.y))}}if(p<v.Qh.length){u.Fd(p,u.size,k);B=0;for(J=v.Qh[u.get(p)].Fn;p<v.Qh.length;p++)if(x=v.Qh[u.get(p)],!(x.ik<B&&x.sj<B))if(H*
(x.ik-B)>f)r=H*(x.sj-x.ik),B=x.sj,J=x.Fn;else{x.Fn!=J?(r=H*(x.sj-x.ik),J=x.Fn):r+=H*(x.sj-x.ik);if(r>f)return n=1;B=x.sj;if(1==B)break}H*(1-B)>f&&(r=0);p=0;u.resize(0);v.Qh.length=0}}}return n};b.TH=function(a,b,f){var c=a.Fa(),d=b.Fa();for(a=new e.Rm(a,b,f,!1);a.next();){b=a.Vl();var q=a.Rl();c.Tb(b);d.Tb(q);b=c.ba();if(0<d.ba().Ma(b,null,null,null,f))return!0}return!1};b.rF=function(a,b,f,d){var c=a.Fa(),g=new e.h,h=new e.h,m=new e.h;a.s(g);b.s(h);g.P(f,f);g.contains(h);h.P(f,f);m.I(g);m.Ma(h);
g=a.ob;null!=g?(g=g.Mb,null==g&&(g=e.na.Pj(a,m))):g=e.na.Pj(a,m);a=g.jf();for(var l=new e.b,n=new e.b,p=f*f,r=0;r<b.D();r++)if(b.w(r,l),m.contains(l)){h.I(l.x,l.y,l.x,l.y);a.Oi(h,f);for(var u=!1,v=a.next();-1!=v;v=a.next())if(c.Tb(g.ia(v)),v=c.ba(),v.hc(v.ne(l,!1),n),e.b.sc(n,l)<=p){u=!0;break}if(d){if(!u)return!1}else if(u)return!0}return d?!0:!1};b.KA=function(a,b,f){var c=new e.b,d=f*f,q=a.Fa();a=a.ob;if(null!=a&&(a=a.Mb,null!=a)){var h=new e.h;h.I(b);f=a.$z(h,f);for(h=f.next();-1!=h;h=f.next())if(q.Tb(a.ia(h)),
q.Ea()){var h=q.ba(),m=h.ne(b,!1);h.hc(m,c);if(e.b.sc(b,c)<=d)return!0}return!1}for(a=new e.h;q.Ya();)for(;q.Ea();)if(h=q.ba(),h.s(a),a.P(f,f),a.contains(b)&&(m=h.ne(b,!1),h.hc(m,c),e.b.sc(b,c)<=d))return!0;return!1};b.bD=function(a,c,f){return b.KA(a,c,f)&&!b.HB(a,c,f)};b.HB=function(a,c,f){a=a.Fg();return!b.bu(a,c,f)};b.UE=function(a,b,f){if(a.on()){var c=new e.Hb(b.o,b.A,b.o,b.B),d=new e.Hb(b.o,b.B,b.v,b.B),q=new e.Hb(b.v,b.B,b.v,b.A);b=new e.Hb(b.v,b.A,b.o,b.A);for(a=a.Fa();a.Ya();)for(;a.Ea();){var h=
a.ba();if(h.Yb(c,f)||h.Yb(d,f)||h.Yb(q,f)||h.Yb(b,f))return!0}}else{c=new e.h;c.I(b);c.P(f,f);f=a.Qa(0);d=new e.b;q=new e.b;b=new e.b;for(var h=new e.b,m=0,l=a.aa();m<l;m++)for(var n=!0,p=a.wa(m),r=a.Fc(m);p<r;p++)if(n)f.fc(2*p,q),n=!1;else{f.fc(2*p,d);b.L(q);h.L(d);if(0!=c.ez(b,h))return!0;q.L(d)}}return!1};b.uc=function(a,c,f){var d=a.G(),k=c.G();if(e.T.fh(d)){var q=a.ob;if(null!=q&&(q=q.Ii,null!=q))if(33==k){var h=c.w(),h=q.wm(h.x,h.y);if(1==h)return 1;if(0==h)return 4}else{h=new e.h;c.s(h);h=
q.Xn(h);if(1==h)return 1;if(0==h)return 4;if(f&&e.T.fh(k)&&b.gE(c,q))return 1073741824}}if(e.T.fh(k)&&(q=c.ob,null!=q&&(q=q.Ii,null!=q)))if(33==d){a=a.w();h=q.wm(a.x,a.y);if(1==h)return 2;if(0==h)return 4}else{c=new e.h;a.s(c);h=q.Xn(c);if(1==h)return 2;if(0==h)return 4;if(f&&e.T.fh(d)&&b.gE(a,q))return 1073741824}return 0};b.gE=function(a,b){for(var c=a.D(),d=new e.b,k=0;k<c;k++)if(a.w(k,d),1==b.wm(d.x,d.y))return!0;return!1};b.lL=function(a,b,f,d){for(var c=1<=a.Nk(0)&&1<=b.Nk(0),g=a.Fa(),h=b.Fa(),
m=[0,0],l=[0,0],n=new e.Rm(a,b,f,!1),p=!1;n.next();){var r=n.Vl(),u=n.Rl();g.Tb(r);h.Tb(u);r=g.ba();u=h.ba().Ma(r,null,l,m,f);if(2==u){p=m[0];u=m[1];r=r.Rb();if(c&&(u-p)*r>f)return!1;p=!0}else if(0!=u){p=m[0];r=l[0];if(0<p&&1>p&&0<r&&1>r)return!1;p=!0}}if(!p)return!1;g=new e.h;h=new e.h;c=new e.h;a.s(g);b.s(h);g.P(1E3*f,1E3*f);h.P(1E3*f,1E3*f);c.I(g);c.Ma(h);return 10<a.D()&&(a=e.le.clip(a,c,f,0),a.u())||10<b.D()&&(b=e.le.clip(b,c,f,0),b.u())?!1:e.Tm.iu(a,b,f,"F********",d)};b.YJ=function(a,c,f,d){var g=
1<=a.Nk(0)&&1<=c.Nk(0),h=new e.h,m=new e.h,l=new e.h;a.s(h);c.s(m);for(var n=!1,p=b.xl(h,m,f),r=b.xl(m,h,f),u=a.Fa(),v=c.Fa(),x=[0,0],z=[0,0],y=new e.Rm(a,c,f,!1);y.next();){var A=y.Vl(),C=y.Rl();u.Tb(A);v.Tb(C);C=u.ba();A=v.ba().Ma(C,null,z,x,f);if(2==A){var A=x[0],B=x[1],C=C.Rb();if(g&&(B-A)*C>f&&(n=!0,p&&r))return!0}else if(0!=A&&(A=x[0],C=z[0],0<A&&1>A&&0<C&&1>C))return!0}g=new e.h;u=new e.h;g.I(h);g.P(1E3*f,1E3*f);u.I(m);u.P(1E3*f,1E3*f);l.I(g);l.Ma(u);h="";h=n?h+"**":h+"T*";if(p){if(10<c.D()&&
(c=e.le.clip(c,l,f,0),c.u()))return!1;h+="****"}else h+="T***";if(r){if(10<a.D()&&(a=e.le.clip(a,l,f,0),a.u()))return!1;h+="***"}else h+="T**";return e.Tm.iu(a,c,f,h.toString(),d)};b.oJ=function(a,c,f,d){var g=[!1],h=b.eJ(a,c,f,g);if(g[0])return h;g=new e.h;c.s(g);g.P(1E3*f,1E3*f);return 10<a.D()&&(a=e.le.clip(a,g,f,0),a.u())?!1:e.Tm.Ex(a,c,f,d)};b.eJ=function(a,b,f,d){d[0]=!1;for(var c=a.Fa(),g=b.Fa(),h=[0,0],m=[0,0],l=new e.Rm(a,b,f,!1),n=!1;l.next();){var p=l.Vl(),r=l.Rl();c.Tb(p,-1);g.Tb(r,-1);
p=c.ba();p=g.ba().Ma(p,null,m,h,f);if(0!=p&&(n=!0,1==p&&(p=h[0],r=m[0],0<p&&1>p&&0<r&&1>r)))return d[0]=!0,!1}if(!n){d[0]=!0;h=new e.h;a.s(h);h.P(f,f);l=a;n=!1;m=new e.h;d=0;for(c=b.aa();d<c;d++)if(0<b.La(d)){b.nk(d,m);if(h.Yb(m)){if(g=b.Ba(b.wa(d)),g=e.cf.qn(l,g,0),0==g)return!1}else return!1;n||(!e.cf.vm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?l=a:(g=new e.Ja,a.copyTo(g),g.Kj(1),l=g),n=!0)}if(1==a.aa()||1607==b.G())return!0;h=new e.h;b.s(h);h.P(f,f);m=b;l=!1;f=new e.h;d=0;for(c=a.aa();d<c;d++)if(0<
a.La(d)){a.nk(d,f);if(h.Yb(f)&&(g=a.Ba(a.wa(d)),g=e.cf.qn(m,g,0),1==g))return!1;l||(!e.cf.vm(b,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?m=b:(g=new e.Ja,b.copyTo(g),g.Kj(1),m=g),l=!0)}return!0}return!1};b.mL=function(a,b,f,d){for(var c=a.Fa(),g=b.Fa(),h=[0,0],m=[0,0],l=new e.Rm(a,b,f,!1),n=!1;l.next();){var p=l.Vl(),r=l.Rl();c.Tb(p);g.Tb(r);p=c.ba();p=g.ba().Ma(p,null,m,h,f);if(2==p)n=!0;else if(0!=p){n=h[0];p=m[0];if(0<n&&1>n&&0<p&&1>p)return!1;n=!0}}if(!n)return!1;g=new e.h;h=new e.h;c=new e.h;a.s(g);
b.s(h);g.P(1E3*f,1E3*f);h.P(1E3*f,1E3*f);c.I(g);c.Ma(h);return 10<a.D()&&(a=e.le.clip(a,c,f,0),a.u())||10<b.D()&&(b=e.le.clip(b,c,f,0),b.u())?!1:e.Tm.Un(a,b,f,"F********",d)};b.FJ=function(a,c,f,d){for(var g=a.Fa(),h=c.Fa(),m=[0,0],l=[0,0],n=new e.Rm(a,c,f,!1),p=!1;n.next();){var r=n.Vl(),u=n.Rl();g.Tb(r);h.Tb(u);r=g.ba();r=h.ba().Ma(r,null,l,m,f);if(2==r)p=!0;else if(0!=r){p=m[0];r=l[0];if(0<p&&1>p&&0<r&&1>r)return!0;p=!0}}if(!p)return!1;h=new e.h;m=new e.h;l=new e.h;n=new e.h;g=new e.h;a.s(h);c.s(m);
return b.xl(m,h,f)?(l.I(h),l.P(1E3*f,1E3*f),n.I(m),n.P(1E3*f,1E3*f),g.I(l),g.Ma(n),10<a.D()&&(a=e.le.clip(a,g,f,0),a.u())||10<c.D()&&(c=e.le.clip(c,g,f,0),c.u())?!1:f=e.Tm.Un(a,c,f,"T********",d)):f=e.Tm.Un(a,c,f,"T*****T**",d)};b.qJ=function(a,c,f,d){var g=[!1],h=b.eJ(a,c,f,g);if(g[0])return h;g=new e.h;c.s(g);g.P(1E3*f,1E3*f);return 10<a.D()&&(a=e.le.clip(a,g,f,0),a.u())?!1:e.Tm.OB(a,c,f,d)};b.gJ=function(a,b,f){return 1==e.fd.ee(a,b,f)?!0:!1};b.dL=function(a,b,f){return 2==e.fd.ee(a,b,f)?!0:!1};
b.bu=function(a,b,f){var c=new e.b;f*=f;for(var d=0;d<a.D();d++)if(a.w(d,c),e.b.sc(c,b)<=f)return!1;return!0};b.prototype.WF=function(a,b){a=this.Qh[a];b=this.Qh[b];return a.Fn<b.Fn||a.Fn==b.Fn&&(a.bx<b.bx||a.bx==b.bx&&(a.ik<b.ik||a.ik==b.ik&&(a.sj<b.sj||a.sj==b.sj&&a.DI<b.DI)))?-1:1};return b}();e.Ed=h})(x||(x={}));(function(e){var d;(function(b){b[b.InteriorInterior=0]="InteriorInterior";b[b.InteriorBoundary=1]="InteriorBoundary";b[b.InteriorExterior=2]="InteriorExterior";b[b.BoundaryInterior=3]=
"BoundaryInterior";b[b.BoundaryBoundary=4]="BoundaryBoundary";b[b.BoundaryExterior=5]="BoundaryExterior";b[b.ExteriorInterior=6]="ExteriorInterior";b[b.ExteriorBoundary=7]="ExteriorBoundary";b[b.ExteriorExterior=8]="ExteriorExterior"})(d||(d={}));var h;(function(b){b[b.AreaAreaPredicates=0]="AreaAreaPredicates";b[b.AreaLinePredicates=1]="AreaLinePredicates";b[b.LineLinePredicates=2]="LineLinePredicates";b[b.AreaPointPredicates=3]="AreaPointPredicates";b[b.LinePointPredicates=4]="LinePointPredicates";
b[b.PointPointPredicates=5]="PointPointPredicates"})(h||(h={}));d=function(){function b(){this.Fe=0;this.i=new e.Vu;this.H=[0,0,0,0,0,0,0,0,0];this.eb=[0,0,0,0,0,0,0,0,0];this.fa=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Ln=this.jx=-1}b.aC=function(a,b,f,d,k){if(9!=d.length)throw e.g.X("relation string length has to be 9 characters");for(var c=0;9>c;c++){var g=d.charAt(c);if("*"!=g&&"T"!=g&&"F"!=g&&"0"!=g&&"1"!=g&&"2"!=g)throw e.g.X("relation string");}c=this.fT(d,a.ub(),b.ub());if(0!=c)return e.Ed.bC(a,
b,f,c,k);c=new e.h;a.s(c);g=new e.h;b.s(g);var h=new e.h;h.I(c);h.Nb(g);f=e.na.$d(f,h,!1);a=this.bG(a,f);b=this.bG(b,f);if(a.u()||b.u())return this.XW(a,b,d);c=b.G();g=!1;switch(a.G()){case 1736:switch(c){case 1736:g=this.iu(a,b,f,d,k);break;case 1607:g=this.Un(a,b,f,d,k);break;case 33:g=this.hu(a,b,f,d,k);break;case 550:g=this.gu(a,b,f,d,k)}break;case 1607:switch(c){case 1736:g=this.Un(b,a,f,this.Pq(d),k);break;case 1607:g=this.PB(a,b,f,d,k);break;case 33:g=this.ku(a,b,f,d,k);break;case 550:g=this.ju(a,
b,f,d,k)}break;case 33:switch(c){case 1736:g=this.hu(b,a,f,this.Pq(d),k);break;case 1607:g=this.ku(b,a,f,this.Pq(d),k);break;case 33:g=this.jW(a,b,f,d);break;case 550:g=this.cu(b,a,f,this.Pq(d),k)}break;case 550:switch(c){case 1736:g=this.gu(b,a,f,this.Pq(d),k);break;case 1607:g=this.ju(b,a,f,this.Pq(d),k);break;case 550:g=this.GB(a,b,f,d,k);break;case 33:g=this.cu(a,b,f,d,k)}break;default:g=!1}return g};b.iu=function(a,c,f,d,k){var g=new b;g.yj();g.Cj(d);g.cK();var h=new e.h,m=new e.h;a.s(h);c.s(m);
d=!1;e.Ed.Gk(h,m,f)&&(g.rv(a,c),d=!0);d||(h=e.Ed.uc(a,c,!1),4==h?(g.rv(a,c),d=!0):1==h?(g.Py(c),d=!0):2==h&&(g.nF(a),d=!0));d||(d=new e.ed,a=d.Jb(a),c=d.Jb(c),g.Mp(d,f,k),g.tq(a,c),g.i.ph());return b.yg(g.H,g.cd)};b.Ex=function(a,c,f,d){var g=new b;g.yj();g.Cj("T*****F**");g.cK();var h=new e.h,m=new e.h;a.s(h);c.s(m);var l=!1;e.Ed.Gk(h,m,f)&&(g.rv(a,c),l=!0);l||(h=e.Ed.uc(a,c,!1),4==h?(g.rv(a,c),l=!0):1==h?(g.Py(c),l=!0):2==h&&(g.nF(a),l=!0));if(l)return h=this.yg(g.H,g.cd);l=new e.ed;a=l.Jb(a);h=
l.Jb(c);e.vk.V(l,f,d,!1);f=l.Pe(h).Fg();l.zq(0,!0,!0);e.so.V(l,a,-1,!1,d);if(0==l.D(a))return!1;e.so.V(l,h,-1,!1,d);g.Xr(l,d);c=0==l.D(h);if(!c&&(g.tq(a,h),g.i.ph(),h=this.yg(g.H,g.cd),!h))return h;a=l.Pe(a);l=new e.ed;a=l.Jb(a);h=l.Jb(f);g.Xr(l,d);g.Fe=0;g.yj();g.Cj(c?"T*****F**":"******F**");g.kC();g.tq(a,h);g.i.ph();return h=this.yg(g.H,g.cd)};b.Un=function(a,c,f,d,k){var g=new b;g.yj();g.Cj(d);g.kC();var h=new e.h,m=new e.h;a.s(h);c.s(m);d=!1;e.Ed.Gk(h,m,f)&&(g.sv(a,c),d=!0);d||(h=e.Ed.uc(a,c,
!1),4==h?(g.sv(a,c),d=!0):1==h&&(g.oF(c),d=!0));d||(d=new e.ed,a=d.Jb(a),c=d.Jb(c),g.Mp(d,f,k),g.Gh=g.i.wq(),b.Zu(c,g.i,g.Gh),g.tq(a,c),g.i.xq(g.Gh),g.i.ph());return b.yg(g.H,g.cd)};b.OB=function(a,c,f,d){var g=new b;g.yj();g.Cj("T*****F**");g.kC();var h=new e.h,m=new e.h;a.s(h);c.s(m);var l=!1;e.Ed.Gk(h,m,f)&&(g.sv(a,c),l=!0);l||(h=e.Ed.uc(a,c,!1),4==h?(g.sv(a,c),l=!0):1==h&&(g.oF(c),l=!0));if(l)return f=this.yg(g.H,g.cd);l=new e.ed;a=l.Jb(a);c=l.Jb(c);g.Mp(l,f,d);if(0==l.D(a))return!1;g.tq(a,c);
g.i.ph();return f=this.yg(g.H,g.cd)};b.gu=function(a,c,f,d,k){var g=new b;g.yj();g.Cj(d);g.dK();var h=new e.h,m=new e.h;a.s(h);c.s(m);d=!1;e.Ed.Gk(h,m,f)&&(g.tv(a),d=!0);d||(h=e.Ed.uc(a,c,!1),4==h?(g.tv(a),d=!0):1==h&&(g.YO(),d=!0));d||(d=new e.ed,a=d.Jb(a),c=d.Jb(c),g.Mp(d,f,k),g.jz(a,c),g.i.ph());return b.yg(g.H,g.cd)};b.PB=function(a,c,f,d,k){var g=new b;g.yj();g.Cj(d);g.DX();d=new e.h;var h=new e.h;a.s(d);c.s(h);var m=!1;e.Ed.Gk(d,h,f)&&(g.RH(a,c),m=!0);m||4!=e.Ed.uc(a,c,!1)||(g.RH(a,c),m=!0);
m||(d=new e.ed,a=d.Jb(a),c=d.Jb(c),g.Mp(d,f,k),g.yi=g.i.wq(),g.Gh=g.i.wq(),b.Zu(a,g.i,g.yi),b.Zu(c,g.i,g.Gh),g.tq(a,c),g.i.xq(g.yi),g.i.xq(g.Gh),g.i.ph());return b.yg(g.H,g.cd)};b.ju=function(a,c,f,d,k){var g=new b;g.yj();g.Cj(d);g.rK();d=new e.h;var h=new e.h;a.s(d);c.s(h);var m=!1;e.Ed.Gk(d,h,f)&&(g.JA(a),m=!0);m||4!=e.Ed.uc(a,c,!1)||(g.JA(a),m=!0);m||(d=new e.ed,a=d.Jb(a),c=d.Jb(c),g.Mp(d,f,k),g.yi=g.i.wq(),b.Zu(a,g.i,g.yi),g.jz(a,c),g.i.xq(g.yi),g.i.ph());return b.yg(g.H,g.cd)};b.GB=function(a,
c,f,d,k){var g=new b;g.yj();g.Cj(d);g.wK();d=new e.h;var h=new e.h;a.s(d);c.s(h);var m=!1;e.Ed.Gk(d,h,f)&&(g.uJ(),m=!0);m||(d=new e.ed,a=d.Jb(a),c=d.Jb(c),g.Mp(d,f,k),g.jz(a,c),g.i.ph());return b.yg(g.H,g.cd)};b.hu=function(a,c,f,d){var g=new b;g.yj();g.Cj(d);g.dK();var h=new e.h;a.s(h);c=c.w();var m=!1;e.Ed.Dx(c,h,f)&&(g.tv(a),m=!0);m||(f=e.fd.ee(a,c,f),1==f?(g.H[0]=0,g.H[2]=2,g.H[3]=-1,g.H[5]=1,g.H[6]=-1):2==f?(g.H[6]=-1,0!=a.ef()?(g.H[0]=-1,g.H[3]=0,g.H[2]=2,g.H[5]=1):(g.H[0]=0,g.H[3]=-1,g.H[5]=
-1,f=new e.h,a.s(f),g.H[2]=0==f.ea()&&0==f.O()?-1:1)):g.tv(a));return this.yg(g.H,d)};b.ku=function(a,c,f,d,k){var g=new b;g.yj();g.Cj(d);g.rK();var h=new e.h;a.s(h);d=c.w();var m=!1;e.Ed.Dx(d,h,f)&&(g.JA(a),m=!0);if(!m){var h=null,l=m=!1;if(g.fa[0]||g.fa[6])e.Ed.KA(a,d,f)?(g.fa[0]&&(h=e.Pi.Xm(a,k),l=!e.Ed.bu(h,d,f),m=!0,g.H[0]=l?-1:0),g.H[6]=-1):(g.H[0]=-1,g.H[6]=0);g.fa[3]&&(null!=h&&h.u()?g.H[3]=-1:(m||(null==h&&(h=e.Pi.Xm(a,k)),l=!e.Ed.bu(h,d,f),m=!0),g.H[3]=l?0:-1));g.fa[5]&&(null!=h&&h.u()?
g.H[5]=-1:m&&!l?g.H[5]=0:(null==h&&(h=e.Pi.Xm(a,k)),k=e.Ed.zx(h,c,f),g.H[5]=k?-1:0));g.fa[2]&&(0!=a.Rb()?g.H[2]=1:(k=new e.Dd(a.description),k.Hd(a,0,a.D()),a=e.Ed.zx(k,c,f),g.H[2]=a?-1:0))}return this.yg(g.H,g.cd)};b.cu=function(a,c,f,d){var g=new b;g.yj();g.Cj(d);g.wK();var h=new e.h;a.s(h);c=c.w();var m=!1;e.Ed.Dx(c,h,f)&&(g.uJ(),m=!0);if(!m){h=!1;m=!0;f*=f;for(var l=0;l<a.D();l++){var n=a.Ba(l);e.b.sc(n,c)<=f?h=!0:m=!1;if(h&&!m)break}h?(g.H[0]=0,g.H[2]=m?-1:0,g.H[6]=-1):(g.H[0]=-1,g.H[2]=0,g.H[6]=
0)}return b.yg(g.H,d)};b.jW=function(a,c,f,d){a=a.w();c=c.w();for(var g=[],h=0;9>h;h++)g[h]=-1;e.b.sc(a,c)<=f*f?g[0]=0:(g[2]=0,g[6]=0);g[8]=2;return b.yg(g,d)};b.yg=function(a,b){for(var c=0;9>c;c++)switch(b.charAt(c)){case "T":if(-1==a[c])return!1;break;case "F":if(-1!=a[c])return!1;break;case "0":if(0!=a[c])return!1;break;case "1":if(1!=a[c])return!1;break;case "2":if(2!=a[c])return!1}return!0};b.XW=function(a,b,f){var c=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.u()&&b.u()){for(var d=0;9>d;d++)c[d]=-1;
return this.yg(c,f)}d=!1;a.u()&&(a=b,d=!0);c[0]=-1;c[1]=-1;c[3]=-1;c[4]=-1;c[6]=-1;c[7]=-1;c[8]=2;b=a.G();e.T.Hc(b)?1736==b?0!=a.ef()?(c[2]=2,c[5]=1):(c[5]=-1,b=new e.h,a.s(b),c[2]=0==b.ea()&&0==b.O()?0:1):(b=0!=a.Rb(),c[2]=b?1:0,c[5]=e.Pi.Rq(a)?0:-1):(c[2]=0,c[5]=-1);d&&this.ZK(c);return this.yg(c,f)};b.fT=function(a,c,f){return b.XL(a)?3:b.BL(a)?4:b.DL(a,c,f)?8:b.ZY(a,c,f)?16:b.HY(a)?1:b.NU(a,c,f)?32:0};b.XL=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&"*"==a.charAt(3)&&
"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.BL=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.DL=function(a,b,f){if(0==b&&0==f)return!1;if(2!=b||2!=f)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)||
1==b&&1==f&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=f&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.ZY=function(a,b,f){return b>f?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&
"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==f&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.HY=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.NU=function(a,b,f){if(b==f){if(1!=b)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&
"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};b.Zu=function(a,b,f){a=b.Ia(a);for(var c=b.nf;-1!=c;c=b.ng(c))if(0!=(b.Ld(c)&a)){var e=b.gf(c);if(-1==e)b.ko(c,f,0);else{var d=e,h=0;do 0!=(b.Ah(d)&a)&&h++,d=b.qc(b.Aa(d));while(d!=e);b.ko(c,
f,h)}}};b.Pq=function(a){var b;b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};b.prototype.yj=function(){for(var a=0;9>a;a++)this.H[a]=-2,this.eb[a]=-2};b.ZK=function(a){var b=a[1],f=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=f;a[7]=e};b.prototype.Cj=function(a){this.cd=a;for(a=0;9>a;a++)"*"!=this.cd.charAt(a)?(this.fa[a]=!0,this.Fe++):this.fa[a]=!1};b.prototype.zK=function(){for(var a=0;9>
a;a++)this.fa[a]&&-2==this.H[a]&&(this.H[a]=-1,this.fa[a]=!1)};b.prototype.tc=function(a){if(-2==this.H[a])return!1;if(-1==this.H[a])return this.fa[a]=!1,this.Fe--,!0;if("T"!=this.cd.charAt(a)&&"F"!=this.cd.charAt(a)){if(this.H[a]<this.eb[a])return!1;this.fa[a]=!1;this.Fe--;return!0}this.fa[a]=!1;this.Fe--;return!0};b.prototype.cK=function(){this.jx=0;this.eb[0]=2;this.eb[1]=1;this.eb[2]=2;this.eb[3]=1;this.eb[4]=1;this.eb[5]=1;this.eb[6]=2;this.eb[7]=1;this.eb[8]=2;this.fa[8]&&(this.H[8]=2,this.fa[8]=
!1,this.Fe--)};b.prototype.kC=function(){this.jx=1;this.Ln=3;this.eb[0]=1;this.eb[1]=0;this.eb[2]=2;this.eb[3]=1;this.eb[4]=0;this.eb[5]=1;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};b.prototype.DX=function(){this.jx=2;this.Ln=4;this.eb[0]=1;this.eb[1]=0;this.eb[2]=1;this.eb[3]=0;this.eb[4]=0;this.eb[5]=0;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};b.prototype.dK=function(){this.Ln=3;this.eb[0]=0;this.eb[1]=
-1;this.eb[2]=2;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.fa[1]&&(this.H[1]=-1,this.fa[1]=!1,this.Fe--);this.fa[4]&&(this.H[4]=-1,this.fa[4]=!1,this.Fe--);this.fa[7]&&(this.H[7]=-1,this.fa[7]=!1,this.Fe--);this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};b.prototype.rK=function(){this.Ln=4;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=1;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=0;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.fa[1]&&(this.H[1]=-1,this.fa[1]=!1,this.Fe--);
this.fa[4]&&(this.H[4]=-1,this.fa[4]=!1,this.Fe--);this.fa[7]&&(this.H[7]=-1,this.fa[7]=!1,this.Fe--);this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};b.prototype.wK=function(){this.Ln=5;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=0;this.eb[3]=-1;this.eb[4]=-1;this.eb[5]=-1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.fa[1]&&(this.H[1]=-1,this.fa[1]=!1,this.Fe--);this.fa[3]&&(this.H[3]=-1,this.fa[3]=!1,this.Fe--);this.fa[4]&&(this.H[4]=-1,this.fa[4]=!1,this.Fe--);this.fa[5]&&(this.H[5]=-1,this.fa[5]=
!1,this.Fe--);this.fa[7]&&(this.H[7]=-1,this.fa[7]=!1,this.Fe--);this.fa[8]&&(this.H[8]=2,this.fa[8]=!1,this.Fe--)};b.prototype.WO=function(a,b,f){var c=!0;this.fa[0]&&(this.$T(a,b,f),c=c&&this.tc(0));this.fa[1]&&(this.tH(a,b,1),c=c&&this.tc(1));this.fa[2]&&(this.uH(a,b,f,2),c=c&&this.tc(2));this.fa[3]&&(this.tH(a,f,3),c=c&&this.tc(3));this.fa[4]&&(this.bP(a,b,f),c=c&&this.tc(4));this.fa[5]&&(this.sF(a,f,5),c=c&&this.tc(5));this.fa[6]&&(this.uH(a,f,b,6),c=c&&this.tc(6));this.fa[7]&&(this.sF(a,b,7),
c=c&&this.tc(7));return c};b.prototype.rv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;this.Bs(a,this.fa[2]?2:-1,this.cd.charAt(2),this.fa[5]?5:-1,this.cd.charAt(5));this.Bs(b,this.fa[6]?6:-1,this.cd.charAt(6),this.fa[7]?7:-1,this.cd.charAt(7))};b.prototype.Bs=function(a,b,f,d,k){if(-1!=b||-1!=d)("T"!=f&&"F"!=f&&-1!=b||"T"!=k&&"F"!=k&&-1!=d?0!=a.ef():1)?(-1!=b&&(this.H[b]=2),-1!=d&&(this.H[d]=1)):(-1!=d&&(this.H[d]=-1),-1!=b&&(f=new e.h,a.s(f),this.H[b]=0==f.ea()&&0==f.O()?0:
1))};b.prototype.Py=function(a){this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1;this.Bs(a,this.fa[0]?0:-1,this.cd.charAt(0),this.fa[1]?1:-1,this.cd.charAt(1))};b.prototype.nF=function(a){this.Py(a);b.ZK(this.H)};b.prototype.sv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.fa[6]){var c=this.cd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0;this.H[6]=c?1:0}this.fa[7]&&(c=e.Pi.Rq(b),this.H[7]=c?0:-1);this.Bs(a,this.fa[2]?2:-1,this.cd.charAt(2),this.fa[5]?
5:-1,this.cd.charAt(5))};b.prototype.oF=function(a){if(this.fa[0]){var b=this.cd.charAt(0),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[0]=b?1:0}this.fa[1]&&(a=e.Pi.Rq(a),this.H[1]=a?0:-1);this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1};b.prototype.tv=function(a){this.H[0]=-1;this.H[3]=-1;this.H[6]=0;this.Bs(a,this.fa[2]?2:-1,this.cd.charAt(2),this.fa[5]?5:-1,this.cd.charAt(5))};b.prototype.YO=function(){this.H[0]=0;this.H[2]=2;this.H[3]=-1;this.H[5]=1;this.H[6]=-1};b.prototype.RH=
function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.fa[2]){var c=this.cd.charAt(2),c="T"!=c&&"F"!=c?0!=a.Rb():!0;this.H[2]=c?1:0}this.fa[5]&&(c=e.Pi.Rq(a),this.H[5]=c?0:-1);this.fa[6]&&(c=this.cd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0,this.H[6]=c?1:0);this.fa[7]&&(c=e.Pi.Rq(b),this.H[7]=c?0:-1)};b.prototype.JA=function(a){this.H[0]=-1;this.H[3]=-1;if(this.fa[2]){var b=this.cd.charAt(2),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[2]=b?1:0}this.fa[5]&&(a=e.Pi.Rq(a),this.H[5]=a?0:-1);
this.H[6]=0};b.prototype.uJ=function(){this.H[0]=-1;this.H[2]=0;this.H[6]=0};b.prototype.XO=function(a,b,f){var c=!0;this.fa[0]&&(this.aU(a,b),c=c&&this.tc(0));this.fa[1]&&(this.XT(a,b,f,this.Gh),c=c&&this.tc(1));this.fa[2]&&(this.YT(a,b),c=c&&this.tc(2));this.fa[3]&&(this.fP(a,b,f,this.Gh),c=c&&this.tc(3));this.fa[4]&&(this.cP(a,b,f,this.Gh),c=c&&this.tc(4));this.fa[5]&&(this.dP(a,b,f),c=c&&this.tc(5));this.fa[6]&&(this.BR(a,b),c=c&&this.tc(6));this.fa[7]&&(this.AR(a,b,f,this.Gh),c=c&&this.tc(7));
return c};b.prototype.RU=function(a,b,f){var c=!0;this.fa[0]&&(this.dU(a,b,f,this.yi,this.Gh),c=c&&this.tc(0));this.fa[1]&&(this.vH(a,b,f,this.yi,this.Gh,1),c=c&&this.tc(1));this.fa[2]&&(this.wH(a,b,f,2),c=c&&this.tc(2));this.fa[3]&&(this.vH(a,f,b,this.Gh,this.yi,3),c=c&&this.tc(3));this.fa[4]&&(this.hP(a,b,f,this.yi,this.Gh),c=c&&this.tc(4));this.fa[5]&&(this.tF(a,f,this.yi,5),c=c&&this.tc(5));this.fa[6]&&(this.wH(a,f,b,6),c=c&&this.tc(6));this.fa[7]&&(this.tF(a,b,this.Gh,7),c=c&&this.tc(7));return c};
b.prototype.pF=function(a,b,f){var c=!0;this.fa[0]&&(this.bU(a,b),c=c&&this.tc(0));this.fa[2]&&(this.ZT(a,b),c=c&&this.tc(2));this.fa[3]&&(this.gP(a,b,f),c=c&&this.tc(3));this.fa[5]&&(this.eP(a,b),c=c&&this.tc(5));this.fa[6]&&(this.CR(a,b),c=c&&this.tc(6));return c};b.prototype.SH=function(a,b,f){var c=!0;this.fa[0]&&(this.eU(a,b,f,this.yi),c=c&&this.tc(0));this.fa[2]&&(this.cU(a,f),c=c&&this.tc(2));this.fa[3]&&(this.jP(a,b,f,this.yi),c=c&&this.tc(3));this.fa[5]&&(this.iP(a,b,f,this.yi),c=c&&this.tc(5));
this.fa[6]&&(this.DR(a,b,f),c=c&&this.tc(6));return c};b.prototype.iW=function(a,b,f){var c=!0;this.fa[0]&&(this.fU(a,b,f),c=c&&this.tc(0));this.fa[2]&&(this.xH(a,b,f,2),c=c&&this.tc(2));this.fa[6]&&(this.xH(a,f,b,6),c=c&&this.tc(6));return c};b.prototype.$T=function(a,b,f){2!=this.H[0]&&(a=this.i.Bf(a),0!=(a&b)&&0!=(a&f)&&(this.H[0]=2))};b.prototype.tH=function(a,b,f){if(1!=this.H[f]){var c=this.i.Bf(this.i.Aa(a));0!=(this.i.Bf(a)&b)&&0!=(c&b)&&(this.H[f]=1)}};b.prototype.uH=function(a,b,f,e){2!=
this.H[e]&&(a=this.i.Bf(a),0!=(a&b)&&0==(a&f)&&(this.H[e]=2))};b.prototype.bP=function(a,b,f){if(1!=this.H[4]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&f)?this.H[4]=1:0!=this.H[4]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(a=this.i.Ld(this.i.Uf(a)),0!=(a&b)&&0!=(a&f)&&(this.H[4]=0))}};b.prototype.sF=function(a,b,f){if(1!=this.H[f]){var c=this.i.Bf(this.i.Aa(a));0==(this.i.Bf(a)&b)&&0==(c&b)&&(this.H[f]=1)}};b.prototype.aU=function(a,b){if(1!=this.H[0]){var c=this.i.Bf(this.i.Aa(a));0!=(this.i.Bf(a)&
b)&&0!=(c&b)&&(this.H[0]=1)}};b.prototype.XT=function(a,b,f,e){if(0!=this.H[1]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){var c=this.i.Uf(a),d=this.i.Ld(c);0==(d&b)&&0!=(this.i.Bf(a)&b)&&(a=this.i.Gg(c,e),0!=(d&f)&&0!=a%2&&(this.H[1]=0))}};b.prototype.YT=function(a,b){2!=this.H[2]&&0!=(this.i.Ah(a)&b)&&(this.H[2]=2)};b.prototype.fP=function(a,b,f,e){if(1!=this.H[3]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&f)?this.H[3]=1:0!=this.H[3]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(c=this.i.Uf(a),
a=this.i.Ld(c),0!=(a&b)&&(b=this.i.Gg(c,e),0!=(a&f)&&0==b%2&&(this.H[3]=0)))}};b.prototype.cP=function(a,b,f,e){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){var c=this.i.Uf(a);a=this.i.Ld(c);0!=(a&b)&&(b=this.i.Gg(c,e),0!=(a&f)&&0!=b%2&&(this.H[4]=0))}};b.prototype.dP=function(a,b,f){1!=this.H[5]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&f)&&(this.H[5]=1))};b.prototype.BR=function(a,b){if(1!=this.H[6]){var c=this.i.Bf(this.i.Aa(a));0==(this.i.Bf(a)&b)&&0==(c&b)&&(this.H[6]=1)}};b.prototype.AR=
function(a,b,f,e){if(0!=this.H[7]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){var c=this.i.Uf(a),d=this.i.Ld(c);0==(d&b)&&0==(this.i.Bf(a)&b)&&(a=this.i.Gg(c,e),0!=(d&f)&&0!=a%2&&(this.H[7]=0))}};b.prototype.dU=function(a,b,f,e,d){if(1!=this.H[0]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&f)?this.H[0]=1:0!=this.H[0]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(a=this.i.Uf(a),c=this.i.Ld(a),0!=(c&b)&&0!=(c&f)&&(b=this.i.Gg(a,e),d=this.i.Gg(a,d),0==b%2&&0==d%2&&(this.H[0]=0)))}};b.prototype.vH=function(a,
b,f,e,d,h){if(0!=this.H[h]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){a=this.i.Uf(a);var c=this.i.Ld(a);0!=(c&b)&&0!=(c&f)&&(b=this.i.Gg(a,e),d=this.i.Gg(a,d),0==b%2&&0!=d%2&&(this.H[h]=0))}};b.prototype.wH=function(a,b,f,e){1!=this.H[e]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&f)&&(this.H[e]=1))};b.prototype.hP=function(a,b,f,e,d){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)){a=this.i.Uf(a);var c=this.i.Ld(a);0!=(c&b)&&0!=(c&f)&&(b=this.i.Gg(a,e),d=this.i.Gg(a,d),0!=b%2&&0!=d%2&&(this.H[4]=
0))}};b.prototype.tF=function(a,b,f,e){0!=this.H[e]&&1!=this.i.Kb(this.i.Qe(this.i.Aa(a)),this.wj)&&(a=this.i.Uf(a),0==(this.i.Ld(a)&b)&&0!=this.i.Gg(a,f)%2&&(this.H[e]=0))};b.prototype.bU=function(a,b){0!=this.H[0]&&0==(this.i.Ld(a)&b)&&0!=(this.i.Kk(this.i.Nz(a))&b)&&(this.H[0]=0)};b.prototype.ZT=function(a,b){2!=this.H[2]&&0!=(this.i.Ld(a)&b)&&(this.H[2]=2)};b.prototype.gP=function(a,b,f){0!=this.H[3]&&(a=this.i.Ld(a),0!=(a&b)&&0!=(a&f)&&(this.H[3]=0))};b.prototype.eP=function(a,b){1!=this.H[5]&&
0!=(this.i.Ld(a)&b)&&(this.H[5]=1)};b.prototype.CR=function(a,b){0!=this.H[6]&&0==(this.i.Ld(a)&b)&&0==(this.i.Kk(this.i.Nz(a))&b)&&(this.H[6]=0)};b.prototype.eU=function(a,b,f,e){if(0!=this.H[0]){var c=this.i.Ld(a);0!=(c&b)&&0!=(c&f)&&0==this.i.Gg(a,e)%2&&(this.H[0]=0)}};b.prototype.cU=function(a,b){1!=this.H[2]&&(-1!=this.i.gf(a)?this.H[2]=1:0!=this.H[2]&&0==(this.i.Ld(a)&b)&&(this.H[2]=0))};b.prototype.jP=function(a,b,f,e){if(0!=this.H[3]){var c=this.i.Ld(a);0!=(c&b)&&0!=(c&f)&&0!=this.i.Gg(a,
e)%2&&(this.H[3]=0)}};b.prototype.iP=function(a,b,f,e){if(0!=this.H[5]){var c=this.i.Ld(a);0!=(c&b)&&0==(c&f)&&0!=this.i.Gg(a,e)%2&&(this.H[5]=0)}};b.prototype.DR=function(a,b,f){0!=this.H[6]&&(a=this.i.Ld(a),0==(a&b)&&0!=(a&f)&&(this.H[6]=0))};b.prototype.fU=function(a,b,f){0!=this.H[0]&&(a=this.i.Ld(a),0!=(a&b)&&0!=(a&f)&&(this.H[0]=0))};b.prototype.xH=function(a,b,f,e){0!=this.H[e]&&(a=this.i.Ld(a),0!=(a&b)&&0==(a&f)&&(this.H[e]=0))};b.prototype.tq=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);
this.wj=this.i.xh();for(var d=this.i.nf;-1!=d;d=this.i.ng(d)){var k=this.i.gf(d);if(-1==k){if(-1!=this.Ln)switch(this.Ln){case 3:c=this.pF(d,a,b);break;case 4:c=this.SH(d,a,b);break;default:throw e.g.X("internal error");}}else{var h=k;do{var m=h;if(1!=this.i.Kb(m,this.wj)){do{switch(this.jx){case 0:c=this.WO(m,a,b);break;case 1:c=this.XO(m,a,b);break;case 2:c=this.RU(m,a,b);break;default:throw e.g.X("internal error");}if(c)break;this.i.Ob(m,this.wj,1);m=this.i.qc(m)}while(m!=h&&!c)}if(c)break;h=this.i.qc(this.i.Aa(m))}while(h!=
k);if(c)break}}c||this.zK();this.i.oi(this.wj)};b.prototype.jz=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);for(var d=this.i.nf;-1!=d;d=this.i.ng(d)){switch(this.Ln){case 3:c=this.pF(d,a,b);break;case 4:c=this.SH(d,a,b);break;case 5:c=this.iW(d,a,b);break;default:throw e.g.za();}if(c)break}c||this.zK()};b.prototype.Xr=function(a,b){this.i.Vr(a,b)};b.prototype.Mp=function(a,b,f){this.tR(a,b,f);this.Xr(a,f)};b.prototype.tR=function(a,b,f){e.vk.V(a,b,f,!1);a.zq(0,!0,!0);for(b=a.qd;-1!=b;b=a.Re(b))1736==
a.ic(b)&&e.so.V(a,b,-1,!1,f)};b.bG=function(a,b){var c=a.G();if(e.T.Nc(c))return c=new e.Ua(a.description),c.cc(a,!0),c;if(197==c){c=new e.h;a.s(c);if(c.ea()<=b&&c.O()<=b)return c=new e.Wa(a.description),a.Tf(c),c;if(c.ea()<=b||c.O()<=b)return c=new e.Ua(a.description),b=new e.Wa,a.gg(0,b),c.Of(b),a.gg(2,b),c.lineTo(b),c;c=new e.Ja(a.description);c.hd(a,!1);return c}return a};return b}();e.Tm=d})(x||(x={}));(function(e){var d=function(){function a(a){this.yn=new e.ha(0);this.Rw=new e.ha(0);this.ou=
new e.b;this.pu=new e.b;this.a=a;this.Ft=-1}a.prototype.jc=function(a){return this.a.jc(this.mA(a))};a.prototype.ow=function(a){var b=this.Uz(a);a=this.KG(a);if(this.a.Ra(b)==a){var c=b,b=a;a=c}this.a.Mc(b,this.ou);this.a.Mc(a,this.pu);return this.ou.y<this.pu.y};a.prototype.mA=function(a){var b=this.Uz(a);a=this.KG(a);return this.a.U(b)==a?b:a};a.prototype.Uz=function(a){return this.yn.get(a)};a.prototype.KG=function(a){return this.Rw.get(a)};a.prototype.vG=function(a){this.yn.set(a,this.Ft);this.Ft=
a};a.prototype.kJ=function(a){if(-1!=this.Ft){var b=this.Ft;this.Ft=this.yn.get(b);this.yn.set(b,a);this.Rw.set(b,this.a.U(a));return b}null==this.yn&&(this.yn=new e.ha(0),this.Rw=new e.ha(0));b=this.yn.size;this.yn.add(a);this.Rw.add(this.a.U(a));return b};a.prototype.fA=function(a){return this.a.kd(this.Uz(a))};return a}();e.mZ=d;var h=function(){function a(a){this.Ze=a;this.Ce=new e.Hb;this.Gn=new e.Hb;this.EI=0;this.up=null;this.hB=-1}a.prototype.compare=function(a,b,e){e=a.ia(e);var c=this.Ze.ib,
f;this.hB==b?f=this.EI:(this.up=c.jc(b),null==this.up?(a=c.a,a.nd(c.mA(b),this.Ce),this.up=this.Ce,f=this.Ce.kf(this.Ze.Xh,0)):f=this.up.kf(this.Ze.Xh,0),this.EI=f,this.hB=b);a=c.jc(e);var d;null==a?(a=c.a,a.nd(c.mA(e),this.Gn),a=this.Gn,d=this.Gn.kf(this.Ze.Xh,0)):d=a.kf(this.Ze.Xh,0);f==d&&(b=c.ow(b),e=c.ow(e),e=Math.min(b?this.up.oa:this.up.ra,e?a.oa:a.ra),b=.5*(e+this.Ze.Xh),b==this.Ze.Xh&&(b=e),f=this.up.kf(b,0),d=a.kf(b,0));return f<d?-1:f>d?1:0};a.prototype.reset=function(){this.hB=-1};return a}(),
b=function(){function a(){this.Qn=this.om=null;this.hb=new e.xk;this.hb.kR();this.te=new h(this);this.hb.Lp(this.te)}a.prototype.WR=function(){var a=!1;this.Vw&&(a=this.XR());if(1==this.a.aa(this.Y)){var b=this.a.Pb(this.Y),a=this.a.jA(b);this.a.rC(b,!0);return 0>a?(a=this.a.cb(b),this.a.UJ(a),this.a.rh(b,this.a.Ra(a)),!0):!1}this.mm=this.a.pz();this.qp=this.a.pz();for(b=this.a.Pb(this.Y);-1!=b;b=this.a.Sb(b))this.a.Zr(b,this.mm,0),this.a.Zr(b,this.qp,-1);b=new e.ha(0);this.Xh=NaN;var d=new e.b;this.Zt=
this.a.aa(this.Y);this.lp=this.a.Sd();this.Ot=this.a.Sd();for(var k=this.om.wc(this.om.De);-1!=k;k=this.om.nb(k)){var h=this.om.getData(k);this.a.Mc(h,d);d.y!=this.Xh&&0!=b.size&&(a=this.lu(b)||a,this.te.reset(),b.clear(!1));b.add(h);this.Xh=d.y;if(0==this.Zt)break}0<this.Zt&&(a=this.lu(b)||a,b.clear(!1));this.a.je(this.lp);this.a.je(this.Ot);for(b=this.a.Pb(this.Y);-1!=b;)if(3==this.a.Xj(b,this.mm)){this.a.rC(b,!0);d=b;for(b=this.a.Xj(b,this.qp);-1!=b;)k=this.a.Xj(b,this.qp),this.a.BV(this.Y,this.a.Sb(d),
b),d=b,b=k;b=this.a.Sb(d)}else this.a.rC(b,!1),b=this.a.Sb(b);this.a.eC(this.mm);this.a.eC(this.qp);return a};a.prototype.lu=function(a){return this.vW(a)};a.prototype.vW=function(a){var b=!1;null==this.ib&&(this.ib=new d(this.a));null==this.Qn?(this.Qn=new e.ha(0),this.Qn.zb(16)):this.Qn.clear(!1);this.uW(a);for(var c=0,k=a.size;c<k;c++){var h=a.get(c);-1!=h&&this.qH(h,-1)}for(c=0;c<this.Qn.size&&0<this.Zt;c++)if(a=this.Qn.get(c),h=this.ib.fA(this.hb.ia(a)),k=-1,0==this.a.Xj(h,this.mm)){for(var h=
this.hb.Se(a),m=a,l;-1!=h;){var n=this.hb.ia(h),p=this.ib.fA(n),r=this.a.Xj(p,this.mm);if(0!=r){k=p;break}m=h;h=this.hb.Se(h)}-1==h?(l=!0,h=m):(n=this.hb.ia(h),l=this.ib.ow(n),h=this.hb.nb(h),l=!l);do{n=this.hb.ia(h);p=this.ib.fA(n);r=this.a.Xj(p,this.mm);if(0==r&&(l!=this.ib.ow(n)&&(b=this.a.cb(p),this.a.UJ(b),this.a.rh(p,this.a.Ra(b)),b=!0),this.a.Zr(p,this.mm,l?3:2),l||(m=this.a.Xj(k,this.qp),this.a.Zr(k,this.qp,p),this.a.Zr(p,this.qp,m)),this.Zt--,0==this.Zt))return b;k=p;m=h;h=this.hb.nb(h);
l=!l}while(m!=a)}return b};a.prototype.uW=function(a){for(var b=0,c=a.size;b<c;b++){var e=a.get(b),d=this.a.Sa(e,this.lp),h=this.a.Sa(e,this.Ot);if(-1!=d){var m=this.hb.ia(d);this.ib.vG(m);this.a.Va(e,this.lp,-1)}-1!=h&&(m=this.hb.ia(h),this.ib.vG(m),this.a.Va(e,this.Ot,-1));m=-1;-1!=d&&-1!=h?(this.hb.Jd(d,-1),this.hb.Jd(h,-1),a.set(b,-1)):m=-1!=d?d:h;-1!=m&&(this.qH(e,m)||this.hb.Jd(m,-1),a.set(b,-1))}};a.prototype.qH=function(a,b){var c=new e.b,f=new e.b;this.a.Mc(a,c);var d=this.a.U(a);this.a.Mc(d,
f);var h=!1;if(c.y<f.y){var h=!0,m=this.ib.kJ(a),l;-1==b?l=this.hb.addElement(m,-1):(l=b,this.hb.pk(l,m));m=this.a.Sa(d,this.lp);-1==m?this.a.Va(d,this.lp,l):this.a.Va(d,this.Ot,l);d=this.a.kd(a);0==this.a.Xj(d,this.mm)&&this.Qn.add(l)}d=this.a.Ra(a);this.a.Mc(d,f);c.y<f.y&&(h=!0,m=this.ib.kJ(d),-1==b?l=this.hb.addElement(m,-1):(l=b,this.hb.pk(l,m)),m=this.a.Sa(d,this.lp),-1==m?this.a.Va(d,this.lp,l):this.a.Va(d,this.Ot,l),d=this.a.kd(a),0==this.a.Xj(d,this.mm)&&this.Qn.add(l));return h};a.V=function(b,
f,e,d){var c=new a;c.a=b;c.Y=f;c.om=e;c.Vw=d;return c.WR()};a.prototype.XR=function(){var a=new e.ha(0),b=new e.ha(0),d=-1,k=-1,h=new e.b;h.Yc();for(var m=-1,l=-1,n=-1,p=new e.b,r=this.om.wc(this.om.De);-1!=r;r=this.om.nb(r)){var u=this.om.getData(r);this.a.Mc(u,p);var v=this.a.kd(u);h.vb(p)&&l==v?(-1==k&&(d=this.a.pz(),k=this.a.Sd()),-1==n&&(n=b.size,this.a.Va(m,k,n),b.add(1),-1==this.a.Xj(v,d)&&(this.a.Zr(v,d,m),a.add(v))),this.a.Va(u,k,n),b.qK(b.Ec()+1)):(n=-1,h.L(p));m=u;l=v}if(0==a.size)return!1;
h=new e.ha(0);m=new e.ha(0);l=0;for(n=a.size;l<n;l++){var v=a.get(l),x=this.a.Xj(v,d),u=this.a.Sa(x,k);h.clear(!1);m.clear(!1);h.add(x);m.add(u);for(u=this.a.U(x);u!=x;u=this.a.U(u)){var z=u,p=this.a.Sa(z,k);if(-1!=p)if(0==m.size)m.add(p),h.add(z);else if(m.Ec()==p){var r=h.Ec(),y=this.a.U(r),x=this.a.U(z);this.a.Jc(r,x);this.a.Kc(x,r);this.a.Jc(z,y);this.a.Kc(y,z);z=[!1];y=this.a.pH(this.Y,y,this.a.cb(v),z);this.a.Va(u,k,-1);z[0]&&this.a.ig(v,x);u=this.a.La(v);x=this.a.La(y);u-=x;this.a.sk(v,u);
b.set(p,b.get(p)-1);1==b.get(p)&&(b.set(p,0),m.Mf(),h.Mf());u=x=r}else h.add(u),m.add(p)}}this.a.eC(d);this.a.je(k);return!0};return a}();e.sN=b})(x||(x={}));(function(e){var d=function(){function d(){}d.prototype.Bg=function(){this.xB=this.xb=null};d.prototype.get=function(){return this.xB};d.prototype.set=function(b){this.xB=b;if(null!=b)throw 322==b.G()&&(this.xb=b),e.g.za();};d.prototype.create=function(b){if(322==b)this.Hs();else throw e.g.X("Not Implemented");};d.prototype.Hs=function(){null==
this.xb&&(this.xb=new e.Hb);this.xB=this.xb};return d}();e.Bg=d})(x||(x={}));(function(e){e=e.wN||(e.wN={});e[e.enumLineSeg=1]="enumLineSeg";e[e.enumBezierSeg=2]="enumBezierSeg";e[e.enumArcSeg=4]="enumArcSeg";e[e.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";e[e.enumSegmentMask=7]="enumSegmentMask";e[e.enumDensified=8]="enumDensified"})(x||(x={}));(function(e){var d=function(){return function(b){this.Aj=b;this.VC=this.WC=1;this.WB=this.VB=this.XB=0}}(),h=function(){function b(){this.vr=[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.fl=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.ag=new e.Wa;this.ta=this.sx=0;this.gp=[];this.Wt=[];this.mx=[];this.yr=[];this.uB=[]}b.prototype.ZB=function(a){if(null!=a){for(var b=0,f=a.length;b<f;b++)this.VW(a[b]);a.length=0}};b.prototype.VW=function(a){a.Aj=null;this.yr.push(a)};b.prototype.Ax=function(a){if(0===this.yr.length)var b=new d(a);else b=this.yr[this.yr.length-1],b.Aj=a,--this.yr.length;return b};b.prototype.lT=function(a,b){return 0==a?this.Wt[b]:this.mx[b]};
b.prototype.JB=function(){this.sx>=this.uB.length&&this.uB.push(new e.Bg);var a=this.uB[this.sx];this.sx++;return a};b.prototype.clear=function(){this.ZB(this.gp);this.ZB(this.Wt);this.ZB(this.mx);this.sx=0};b.prototype.Hp=function(a){this.gp.push(this.Ax(a))};b.prototype.Wl=function(a){return 0==a?this.Wt.length:this.mx.length};b.prototype.Mq=function(a,b){return this.lT(a,b).Aj};b.prototype.Ma=function(a,b){if(2!=this.gp.length)throw e.g.za();this.ta=a;var c=e.Ub.Yx(.01*a),d=!1,k=this.gp[0],h=this.gp[1];
if(b||0!=(k.Aj.ws(h.Aj,a,!0)&5)){if(322==k.Aj.G()&&(b=k.Aj,322==h.Aj.G())){var m=h.Aj,l=e.Hb.Cy(b,m,null,this.vr,this.fl,a);if(0==l)throw e.Hb.Cy(b,m,null,this.vr,this.fl,a),e.g.za();a=Array(9);e.J.Ov(a,null);for(var n=0;n<l;n++){var p=this.vr[n],r=this.fl[n],u=k.WB,v=1;0==p?(u=k.XB,v=k.WC):1==p&&(u=k.VB,v=k.VC);var x=h.WB,z=1;0==r?(x=h.XB,z=h.WC):1==r&&(x=h.VB,z=h.VC);var y=new e.b;u==x?(u=new e.b,b.hc(p,u),p=new e.b,m.hc(r,p),r=v+z,z/=r,e.Ub.QH(u,p,z,y),e.b.sc(y,u)+e.b.sc(y,p)>c&&(d=!0)):u>x?(b.hc(p,
y),p=new e.b,m.hc(r,p),e.b.sc(y,p)>c&&(d=!0)):(m.hc(r,y),u=new e.b,b.hc(p,u),e.b.sc(y,u)>c&&(d=!0));a[n]=y}k=0;h=-1;for(n=0;n<=l;n++)z=n<l?this.vr[n]:1,z!=k&&(c=this.JB(),b.yh(k,z,c),-1!=h&&c.get().Lc(a[h]),n!=l&&c.get().Xc(a[n]),k=z,this.Wt.push(this.Ax(c.get()))),h=n;b=[0,0,0,0,0,0,0,0,0];for(n=0;n<l;n++)b[n]=n;1<l&&this.fl[0]>this.fl[1]&&(z=this.fl[0],this.fl[0]=this.fl[1],this.fl[1]=z,n=b[0],b[0]=b[1],b[1]=n);k=0;h=-1;for(n=0;n<=l;n++)z=n<l?this.fl[n]:1,z!=k&&(c=this.JB(),m.yh(k,z,c),-1!=h&&(k=
b[h],c.get().Lc(a[k])),n!=l&&(k=b[n],c.get().Xc(a[k])),k=z,this.mx.push(this.Ax(c.get()))),h=n;return d}throw e.g.za();}return!1};b.prototype.vA=function(a,b,f){b.copyTo(this.ag);if(1!=this.gp.length)throw e.g.za();this.ta=a;var c=this.gp[0];if(f||c.Aj.fv(b.w(),a,!0))if(322==c.Aj.G()){a=c.Aj;var d=a.ne(b.w(),!1);this.vr[0]=d;var h=c.WB;f=1;0==d?(h=c.XB,f=c.WC):1==d&&(h=c.VB,f=c.VC);c=new e.b;0==h?(h=new e.b,a.hc(d,h),b=b.w(),e.Ub.QH(h,b,1/(f+1),c)):0<h?(c=new e.b,a.hc(d,c)):c=b.w();f=0;d=-1;for(h=
0;1>=h;h++){b=1>h?this.vr[h]:1;if(b!=f){var m=this.JB();a.yh(f,b,m);-1!=d&&m.get().Lc(c);1!=h&&m.get().Xc(c);f=b;this.Wt.push(this.Ax(m.get()))}d=h}this.ag.rb(c)}else throw e.g.za();};return b}();e.jE=h})(x||(x={}));(function(e){var d=function(){function d(b){this.Bt=this.Vk=this.xb=null;this.lm=this.sf=this.bd=this.We=this.Ph=this.Ta=0;this.bb=null;this.Xl=this.sn=!1;this.We=-1;this.Ph=this.bd=0;this.Ta=-1;this.bb=b;this.sf=this.us(this.Ph);this.sn=!1;this.Vk=null;this.lm=-1;this.Xl=!1;this.Bt=new e.b}
d.Nm=function(b,a){if(0>a||a>=b.D())throw e.g.vd();var c=new d(b),f=b.cw(a);c.bd=a-b.wa(f);c.Ph=f+1;c.Ta=f;c.sf=c.us(c.Ta);c.lm=c.bb.wa(c.Ta);c.Xl=c.bb.Qb(c.Ta);return c};d.Mm=function(b,a,c){if(0>a||a>=b.aa()||0>c)throw e.g.vd();var f=b.Qb(a)?0:1;if(c>=b.La(a)-f)throw e.g.vd();b=new d(b);b.We=-1;b.bd=c;b.Ta=a;b.Ph=b.bd+1;b.sf=b.us(b.Ph);b.lm=b.bb.wa(b.Ta);b.Xl=b.bb.Qb(b.Ta);return b};d.prototype.cX=function(b){if(this.bb!=b.bb)throw e.g.Da();this.We=b.We;this.bd=b.bd;this.Ta=b.Ta;this.Ph=b.Ph;this.sf=
b.sf;this.sn=b.sn;this.lm=b.lm;this.Vk=null;this.Xl=b.Xl};d.prototype.ba=function(){this.We!=this.bd&&this.TE();if(this.sn)this.bd=(this.bd+1)%this.sf;else{if(this.bd==this.sf)throw e.g.vd();this.bd++}return this.Vk};d.prototype.Mi=function(){if(this.sn)this.bd=(this.sf+this.bd-1)%this.sf;else{if(0==this.bd)throw e.g.vd();this.bd--}this.bd!=this.We&&this.TE();return this.Vk};d.prototype.dX=function(){this.We=-1;this.bd=0};d.prototype.eX=function(){this.bd=this.sf;this.We=-1};d.prototype.Tb=function(b,
a){void 0===a&&(a=-1);if(0<=this.Ta&&this.Ta<this.bb.aa()){var c=this.jO();if(b>=c&&b<this.bb.Fc(this.Ta)){this.We=-1;this.bd=b-c;return}}c=0<=a&&a<this.bb.aa()&&b>=this.bb.wa(a)&&b<this.bb.Fc(a)?a:this.bb.cw(b);this.Ph=c+1;this.Ta=c;this.We=-1;this.bd=b-this.bb.wa(c);this.sf=this.us(c);this.lm=this.bb.wa(this.Ta);this.Xl=this.bb.Qb(this.Ta)};d.prototype.Ya=function(){this.Ta=this.Ph;if(this.Ta>=this.bb.aa())return!1;this.We=-1;this.bd=0;this.sf=this.us(this.Ta);this.lm=this.bb.wa(this.Ta);this.Xl=
this.bb.Qb(this.Ta);this.Ph++;return!0};d.prototype.zj=function(){this.sf=this.bd=this.We=-1;this.Ph=0;this.Ta=-1;this.Xl=!1;this.lm=-1};d.prototype.hC=function(b){if(0>b)throw e.g.vd();this.Ph=b;this.lm=this.sf=this.bd=this.We=this.Ta=-1;this.Xl=!1};d.prototype.us=function(b){if(this.bb.Gc())return 0;var a=1;this.bb.Qb(b)&&(a=0);return this.bb.La(b)-a};d.prototype.Lo=function(){return this.We==this.sf-1&&this.bb.Qb(this.Ta)};d.prototype.mC=function(){this.sn=!0};d.prototype.Db=function(){return this.bb.kb.f[this.Ta]+
this.We};d.prototype.jO=function(){return this.bb.wa(this.Ta)};d.prototype.Lk=function(){return this.Lo()?this.bb.wa(this.Ta):this.Db()+1};d.prototype.pn=function(){return 0==this.We};d.prototype.Oo=function(){return this.We==this.sf-1};d.prototype.Ea=function(){return this.bd<this.sf};d.prototype.rA=function(){return 0<this.bd};d.prototype.Sf=function(){var b=new d(this.bb);b.We=this.We;b.bd=this.bd;b.sf=this.sf;b.Ta=this.Ta;b.Ph=this.Ph;b.bb=this.bb;b.sn=this.sn;return b};d.prototype.TE=function(){if(0>
this.bd||this.bd>=this.sf)throw e.g.vd();this.We=this.bd;var b=this.Db();this.bb.vc();var a=this.bb.$e,c=1;null!=a&&(c=a.read(b)&7);a=this.bb.description;switch(c){case 1:null==this.xb&&(this.xb=new e.Hb);this.Vk=this.xb;break;case 2:throw e.g.X("internal error");case 4:throw e.g.za();default:throw e.g.za();}this.Vk.Eg(a);c=this.Lk();this.bb.Mc(b,this.Bt);this.Vk.Lc(this.Bt);this.bb.Mc(c,this.Bt);this.Vk.Xc(this.Bt);for(var f=1,d=a.Ga;f<d;f++)for(var k=a.pd(f),h=e.ma.Xa(k),m=0;m<h;m++){var l=this.bb.Wc(k,
b,m);this.Vk.Tx(k,m,l);l=this.bb.Wc(k,c,m);this.Vk.Lx(k,m,l)}};d.prototype.vU=function(){return this.Ta==this.bb.aa()-1};d.prototype.Mo=function(){var b=this.bb.oT();return null!=b?1!=(b.read(this.We)&7):!1};return d}();e.xN=d})(x||(x={}));(function(e){var d=function(){function d(b){b instanceof e.T?(this.wI=b,this.Ca=-1,this.ej=1):(this.ZU=b.slice(0),this.Ca=-1,this.ej=b.length)}d.prototype.Ia=function(){return this.Ca};d.prototype.next=function(){return this.Ca<this.ej-1?(this.Ca++,null!=this.wI?
this.wI:this.ZU[this.Ca]):null};d.prototype.Oe=function(){return!0};return d}();e.gd=d})(x||(x={}));(function(e){var d=function(){return function(){this.next=null}}(),h=function(){function b(){this.Lr=this.wx=this.xx=this.Sk=this.bi=0;this.rG=!1;this.LK=0;this.co=this.jg=this.Jm=this.ii=null;this.ym=0;this.Zy=null;this.Sk=this.bi=-1}b.prototype.$X=function(a,b,f){this.bi=a;this.Sk=b;this.ii=this.Jm=null;this.Lr=0;this.Zy=f;null==this.co&&(this.co=e.J.df(384,0));this.OK()};b.prototype.O=function(){return this.bi};
b.prototype.ea=function(){return this.Sk};b.prototype.flush=function(){0<this.ym&&(this.Zy.nG(this.co,this.ym),this.ym=0)};b.prototype.OK=function(){if(0<this.Lr){for(var a=0;a<this.Sk;a++){for(var b=this.Jm[a];null!=b;){var f=b,b=b.next;f.next=null}this.Jm[a]=null}this.ii=null}this.xx=this.Sk;this.wx=-1;this.Lr=0};b.prototype.MJ=function(a){this.rG=a==b.ly;for(a=this.xx;a<=this.wx;a++)this.QO(),this.HO(a),this.vR();this.OK()};b.prototype.Ny=function(a,b,f,g){if(b!=g){var c=1;b>g&&(c=a,a=f,f=c,c=
b,b=g,g=c,c=-1);if(!(0>g||b>=this.Sk)){0>a&&0>f?f=a=-1:a>=this.bi&&f>=this.bi&&(f=a=this.bi);var h=(f-a)/(g-b);g>this.Sk&&(g=this.Sk,f=h*(g-b)+a);0>b&&(a=h*(0-b)+a,b=0);var m=Math.max(this.bi+1,8388607);-8388607>a?(b=(0-a)/h+b,a=0):a>m&&(b=(this.bi-a)/h+b,a=this.bi);-8388607>f?g=(0-a)/h+b:f>m&&(g=(this.bi-a)/h+b);b=e.J.truncate(b);g=e.J.truncate(g);b!=g&&(f=new d,f.x=e.J.truncate(4294967296*a),f.y=b,f.B=g,f.oR=e.J.truncate(4294967296*h),f.dir=c,null==this.Jm&&(this.Jm=e.J.df(this.Sk,null)),f.next=
this.Jm[f.y],this.Jm[f.y]=f,f.y<this.xx&&(this.xx=f.y),f.B>this.wx&&(this.wx=f.B),this.Lr++)}}};b.prototype.QO=function(){if(null!=this.ii){for(var a=!1,b=null,f=this.ii;null!=f;)if(f.y++,f.y==f.B){var e=f,f=f.next;null!=b?b.next=f:this.ii=f;e.next=null}else f.x+=f.oR,null!=b&&b.x>f.x&&(a=!0),b=f,f=f.next;a&&(this.ii=this.KK(this.ii))}};b.prototype.HO=function(a){if(!(a>=this.Sk)){var b=this.Jm[a];if(null!=b){this.Jm[a]=null;b=this.KK(b);this.Lr-=this.LK;a=this.ii;for(var f=!0,e=b,d=null;null!=a&&
null!=e;)a.x>e.x?(f&&(this.ii=e),f=e.next,e.next=a,null!=d&&(d.next=e),d=e,e=f):(f=a.next,a.next=e,null!=d&&(d.next=a),d=a,a=f),f=!1;null==this.ii&&(this.ii=b)}}};b.tE=function(a,b){return 0>a?0:a>b?b:a};b.prototype.vR=function(){if(null!=this.ii)for(var a=0,c=this.ii,f=e.J.truncate(e.J.UH(c.x)),d=c.next;null!=d;d=d.next)if(a=this.rG?a^1:a+d.dir,d.x>c.x){var k=e.J.truncate(e.J.UH(d.x));0!=a&&(c=b.tE(f,this.bi),f=b.tE(k,this.bi),f>c&&c<this.bi&&(this.co[this.ym++]=c,this.co[this.ym++]=f,this.co[this.ym++]=
d.y,this.ym==this.co.length&&(this.Zy.nG(this.co,this.ym),this.ym=0)));c=d;f=k}};b.prototype.KK=function(a){for(var c=0,f=a;null!=f;f=f.next)c++;this.LK=c;if(1==c)return a;null==this.jg?this.jg=e.J.df(Math.max(c,16),null):this.jg.length<c&&(this.jg=e.J.df(Math.max(c,2*this.jg.length),null));for(var d=0,f=a;null!=f;f=f.next)this.jg[d++]=f;2==c?this.jg[0].x>this.jg[1].x&&(a=this.jg[0],this.jg[0]=this.jg[1],this.jg[1]=a):b.GW(this.jg,c,function(a,b){return a==b?0:a.x<b.x?-1:a.x>b.x?1:0});a=this.jg[0];
this.jg[0]=null;f=a;for(d=1;d<c;d++)f.next=this.jg[d],f=this.jg[d],this.jg[d]=null;f.next=null;return a};b.GW=function(a,b,f){if(b==a.length)a.sort(f);else{var c=a.slice(0,0),e=a.slice(b);b=a.slice(0,b).sort(f);a.length=0;a.push.apply(a,c.concat(b).concat(e))}};b.ly=0;b.vZ=1;return b}();e.vy=h})(x||(x={}));(function(e){var d=function(){function d(){}d.prototype.Si=function(b,a){var c=this.a.Sa(b,this.Fr);this.km==c&&(this.km=this.Je.nb(this.km));this.ap==c&&(this.ap=this.Je.nb(this.ap));this.Je.jd(this.zB,
c);this.Bk(b);if(a&&(c=this.a.kd(b),-1!=c&&this.a.cb(c)==b)){a=this.a.U(b);if(a!=b){var f=this.a.kd(a);if(f==c){this.a.ig(c,a);return}a=this.a.Ra(b);if(a!=b&&(f=this.a.kd(a),f==c)){this.a.ig(c,a);return}}this.a.ig(c,-1);this.a.rh(c,-1)}};d.prototype.JE=function(){for(var b=!1,a=0,c=new e.b;;){a++;null==this.wi?(this.wi=new e.ha(0),this.xt=new e.ha(0),this.Ue=new e.ha(0)):(this.wi.clear(!1),this.xt.clear(!1),this.Ue.clear(!1));for(var f=this.ap,d=0,k=!0;f!=this.km;){var h=this.Je.getData(f),m=new e.b;
this.a.Mc(h,m);k&&(this.a.Mc(h,c),k=!1);var m=this.a.Ra(h),l=this.a.U(h);-559038737!=this.a.Sa(m,this.Sg)&&(this.wi.add(m),this.a.Va(m,this.Sg,-559038737),this.xt.add(h),this.Ue.add(d++));-559038737!=this.a.Sa(l,this.Sg)&&(this.wi.add(l),this.a.Va(l,this.Sg,-559038737),this.xt.add(h),this.Ue.add(d++));f=this.Je.nb(f)}if(2>this.wi.size)break;var n=this;this.Ue.Fd(0,this.Ue.size,function(a,b){return n.bO(a,b)});f=0;for(d=this.Ue.size;f<d;f++)k=this.Ue.get(f),k=this.wi.get(k),this.a.Va(k,this.Sg,f),
m=new e.b,this.a.Mc(k,m);m=this.oO(c);f=0;for(d=this.Ue.size;f<d;f++)k=this.Ue.get(f),-1!=k&&(k=this.wi.get(k),this.a.Va(k,this.Sg,-1));if(m)b=!0;else break}return b};d.prototype.oO=function(b){for(var a=!1,c=!0;c;){var c=!1,f=0;-1==this.Ue.get(f)&&(f=this.Vm(f));for(var d=this.Vm(f),e=0,h=this.Ue.size;e<h&&-1!=f&&-1!=d&&f!=d;e++){var m=this.Ue.get(f),d=this.Ue.get(d),m=this.wi.get(m),d=this.wi.get(d),l=this.a.U(m);this.a.qw(l,b)||(l=this.a.Ra(m));var n=this.a.U(d);this.a.qw(n,b)||(n=this.a.Ra(d));
var p=this.dv(l,m),r=this.dv(n,d),u=p?this.a.Ra(l):this.a.U(l),v=r?this.a.Ra(n):this.a.U(n),x=!1;this.mq(l)?x=!0:this.mq(n)?x=!0:this.mq(m)?x=!0:this.mq(d)?x=!0:this.mq(u)?x=!0:this.mq(v)&&(x=!0);!x&&this.a.Uq(m,d)&&(x=!0,this.ME(p,r,l,m,n,d));!x&&this.a.Uq(u,v)&&(x=!0,this.ME(!p,!r,l,u,n,v));x&&(a=!0);c=c||x;f=this.Vm(f);d=this.Vm(f)}}if(!a)for(f=0,-1==this.Ue.get(f)&&(f=this.Vm(f)),d=this.Vm(f),e=0,h=this.Ue.size;e<h&&-1!=f&&-1!=d&&f!=d;e++)m=this.Ue.get(f),d=this.Ue.get(d),m=this.wi.get(m),d=this.wi.get(d),
l=this.a.U(m),this.a.qw(l,b)||(l=this.a.Ra(m)),n=this.a.U(d),this.a.qw(n,b)||(n=this.a.Ra(d)),p=this.dv(l,m),r=this.dv(n,d),u=p?this.a.Ra(l):this.a.U(l),v=r?this.a.Ra(n):this.a.U(n),this.fO(p,r,m,l,u,d,n,v)&&(a=!0),f=this.Vm(f),d=this.Vm(f);return a};d.prototype.rO=function(){1736==this.a.ic(this.Y)&&1==this.a.Eo(this.Y)&&(new e.Cg).cW(this.Vw,this.a,this.Y,this.ie);var b=!1,a=!0;this.Sg=this.Fr=-1;var c=this.a.D(this.Y),f=new e.ha(0);f.zb(c);for(var d=this.a.Pb(this.Y);-1!=d;d=this.a.Sb(d))for(var k=
this.a.cb(d),h=0,m=this.a.La(d);h<m;h++)f.add(k),k=this.a.U(k);var l=this.a.Cd.f,n=this.a.Cd.dd;this.a.yb.vc();var p=this.a.yb.ya[0].f;f.Fd(0,c,function(a,b){var c=l[n*a],f=l[n*b],d=p[2*c],c=p[2*c+1],e=p[2*f],f=p[2*f+1],d=c<f?-1:c>f?1:d<e?-1:d>e?1:0;0==d&&(d=l[n*a+3],f=l[n*b+3],d=d<f?-1:d==f?0:1);return d});this.Fr=this.a.Sd();this.Je=new e.cq;this.zB=this.Je.ni(0);this.Je.ao(c);for(d=0;d<c;d++)k=f.get(d),h=this.Je.addElement(this.zB,k),this.a.Va(k,this.Fr,h);this.Sg=this.a.Sd();this.km=-1;for(this.AE()&&
(b=!0);a;){a=!1;c=0;f=!1;do{f=!1;this.ap=-1;for(var m=0,d=new e.b,h=new e.b,r=this.Je.wc(this.zB);-1!=r;)k=this.Je.getData(r),-1!=this.ap?(this.a.Mc(k,h),d.vb(h))?m++:(d.L(h),this.km=r,0<m&&(k=this.JE())&&(f=!0,-1!=this.km&&(k=this.Je.getData(this.km),this.a.Mc(k,d))),this.ap=r=this.km,m=0):(this.ap=r,this.a.Mc(this.Je.getData(r),d),m=0),-1!=r&&(r=this.Je.nb(r));this.km=-1;0<m&&(k=this.JE())&&(f=!0);if(10<c++)throw e.g.za();f&&this.iO();this.AE()&&(f=!0);a=a||f&&!1;b=b||f}while(f)}this.a.je(this.Fr);
this.a.je(this.Sg);return b=e.sN.V(this.a,this.Y,this.Je,this.Vw)||b};d.prototype.dv=function(b,a){return this.a.U(a)==b?!1:!0};d.prototype.fO=function(b,a,c,f,d,e,h,m){if(f==h)return this.Bk(c),this.Bk(e),!1;var g=this.a.Sa(c,this.Sg),k=this.a.Sa(d,this.Sg),q=this.a.Sa(e,this.Sg),l=this.a.Sa(m,this.Sg);c=[0,0,0,0,0,0,0,0];var n=[0,0,0,0];c[0]=0;n[0]=g;c[1]=0;n[1]=k;c[2]=1;n[2]=q;c[3]=1;n[3]=l;for(g=1;4>g;g++){k=n[g];q=c[g];for(l=g-1;0<=l&&n[l]>k;)n[l+1]=n[l],c[l+1]=c[l],l--;n[l+1]=k;c[l+1]=q}n=0;
0!=c[0]&&(n|=1);0!=c[1]&&(n|=2);0!=c[2]&&(n|=4);0!=c[3]&&(n|=8);if(5!=n&&10!=n)return!1;b==a?b?(this.a.Jc(m,f),this.a.Kc(f,m),this.a.Jc(d,h),this.a.Kc(h,d)):(this.a.Kc(m,f),this.a.Jc(f,m),this.a.Kc(d,h),this.a.Jc(h,d)):b?(this.a.Kc(f,e),this.a.Jc(e,f),this.a.Kc(h,d),this.a.Jc(d,h)):(this.a.Jc(f,e),this.a.Kc(e,f),this.a.Jc(h,d),this.a.Kc(d,h));return!0};d.prototype.ME=function(b,a,c,f,d,e){this.h_?this.qO():this.pO(b,a,c,f,d,e)};d.prototype.qO=function(){throw e.g.X("not implemented.");};d.prototype.pO=
function(b,a,c,f,d,e){if(b!=a)b?(this.a.Jc(c,d),this.a.Kc(d,c),this.a.Jc(e,f),this.a.Kc(f,e),this.wo(d,c),this.Si(d,!0),this.a.Ni(d,!0),this.Bk(c),this.wo(e,f),this.Si(e,!0),this.a.Ni(e,!1)):(this.a.Jc(d,c),this.a.Kc(c,d),this.a.Jc(f,e),this.a.Kc(e,f),this.wo(d,c),this.Si(d,!0),this.a.Ni(d,!1),this.Bk(c),this.wo(e,f),this.Si(e,!0),this.a.Ni(e,!0)),this.Bk(f);else{var g=b?c:f,k=a?d:e;b=b?f:c;a=a?e:d;d=!1;this.a.Jc(g,k);this.a.Jc(k,g);this.a.Kc(b,a);this.a.Kc(a,b);for(e=a;e!=k;)c=this.a.Ra(e),f=this.a.U(e),
this.a.Kc(e,f),this.a.Jc(e,c),d=d||e==g,e=f;d||(c=this.a.Ra(k),f=this.a.U(k),this.a.Kc(k,f),this.a.Jc(k,c));this.wo(k,g);this.Si(k,!0);this.a.Ni(k,!1);this.Bk(g);this.wo(a,b);this.Si(a,!0);this.a.Ni(a,!1);this.Bk(b)}};d.prototype.AE=function(){for(var b=!1,a=this.a.Pb(this.Y);-1!=a;){for(var c=this.a.cb(a),f=0,d=this.a.La(a);f<d&&1<d;){var e=this.a.Ra(c),h=this.a.U(c);this.a.Uq(e,h)?(b=!0,this.Si(c,!1),this.a.td(c,!0),this.Si(h,!1),this.a.td(h,!0),c=e,f=0,d=this.a.La(a)):(c=h,f++)}if(2>this.a.La(a)){b=
this.a.cb(a);f=0;for(d=this.a.La(a);f<d;f++)this.Si(b,!1),b=this.a.U(b);a=this.a.Qr(a);b=!0}else a=this.a.Sb(a)}return b};d.prototype.mq=function(b){for(var a=!1;;){var c=this.a.U(b),f=this.a.Ra(b);if(c==b)return this.Si(b,!0),this.a.Ni(b,!1),!0;if(!this.a.Uq(c,f))break;a=!0;this.Bk(f);this.Bk(c);this.Si(b,!0);this.a.Ni(b,!1);this.wo(c,f);this.Si(c,!0);this.a.Ni(c,!0);if(c==f)break;b=f}return a};d.prototype.iO=function(){for(var b=0,a=this.Je.wc(this.Je.De);-1!=a;a=this.Je.nb(a)){var c=this.Je.getData(a);
this.a.Bj(c,-1)}for(var f=0,d=this.a.Pb(this.Y);-1!=d;)if(a=this.a.cb(d),-1==a||-1!=this.a.kd(a))c=d,d=this.a.Sb(d),this.a.Rr(c);else{this.a.Bj(a,d);for(var e=1,c=this.a.U(a);c!=a;c=this.a.U(c))this.a.Bj(c,d),e++;this.a.Up(d,!1);this.a.sk(d,e);this.a.rh(d,this.a.Ra(a));f+=e;b++;d=this.a.Sb(d)}for(a=this.Je.wc(this.Je.De);-1!=a;a=this.Je.nb(a))c=this.Je.getData(a),-1==this.a.kd(c)&&(d=this.a.pH(this.Y,c,c,null),f+=this.a.La(d),b++);this.a.Bm(this.Y,b);this.a.qk(this.Y,f);b=0;for(f=this.a.qd;-1!=f;f=
this.a.Re(f))b+=this.a.D(f);this.a.CC(b)};d.prototype.Vm=function(b){for(var a=0,c=this.Ue.size-1;a<c;a++)if(b=(b+1)%this.Ue.size,-1!=this.Ue.get(b))return b;return-1};d.prototype.wo=function(b,a){var c=this.a.Sa(a,this.Fr),f=this.a.Sa(a,this.Sg);this.a.MC(b,a);this.a.Va(a,this.Fr,c);this.a.Va(a,this.Sg,f)};d.prototype.Bk=function(b){var a=this.a.Sa(b,this.Sg);-1!=a&&(this.Ue.set(a,-1),this.a.Va(b,this.Sg,-1))};d.V=function(b,a,c,f,e){var g=new d;g.a=b;g.Y=a;g.gB=c;g.Vw=f;g.ie=e;return g.rO()};d.prototype.bO=
function(b,a){var c=this.wi.get(b),f=new e.b;this.a.Mc(c,f);var c=new e.b,d=this.wi.get(a);this.a.Mc(d,c);if(f.vb(c))return 0;b=this.xt.get(b);d=new e.b;this.a.Mc(b,d);a=this.xt.get(a);b=new e.b;this.a.Mc(a,b);a=new e.b;a.xc(f,d);f=new e.b;f.xc(c,b);return e.b.ts(a,f)};return d}();e.so=d})(x||(x={}));(function(d){(function(d){d[d.Local=0]="Local";d[d.Geographic=1]="Geographic";d[d.Projected=2]="Projected";d[d.Image=3]="Image";d[d.Unknown=4]="Unknown"})(d.yN||(d.yN={}));(function(d){d[d.Integer32=
0]="Integer32";d[d.Integer64=1]="Integer64";d[d.FloatingPoint=2]="FloatingPoint"})(d.lN||(d.lN={}));var e=function(){function e(){this.jq="";this.gv=null;this.xg=0;this.$I=this.Ap=-1;this.Vh=null}e.prototype.Bc=function(){return this.xg};e.prototype.Ps=function(){return 0};e.prototype.Qs=function(){return 0};e.prototype.Rs=function(){return 0};e.prototype.Os=function(){return 0};e.prototype.Wz=function(){return 5.7295779513082306E10};e.prototype.Xz=function(){return 1E3};e.prototype.Vz=function(){return 1E3};
e.prototype.$s=function(){return 1};e.prototype.pe=function(){var b=.001;0!=this.xg?b=d.ss.SR(this.xg):null!=this.Vh&&(b=d.uE.TR(this.Vh));return b};e.prototype.dH=function(){return this.Vh};e.prototype.Td=function(){if(0!=this.xg)return d.$c.vh(d.ss.Dz(this.xg));if(null!=this.Vh)return d.uE.UR(this.Vh)};e.Fb=function(b){if(0!=b.xg){if(!0===d.ss.uU(b.xg))return 1;if(!0===d.ss.wU(b.xg))return 2}return 4};e.prototype.Ys=function(){var b=this.Bc();if(-1!=this.Ap)return this.Ap;this.Ap=d.ss.nL(b);return-1!=
this.Ap?this.Ap:b};e.create=function(b){if(0>=b)throw d.g.F("Invalid or unsupported wkid: "+b);var a=new e;a.xg=b;return a};e.MQ=function(b){if(null==b||0==b.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");var a=new e;a.Vh=b;return a};e.prototype.Eb=function(b){return this==b?!0:null==b||this.constructor!=b.constructor||this.xg!=b.xg||0==this.xg&&this.Vh!==b.Vh?!1:!0};e.pS=function(b,a){var c=Math.PI/180,f=new d.da;d.$L.sS(b.w().x*c,b.w().y*c,a.w().x*c,a.w().y*c,f);return f.j};
e.prototype.toString=function(){return"[ tol: "+this.Ho()+"; wkid: "+this.Bc()+"; wkt: "+this.dH()+"]"};e.prototype.kc=function(){if(""!==this.jq)return this.jq;var b=this.toString();if(Array.prototype.reduce)return this.jq="S"+b.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0);var a=0;if(0===b.length)return"";for(var c=0;c<b.length;c++)a=(a<<5)-a+b.charCodeAt(c),a&=a;return this.jq="S"+a};e.prototype.Ho=function(){return this.pe(0)};e.prototype.Bh=function(){return null!==
this.gv?this.gv:this.gv=d.Su.SQ(this)};e.r_=!0;e.xv=2147483645;e.yv=9007199254740990;return e}();d.ve=e})(x||(x={}));(function(d){var e=function(e){function b(){var a=null!==e&&e.apply(this,arguments)||this;a.jj=null;a.tV=null;a.rp=new d.kE;a.yp=null;a.Xw=null;return a}fa(b,e);b.SQ=function(a){var c=new b;c.xg=a.xg;c.Ap=a.Ap;c.$I=a.$I;c.Vh=a.Vh;if(""!==c.Vh&&null!==c.Vh){a=b.Gj(c.Vh);var f=b.Ej(c.Vh);c.rp.Ay(a,f,d.Tu.Integer64);c.Gy(a);c.Jy(f);c.xg=a.Ys()}else a=b.Fj(c.xg),c.Gy(a),c.Jy(null),c.rp.Ay(a,
null,d.Tu.Integer64);return c};b.prototype.pe=function(a){return this.rp.Ho(a)};b.Ej=function(a){if(0>=a.length)throw d.g.F();var c=null;try{c=d.WD.fromString(a)}catch(f){c=null}return null==c?null:b.de(c,!0)};b.prototype.Gy=function(a){this.Nd=a;this.yp=this.Nd.Td()};b.prototype.Jy=function(a){this.LI=a;this.tV=null!=this.LI?this.LI.yp:null};b.prototype.Ic=function(){return 0==this.Fb()||3==this.Fb()?!1:this.Nd.Ic()};b.prototype.IH=function(){return 0==this.Fb()?!1:3==this.Fb()?this.jj.Ik().Ic():
this.Nd.Ic()};b.prototype.Jg=function(){return null!=this.Nd?this.Nd.rf:null};b.prototype.hn=function(){return this.Nd.hn()};b.prototype.ce=function(){return this.Nd.ce()};b.prototype.Dh=function(){return null!=this.Nd?this.Nd.fx:NaN};b.prototype.kn=function(){return this.Nd.kn()};b.prototype.Us=function(){return this.Nd.Us()};b.prototype.Wj=function(){return this.Nd.Wj()};b.prototype.JT=function(a){return d.ZD.zz(this.Nd,a.Nd)};b.prototype.Ok=function(){return this.Nd.Ok()};b.prototype.Ts=function(){return this.Nd.Ts()};
b.prototype.ri=function(){return 3==this.Fb()?this.jj.Ik().ri():this.Nd.ri()};b.prototype.Ch=function(){if(!this.Ic())throw d.g.F("!isPannable()");var a=new d.h;this.Nd.Ch(a);return a};b.prototype.oe=function(){if(!this.Ic())throw d.g.F("!isPannable()");return this.Nd.mp};b.prototype.aT=function(){if(!this.Ic())throw d.g.F("!isPannable()");var a=new d.h;this.Nd.$S(a);return a};b.prototype.bw=function(){if(!this.Ic())throw d.g.F("!isPannable()");return this.Nd.bw()};b.prototype.aw=function(){if(!this.Ic())throw d.g.F("!isPannable()");
return this.Nd.aw()};b.prototype.Vs=function(){return null!=this.jj?this.jj.Ik().Vs():this.Nd.Vs()};b.prototype.dS=function(){return this.Nd.Uv()};b.prototype.NW=function(a){a.assign(this.rp)};b.prototype.Zi=function(){return this.yp.getUnitFactor()};b.prototype.iA=function(a){return this.rp.iA(a)};b.prototype.lc=function(){var a=this.Fb();if(1==a)return this;if(3==a)return this.jj.Ik().lc();if(0==a)throw d.g.X("invalid call");if(4===a)throw d.g.X("invalid call");if(null!==this.Xw)return this.Xw;
a=this.Jg().getGeogcs();if(null==a)throw d.g.za();return this.Xw=b.hG(a,this.rp.$s())};b.hG=function(a,c){if(null==a)throw d.g.F("null pointer.");var f=new b;a=b.dc(a,!0);f.rp.Ay(a,null,c);f.Gy(a);f.Jy(null);f.xg=a.Ys();return f};b.prototype.Fb=function(){var a=this.Jg();if(null!=a)switch(a.getType()){case d.Uc.PE_TYPE_GEOGCS:return 1;case d.Uc.PE_TYPE_PROJCS:return 2}return 4};b.prototype.gA=function(a){var b=new d.b;this.Nd.gA(a,b);return b};b.prototype.Uv=function(){return this.Nd.Uv()};b.dc=function(a,
c){var f=a.getCode();if(0>=f&&(f=d.Qf.getCode(a),0<f)){var e=d.Qf.coordsys(f);if(null==e)throw d.g.F("Text to wkid mapping had failed: "+f);return b.dc(e,c)}if(c&&0<f&&(e=b.ad[f]))return e;e=d.Ib.iw(a,f,!1);if(c=b.Ug[e])return c;c=0>=f?a:d.Qf.coordsys(f);c=new d.ZD(c);b.Ug[e]=c;0<f&&(b.ad[f]=c);return c};b.Fj=function(a){if(0>=a)throw d.g.F("Invalid or unsupported wkid: "+a);var c=b.ad[a];if(null!=c)return c;c=d.Qf.coordsys(a);if(null==c)throw d.g.F("Invalid or unsupported wkid: "+a);c=b.dc(c,!1);
c.Ys()!=a&&(b.ad[a]=c);return c};b.Gj=function(a){if(null==a||void 0===a||0==a.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");var c=null;try{c=d.Qf.fromString(d.Uc.PE_TYPE_COORDSYS,a)}catch(f){throw d.g.F("Cannot create SpatialReference from text. "+f.message);}if(null===c)throw d.g.F("Cannot create SpatialReference from text. ");return b.dc(c,!0)};b.de=function(a,c){var f=a.getCode();if(0>=f&&(f=d.Qf.getCode(a),0<f)){f=d.Qf.vertcs(f);if(null===f)throw d.g.F();return b.de(f,
c)}if(c&&0<f&&(c=b.Xf[f]))return c;a=d.Ib.iw(a,f,!1);if(c=b.Yg[a])return c;var e;0>=f||(e=d.Qf.vertcs(f));if(null===e)throw d.g.F();c=new d.hN(e);b.Yg[a]=c;0<f&&(b.Xf[f]=c);return c};b.lf=function(a,b){var c;if(null===b||b.u())return null;var e=new d.h,k;null!==b&&1!=a.Fb()?(c=a.lc(),k=c.Jg(),c=d.rs.Gs(a,c,null,null),c=d.ns.local().V(b,c,null),c.s(e)):(k=a.Jg(),b.s(e));c=k.getPrimem().getLongitude();k=k.getUnit().getUnitFactor();return new d.UD(e.o,e.A,e.v,e.B,c,k)};b.IE=function(a){var b={name:"",
steps:[],_pt:null,_entry:null},f=0;for(a=a.getEntries();f<a.length;f++){var d=a[f],e={d_:!1,C_:"",B_:-1,geogtran:null};0===d.getDirection()?e.isInverse=!1:e.isInverse=!0;var h=d.getGeogtran().getCode();-1<h?e.wkid=h:e.wkt=d.getGeogtran().toString();b.steps.push(e)}return b};b.rT=function(a,c,f,e){void 0===f&&(f=null);f=b.lf(e,f);a=d.fq.getGTlist(a.Jg(),c.Jg(),2,d.fq.PE_GTLIST_OPTS_COMMON,f,1);c=null;a&&0<a.length&&(c=this.IE(a[0]),d.sy.destroy(a));null!==f&&f.destroy();return c};b.sT=function(a,c,
f,e){var g;void 0===f&&(f=null);void 0===e&&(e=null);void 0===g&&(g=30);f=b.lf(e,f);a=d.fq.getGTlist(a.Jg(),c.Jg(),2,d.fq.PE_GTLIST_OPTS_COMMON,f,g);c=[];if(a&&0<a.length){for(g=0;g<a.length;g++)c.push(this.IE(a[g]));d.sy.destroy(a)}null!==f&&f.destroy();return c};b.ad={};b.Ug={};b.Xf={};b.Yg={};return b}(d.ve);d.Su=e})(x||(x={}));(function(d){var e;(function(b){b[b.Integer32=0]="Integer32";b[b.Integer64=1]="Integer64";b[b.FloatingPoint=2]="FloatingPoint"})(e=d.Tu||(d.Tu={}));var h=function(){function b(){this.kq()}
b.prototype.assign=function(a){this.bm=a.bm;this.cm=a.cm;this.vj=a.vj;this.Tw=a.Tw;this.Pn=a.Pn;this.Sw=a.Sw;this.rx=a.rx;this.ll=a.ll;this.Cr=a.Cr;this.Br=a.Br;this.Kn=a.Kn};b.prototype.Ps=function(){return this.bm};b.prototype.Qs=function(){return this.cm};b.prototype.Rs=function(){return this.Tw};b.prototype.Os=function(){return this.Sw};b.prototype.Wz=function(){return this.vj};b.prototype.Xz=function(){return this.Pn};b.prototype.Vz=function(){return this.rx};b.prototype.$s=function(){return this.Kn};
b.prototype.kq=function(){this.cm=this.bm=0;this.vj=1;this.Tw=0;this.Pn=1;this.Sw=0;this.rx=1;this.Br=this.Cr=this.ll=2.220446049250313E-14;this.Kn=e.FloatingPoint};b.prototype.Ay=function(a,b,f){this.kq();this.Kn=f;if(f!=e.FloatingPoint){var c=new d.h;a.zS(c);this.bm=c.o;this.cm=c.A}else this.cm=this.bm=-1.7976931348623157E308;c=a.rf.getType();c==d.Uc.PE_TYPE_GEOGCS?(c=(f==e.Integer64?1E-9:1/18E5)*a.ce(),this.vj=1/c):c==d.Uc.PE_TYPE_PROJCS&&(c=(f==e.Integer64?1E-4:.001)*a.hn(),this.vj=1/c);null!=
b?(c=(f==e.Integer32?.001:1E-4)*b.JI,this.Pn=1/c):this.Pn=1E4;this.rx=1E4;this.sO();this.ll=a.fx;this.Cr=null!=b?.001*b.JI:.001;this.Br=2.220446049250313E-14};b.prototype.sO=function(){if(this.Kn!=e.FloatingPoint){var a=this.Kn==e.Integer64?d.ve.yv:d.ve.xv,b=a/this.vj,f=this.bm+b,g=d.J.truncate((f-this.bm)*this.vj);g>a&&(this.vj=a/(f-this.bm));b=this.cm+b;g=d.J.truncate((b-this.cm)*this.vj);g>a&&(this.vj=a/(b-this.cm))}};b.prototype.BC=function(a,b){switch(a){case 0:this.ll=b;case 1:this.Cr=b;case 2:this.Br=
b}};b.prototype.Ho=function(a){switch(a){case 0:return this.ll;case 1:return this.Cr;case 2:return this.Br}return 0};b.prototype.xT=function(){var a=new d.h;switch(this.$s()){case e.Integer32:var b=d.ve.xv/this.Wz();a.I(this.Ps(),this.Qs(),this.Ps()+b,this.Qs()+b);break;case e.Integer64:b=d.ve.yv/this.Wz();a.I(this.Ps(),this.Qs(),this.Ps()+b,this.Qs()+b);break;case e.FloatingPoint:a.I(-1.7976931348623157E308,-1*1.7976931348623157E308,1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");
}return a};b.prototype.zT=function(){var a=new d.yc;switch(this.$s()){case e.Integer32:var b=d.ve.xv/this.Xz();a.I(this.Rs(),this.Rs()+b);break;case e.Integer64:b=d.ve.yv/this.Xz();a.I(this.Rs(),this.Rs()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.TS=function(){var a=new d.yc;switch(this.$s()){case e.Integer32:var b=d.ve.xv/this.Vz();a.I(this.Os(),this.Os()+b);break;case e.Integer64:b=d.ve.yv/
this.Vz();a.I(this.Os(),this.Os()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.iA=function(a){if(this.Kn==e.FloatingPoint)return 0;switch(a){case 0:return 1/this.vj;case 1:return 1/this.Pn;case 2:return 1/this.Pn;default:return 0}};b.prototype.toString=function(){var a;a="SRPD [m_toleranceXY: "+this.ll.toString();a=a+";m_falseX: "+this.bm.toString();a=a+";m_falseY: "+this.cm.toString();a=a+";m_unitsXY: "+
this.vj.toString();a=a+";m_falseZ: "+this.Tw.toString();a=a+";m_unitsZ: "+this.Pn.toString();a=a+";m_falseM: "+this.Sw.toString();a=a+";m_toleranceZ: "+this.Cr.toString();a=a+";m_toleranceM: "+this.Br.toString();a=a+";m_precision: "+this.Kn.toString();return a+"] "};return b}();d.kE=h})(x||(x={}));(function(d){function e(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;return[111319.49079327169*a,3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))]}function h(a,b,c){a=a/6378137*
57.29577951308232;return c?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]:[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]}function b(a,b){var c=a.Sf();if(33===a.G()){var f=b(c.Te(),c.Cf());c.rb(f[0],f[1])}else if(197===a.G())f=b(a.dt(),a.ft(),!0),a=b(a.ct(),a.et(),!0),c.I(f[0],f[1],a[0],a[1]);else for(f=new d.b,a=0;a<c.D();a++){c.w(a,f);var e=b(f.x,f.y,!0);f.ja(e[0],e[1]);c.rb(a,f)}return c}function a(a){return b(a,
h)}function c(a){return b(a,e)}var f=Math.PI/180,g=function(){function a(){}a.os=function(a){var b=Math.sqrt(.006694379990197414),c=Math.sin(a.y*f);return d.b.pa(6378137*a.x*f,3167719.6636462314*(c/(1-.006694379990197414*c*c)-1/(2*b)*Math.log((1-b*c)/(1+b*c))))};a.xz=function(a,b,c,e){var g=1/298.257223563,k=Math.sin(c);c=Math.cos(c);var h=(1-g)*Math.tan(a);a=1/Math.sqrt(1+h*h);for(var m=h*a,q=Math.atan2(h,c),h=a*k,l=h*h,n=1-l,t=2.7233160610754688E11*n/4.040829998466145E13,p=1+t/16384*(4096+t*(-768+
t*(320-175*t))),r=t/1024*(256+t*(-128+t*(74-47*t))),t=e/(6356752.31424518*p),u=2*Math.PI,w,v,x,z;1E-12<Math.abs(t-u);)x=Math.cos(2*q+t),w=Math.sin(t),v=Math.cos(t),z=r*w*(x+r/4*(v*(-1+2*x*x)-r/6*x*(-3+4*w*w)*(-3+4*x*x))),u=t,t=e/(6356752.31424518*p)+z;e=m*w-a*v*c;n=g/16*n*(4+g*(4-3*n));return d.b.pa((b+(Math.atan2(w*k,a*v-m*w*c)-(1-n)*g*h*(t+n*w*(x+n*v*(-1+2*x*x)))))/f,Math.atan2(m*v+a*w*c,(1-g)*Math.sqrt(l+e*e))/f)};a.uV=function(a,b,c,d){var f=1/298.257223563,e=d-b,g=Math.atan((1-f)*Math.tan(a)),
k=Math.atan((1-f)*Math.tan(c)),h=Math.sin(g),g=Math.cos(g),m=Math.sin(k),k=Math.cos(k),q=e,l,n=1E3,t,p,r,u,w,v,x;do{r=Math.sin(q);u=Math.cos(q);p=Math.sqrt(k*r*k*r+(g*m-h*k*u)*(g*m-h*k*u));if(0===p)return 0;u=h*m+g*k*u;w=Math.atan2(p,u);v=g*k*r/p;t=1-v*v;r=u-2*h*m/t;isNaN(r)&&(r=0);x=f/16*t*(4+f*(4-3*t));l=q;q=e+(1-x)*f*v*(w+x*p*(r+x*u*(-1+2*r*r)))}while(1E-12<Math.abs(q-l)&&0<--n);if(0===n)return h=d-b,{azimuth:Math.atan2(Math.sin(h)*Math.cos(c),Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(h)),
geodesicDistance:6371008.771415059*Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(d-b))};a=2.7233160610754688E11*t/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));return{azimuth:Math.atan2(k*Math.sin(q),g*m-h*k*Math.cos(q)),oS:6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(w-b*p*(r+b/4*(u*(-1+2*r*r)-b/6*r*(-3+4*p*p)*(-3+4*r*r)))),u_:Math.atan2(g*Math.sin(q),g*m*Math.cos(q)-h*k)}};a.hM=function(a){var b=a.hasAttribute(1),c=a.hasAttribute(2),f=[],e=a.aa(),g=
null,k=null;b&&(g=a.Qa(1));c&&(k=a.Qa(2));for(var h=new d.b,m=0;m<e;m++){for(var q=a.wa(m),l=a.La(m),n=0,p=0,r=NaN,u=NaN,v=NaN,x=NaN,z=a.Qb(m),y=[],A=q;A<q+l;A++){a.w(A,h);var x=v=NaN,C=[h.x,h.y];b&&(v=g.get(A),C.push(v));c&&(e=k.get(A),C.push(x));A==q&&z&&(n=h.x,p=h.y,r=v,u=x);y.push(C)}!z||n==h.x&&p==h.y&&(!b||isNaN(r)&&isNaN(v)||r==v)&&(!c||isNaN(u)&&isNaN(x)||u==x)||y.push(y[0].slice(0));f.push(y)}return f};a.Hz=function(b,c){b=a.hM(b);637.100877141506>c&&(c=637.100877141506);for(var d=[],e,g=
0;g<b.length;g++){var k=b[g];d.push(e=[]);e.push([k[0][0],k[0][1]]);var h,m,q,l,n,t;h=k[0][0]*f;m=k[0][1]*f;for(n=0;n<k.length-1;n++)if(q=k[n+1][0]*f,l=k[n+1][1]*f,h!==q||m!==l){l=a.uV(m,h,l,q);q=l.azimuth;l=l.oS;var p=l/c;if(1<p){for(t=1;t<=p-1;t++){var r=a.xz(m,h,q,t*c);e.push([r.x,r.y])}t=a.xz(m,h,q,(l+Math.floor(p-1)*c)/2);e.push([t.x,t.y])}m=a.xz(m,h,q,l);e.push([m.x,m.y]);h=m.x*f;m=m.y*f}}return{VJ:d}};a.nS=function(b){for(var c=[],f=0;f<b.length;f++){var e=b[f],e=a.Hz(e,1E4);c.push(e)}b=[];
for(var g=0;g<c.length;g++){for(var e=c[g],k=0,f=0;f<e.VJ.length;f++){var h=e.VJ[f],m=a.os(d.b.pa(h[0][0],h[0][1])),q=a.os(d.b.pa(h[h.length-1][0],h[h.length-1][1])),l=q.x*m.y-m.x*q.y,n;for(n=0;n<h.length-1;n++)m=a.os(d.b.pa(h[n+1][0],h[n+1][1])),q=a.os(d.b.pa(h[n][0],h[n][1])),l+=q.x*m.y-m.x*q.y;k+=l}k/=1;b.push(k/-2)}return b};return a}();d.aM=g;g=function(){function b(){}b.$B=function(a,c,d,f,e,g,k){b.iD[a.kc()]=c;0==isNaN(d)&&(b.kD[a.kc()]=d);0==isNaN(f)&&(b.uD[a.kc()]=f);0==isNaN(e)&&(b.gD[a.kc()]=
e);b.nD[a.kc()]=g;null!==k&&(b.pD[a.kc()]=k)};b.Ix=function(a,c,d){b.sD[a.kc()+"-"+c.kc()]=d};b.lc=function(a){a=b.iD[a.kc()];if(void 0==a)throw d.g.af();return a};b.ce=function(a){a=b.kD[a.kc()];if(void 0==a)throw d.g.af();return a};b.hw=function(a){a=b.uD[a.kc()];if(void 0==a)throw d.g.af();return a};b.Sv=function(a){a=b.gD[a.kc()];if(void 0==a)throw d.g.af();return a};b.Ch=function(a){a=b.pD[a.kc()];if(void 0==a)throw d.g.af();return d.h.pa(a[0],a[1],a[2],a[3])};b.Ic=function(a){a=b.nD[a.kc()];
if(void 0==a)throw d.g.af();return a};b.Vg=function(a,c,f){if(c.Eb(f))return a;var e=b.sD[c.kc()+"-"+f.kc()];if(void 0!==e)return e(a,c,f);throw d.g.af();};b.nu=function(){throw d.g.af();};b.tS=function(){throw d.g.af();};b.xW=function(){throw d.g.af();};b.Ok=function(){throw d.g.af();};b.WW=function(){var b=d.ve.create(102100),f=d.ve.create(3857),e=d.ve.create(4326);d.fb.$B(b,e,NaN,NaN,NaN,!1,null);d.fb.$B(e,e,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);d.fb.$B(f,e,NaN,NaN,NaN,!1,null);
d.fb.Ix(b,e,a);d.fb.Ix(e,b,c);d.fb.Ix(f,e,a);d.fb.Ix(e,f,c)};b.iD=[];b.kD=[];b.uD=[];b.gD=[];b.nD=[];b.pD=[];b.sD=[];return b}();d.fb=g})(x||(x={}));x.fb.WW();(function(d){var e=function(){function e(b){this.f=null;this.jh=-1;this.xd=this.size=this.Gf=0;this.dd=b}e.prototype.jd=function(b){b<this.Gf?(this.f[b*this.dd]=this.jh,this.jh=b):this.Gf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.dd+a]};e.prototype.R=function(b,a,c){this.f[b*this.dd+a]=c};e.prototype.Me=function(){var b=
this.jh;if(-1==b){if(this.Gf==this.xd){b=0!=this.xd?d.J.truncate(3*(this.xd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.xd)throw d.g.vd();this.Io(b)}b=this.Gf;this.Gf++}else this.jh=this.f[b*this.dd];this.size++;for(var a=b*this.dd+this.dd,c=b*this.dd;c<a;c++)this.f[c]=-1;return b};e.prototype.pl=function(b){var a=this.jh;if(-1==a){if(this.Gf==this.xd){a=0!=this.xd?d.J.truncate(3*(this.xd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.xd)throw d.g.vd();this.Io(a)}a=this.Gf;this.Gf++}else this.jh=
this.f[a*this.dd];this.size++;for(var c=a*this.dd,f=this.dd,e=0;e<f;e++)this.f[c+e]=b[e];return a};e.prototype.Wi=function(b){this.jh=-1;this.size=this.Gf=0;b&&(this.f=null,this.xd=0)};e.prototype.Ne=function(b){b>this.xd&&this.Io(b)};e.prototype.ay=function(b,a,c){var d=this.f[this.dd*a+c];this.f[this.dd*a+c]=this.f[this.dd*b+c];this.f[this.dd*b+c]=d};e.zl=function(){return-2};e.Al=function(){return-3};e.EA=function(b){return 0<=b};e.prototype.Io=function(b){null==this.f&&(this.f=[]);this.xd=b};
return e}();d.Zc=e;e=function(){function e(b){this.f=new Int32Array(0);this.jh=-1;this.xd=this.size=this.Gf=0;this.dd=b}e.prototype.jd=function(b){b<this.Gf?(this.f[b*this.dd]=this.jh,this.jh=b):this.Gf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.dd+a]};e.prototype.R=function(b,a,c){this.f[b*this.dd+a]=c};e.prototype.Me=function(){var b=this.jh;if(-1==b){if(this.Gf==this.xd){b=0!=this.xd?d.J.truncate(3*(this.xd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.xd)throw d.g.vd();
this.Io(b)}b=this.Gf;this.Gf++}else this.jh=this.f[b*this.dd];this.size++;for(var a=b*this.dd;a<b*this.dd+this.dd;a++)this.f[a]=-1;return b};e.prototype.pl=function(b){var a=this.jh;if(-1==a){if(this.Gf==this.xd){a=0!=this.xd?d.J.truncate(3*(this.xd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.xd)throw d.g.vd();this.Io(a)}a=this.Gf;this.Gf++}else this.jh=this.f[a*this.dd];this.size++;for(var c=a*this.dd,f=0;f<b.length;f++)this.f[c+f]=b[f];return a};e.prototype.Wi=function(b){this.jh=-1;this.size=
this.Gf=0;b&&(this.f=null,this.xd=0)};e.prototype.Ne=function(b){b>this.xd&&this.Io(b)};e.prototype.ay=function(b,a,c){var d=this.f[this.dd*a+c];this.f[this.dd*a+c]=this.f[this.dd*b+c];this.f[this.dd*b+c]=d};e.zl=function(){return-2};e.Al=function(){return-3};e.EA=function(b){return 0<=b};e.prototype.Io=function(b){null==this.f&&(this.f=new Int32Array(0));var a=new Int32Array(this.dd*b);a.set(this.f,0);this.f=a;this.xd=b};return e}();d.zN=e;!0===d.Yh.Gm&&(d.Zc=d.zN)})(x||(x={}));(function(d){var e;
(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(e||(e={}));var h=function(){function a(a){this.Ze=a;this.Xh=NaN;this.dI=new d.Bg;this.eI=new d.Bg;this.kt=new d.yc;this.lt=new d.yc}a.prototype.compare=function(a,b,d){a=a.ia(d);this.Ze.TB(b,this.dI);this.Ze.TB(a,this.eI);b=
this.dI.get();a=this.eI.get();this.kt.I(b.ua,b.sa);this.lt.I(a.ua,a.sa);if(this.kt.la<this.lt.ga)return-1;if(this.kt.ga>this.lt.la)return 1;d=b.ra==b.oa;var c=a.ra==a.oa;if(d||c){if(d&&c)return 0;if(b.ra==a.ra&&b.ua==a.ua)return d?1:-1;if(b.oa==a.oa&&b.sa==a.sa)return d?-1:1}d=b.kf(this.Xh,this.kt.ga);c=a.kf(this.Xh,this.lt.ga);d==c&&(d=Math.min(b.oa,a.oa),c=.5*(d+this.Xh),c==this.Xh&&(c=d),d=b.kf(c,this.kt.ga),c=a.kf(c,this.lt.ga));return d<c?-1:d>c?1:0};a.prototype.FK=function(a){this.Xh=a};return a}(),
b=function(){function a(a){this.bb=a;this.YI=new d.Bg;this.ag=new d.b;this.fB=new d.yc}a.prototype.JX=function(a){this.ag.L(a)};a.prototype.compare=function(a,b){this.bb.TB(a.ia(b),this.YI);a=this.YI.get();this.fB.I(a.ua,a.sa);if(this.ag.x<this.fB.ga)return-1;if(this.ag.x>this.fB.la)return 1;a=a.kf(this.ag.y,this.ag.x);return this.ag.x<a?-1:this.ag.x>a?1:0};return a}();e=function(){function a(){this.gI=this.dj=this.gj=this.WA=this.To=this.Ve=this.Qc=this.Fh=this.Ae=null;this.zp=this.Rg=-1;this.fI=
!0;this.$A=!1;this.XA=NaN;this.nj=new d.Yd;this.zP=2147483647;this.yP=d.J.truncate(-2147483648);this.wg=this.ue=this.pm=this.rr=this.wn=this.qr=this.Lt=this.nf=-1;this.qa=0}a.prototype.cz=function(a){this.XA=a};a.prototype.Sn=function(){null==this.Ae&&(this.Ae=new d.Zc(8));var a=this.Ae.Me();this.Ae.R(a,1,0);return a};a.prototype.KV=function(){null==this.Qc&&(this.Qc=new d.Zc(8));var a=this.Qc.Me();this.Qc.R(a,2,0);this.Qc.R(a,3,0);var b=this.Qc.Me();this.Qc.R(b,2,0);this.Qc.R(b,3,0);this.nK(a,b);
this.nK(b,a);return a};a.prototype.jJ=function(){null==this.Ve&&(this.Ve=new d.Zc(8));var a=this.Ve.Me();this.Ve.R(a,2,0);return a};a.prototype.uX=function(a,b){this.Ae.R(a,7,b)};a.prototype.jo=function(a,b){this.Ae.R(a,2,b)};a.prototype.tX=function(a,b){this.Ae.R(a,1,b)};a.prototype.KX=function(a,b){this.Ae.R(a,3,b)};a.prototype.HX=function(a,b){this.Ae.R(a,4,b)};a.prototype.Ur=function(a,b){this.Ae.R(a,5,b)};a.prototype.wS=function(a){return this.Ae.S(a,5)};a.prototype.sX=function(a,b){this.Ae.R(a,
6,b)};a.prototype.yO=function(a,b){this.sX(b,a)};a.prototype.mK=function(a,b){this.Qc.R(a,1,b)};a.prototype.nK=function(a,b){this.Qc.R(a,4,b)};a.prototype.Dm=function(a,b){this.Qc.R(a,5,b)};a.prototype.Cm=function(a,b){this.Qc.R(a,6,b)};a.prototype.zX=function(a,b){this.Qc.R(a,2,b)};a.prototype.Nx=function(a,b){this.Qc.R(a,3,b)};a.prototype.OG=function(a){return this.Qc.S(a,3)};a.prototype.wu=function(a,b){this.Qc.R(a,7,b)};a.prototype.kL=function(a,b){if(-1!=this.fn(a))for(b=b?-1:a,a=this.fn(a);-1!=
a;a=this.it(a))this.a.Va(this.Yj(a),this.rr,b)};a.prototype.ey=function(a,b){-1!=a&&(this.kL(a,b),this.kL(this.Aa(a),b))};a.prototype.uu=function(a,b){this.Ve.R(a,1,b)};a.prototype.qh=function(a,b){this.Ve.R(a,2,b)};a.prototype.fo=function(a,b){this.Ve.R(a,3,b);this.qX(a,this.vS(b));this.pX(b,a)};a.prototype.pX=function(a,b){this.Ve.R(a,4,b)};a.prototype.qX=function(a,b){this.Ve.R(a,5,b)};a.prototype.hK=function(a,b){this.Ve.R(a,6,b)};a.prototype.fK=function(a,b){this.Ve.R(a,7,b)};a.prototype.eK=
function(a,b){this.To.write(a,b)};a.prototype.gK=function(a,b){this.WA.write(a,b)};a.prototype.MY=function(a){var b=0,c=0,e=this.EG(a),h=new d.b,m=new d.b,l=new d.b;this.Ws(e,h);m.L(h);var n=e;do this.en(n,l),c+=d.b.Cb(m,l),this.Af(this.Aa(n))!=a&&(b+=(l.x-h.x-(m.x-h.x))*(l.y-h.y+(m.y-h.y))*.5),m.L(l),n=this.qc(n);while(n!=e);this.To.write(a,b);this.WA.write(a,c)};a.prototype.fW=function(a){var c=new h(this),e=new d.xk;e.Ne(d.J.truncate(this.qa/2));e.Lp(c);for(var k=new d.ha(0),m=this.xh(),l=null,
n=0,p=new d.b,r=this.nf;-1!=r;r=this.ng(r)){n++;var u=this.gf(r);if(-1!=u){k.uf(0);if(!this.FY(e,m,k,u)){this.w(r,p);c.FK(p.y);var v=u;do{var x=this.Kb(v,m);-1!=x&&(e.Jd(x,-1),this.Ob(v,m,-2));v=this.qc(this.Aa(v))}while(u!=v);v=u;do x=this.Kb(v,m),-1==x&&(x=e.addElement(v,-1),k.add(x)),v=this.qc(this.Aa(v));while(u!=v)}for(u=k.size-1;0<=u;u--)x=k.get(u),v=e.ia(x),this.Ob(this.Aa(v),m,x),this.eW(e,x,a)}else-1==this.Nz(r)&&(null==l&&(l=new b(this)),this.w(r,p),l.JX(p),v=e.lX(l),u=this.pm,-1!=v&&(x=
e.ia(v),this.Af(x)==this.Af(this.Aa(x))&&(x=this.QG(e,v)),-1!=x&&(u=this.Af(x))),this.yO(u,r))}this.oi(m)};a.prototype.eW=function(a,b,d){var c=a.ia(b),f=this.Af(c);if(-1==this.Co(f)){var e=this.QG(a,b),g=this.Aa(c),h=this.Af(g);this.Dq(f);this.Dq(h);var m=this.Co(f),l=this.Co(h);-1==e&&-1==m&&(h==f?(this.fo(h,this.pm),m=l=this.pm):(-1==l&&(this.fo(h,this.pm),l=this.pm),this.fo(f,h),m=h));if(-1!=e){var n=this.Af(e);-1==l&&(0>=this.Dq(n)?(l=this.Co(n),this.fo(h,l)):(this.fo(h,n),l=n),h==f&&(m=l))}-1==
m&&this.GY(f,h);0==d?this.EW(a,b,c,e,f,h):5==d?this.FW(a,b,c,g,f,h):4==d&&this.DW(c,e,f,h)}};a.prototype.EW=function(a,b,d,e,h,m){var c=this.Kk(h);if(-1!=e){var f=this.Kk(m),g=this.Kk(this.Af(e));e=c&f&g;g^=g&this.Ah(d);g|=e;0!=g&&(this.qh(m,f|g),this.qh(h,g|c),c=c||g)}for(b=a.nb(b);-1!=b;b=a.nb(b)){e=a.ia(b);d=this.Af(this.Aa(e));h=this.Kk(d);m=this.Ah(e);f=this.Af(e);g=this.Kk(f);e=h&g&c;c^=c&m;c|=e;if(0==c)break;this.qh(d,h|c);this.qh(f,g|c)}};a.prototype.FW=function(a,b,e,k,h,m){if(h!=m){e=this.Kb(e,
this.wg);e+=this.Kb(k,this.wg);k=0;var c=new d.ha(0),f=new d.ha(0);f.add(0);for(var g=a.wc(-1);g!=b;g=a.nb(g)){var l=a.ia(g),q=this.Aa(l),n=this.Af(l),t=this.Af(q);if(n!=t){l=this.Kb(l,this.wg);l+=this.Kb(q,this.wg);k+=l;q=!1;0!=c.size&&c.Ec()==t&&(f.Mf(),c.Mf(),q=!0);if(-1==this.Co(t))throw d.g.za();q&&this.Co(t)==n||(f.add(k),c.add(n))}}k+=e;0!=c.size&&c.Ec()==m&&(f.Mf(),c.Mf());0!=k?0==f.Ec()&&(a=this.a.qd,a=this.Ia(a),this.qh(h,a)):0!=f.Ec()&&(a=this.a.qd,a=this.Ia(a),this.qh(h,a))}};a.prototype.DW=
function(a,b,d,e){var c=this.Ia(this.a.qd);if(-1==b)this.qh(e,this.zp),a=this.Kb(a,this.Rg),0!=(a&1)?this.qh(d,c):this.qh(d,this.zp);else{var f=this.Kk(e);0==f&&(f=this.Kk(this.Af(b)),this.qh(e,f));a=this.Kb(a,this.Rg);0!=(a&1)?this.qh(d,f==c?this.zp:c):this.qh(d,f)}};a.prototype.FY=function(a,b,d,e){var c=e,f=-1,g=-1,k=0;do{if(2==k)return!1;var h=this.Kb(c,b);if(-1!=h){if(-1!=f)return!1;f=h}else{if(-1!=g)return!1;g=c}k++;c=this.qc(this.Aa(c))}while(e!=c);if(-1==g||-1==f)return!1;this.Ob(a.ia(f),
b,-2);a.pk(f,g);d.add(f);return!0};a.prototype.GY=function(a,b){var c=this.Dq(a);if(0!=c){var d=this.Dq(b);0<c&&0>d?this.fo(a,b):0>c&&0<d?this.fo(a,b):(c=this.Co(b),-1!=c&&this.fo(a,c))}};a.prototype.QQ=function(a,b){this.rr=this.a.Sd();for(var c=0,f=b.size;c<f;c++){var e=b.get(c),h=this.a.Sa(e,this.wn),m=this.a.mg(this.a.kd(e)),l=this.a.ic(m);if(d.T.Hc(l)){var n=this.a.U(e);if(-1!=n){var p=this.a.Sa(n,this.wn);if(h!=p){var r=this.KV(),u=this.Aa(r),v=this.Fh.Me();this.Fh.R(v,0,e);this.Fh.R(v,1,-1);
this.wu(r,v);this.mK(r,h);v=this.gf(h);-1==v?(this.jo(h,r),this.Dm(r,u),this.Cm(u,r)):(h=this.Qe(v),this.Dm(v,u),this.Cm(u,v),this.Cm(h,r),this.Dm(r,h));this.mK(u,p);h=this.gf(p);-1==h?(this.jo(p,u),this.Cm(r,u),this.Dm(u,r)):(p=this.Qe(h),this.Dm(h,r),this.Cm(r,h),this.Cm(p,u),this.Dm(u,p));m=this.Ia(m);0==a?(this.Ob(u,this.ue,0),this.Ob(r,this.ue,1736==l?m:0)):5==a?(p=new d.b,this.a.w(e,p),e=new d.b,this.a.w(n,e),h=n=0,0>p.compare(e)?n=1:h=-1,this.Ob(u,this.ue,0),this.Ob(r,this.ue,0),this.Ob(r,
this.wg,n),this.Ob(u,this.wg,h)):7==a?(this.Ob(u,this.ue,this.zp),this.Ob(r,this.ue,1736==l?m:0)):4==a&&(this.Ob(u,this.ue,0),this.Ob(r,this.ue,0),this.Ob(r,this.Rg,1),this.Ob(u,this.Rg,1));l=1736==l?this.yP:0;this.Nx(r,m|l);this.Nx(u,m|l)}}}}};a.prototype.yV=function(a,b){var c=this.fn(b);if(-1!=c){var d=this.fn(a);this.Fh.R(c,1,d);this.wu(a,c);this.wu(b,-1)}a=this.Aa(a);b=this.Aa(b);c=this.fn(b);-1!=c&&(d=this.fn(a),this.Fh.R(c,1,d),this.wu(a,c),this.wu(b,-1))};a.prototype.gY=function(a){function b(a,
b){return e.gQ(a,b)}var c=new d.ha(0);c.zb(10);for(var e=this,h=this.nf;-1!=h;h=this.ng(h)){c.clear(!1);var m=this.gf(h);if(-1!=m){var l=m;do c.add(l),l=this.qc(this.Aa(l));while(l!=m);if(1<c.size){l=!0;if(2<c.size)c.Fd(0,c.size,b),c.add(c.get(0));else if(0<this.fQ(c.get(0),c.get(1))){var n=c.get(0);c.set(0,c.get(1));c.set(1,n)}else l=!1;for(var p=n=c.get(0),r=this.Uf(p),u=this.Aa(p),v=-1,x=1,z=c.size;x<z;x++){var y=c.get(x),A=this.Aa(y),C=this.Mk(A);if(C==r&&y!=p){if(0==a)v=this.OG(p)|this.OG(y),
this.Nx(p,v),this.Nx(u,v),this.Ob(p,this.ue,this.Kb(p,this.ue)|this.Kb(y,this.ue)),this.Ob(u,this.ue,this.Kb(u,this.ue)|this.Kb(A,this.ue));else if(-1!=this.wg)v=this.Kb(p,this.wg)+this.Kb(y,this.wg),A=this.Kb(u,this.wg)+this.Kb(A,this.wg),this.Ob(p,this.wg,v),this.Ob(u,this.wg,A);else{if(7==a){this.nj=new d.Yd(5,h,-1);return}-1!=this.Rg&&(v=this.Kb(p,this.Rg)+this.Kb(y,this.Rg),A=this.Kb(u,this.Rg)+this.Kb(A,this.Rg),this.Ob(p,this.Rg,v),this.Ob(u,this.Rg,A))}this.yV(p,y);this.rz(y);v=p;c.set(x,
-1);y==n&&(c.set(0,-1),n=-1)}else this.ey(v,!1),v=-1,p=y,r=C,u=A}this.ey(v,!1);v=-1;if(l){n=-1;x=0;for(z=c.size;x<z;x++)if(y=c.get(x),-1!=y)if(-1==n)p=n=y,r=this.Uf(p),u=this.Aa(p);else if(y!=p&&(A=this.Aa(y),C=this.Mk(A),this.Cm(u,y),this.Dm(y,u),p=y,r=C,u=A,7==a&&(this.Kb(y,this.ue)|this.Kb(this.Qe(y),this.ue))==(this.zp|1))){this.nj=new d.Yd(5,h,-1);return}this.jo(h,n)}else{n=-1;x=0;for(z=c.size;x<z;x++)if(y=c.get(x),-1!=y){n=y;break}m!=n&&this.jo(h,n)}}}}};a.prototype.vP=function(){for(var a=
-1,b=this.xh(),e=this.nf;-1!=e;e=this.ng(e)){var k=this.gf(e);if(-1!=k){var h=k;do{if(1!=this.Kb(h,b)){var m=this.jJ();this.uu(m,h);this.fK(m,a);-1!=a&&this.hK(a,m);var a=m,l=0,n=h;do l|=this.Kb(n,this.ue),this.zX(n,m),this.Ob(n,b,1),n=this.qc(n);while(n!=h);this.qh(m,l)}h=this.qc(this.Aa(h))}while(h!=k)}}m=this.jJ();this.uu(m,-1);this.fK(m,a);-1!=a&&this.hK(a,m);this.pm=m;this.To=d.Pd.yd(this.Ve.size,NaN);this.WA=d.Pd.yd(this.Ve.size,NaN);this.eK(this.pm,Infinity);this.gK(this.pm,Infinity);this.oi(b)};
a.prototype.JS=function(a,b,d){b=-1!=b?b:this.gf(a);if(-1==b)return-1;for(a=b;;){if(1!=this.Kb(b,d))return b;b=this.qc(this.Aa(b));if(b==a)return-1}};a.prototype.$W=function(){for(var a=this.xh(),b=this.nf;-1!=b;b=this.ng(b))for(var d=-1;;){var e=this.JS(b,d,a);if(-1==e)break;for(var d=this.qc(this.Aa(e)),h=e;;){var m=this.qc(h),l=this.Qe(h),n=this.Aa(h);if(l==n){this.bR(h);if(d==h||d==n)d=-1;if(h==e||l==e){e=m;if(h==e||l==e)break;h=m;continue}}else this.Ob(h,a,1);h=m;if(h==e)break}}};a.prototype.pC=
function(a,b,e,k){this.ph();this.fI=k;this.a=a;this.qr=this.a.gG();a=new d.ha(0);a.zb(null!=e?this.a.D(e.get(0)):this.a.ud);var c=0,f=1,g=null!=e?e.get(0):this.a.qd;for(k=1;-1!=g;){this.a.lK(g,this.qr,f);for(var f=f<<1,h=this.a.Pb(g);-1!=h;h=this.a.Sb(h))for(var m=this.a.cb(h),l=0,n=this.a.La(h);l<n;l++)a.add(m),m=this.a.U(m);d.T.Po(this.a.ic(g))||(c+=this.a.aa(g));null!=e?(g=k<e.size?e.get(k):-1,k++):g=this.a.Re(g)}this.zp=f;this.qa=a.size;this.a.Xx(a,this.qa);null==this.Fh&&(this.Fh=new d.Zc(2),
this.Ae=new d.Zc(8),this.Qc=new d.Zc(8),this.Ve=new d.Zc(8));this.Fh.Ne(this.qa);this.Ae.Ne(this.qa+10);this.Qc.Ne(2*this.qa+32);this.Ve.Ne(Math.max(32,c));this.wn=this.a.Sd();e=new d.b;k=0;c=new d.b;e.Yc();for(f=0;f<=this.qa;f++)if(f<this.qa?(m=a.get(f),this.a.w(m,c)):c.Yc(),!e.vb(c)){if(k<f){m=this.Sn();for(n=l=-1;k<f;k++)n=a.get(k),this.a.Va(n,this.wn,m),g=this.Fh.Me(),this.Fh.R(g,0,n),this.Fh.R(g,1,l),l=g,h=this.a.kd(n),g=this.a.mg(h),g=this.Ia(g),this.tX(m,this.Ld(m)|g);this.uX(m,l);this.Ur(m,
this.a.Za(n));-1!=this.Lt&&this.HX(this.Lt,m);this.KX(m,this.Lt);this.Lt=m;-1==this.nf&&(this.nf=m)}k=f;e.L(c)}this.ue=this.xh();5==b&&(this.wg=this.xh());4==b&&(this.Rg=this.xh());this.QQ(b,a);0==this.nj.Ji&&(this.gY(b),0==this.nj.Ji&&(isNaN(this.XA)||this.XP()?(this.vP(),0==this.nj.Ji&&(this.oi(this.ue),this.ue=-1,this.fI&&this.fW(b))):this.$A=!0))};a.prototype.rz=function(a){var b=this.qc(a),c=this.Qe(a),d=this.Aa(a),e=this.qc(d),h=this.Qe(d);b!=d&&(this.Cm(h,b),this.Dm(b,h));c!=d&&(this.Cm(c,
e),this.Dm(e,c));c=this.Mk(a);this.gf(c)==a&&(e!=a?this.jo(c,e):this.jo(c,-1));e=this.Mk(d);this.gf(e)==d&&(b!=d?this.jo(e,b):this.jo(e,-1));this.Qc.jd(a);this.Qc.jd(d)};a.prototype.QG=function(a,b){for(;;)if(b=a.Se(b),-1!=b){var c=a.ia(b);if(this.Af(c)!=this.Af(this.Aa(c)))return c}else return-1};a.prototype.Vr=function(a,b,d){void 0===d&&(d=!0);this.pC(a,0,null,d)};a.prototype.aK=function(a,b){var c=new d.ha(0);c.add(b);this.pC(a,4,c,1736==a.ic(b))};a.prototype.bK=function(a,b){var c=new d.ha(0);
c.add(b);this.pC(a,5,c,!0)};a.prototype.ph=function(){null!=this.a&&(-1!=this.qr&&(this.a.ZW(this.qr),this.qr=-1),-1!=this.wn&&(this.a.je(this.wn),this.wn=-1),-1!=this.rr&&(this.a.je(this.rr),this.rr=-1),-1!=this.ue&&(this.oi(this.ue),this.ue=-1),-1!=this.wg&&(this.oi(this.wg),this.wg=-1),-1!=this.Rg&&(this.oi(this.Rg),this.Rg=-1),this.a=null,this.Ae.Wi(!0),this.Fh.Wi(!0),this.Lt=this.nf=-1,null!=this.Qc&&this.Qc.Wi(!0),null!=this.gj&&(this.gj.length=0),null!=this.dj&&(this.dj.length=0),null!=this.gI&&
(this.gI.length=0),null!=this.Ve&&this.Ve.Wi(!0),this.pm=-1,this.To=null)};a.prototype.gf=function(a){return this.Ae.S(a,2)};a.prototype.w=function(a,b){this.a.gH(this.wS(a),b)};a.prototype.Ld=function(a){return this.Ae.S(a,1)};a.prototype.ng=function(a){return this.Ae.S(a,4)};a.prototype.Nz=function(a){return this.Ae.S(a,6)};a.prototype.dn=function(a){return this.Ae.S(a,7)};a.prototype.it=function(a){return this.Fh.S(a,1)};a.prototype.Yj=function(a){return this.Fh.S(a,0)};a.prototype.Gg=function(a,
b){b=this.dj[b];return b.size<=a?-1:b.read(a)};a.prototype.ko=function(a,b,d){b=this.dj[b];b.size<=a&&b.resize(this.Ae.size,-1);b.write(a,d)};a.prototype.wq=function(){null==this.dj&&(this.dj=[]);for(var a=d.ha.yd(this.Ae.xd,-1),b=0,e=this.dj.length;b<e;b++)if(null==this.dj[b])return this.dj[b]=a,b;this.dj.push(a);return this.dj.length-1};a.prototype.xq=function(a){this.dj[a]=null};a.prototype.Mk=function(a){return this.Qc.S(a,1)};a.prototype.Uf=function(a){return this.Mk(this.Aa(a))};a.prototype.Aa=
function(a){return this.Qc.S(a,4)};a.prototype.Qe=function(a){return this.Qc.S(a,5)};a.prototype.qc=function(a){return this.Qc.S(a,6)};a.prototype.Af=function(a){return this.Qc.S(a,2)};a.prototype.Bf=function(a){return this.Kk(this.Qc.S(a,2))};a.prototype.fn=function(a){return this.Qc.S(a,7)};a.prototype.Ws=function(a,b){this.w(this.Mk(a),b)};a.prototype.en=function(a,b){this.w(this.Uf(a),b)};a.prototype.Ah=function(a){return this.Qc.S(a,3)&this.zP};a.prototype.Kb=function(a,b){b=this.gj[b];return b.size<=
a?-1:b.read(a)};a.prototype.Ob=function(a,b,d){b=this.gj[b];b.size<=a&&b.resize(this.Qc.size,-1);b.write(a,d)};a.prototype.xh=function(){null==this.gj&&(this.gj=[]);for(var a=d.ha.yd(this.Qc.xd,-1),b=0,e=this.gj.length;b<e;b++)if(null==this.gj[b])return this.gj[b]=a,b;this.gj.push(a);return this.gj.length-1};a.prototype.oi=function(a){this.gj[a]=null};a.prototype.bR=function(a){var b=this.Af(a),c=this.qc(a);c==this.Aa(a)&&(c=this.qc(c),c==a&&(c=-1));this.EG(b)==a&&this.uu(b,c);c=this.To.read(b);isNaN(c)||
(this.eK(b,NaN),this.gK(b,NaN));this.ey(a,!0);this.rz(a)};a.prototype.cR=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),e=this.Af(this.Aa(d));this.uu(this.Af(d),-1);this.uu(e,-1);this.ey(d,!0);this.rz(d)}};a.prototype.EG=function(a){return this.Ve.S(a,1)};a.prototype.Kk=function(a){return this.Ve.S(a,2)};a.prototype.Co=function(a){return this.Ve.S(a,3)};a.prototype.vS=function(a){return this.Ve.S(a,4)};a.prototype.Dq=function(a){var b=this.To.read(a);isNaN(b)&&(this.MY(a),b=this.To.read(a));
return b};a.prototype.Ia=function(a){return this.a.NG(a,this.qr)};a.prototype.ff=function(a){return this.a.Sa(a,this.wn)};a.prototype.MS=function(a){return this.a.Sa(a,this.rr)};a.prototype.LS=function(a,b){var c=this.gf(a);if(-1==c)return-1;var d=c,e=-1,f=-1;do{if(this.Uf(d)==b)return d;if(-1==e){e=this.gf(b);if(-1==e)break;f=e}if(this.Uf(f)==a)return d=this.Aa(f);d=this.qc(this.Aa(d));f=this.qc(this.Aa(f))}while(d!=c&&f!=e);return-1};a.prototype.TB=function(a,b){b.Hs();b=b.get();var c=new d.b;this.Ws(a,
c);b.Lc(c);this.en(a,c);b.Xc(c)};a.prototype.gQ=function(a,b){if(a==b)return 0;var c=new d.b;this.en(a,c);var e=new d.b;this.en(b,e);if(c.vb(e))return 0;b=new d.b;this.Ws(a,b);a=new d.b;a.xc(c,b);c=new d.b;c.xc(e,b);return d.b.ts(a,c)};a.prototype.fQ=function(a,b){if(a==b)return 0;var c=new d.b;this.en(a,c);var e=new d.b;this.en(b,e);if(c.vb(e))return 0;b=new d.b;this.Ws(a,b);a=new d.b;a.xc(c,b);c=new d.b;c.xc(e,b);return 0<=c.y&&0<a.y?d.b.ts(a,c):0};a.prototype.XP=function(){for(var a=d.Ub.Yx(this.XA),
b=new d.b,e=new d.b,k=new d.b,h=new d.b,m=new d.b,l=this.nf;-1!=l;l=this.ng(l)){var n=this.gf(l);if(-1!=n){var p=n;this.Ws(p,b);this.en(p,e);m.xc(e,b);var r=m.uk();do{var u=p,p=this.qc(this.Aa(p));if(p!=u){this.en(p,k);h.xc(k,b);var u=h.uk(),v=h.Vi(m);if(v*v/(u*r)*Math.min(u,r)<=a)return!1;m.L(h);r=u;e.L(k)}}while(p!=n)}}return!0};return a}();d.Vu=e})(x||(x={}));(function(d){var e=function(){function e(){this.i=null;this.nI=new d.b;this.oI=new d.b;this.Nh=null;this.rt=!1;this.bp=-1}e.prototype.Df=
function(b){return b<this.Nh.length?this.Nh[b]:!1};e.prototype.Ml=function(b,a,c,e){var f=d.T.hf(this.i.a.ic(c));if(2==d.T.hf(this.i.a.ic(a))&&1==f)this.WQ(b,a,c,e);else throw d.g.za();};e.prototype.Vr=function(b,a){null==this.i&&(this.i=new d.Vu);this.i.Vr(b,a)};e.prototype.Wr=function(b,a,c){d.vk.V(b,a,c,!0);for(a=b.qd;-1!=a;a=b.Re(a))1736==b.ic(a)&&d.so.V(b,a,-1,this.rt,c);this.Vr(b,c)};e.prototype.SF=function(b,a,c,d,e){var f=this.i.a;if(1736==f.ic(b))for(b=f.Pb(b);-1!=b;b=f.Sb(b)){var g=f.cb(b);
this.i.ff(g);this.i.ff(f.U(g));var h=this.i.MS(g);if(-1!=h){var m=this.i.Kb(h,c);if(1!=m&&2!=m)if(this.Df(this.i.Bf(h))){this.i.Ob(h,c,1);var m=f.Vf(a,-1),l=h,n=this.i.ff(g),p=1;do{var r=this.nn(g,e);f.Oj(m,r);-1!=d&&this.i.ko(n,d,1);this.i.Ob(l,c,1);var l=this.i.qc(l),u;do r=1==p?f.U(g):f.Ra(g),u=-1!=r?this.i.ff(r):-1;while(u==n);var v=this.i.Mk(l);if(v!=u){do r=1==p?f.Ra(g):f.U(g),u=-1!=r?this.i.ff(r):-1;while(u==n);v!=u?(u=v,r=this.i.Yj(this.i.dn(u))):p=-p}n=u;g=r}while(l!=h);f.ho(m,!0)}else this.i.Ob(h,
c,2)}}};e.prototype.lG=function(){for(var b=this.i.xh(),a=new d.ha(0),c=this.i.nf;-1!=c;c=this.i.ng(c)){var e=this.i.gf(c),g=e;if(-1!=e){do{if(1!=this.i.Kb(g,b)){var k=this.i.Aa(g);this.i.Ob(k,b,1);this.i.Ob(g,b,1);this.Df(this.i.Bf(g))&&this.Df(this.i.Bf(k))&&a.add(g)}g=this.i.qc(this.i.Aa(g))}while(g!=e)}}this.i.oi(b);this.i.cR(a)};e.prototype.nn=function(b,a){return-1==a?b:this.wT(b,a)};e.prototype.wT=function(b,a){var c=this.i.a,d,e,k=this.i.dn(this.i.ff(b));do{d=this.i.Yj(k);e=c.mg(c.kd(d));
if(e==a)return d;k=this.i.it(k)}while(-1!=k);return b};e.prototype.ds=function(b,a,c){this.lG();var e=this.i.a,g=e.ah(1736),k=this.i.xh();this.WK(b,a,g,c,k,-1);this.i.oi(k);d.so.V(e,g,1,this.rt,null);return g};e.prototype.WK=function(b,a,c,d,e,k){this.SF(b,c,e,k,d);-1!=a&&this.SF(a,c,e,k,d);b=this.i.a;for(a=this.i.nf;-1!=a;a=this.i.ng(a)){var f=this.i.gf(a);if(-1!=f){var g=f;do{var h=this.i.Kb(g,e);if(1!=h&&2!=h)if(this.Df(this.i.Bf(g))){var h=b.Vf(c,-1),m=g;do{var l=this.i.fn(m);-1!=l?l=this.i.Yj(l):
(l=this.i.Yj(this.i.fn(this.i.Aa(m))),l=this.i.a.U(l));l=this.nn(l,d);b.Oj(h,l);this.i.Ob(m,e,1);-1!=k&&(l=this.i.ff(l),this.i.ko(l,k,1));m=this.i.qc(m)}while(m!=g);b.ho(h,!0)}else this.i.Ob(g,e,2);g=this.i.qc(this.i.Aa(g))}while(g!=f)}}};e.prototype.yY=function(b,a,c){var e=this.i.a,g=e.ah(1736),k=e.ah(1607),h=e.ah(550);this.lG();var m=-1,l=this.i.xh(),n=this.i.wq();this.WK(b,a,g,c,l,n);for(b=this.i.nf;-1!=b;b=this.i.ng(b))if(a=this.i.gf(b),-1!=a){var p=a;do{var r=this.i.Kb(p,l),u=this.i.Kb(this.i.Aa(p),
l),r=r|u;if(2==r)if(r=this.i.Ah(p),this.Df(r)){var v=e.Vf(k,-1),x=p,r=this.Jx(b,e),r=this.nn(r,c);e.Oj(v,r);this.i.ko(b,n,1);do{r=this.i.Uf(x);u=this.Jx(r,e);u=this.nn(u,c);e.Oj(v,u);this.i.Ob(x,l,1);this.i.Ob(this.i.Aa(x),l,1);this.i.ko(r,n,1);x=this.i.qc(x);r=this.i.Kb(x,l);u=this.i.Kb(this.i.Aa(x),l);r|=u;if(2!=r)break;r=this.i.Ah(x);if(!this.Df(r)){this.i.Ob(x,l,1);this.i.Ob(this.i.Aa(x),l,1);break}}while(x!=p)}else this.i.Ob(p,l,1),this.i.Ob(this.i.Aa(p),l,1);p=this.i.qc(this.i.Aa(p))}while(p!=
a)}for(b=this.i.nf;-1!=b;b=this.i.ng(b))r=this.i.Gg(b,n),1!=r&&(r=this.i.Ld(b),this.Df(r)&&(-1==m&&(m=e.Vf(h,-1)),a=this.i.dn(b),-1!=a&&(a=this.i.Yj(a),r=this.nn(a,c),e.Oj(m,r))));this.i.xq(n);this.i.oi(l);d.so.V(e,g,1,this.rt,null);c=[];c[0]=h;c[1]=k;c[2]=g;return c};e.prototype.Jx=function(b,a){var c=-1;for(b=this.i.dn(b);-1!=b;b=this.i.it(b)){var d=this.i.Yj(b);-1==c&&(c=d);var e=this.i.Ia(a.mg(a.kd(d)));if(this.Df(e)){c=d;break}}return c};e.prototype.QB=function(b,a){for(var c=this.i.Mk(a),e=
this.i.Uf(a),g=0,k=0,h=this.i.dn(c);-1!=h;h=this.i.it(h)){var l=this.i.Yj(h),m=b.kd(l),n=this.i.Ia(b.mg(m)),p=b.U(l),r=b.Ra(l),m=b.cb(m);m==l&&(this.bp=a);-1!=p&&this.i.ff(p)==e?(g++,this.Df(n)&&(m==p&&(this.bp=this.i.qc(a)),k++)):-1!=r&&this.i.ff(r)==e&&(g--,this.Df(n)&&(m==r&&(this.bp=this.i.qc(a)),k--))}this.i.w(c,this.nI);this.i.w(e,this.oI);c=d.b.Cb(this.nI,this.oI);return(0!=k?k:g)*c};e.prototype.Fq=function(b){return this.i.Ah(b)|this.i.Bf(b)|this.i.Bf(this.i.Aa(b))};e.prototype.aL=function(b){for(var a=
this.i.Aa(this.i.Qe(b)),c=-1;a!=b;){if(this.Df(this.Fq(a))){if(-1!=c)return-1;c=a}a=this.i.Aa(this.i.Qe(a))}return-1!=c?this.i.Aa(c):-1};e.prototype.bL=function(b){for(var a=this.i.Aa(this.i.qc(b)),c=-1;a!=b;){if(this.Df(this.Fq(a))){if(-1!=c)return-1;c=a}a=this.i.Aa(this.i.qc(a))}return-1!=c?this.i.Aa(c):-1};e.prototype.RJ=function(b,a,c,e,g){var f=this.i.a,h=b,l=this.i.Aa(h);this.i.Ob(h,c,1);this.i.Ob(l,c,1);var m=this.QB(f,h);this.bp=-1;for(var n=h,p=-1,r=!1,u=1;;){var v=this.i.Qe(h);if(v==l)break;
l=this.i.qc(l);if(this.i.Aa(v)!=l)if(h=this.aL(h),-1==h)break;else r=!0,l=this.i.Aa(h);else h=v;if(h==b){p=b;break}v=this.Fq(h);if(!this.Df(v))break;this.i.Ob(h,c,1);this.i.Ob(l,c,1);n=h;m+=this.QB(f,h);u++}if(-1==p)for(h=b,l=this.i.Aa(h),p=h;;){b=this.i.qc(h);if(b==l)break;l=this.i.Qe(l);if(this.i.Aa(b)!=l)if(h=this.bL(h),-1==h){r=!0;break}else l=this.i.Aa(h);else h=b;v=this.Fq(h);if(!this.Df(v))break;this.i.Ob(h,c,1);this.i.Ob(l,c,1);p=h;m+=this.QB(f,h);u++}else if(-1!=this.bp&&(n=this.bp,p=this.i.Qe(this.bp),
this.i.Aa(p)!=this.i.qc(this.i.Aa(n))&&(p=this.aL(n),-1==p)))throw d.g.za();0<=m||(h=p,p=this.i.Aa(n),n=this.i.Aa(h));c=f.Vf(a,-1);h=n;n=this.i.Mk(n);r=this.i.Uf(p)==n&&r;m=this.Jx(n,f);m=this.nn(m,g);f.Oj(c,m);-1!=e&&this.i.ko(n,e,1);n=0;for(u=r?d.J.truncate((u+1)/2):-1;;){b=this.i.Uf(h);m=this.Jx(b,f);m=this.nn(m,g);f.Oj(c,m);n++;-1!=e&&this.i.ko(b,e,1);r&&n==u&&(c=f.Vf(a,-1),f.Oj(c,m));if(h==p)break;b=this.i.qc(h);if(this.i.Qe(this.i.Aa(h))!=this.i.Aa(b)){if(h=this.bL(h),-1==h)throw d.g.za();}else h=
b}};e.prototype.es=function(b){for(var a=this.i.a.ah(1607),c=this.i.xh(),d=this.i.nf;-1!=d;d=this.i.ng(d)){var e=this.i.gf(d),k=e;do 1!=this.i.Kb(k,c)&&this.Df(this.Fq(k))&&this.RJ(k,a,c,-1,b),k=this.i.qc(this.i.Aa(k));while(k!=e)}this.i.oi(c);return a};e.prototype.zY=function(b){for(var a=this.i.a,c=a.ah(1607),d=a.ah(550),e=this.i.xh(),k=this.i.wq(),h=-1,l=this.i.nf;-1!=l;l=this.i.ng(l)){var m=this.i.gf(l),n=m;do{var p=this.i.Kb(n,e);1!=p&&(p=this.Fq(n),this.Df(p)&&this.RJ(n,c,e,k,b));n=this.i.qc(this.i.Aa(n))}while(n!=
m)}for(l=this.i.nf;-1!=l;l=this.i.ng(l))p=this.i.Gg(l,k),1!=p&&(p=this.i.Ld(l),this.Df(p)&&(-1==h&&(h=a.Vf(d,-1)),m=this.i.dn(l),-1!=m&&(m=this.i.Yj(m),m=this.nn(m,b),a.Oj(h,m))));this.i.oi(e);this.i.xq(k);b=[];b[0]=d;b[1]=c;return b};e.prototype.Xp=function(){for(var b=this.i.a,a=b.ah(550),c=b.Vf(a,-1),d=this.i.nf;-1!=d;d=this.i.ng(d))if(this.Df(this.i.Ld(d))){for(var e=-1,k=this.i.dn(d);-1!=k;k=this.i.it(k)){var h=this.i.Yj(k);-1==e&&(e=h);var l=this.i.Ia(b.mg(b.kd(h)));if(this.Df(l)){e=h;break}}b.Oj(c,
e)}return a};e.prototype.Jo=function(b){this.Nh=[];for(var a=0;a<b;a++)this.Nh[a]=!1};e.fD=function(b,a,c,e){var f=b.Ka(),k=Array(1E3);d.J.Ov(k,null);var h=d.J.df(1E3,0),l=b.D(),m=!0,n=2==a.ub();if(1!=a.ub()&&2!=a.ub())throw d.g.za();for(var p=0;p<l;){var r=d.J.truncate(b.JW(k,p)-p);n?d.fd.UK(a,k,r,c,h):d.fd.VK(a,k,r,c,h);for(var u=0,v=0;v<r;v++){var x=0==h[v];e||(x=!x);x&&(m&&(m=!1,f.Hd(b,0,p)),u!=v&&f.Hd(b,p+u,p+v),u=v+1)}m||u==r||f.Hd(b,p+u,p+r);p+=r}return m?b:f};e.AH=function(b,a,c){return b instanceof
d.Dd?e.fD(b,a,c,!0):a instanceof d.Wa?b.u()||a.u()?b.Ka():d.vk.mJ(c,b,a)?d.vk.bQ(b,a):b.Ka():e.hD(b,a,c,!0)};e.nw=function(b,a,c,f){var g=new d.h;b.s(g);var k=new d.h;a.s(k);var h=new d.h;h.I(g);h.Nb(k);c=d.na.$d(c,h,!0);h=new d.h;h.I(k);k=d.na.As(c);h.P(k,k);if(!g.Yb(h)){if(b.ub()<=a.ub())return e.dc(e.N(b.Ka()),b,"\x26");if(b.ub()>a.ub())return e.dc(e.N(a.Ka()),b,"\x26")}k=new e;g=new d.ed;h=g.Jb(e.N(b));a=g.Jb(e.N(a));k.Wr(g,c,f);f=k.nw(h,a);b=e.dc(g.Pe(f),b,"\x26");d.T.Hc(b.G())&&(b.Xg(2,c),1736==
b.G()&&b.Fl());return b};e.hD=function(b,a,c,e){if(b.u())return b.Ka();if(a.u())return e?b.Ka():null;var f=[null],k=[0],h=2==a.ub();if(1!=a.ub()&&2!=a.ub())throw d.g.za();f[0]=b.w();h?d.fd.UK(a,f,1,c,k):d.fd.VK(a,f,1,c,k);a=0==k[0];e||(a=!a);return a?b.Ka():b};e.TZ=function(b,a,c){return b instanceof d.Dd?e.fD(b,a,c,!1):a instanceof d.Wa?b.u()?b.Ka():a.u()?b:d.vk.mJ(c,b,a)?b.Ka():b:e.hD(b,a,c,!1)};e.prototype.rJ=function(b,a,c,e,g){if(b.u())return b;var f=new d.ed;b=f.Jb(b);return this.ql(f,b,a,c,
e,g)};e.prototype.dW=function(b,a,c,e,g,k){if(g&&550!=b.ic(a)){var f=new d.bE;f.qY(b,c);f.hh?(d.vk.V(b,c,k,!0),g=!1):this.i.cz(c)}else d.vk.V(b,c,k,!0),g=!1;e&&550!=b.ic(a)?this.i.bK(b,a):this.i.aK(b,a);if(this.i.$A)return this.i.ph(),this.i=null,this.ql(b,a,c,e,!1,k);this.i.cz(NaN);k=this.i.Ia(a);this.Jo(k+1);this.Nh[k]=!0;if(1736==b.ic(a)||e&&550!=b.ic(a))return b.Op(a,0),a=this.ds(a,-1,-1),b=b.Pe(a),b.Op(0),g?b.Xg(1,0):(b.Xg(2,c),b.Fl()),b;if(1607==b.ic(a))return a=this.es(-1),b=b.Pe(a),g||b.Xg(2,
c),b;if(550==b.ic(a))return a=this.Xp(),b=b.Pe(a),g||b.Xg(2,c),b;throw d.g.za();};e.prototype.ql=function(b,a,c,e,g,k){this.i=new d.Vu;try{return this.dW(b,a,c,e,g,k)}finally{this.i.ph()}};e.ql=function(b,a,c,d,g){return(new e).rJ(b,a,c,d,g)};e.prototype.cW=function(b,a,c){this.rt=b;this.i=new d.Vu;b=a.Eo(c);var e=a.ic(c);1!=b||550==e?this.i.aK(a,c):this.i.bK(a,c);if(!this.i.$A)if(this.i.cz(NaN),e=this.i.Ia(c),this.Jo(e+1),this.Nh[e]=!0,1736==a.ic(c)||1==b&&550!=a.ic(c))a.Op(c,0),b=this.ds(c,-1,-1),
a.HC(b,c),a.dC(b);else if(1607==a.ic(c))b=this.es(-1),a.HC(b,c),a.dC(b);else if(550==a.ic(c))b=this.Xp(),a.HC(b,c),a.dC(b);else throw d.g.X("internal error");};e.GC=function(b,a,c,d){var f=new e;f.rt=!0;return f.rJ(b,a,!1,c,d)};e.prototype.an=function(b,a){var c=d.T.hf(this.i.a.ic(b)),e=d.T.hf(this.i.a.ic(a));if(c>e)return b;var g=this.i.Ia(b),k=this.i.Ia(a);this.Jo((g|k)+1);this.Nh[this.i.Ia(b)]=!0;if(2==c&&2==e)return this.ds(b,a,-1);if(1==c&&2==e||1==c&&1==e)return this.es(-1);if(0==c)return this.Xp();
throw d.g.za();};e.prototype.kG=function(b,a){var c=d.T.hf(this.i.a.ic(b)),e=d.T.hf(this.i.a.ic(a));if(c>e)return b;if(c<e)return a;var g=this.i.Ia(b),k=this.i.Ia(a);this.Jo((g|k)+1);this.Nh[this.i.Ia(b)]=!0;this.Nh[this.i.Ia(a)]=!0;this.Nh[this.i.Ia(b)|this.i.Ia(a)]=!0;if(2==c&&2==e)return this.ds(b,a,-1);if(1==c&&1==e)return this.es(-1);if(0==c&&0==e)return this.Xp();throw d.g.za();};e.prototype.nw=function(b,a){var c=d.T.hf(this.i.a.ic(b)),e=d.T.hf(this.i.a.ic(a)),g=this.i.Ia(b),k=this.i.Ia(a);
this.Jo((g|k)+1);this.Nh[this.i.Ia(b)|this.i.Ia(a)]=!0;g=-1;1<this.i.a.Gr.Ga&&(g=b);if(2==c&&2==e)return this.ds(b,a,g);if(1==c&&0<e||1==e&&0<c)return this.es(g);if(0==c||0==e)return this.Xp();throw d.g.za();};e.prototype.yA=function(b,a){var c=d.T.hf(this.i.a.ic(b)),e=d.T.hf(this.i.a.ic(a)),g=this.i.Ia(b),k=this.i.Ia(a);this.Jo((g|k)+1);this.Nh[this.i.Ia(b)|this.i.Ia(a)]=!0;g=-1;1<this.i.a.Gr.Ga&&(g=b);if(2==c&&2==e)return this.yY(b,a,g);if(1==c&&0<e||1==e&&0<c)return this.zY(g);if(0==c||0==e)return c=
[],c[0]=this.Xp(),c;throw d.g.za();};e.prototype.Wp=function(b,a){var c=d.T.hf(this.i.a.ic(b)),e=d.T.hf(this.i.a.ic(a)),g=this.i.Ia(b),k=this.i.Ia(a);this.Jo((g|k)+1);this.Nh[this.i.Ia(b)]=!0;this.Nh[this.i.Ia(a)]=!0;if(2==c&&2==e)return this.ds(b,a,-1);if(1==c&&1==e)return this.es(-1);if(0==c&&0==e)return this.Xp();throw d.g.za();};e.N=function(b){var a=b.G();return 197==a?(a=new d.Ja(b.description),b.u()||a.hd(b,!1),a):33==a?(a=new d.Dd(b.description),b.u()||a.add(b),a):322==a?(a=new d.Ua(b.description),
b.u()||a.cc(b,!0),a):b};e.dc=function(b,a,c){var e=b.G();return 197==e?(a=new d.Ja(b.description),b.u()||a.hd(b,!1),a):33!=e||"|"!=c&&"^"!=c?322==e?(a=new d.Ua(b.description),b.u()||a.cc(b,!0),a):33==e&&"-"==c&&33==a.G()||550==e&&"\x26"==c&&33==a.G()?(a=new d.Wa(b.description),b.u()||b.xe(0,a),a):b:(a=new d.Dd(b.description),b.u()||a.add(b),a)};e.an=function(b,a,c,f){if(b.u()||a.u()||b.ub()>a.ub())return e.dc(e.N(b),b,"-");var g=new d.h;b.s(g);var k=new d.h;a.s(k);if(!g.Yb(k))return e.dc(e.N(b),b,
"-");var h=new d.h;h.I(g);h.Nb(k);c=d.na.$d(c,h,!0);k=new e;g=new d.ed;h=g.Jb(e.N(b));a=g.Jb(e.N(a));k.Wr(g,c,f);f=k.an(h,a);f=g.Pe(f);b=e.dc(f,b,"-");d.T.Hc(b.G())&&(b.Xg(2,c),1736==b.G()&&b.Fl());return b};e.kG=function(b,a,c,f){if(b.ub()>a.ub())return e.dc(e.N(b),b,"|");if(b.ub()<a.ub()||b.u())return e.dc(e.N(a),b,"|");if(a.u())return e.dc(e.N(b),b,"|");var g=new d.h;b.s(g);var k=new d.h;a.s(k);var h=new d.h;h.I(g);h.Nb(k);c=d.na.$d(c,h,!0);if(!g.Yb(k.OS(c,c)))switch(b=e.N(b),a=e.N(a),b.G()){case 550:return b=
d.T.me(b),b.Hd(a,0,-1),b;case 1607:return b=d.T.me(b),b.add(a,!1),b;case 1736:return b=d.T.me(b),b.add(a,!1),b;default:throw d.g.za();}k=new e;g=new d.ed;h=g.Jb(e.N(b));a=g.Jb(e.N(a));k.Wr(g,c,f);a=k.kG(h,a);b=e.dc(g.Pe(a),b,"|");d.T.Hc(b.G())&&(b.Xg(2,c),1736==b.G()&&b.Fl());return b};e.nR=function(b,a,c){if(2>b.length)throw d.g.F("not enough geometries to dissolve");for(var f=0,g=0,k=b.length;g<k;g++)f=Math.max(b[g].ub(),f);var h=new d.h;h.Oa();for(var l=new d.ed,m=-1,n=0,p=-1,g=0,k=b.length;g<
k;g++)if(b[g].ub()==f)if(b[g].u())-1==p&&(p=g);else{p=g;-1==m?m=l.Jb(e.N(b[g])):l.TO(m,e.N(b[g]));var r=new d.h;b[g].ac(r);h.Nb(r);n++}if(2>n)return e.N(b[p]);b=2==f;a=d.na.$d(0==f?a:null,h,!0);return(new e).ql(l,m,a,b,!0,c)};e.yA=function(b,a,c,f){var g=[null,null,null],k=new d.h;b.s(k);var h=new d.h;a.s(h);var l=new d.h;l.I(k);l.Nb(h);c=d.na.$d(c,l,!0);l=new d.h;l.I(h);h=d.na.As(c);l.P(h,h);if(!k.Yb(l)){if(b.ub()<=a.ub())return b=e.dc(e.N(b.Ka()),b,"\x26"),g[b.ub()]=b,g;if(b.ub()>a.ub())return b=
e.dc(e.N(a.Ka()),b,"\x26"),g[b.ub()]=b,g}h=new e;k=new d.ed;l=k.Jb(e.N(b));a=k.Jb(e.N(a));h.Wr(k,c,f);f=h.yA(l,a);for(a=0;a<f.length;a++)h=e.dc(k.Pe(f[a]),b,"\x26"),d.T.Hc(h.G())&&(h.Xg(2,c),1736==h.G()&&h.Fl()),g[h.ub()]=h;return g};e.Wp=function(b,a,c,f){if(b.ub()>a.ub())return e.dc(e.N(b),b,"^");if(b.ub()<a.ub()||b.u())return e.dc(e.N(a),b,"^");if(a.u())return e.dc(e.N(b),b,"^");var g=new d.h;b.s(g);var k=new d.h;a.s(k);var h=new d.h;h.I(g);h.Nb(k);c=d.na.$d(c,h,!0);k=new e;g=new d.ed;h=g.Jb(e.N(b));
a=g.Jb(e.N(a));k.Wr(g,c,f);f=k.Wp(h,a);b=e.dc(g.Pe(f),b,"^");d.T.Hc(b.G())&&(b.Xg(2,c),1736==b.G()&&b.Fl());return b};e.wZ=function(b,a,c){a=a.G();c=c.G();return 550==b.G()&&(33==a||33==c)&&1>=b.D()?(c=new d.Wa(b.description),b.u()||b.xe(0,c),c):b};e.prototype.$R=function(b,a){var c=this.i.a;b=c.Vf(b,-1);for(var d=a.size,e=0;e<d;e++){var k=a.get(e);c.Oj(b,k)}c.ho(b,!0)};e.prototype.AX=function(b,a){for(var c=this.i.a,d=c.qd;-1!=d;d=c.Re(d))if(d==a)for(var e=c.Pb(d);-1!=e;e=c.Sb(e)){var k=c.cb(e);
if(-1!=k)for(var h=c.U(k);-1!=h;){var k=this.i.ff(k),l=this.i.ff(h),k=this.i.LS(k,l);-1!=k&&(l=this.i.Aa(k),this.i.Ob(k,b,1),this.i.Ob(l,b,2));k=h;h=c.U(k)}}};e.prototype.wW=function(b,a,c,e){c=this.i.Ia(c);e=this.i.Ia(e);var f=new d.ha(0);f.zb(256);for(var k=this.i.a,h=this.i.xh(),l=this.i.nf;-1!=l;l=this.i.ng(l)){var m=this.i.gf(l);if(-1!=m){var n=m;do{if(1!=this.i.Kb(n,h)){var p=n,r=n,u=!1,v=0;do{this.i.Ob(p,h,1);if(!u){var x=this.i.Ah(p);0!=(x&e)&&0!=(this.i.Bf(p)&c)&&(r=p,u=!0)}u&&(f.add(this.i.Yj(this.i.dn(this.i.Mk(p)))),
-1!=b&&(x=this.i.Ah(p),0!=(x&e)&&(x=this.i.Kb(p,b),v|=x)));p=this.i.qc(p)}while(p!=r);u&&0<this.i.Dq(this.i.Af(r))&&(p=k.ah(1736),this.$R(p,f),-1!=a&&k.lK(p,a,v));f.clear(!1)}n=this.i.qc(this.i.Aa(n))}while(n!=m)}}this.i.oi(h)};e.prototype.WQ=function(b,a,c,d){this.i.$W();var e=-1;-1!=b&&(e=this.i.xh(),this.AX(e,c));this.wW(e,b,a,c);var f=this.i.a;b=0;for(e=f.qd;-1!=e;e=f.Re(e))e!=a&&e!=c&&(d.add(e),b++);d.Fd(0,b,function(a,b){a=f.jA(f.Pb(a));b=f.jA(f.Pb(b));return a<b?-1:a==b?0:1})};e.prototype.ph=
function(){null!=this.i&&(this.i.ph(),this.i=null)};return e}();d.Cg=e})(x||(x={}));(function(d){var e=function(){function e(b){void 0!==b?this.Vp(b):this.sC()}e.prototype.Vx=function(){this.bc=this.Wb=this.Ab=this.sb=this.gb=this.lb=0};e.prototype.Eb=function(b){return this==b?!0:b instanceof e?this.lb==b.lb&&this.sb==b.sb&&this.Wb==b.Wb&&this.Ab==b.Ab&&this.gb==b.gb&&this.bc==b.bc:!1};e.prototype.kc=function(){d.J.$i();d.J.$i();d.J.$i();d.J.$i();d.J.$i();return d.J.$i()};e.prototype.ai=function(b,
a){var c=this.Ab*b.x+this.gb*b.y+this.bc;a.x=this.lb*b.x+this.sb*b.y+this.Wb;a.y=c};e.prototype.BY=function(b,a,c,d,e){var f=2*a;d*=2;for(a=2*(a+e);f<a;f+=2,d+=2){e=b[f];var g=b[f+1];c[d]=this.lb*e+this.sb*g+this.Wb;c[d+1]=this.Ab*e+this.gb*g+this.bc}};e.prototype.DY=function(b,a,c){for(var e=0;e<a;e++){var g=b[e].x,k=b[e].y,h=this.lb*g+this.sb*k+this.Wb,g=this.Ab*g+this.gb*k+this.bc;null!=c[e]?c[e].ja(h,g):c[e]=d.b.pa(h,g)}};e.prototype.multiply=function(b){e.multiply(this,b,this)};e.multiply=function(b,
a,c){var d,e,k,h,l;d=b.lb*a.lb+b.Ab*a.sb;e=b.sb*a.lb+b.gb*a.sb;k=b.Wb*a.lb+b.bc*a.sb+a.Wb;h=b.lb*a.Ab+b.Ab*a.gb;l=b.sb*a.Ab+b.gb*a.gb;b=b.Wb*a.Ab+b.bc*a.gb+a.bc;c.lb=d;c.sb=e;c.Wb=k;c.Ab=h;c.gb=l;c.bc=b};e.prototype.Sf=function(){var b=new e;b.lb=this.lb;b.sb=this.sb;b.Wb=this.Wb;b.Ab=this.Ab;b.gb=this.gb;b.bc=this.bc;return b};e.prototype.NC=function(b){if(!b.u()){for(var a=[],c=0;4>c;c++)a[c]=new d.b;b.SB(a);this.EY(a,a);b.Mx(a,4)}};e.prototype.EY=function(b,a){for(var c=0;c<b.length;c++){var e=
new d.b,g=b[c];e.x=this.lb*g.x+this.sb*g.y+this.Wb;e.y=this.Ab*g.x+this.gb*g.y+this.bc;a[c]=e}};e.prototype.NT=function(b,a){b.u()||a.u()||0==b.O()||0==b.ea()?this.Vx():(this.sb=this.Ab=0,this.lb=a.O()/b.O(),this.gb=a.ea()/b.ea(),this.Wb=a.o-b.o*this.lb,this.bc=a.A-b.A*this.gb)};e.prototype.CY=function(b){var a=new d.b,c=new d.b;a.ja(this.lb,this.Ab);c.ja(this.sb,this.gb);a.sub(a);var e=.5*a.uk();a.ja(this.lb,this.Ab);c.ja(this.sb,this.gb);a.add(c);a=.5*a.uk();return b*(e>a?Math.sqrt(e):Math.sqrt(a))};
e.prototype.sC=function(){this.lb=1;this.Ab=this.Wb=this.sb=0;this.gb=1;this.bc=0};e.prototype.No=function(b){if(void 0!==b){var a=d.b.pa(0,1);this.ai(a,a);a.sub(d.b.pa(0,1));if(a.uk()>b*b)return!1;a.ja(0,0);this.ai(a,a);if(a.uk()>b*b)return!1;a.ja(1,0);this.ai(a,a);a.sub(d.b.pa(1,0));return a.uk()<=b*b}return 1==this.lb&&1==this.gb&&0==this.sb&&0==this.Wb&&0==this.Ab&&0==this.bc};e.prototype.eh=function(b){return Math.abs(this.lb*this.gb-this.Ab*this.sb)<=2*b*(Math.abs(this.lb*this.gb)+Math.abs(this.Ab*
this.sb))};e.prototype.zg=function(b,a){this.lb=1;this.sb=0;this.Wb=b;this.Ab=0;this.gb=1;this.bc=a};e.prototype.Vp=function(b,a){void 0!==a?(this.lb=b,this.Ab=this.Wb=this.sb=0,this.gb=a,this.bc=0):this.Vp(b,b)};e.prototype.AC=function(){this.lb=0;this.sb=1;this.Wb=0;this.Ab=1;this.bc=this.gb=0};e.prototype.OX=function(b){this.PX(Math.cos(b),Math.sin(b))};e.prototype.PX=function(b,a){this.lb=b;this.sb=-a;this.Wb=0;this.Ab=a;this.gb=b;this.bc=0};e.prototype.shift=function(b,a){this.Wb+=b;this.bc+=
a};e.prototype.scale=function(b,a){this.lb*=b;this.sb*=b;this.Wb*=b;this.Ab*=a;this.gb*=a;this.bc*=a};e.prototype.rotate=function(b){var a=new e;a.OX(b);this.multiply(a)};e.prototype.inverse=function(b){if(void 0!==b){var a=this.lb*this.gb-this.sb*this.Ab;0==a?b.Vx():(a=1/a,b.Wb=(this.sb*this.bc-this.Wb*this.gb)*a,b.bc=(this.Wb*this.Ab-this.lb*this.bc)*a,b.lb=this.gb*a,b.sb=-this.sb*a,b.Ab=-this.Ab*a,b.gb=this.lb*a)}else this.inverse(this)};return e}();d.Gd=e})(x||(x={}));(function(d){var e=function(){function e(){}
e.prototype.Vx=function(){this.ci=this.bc=this.Wb=this.zf=this.wf=this.vf=this.yf=this.gb=this.sb=this.Pf=this.Ab=this.lb=0};e.prototype.Vp=function(b,a,c){this.lb=b;this.sb=this.Pf=this.Ab=0;this.gb=a;this.wf=this.vf=this.yf=0;this.zf=c;this.ci=this.bc=this.Wb=0};e.prototype.NC=function(b){if(b.u())return b;for(var a=new d.od[8],c=0;8>c;c++)a[c]=new d.od;b.SB(a);this.transform(a,8,a);b.Mx(a);return b};e.prototype.transform=function(b,a,c){for(var e=0;e<a;e++){var g=new d.od,k=b[e];g.x=this.lb*k.x+
this.sb*k.y+this.vf*k.z+this.Wb;g.y=this.Ab*k.x+this.gb*k.y+this.wf*k.z+this.bc;g.z=this.Pf*k.x+this.yf*k.y+this.zf*k.z+this.ci;c[e]=g}};e.prototype.Yp=function(b){var a=new d.od;a.x=this.lb*b.x+this.sb*b.y+this.vf*b.z+this.Wb;a.y=this.Ab*b.x+this.gb*b.y+this.wf*b.z+this.bc;a.z=this.Pf*b.x+this.yf*b.y+this.zf*b.z+this.ci;return a};e.prototype.Tg=function(b){e.multiply(this,b,this)};e.multiply=function(b,a,c){var d,e,k,h,l,m,n,p,r,u,v;d=b.lb*a.lb+b.Ab*a.sb+b.Pf*a.vf;e=b.lb*a.Ab+b.Ab*a.gb+b.Pf*a.wf;
k=b.lb*a.Pf+b.Ab*a.yf+b.Pf*a.zf;h=b.sb*a.lb+b.gb*a.sb+b.yf*a.vf;l=b.sb*a.Ab+b.gb*a.gb+b.yf*a.wf;m=b.sb*a.Pf+b.gb*a.yf+b.yf*a.zf;n=b.vf*a.lb+b.wf*a.sb+b.zf*a.vf;p=b.vf*a.Ab+b.wf*a.gb+b.zf*a.wf;r=b.vf*a.Pf+b.wf*a.yf+b.zf*a.zf;u=b.Wb*a.lb+b.bc*a.sb+b.ci*a.vf+a.Wb;v=b.Wb*a.Ab+b.bc*a.gb+b.ci*a.wf+a.bc;b=b.Wb*a.Pf+b.bc*a.yf+b.ci*a.zf+a.ci;c.lb=d;c.Ab=e;c.Pf=k;c.sb=h;c.gb=l;c.yf=m;c.vf=n;c.wf=p;c.zf=r;c.Wb=u;c.bc=v;c.ci=b};e.inverse=function(b,a){var c=b.lb*(b.gb*b.zf-b.yf*b.wf)-b.Ab*(b.sb*b.zf-b.yf*b.vf)+
b.Pf*(b.sb*b.wf-b.gb*b.vf);if(0!=c){var e,g,k,h,l,m,n,p,r,u;p=1/c;c=(b.gb*b.zf-b.yf*b.wf)*p;k=-(b.sb*b.zf-b.yf*b.vf)*p;m=(b.sb*b.wf-b.gb*b.vf)*p;e=-(b.Ab*b.zf-b.wf*b.Pf)*p;h=(b.lb*b.zf-b.Pf*b.vf)*p;n=-(b.lb*b.wf-b.Ab*b.vf)*p;g=(b.Ab*b.yf-b.Pf*b.gb)*p;l=-(b.lb*b.yf-b.Pf*b.sb)*p;p*=b.lb*b.gb-b.Ab*b.sb;r=-(b.Wb*c+b.bc*k+b.ci*m);u=-(b.Wb*e+b.bc*h+b.ci*n);b=-(b.Wb*g+b.bc*l+b.ci*p);a.lb=c;a.Ab=e;a.Pf=g;a.sb=k;a.gb=h;a.yf=l;a.vf=m;a.wf=n;a.zf=p;a.Wb=r;a.bc=u;a.ci=b}else throw d.g.X("math singularity");};
e.prototype.Sf=function(){var b=new e;b.lb=this.lb;b.Ab=this.Ab;b.Pf=this.Pf;b.sb=this.sb;b.gb=this.gb;b.yf=this.yf;b.vf=this.vf;b.wf=this.wf;b.zf=this.zf;b.Wb=this.Wb;b.bc=this.bc;b.ci=this.ci;return b};return e}();d.DN=e})(x||(x={}));(function(d){var e=function(b){function a(a){if(void 0!==a)a=b.call(this,a.kc(),a)||this;else{a=b.call(this)||this;a.vg=[];a.vg[0]=0;a.Ga=1;a.Th=[];for(var c=0;10>c;c++)a.Th[c]=-1;a.Th[a.vg[0]]=0}a.Zq=!0;return a}fa(a,b);a.prototype.Rd=function(a){this.hasAttribute(a)||
(this.Th[a]=0,this.GE())};a.prototype.removeAttribute=function(a){if(0==a)throw d.g.F("Position attribue cannot be removed");this.hasAttribute(a)&&(this.Th[a]=-1,this.GE())};a.prototype.reset=function(){this.vg[0]=0;this.Ga=1;for(var a=0;a<this.Th.length;a++)this.Th[a]=-1;this.Th[this.vg[0]]=0;this.Zq=!0};a.prototype.Rz=function(){return h.Go().add(this)};a.Hg=function(){return h.Go().uT()};a.N=function(){return h.Go().vT()};a.prototype.eO=function(){var a=this.kc();return new d.ma(a,this)};a.prototype.GE=
function(){for(var a=this.Ga=0,b=0;10>a;a++)0<=this.Th[a]&&(this.vg[b]=a,this.Th[a]=b,b++,this.Ga++);this.Zq=!0};a.prototype.kc=function(){this.Zq&&(this.gm=this.Ck(),this.Zq=!1);return this.gm};a.prototype.Eb=function(b){if(null==b)return!1;if(b==this)return!0;if(!(b instanceof a)||b.Ga!=this.Ga)return!1;for(var c=0;c<this.Ga;c++)if(this.vg[c]!=b.vg[c])return!1;return this.Zq!=b.Zq?!1:!0};a.prototype.GH=function(a){if(a.Ga!=this.Ga)return!1;for(var b=0;b<this.Ga;b++)if(this.vg[b]!=a.vg[b])return!1;
return!0};a.vx=function(a,b){for(var c=[],d=0;d<a.Ga;d++)c[d]=-1;for(var d=0,e=a.Ga;d<e;d++)c[d]=b.lg(a.pd(d));return c};a.VS=function(b,d){b=new a(b);b.Rd(d);return b.Rz()};a.WS=function(b,d){for(var c=null,e=0;10>e;e++)!b.hasAttribute(e)&&d.hasAttribute(e)&&(null==c&&(c=new a(b)),c.Rd(e));return null!=c?c.Rz():b};a.tb=function(b,d){b=new a(b);b.removeAttribute(d);return b.Rz()};return a}(d.ma);d.we=e;var h=function(){function b(){this.map=[];var a=new e;this.add(a);a=new e;a.Rd(1);this.add(a)}b.Go=
function(){return b.QN};b.prototype.uT=function(){return b.Lm};b.prototype.vT=function(){return b.Mm};b.prototype.add=function(a){var c=a.kc();if(null!=b.Lm&&b.Lm.kc()==c&&a.GH(b.Lm))return b.Lm;if(null!=b.Mm&&b.Mm.kc()==c&&a.GH(b.Mm))return b.Mm;var d=null;void 0!==this.map[c]&&(d=this.map[c]);null==d&&(d=a.eO(),1==d.Ga?b.Lm=d:2==d.Ga&&1==d.pd(1)?b.Mm=d:this.map[c]=d);return d};b.QN=new b;return b}()})(x||(x={}));var wa={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},
xa={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},va=new (function(){function d(){this.mO=50;this.hq=new Map;this.Lj=[]}d.prototype.clear=function(){this.Lj.length=0;this.hq.clear()};d.prototype["delete"]=function(d){return this.hq["delete"](d)?(this.Lj.splice(this.Lj.indexOf(d),1),!0):!1};d.prototype.get=function(d){var e=this.hq.get(d);if(void 0!==e)return this.Lj[0]!==d&&(this.Lj.splice(this.Lj.indexOf(d),
1),this.Lj.unshift(d)),e};d.prototype.has=function(d){return this.hq.has(d)};d.prototype.set=function(d,e){void 0!==this.get(d)&&this["delete"](d);this.Lj.unshift(d);this.hq.set(d,e);this.aO();return this};d.prototype.aO=function(){for(;this.Lj.length&&this.Lj.length>this.mO;){var d=this.Lj.pop();this.hq["delete"](d)}};return d}()),T=(ma={},ma.convertJSONToGeometry=function(d){return x.gc.EQ(d)},ma.hasM=function(d){return d.hasAttribute(x.hi.M)},ma.hasZ=function(d){return d.hasAttribute(x.hi.Z)},
ma.getPointX=function(d){return d.Te()},ma.getPointY=function(d){return d.Cf()},ma.getPointZ=function(d){return d.yT()},ma.getPointM=function(d){return d.SS()},ma.getXMin=function(d){return d.dt()},ma.getYMin=function(d){return d.ft()},ma.getXMax=function(d){return d.ct()},ma.getYMax=function(d){return d.et()},ma.getZExtent=function(d){return d.hg(x.hi.Z,0)},ma.getMExtent=function(d){return d.hg(x.hi.M,0)},ma.exportPaths=function(d){var e=[],h=d.aa(),b=null,a=null,c=d.hasAttribute(x.hi.Z),f=d.hasAttribute(x.hi.M);
c&&(b=d.Qa(x.hi.Z));f&&(a=d.Qa(x.hi.M));for(var g=new x.b,k=0;k<h;k++){for(var l=d.wa(k),n=d.La(k),p=0,r=0,u=NaN,v=NaN,z=NaN,y=NaN,A=d.Qb(k),C=[],B=l;B<l+n;B++){d.w(B,g);var y=z=NaN,H=[g.x,g.y];c&&(z=b.get(B),H.push(z));f&&(y=a.get(B),H.push(y));B==l&&A&&(p=g.x,r=g.y,u=z,v=y);C.push(H)}!A||p==g.x&&r==g.y&&(!c||isNaN(u)&&isNaN(z)||u==z)&&(!f||isNaN(v)&&isNaN(y)||v==y)||C.push(C[0].slice(0));e.push(C)}return e},ma.exportPathsFlat=function(){},ma.exportPoints=function(d){var e=d.hasAttribute(x.hi.Z),
h=d.hasAttribute(x.hi.M),b=null,a=null;e&&(b=d.Qa(x.hi.Z));h&&(a=d.Qa(x.hi.M));for(var c=new x.b,f=d.D(),g=[],k=0;k<f;k++){d.w(k,c);var l=[c.x,c.y];e&&l.push(b.get(k));h&&l.push(a.get(k));g.push(l)}return g},ma.exportPointsFlat=function(){},ma);return function(){function e(){}e.buffer=X;e.clip=z;e.contains=n;e.convexHull=U;e.crosses=A;e.cut=h;e.densify=oa;e.difference=W;e.disjoint=E;e.distance=O;e.equals=I;e.extendedSpatialReferenceInfo=d;e.generalize=da;e.geodesicArea=ba;e.geodesicBuffer=ca;e.geodesicDensify=
H;e.geodesicLength=ka;e.intersect=R;e.intersects=C;e.isSimple=v;e.nearestCoordinate=ga;e.nearestVertex=na;e.nearestVertices=pa;e.offset=Z;e.overlaps=r;e.planarArea=J;e.planarLength=V;e.relate=N;e.simplify=M;e.symmetricDifference=Y;e.touches=Q;e.union=ea;e.within=F;e.rotate=x.my.rotate;e.flipHorizontal=x.my.YR;e.flipVertical=x.my.ZR;e._enableProjection=ua;e._project=za;e._getTransformation=ya;e._getTransformationBySuitability=ha;return e}()})},"esri/geometry/geometryAdapters/hydrated":function(){define("require exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(D,l,u,y,B,p,d){Object.defineProperty(l,"__esModule",{value:!0});l.hydratedAdapter={convertToGEGeometry:function(d,h){if(null==h)return null;var l="cache"in h?h.cache._geVersion:void 0;null==l&&(l=d.convertJSONToGeometry(h),"cache"in h&&(h.cache._geVersion=l));return l},exportPoint:function(d,h,l){var n=d.hasZ(h),p=d.hasM(h);l=new B({x:d.getPointX(h),y:d.getPointY(h),spatialReference:l});n&&(l.z=d.getPointZ(h));p&&(l.m=d.getPointM(h));l.cache._geVersion=h;return l},exportPolygon:function(d,
h,l){d=new p({rings:d.exportPaths(h),hasZ:d.hasZ(h),hasM:d.hasM(h),spatialReference:l});d.cache._geVersion=h;return d},exportPolyline:function(l,h,n){l=new d({paths:l.exportPaths(h),hasZ:l.hasZ(h),hasM:l.hasM(h),spatialReference:n});l.cache._geVersion=h;return l},exportMultipoint:function(d,h,l){d=new y({hasZ:d.hasZ(h),hasM:d.hasM(h),points:d.exportPoints(h),spatialReference:l});d.cache._geVersion=h;return d},exportExtent:function(d,h,l){var n=d.hasZ(h),p=d.hasM(h);l=new u({xmin:d.getXMin(h),ymin:d.getYMin(h),
xmax:d.getXMax(h),ymax:d.getYMax(h),spatialReference:l});n&&(n=d.getZExtent(h),l.zmin=n.vmin,l.zmax=n.vmax);p&&(d=d.getMExtent(h),l.mmin=d.vmin,l.mmax=d.vmax);l.cache._geVersion=h;return l}}})},"esri/views/interactive/InteractiveToolBase":function(){define("require exports tslib ../../core/Accessor ../../core/promiseUtils ../../core/accessorSupport/decorators ./interactiveToolUtils ./ManipulatorCollection".split(" "),function(D,l,u,y,B,p,d,z){Object.defineProperty(l,"__esModule",{value:!0});D=function(h){function l(d){d=
h.call(this,d)||this;d.attached=!1;d.created=!1;d.completed=!1;d.manipulators=new z.ManipulatorCollection;d.deferCreation=!1;d._editableFlags=[];d._creationResolver=B.createResolver();return d}u.__extends(l,h);Object.defineProperty(l.prototype,"active",{get:function(){return null!=this.view&&this.view.activeTool===this},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"isSupported",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"visible",
{set:function(h){this._set("visible",h);h||d.setActive(this,!1);this.attached&&(h?this._show():this._hide())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"editable",{get:function(){return this.hasEditableFlag(0)},set:function(d){this.setEditableFlag(0,d)},enumerable:!0,configurable:!0});l.prototype.attach=function(){if(!this.attached&&this.isSupported){this.manipulators.attach();this.onAttach();if(this.visible)this.onShow();this._set("attached",!0)}};l.prototype.detach=function(){this.attached&&
(this.onHide(),this.onDetach(),this.manipulators.detach(),this._set("attached",!1))};l.prototype.handleInputEvent=function(d){if(this.attached)this.onInputEvent(d)};l.prototype.handleInputEventAfter=function(d){if(this.attached)this.onInputEventAfter(d)};l.prototype.destroy=function(){this.manipulators.destroy();this._set("view",null)};l.prototype.setEditableFlag=function(d,h){this._editableFlags[d]=h;this.manipulators.isToolEditable=this._editableFlags.every(function(d){return null==d||d});this._updateManipulatorAttachment();
0===d&&this.notifyChange("editable");this.onEditableChange()};l.prototype.hasEditableFlag=function(d){d=this._editableFlags[d];return null==d?!0:d};l.prototype.when=function(){return this._creationResolver.promise};l.prototype.rejectCreation=function(d){this._creationResolver.reject(d)};l.prototype.initialize=function(){this.deferCreation||this.complete()};l.prototype.onAttach=function(){};l.prototype.onDetach=function(){};l.prototype.onShow=function(){};l.prototype.onHide=function(){};l.prototype.onEditableChange=
function(){};l.prototype.onInputEvent=function(d){};l.prototype.onInputEventAfter=function(d){};Object.defineProperty(l.prototype,"internallyEditable",{get:function(){return this.hasEditableFlag(0)&&this.hasEditableFlag(1)},enumerable:!0,configurable:!0});l.prototype.create=function(){this.created||(this._set("created",!0),this._creationResolver(this))};l.prototype.complete=function(){this.create();this._set("completed",!0)};l.prototype._show=function(){this._updateManipulatorAttachment();this.onShow()};
l.prototype._hide=function(){this._updateManipulatorAttachment();this.onHide()};l.prototype._updateManipulatorAttachment=function(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()};u.__decorate([p.property({constructOnly:!0})],l.prototype,"view",void 0);u.__decorate([p.property({dependsOn:["view.activeTool"],readOnly:!0})],l.prototype,"active",null);u.__decorate([p.property({value:!0})],l.prototype,"visible",null);u.__decorate([p.property({value:!0})],l.prototype,
"editable",null);u.__decorate([p.property({readOnly:!0})],l.prototype,"attached",void 0);u.__decorate([p.property({readOnly:!0})],l.prototype,"created",void 0);u.__decorate([p.property({readOnly:!0})],l.prototype,"completed",void 0);u.__decorate([p.property({readOnly:!0})],l.prototype,"manipulators",void 0);u.__decorate([p.property({constructOnly:!0})],l.prototype,"deferCreation",void 0);return l=u.__decorate([p.subclass("esri.views.interactive.InteractiveToolBase")],l)}(y);l.InteractiveToolBase=
D})},"esri/views/interactive/ManipulatorCollection":function(){define(["require","exports","../../core/Collection","../../core/maybe"],function(D,l,u,y){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function l(){this._isToolEditable=!0;this._manipulators=new u;this._nextManipulatorId=0;this._resourceContexts={manipulator3D:{}};this._attached=!1}Object.defineProperty(l.prototype,"isToolEditable",{set:function(l){this._isToolEditable=l},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"length",{get:function(){return this._manipulators.length},enumerable:!0,configurable:!0});l.prototype.add=function(l,d){void 0===d&&(d=0);return this.addMany([l],d)[0]};l.prototype.addMany=function(l,d){var p=this;void 0===d&&(d=0);return l.map(function(h){var l=p._nextManipulatorId++;h={id:l,manipulator:h,visibilityPredicate:d,attached:!1};p._manipulators.add(h);p._attached&&p._updateManipulatorAttachment(h);return l})};l.prototype.remove=function(l){if("number"===typeof l){for(var d=0;d<this._manipulators.length;d++)if(this._manipulators.getItemAt(d).id===
l)return l=this._manipulators.splice(d,1)[0],this._detachManipulator(l),l.id;return null}for(d=0;d<this._manipulators.length;d++)if(this._manipulators.getItemAt(d).manipulator===l)return l=this._manipulators.splice(d,1)[0],this._detachManipulator(l),l.id;return null};l.prototype.removeAll=function(){var l=this;this._manipulators.forEach(function(d){l._detachManipulator(d)});this._manipulators.removeAll()};l.prototype.attach=function(){var l=this;this._manipulators.forEach(function(d){l._updateManipulatorAttachment(d)});
this._attached=!0};l.prototype.detach=function(){var l=this;this._manipulators.forEach(function(d){l._detachManipulator(d)});this._attached=!1};l.prototype.destroy=function(){this._manipulators.forEach(function(l){l=l.manipulator;l.destroy&&l.destroy()});this._manipulators.destroy();this._resourceContexts=null};l.prototype.on=function(l,d){return this._manipulators.on(l,function(l){d(l)})};l.prototype.forEach=function(l){for(var d=0,p=this._manipulators.items;d<p.length;d++)l(p[d])};l.prototype.some=
function(l){return this._manipulators.items.some(l)};l.prototype.toArray=function(){var l=[];this.forEach(function(d){return l.push(d.manipulator)});return l};l.prototype.intersect=function(l,d){var p=null,h=Number.MAX_VALUE;this._manipulators.forEach(function(n){var u=n.id,z=n.manipulator;n.attached&&z.interactive&&(n=z.intersectionDistance(l,d),y.isSome(n)&&n<h&&(h=n,p=u))});return p};l.prototype.findById=function(l){if(y.isNone(l))return null;for(var d=0,p=this._manipulators.items;d<p.length;d++){var h=
p[d];if(l===h.id)return h.manipulator}return null};l.prototype._updateManipulatorAttachment=function(l){this._isManipulatorItemVisible(l)?this._attachManipulator(l):this._detachManipulator(l)};l.prototype._attachManipulator=function(l){l.attached||(l.manipulator.attach&&l.manipulator.attach(this._resourceContexts),l.attached=!0)};l.prototype._detachManipulator=function(l){if(l.attached){var d=l.manipulator;d.grabbing=!1;d.dragging=!1;d.hovering=!1;d.selected=!1;d.detach&&d.detach(this._resourceContexts);
l.attached=!1}};l.prototype._isManipulatorItemVisible=function(l){return 2===l.visibilityPredicate?!0:this._isToolEditable?0===l.visibilityPredicate:1===l.visibilityPredicate};return l}();l.ManipulatorCollection=D})},"esri/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool":function(){define("require exports tslib ../../../../../core/Collection ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/accessorSupport/decorators ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils ../../manipulatorUtils ../manipulatorUtils ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ../manipulations/moveUtils ../manipulations/MoveXYGraphicManipulation ./isSupportedGraphic ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../../../../interactive/dragEventPipeline ../../../../interactive/InteractiveToolBase".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v,M,U,W){Object.defineProperty(l,"__esModule",{value:!0});var Y=function(){return function(d){this.allGraphics=d;this.type="graphic-move-start"}}();l.GraphicMoveStartEvent=Y;var R=function(){return function(d,h,l){this.dx=d;this.dy=h;this.allGraphics=l;this.type="graphic-move"}}();l.GraphicMoveEvent=R;var ea=function(){return function(d){this.allGraphics=d;this.type="graphic-move-stop"}}();l.GraphicMoveStopEvent=ea;D=function(l){function B(d){d=l.call(this,
d)||this;d.graphics=new y;d.enableZ=!0;d.type="move-3d";d._toolHandles=new p;d._handles=new p;return d}u.__extends(B,l);B.prototype.initialize=function(){var d=this;this._toolHandles.add([this.graphics.on("change",function(){return d._refreshManipulators()})]);this._refreshManipulators()};B.prototype.destroy=function(){this._handles.destroy();this._handles=null;this._toolHandles.destroy();this._toolHandles=null;this.graphics.removeAll();this._set("view",null)};B.prototype.reset=function(){};B.prototype._refreshManipulators=
function(){var d=this;this._handles.removeAll();this._moveManipulation&&this._moveManipulation.destroy();this.manipulators.removeAll();var h=this.graphics.toArray().filter(function(d){return 0===N.isSupportedGraphic(d)}).map(function(d){return new Z(d)});h.length&&(this.createManipulators(h),this.createVisualElements(h),this._handles.add(h.map(function(h){return d.view.trackGraphicState(h.state)})),this.updateMoveManipulation(h))};B.prototype.createManipulators=function(d){for(var h=this,l=function(l){var p=
l.state;l.manipulationXY=new r.MoveXYGraphicManipulation({tool:n,view:n.view,graphicState:p});l.manipulationXY.forEachManipulator(function(d){return h._handles.add(d.events.on("immediate-click",function(d){h.emit("immediate-click",u.__assign(u.__assign({},d),{graphic:p.graphic}));d.stopPropagation()}))});n._handles.add(l.manipulationXY.createDragPipeline(function(l,n,p){return h.buildDragEventPipeline(l,n,p,d)}))},n=this,p=0;p<d.length;p++)l(d[p]);this.createMoveManipulation(d)};B.prototype.createMoveManipulation=
function(d){var h=this,l=new F.MoveManipulation({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===d.length?F.MoveManipulation.radiusForSymbol(d[0].graphic.symbol):Q.DISC_RADIUS});this._moveManipulation=l;l.elevationInfo={mode:"absolute-height",offset:0};l.forEachManipulator(function(d){h._handles.add(d.events.on("immediate-click",function(n){l.zManipulation.hasManipulator(d)||1!==h.graphics.length||h.emit("immediate-click",u.__assign(u.__assign({},
n),{graphic:h.graphics.getItemAt(0)}));n.stopPropagation()}))});for(var n=function(){return h.updateMoveManipulation(d)},p=0;p<d.length;p++){var r=d[p];this._handles.add([r.state.on("changed",n),r.state.watch("displaying",n)])}var v=d[d.length-1];this._handles.add(v.state.on("changed",function(){return h.updateMoveManipulationAngle(v)}));this._handles.add(l.createDragPipeline(function(l,n,p){h.buildDragEventPipeline(l,n,p,d)},A.getGraphicEffectiveElevationInfo(v.graphic),z.unwrap(v.graphic.geometry).spatialReference));
this.updateMoveManipulationAngle(v)};B.prototype.createVisualElements=function(h){for(var l=this,n=function(n){var r=C.createVisualElements({view:p.view,graphic:n.graphic,forEachManipulator:function(d){n.manipulationXY.forEachManipulator(d);l._moveManipulation.forEachManipulator(d)},onManipulatorsChanged:function(){return d.makeHandle()}});n.geometryRepresentation=r.visualElement;n.geometryRepresentation instanceof v.OutlineVisualElement&&p._handles.add([n.geometryRepresentation.events.on("attachment-origin-changed",
function(){n.state.isDraped||l.updateMoveManipulation(h)}),n.state.watch("isDraped",function(){return l.updateMoveManipulation(h)})]);p._handles.add(r)},p=this,r=0;r<h.length;r++)n(h[r])};B.prototype.updateMoveManipulationAngle=function(d){this._moveManipulation.angleDeferred=function(){return E.primaryShapeOrientation(d.graphic.geometry)}};B.prototype.updateMoveManipulation=function(d){for(var h=n.makeDehydratedPoint(0,0,0,this.view.spatialReference),l=0,p=!1,r=this._moveManipulation,u=0;u<d.length;u++){var y=
d[u];if(y.state.displaying){var A=y.state.graphic;this.enableZ&&I.canMoveZ(A)&&(p=!0);y=y.geometryRepresentation instanceof v.OutlineVisualElement&&!y.state.isDraped?y.geometryRepresentation.attachmentOrigin:O.getGraphicAttachmentOrigin(this.view,A);z.isSome(y)&&(h.x+=y.x,h.y+=y.y,h.z+=y.z,l++)}}0<l?(h.x/=l,h.y/=l,h.z/=l,r.location=h,r.xyManipulation.available=!0,r.xyAxisManipulation.available=!0,r.zManipulation.available=p):r.available=!1};B.prototype.buildDragEventPipeline=function(d,h,l,n){var p=
this,r=[],u=[],v=null,y=null,z=function(){for(var d=0;d<r.length;d++)r[d].dragging=!1;r.length=0;u.length=0;y=v=null;p._moveManipulation.interactive=!0};h.next(function(h){if("start"===h.action){r.length=0;for(var l=u.length=0;l<n.length;l++){var z=n[l];z.dragging||!z.manipulationXY.hasManipulator(d)&&z.manipulationXY.grabbing||(r.push(z),u.push(z.graphic),z.dragging=!0)}if(0!==u.length&&(p._moveManipulation.interactive=!1,v=U.dragGraphicMany(u),y=U.resetGraphicMany(u),p.emit("graphic-move-start",
new Y(u)),p.destroyed))return null}return 0!==u.length?h:null}).next(function(d){return v(d)}).next(function(d){switch(d.action){case "start":case "update":if(d.translationX||d.translationY||d.translationZ){var h=p.view.toScreen(d.mapStart);d=p.view.toScreen(d.mapEnd);p.emit("graphic-move",new R(d.x-h.x,d.y-h.y,u));if(p.destroyed)return null}break;case "end":p.emit("graphic-move-stop",new ea(u));if(p.destroyed)return null;z()}});l.next(function(d){return y(d)}).next(function(){p.emit("graphic-move-stop",
new ea(u));if(p.destroyed)return null;z()})};u.__decorate([h.property({constructOnly:!0,nonNullable:!0})],B.prototype,"view",void 0);u.__decorate([h.property({readOnly:!0})],B.prototype,"graphics",void 0);u.__decorate([h.property({constructOnly:!0,nonNullable:!0})],B.prototype,"enableZ",void 0);u.__decorate([h.property({readOnly:!0})],B.prototype,"type",void 0);return B=u.__decorate([h.subclass("esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool")],B)}(B.EventedMixin(W.InteractiveToolBase));
l.GraphicMoveTool=D;var Z=function(){function d(d){this.manipulationXY=this.geometryRepresentation=this.state=null;this.dragging=!1;this.state=new M.GraphicState({graphic:d})}Object.defineProperty(d.prototype,"graphic",{get:function(){return this.state.graphic},enumerable:!0,configurable:!0});return d}()})},"esri/views/3d/interactive/manipulatorUtils":function(){define("require exports ../../../core/maybe ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec4f64 ../../../layers/graphics/dehydratedFeatures ./Manipulator3D ../layers/graphics/graphicUtils ../support/stack ../webgl-engine/lib/Geometry ../webgl-engine/lib/GeometryUtil ../webgl-engine/materials/ColorMaterial ../webgl-engine/materials/ShadedColorMaterial".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C){function Q(d,h){void 0===h&&(h=4);var l=p.vec4f64.fromValues(d[0],d[1],d[2],3<d.length?d[3]:1);d=new C.ShadedColorMaterial({color:l,transparent:1>d[3],writeDepth:!0,cullFace:2},"manipulator");d.renderOccluded=h;return d}function F(d,h,l,p){d=B.vec3.normalize(n.sv3d.get(),d);h=B.vec3.normalize(n.sv3d.get(),h);var r=B.vec3.cross(n.sv3d.get(),d,h);p[0]=d[0];p[1]=d[1];p[2]=d[2];p[3]=0;p[4]=h[0];p[5]=h[1];p[6]=h[2];p[7]=0;p[8]=r[0];p[9]=r[1];p[10]=r[2];p[11]=0;p[12]=
l[0];p[13]=l[1];p[14]=l[2];p[15]=1;return p}function E(d,h){var l=d.getViewForGraphic(h);return u.isSome(l)&&"computeAttachmentOrigin"in l?l.computeAttachmentOrigin(h,d.spatialReference):null}Object.defineProperty(l,"__esModule",{value:!0});l.createManipulatorMaterial=Q;l.createManipulatorOutlineMaterial=function(d,h){void 0===h&&(h=4);d=p.vec4f64.fromValues(d[0],d[1],d[2],4===d.length?d[3]:1);d=new I({color:d,transparent:!0,writeDepth:!0,cullFace:1},"manipulator-outline");d.renderOccluded=h;return d};
l.createSphereManipulator=function(d,h,l){return new z.Manipulator3D({view:d,renderObjects:[{geometry:new A(O.createSphereGeometry(1,32,32),"manipulator"),material:Q(p.vec4f64.fromValues(h[0],h[1],h[2],null!=l?l:1))}]})};l.calculateInputRotationTransform=function(d,h,l,p){d=B.vec3.subtract(n.sv3d.get(),d,l);p=B.vec3.cross(n.sv3d.get(),p,d);l=F(d,p,l,n.sm4d.get());y.mat4.invert(l,l);h=B.vec3.transformMat4(n.sv3d.get(),h,l);return Math.atan2(h[1],h[0])};l.calculateTranslateRotateFromBases=F;l.getGraphicAttachmentOrigin=
E;l.placeAtGraphic=function(l,n,p){l=E(l,p);u.isSome(l)?n.elevationAlignedLocation=l:(p=p.geometry,u.isNone(p)||(p=h.computeCentroid(p),u.isNone(p)||(n.location=d.hydrateGeometry(p))))}})},"esri/views/3d/interactive/Manipulator3D":function(){define("require exports ../../../geometry ../../../core/compilerUtils ../../../core/Evented ../../../core/maybe ../../../core/screenUtils ../../../core/accessorSupport/utils ../../../core/libs/gl-matrix-2/mat3 ../../../core/libs/gl-matrix-2/mat3f64 ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/mat4f64 ../../../core/libs/gl-matrix-2/vec2 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../geometry/support/aaBoundingRect ../../../layers/graphics/dehydratedFeatures ../../3d/support/ElevationProvider ../../3d/support/geometryUtils ../../3d/support/projectionUtils ../../3d/support/stack ../support/projectionUtils ../../3d/webgl-engine/lib/Camera ../../3d/webgl-engine/lib/Layer ../../3d/webgl-engine/lib/Object3D".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v,M,U,W,Y,R,ea){function Z(d){return 0!==d[12]||0!==d[13]||0!==d[14]}Object.defineProperty(l,"__esModule",{value:!0});D=function(){function l(h){this.camera=new Y.default;this._elevation={offset:0,override:null};this.collisionType={type:"point"};this.collisionPriority=0;this._renderObjects=[];this._available=this.autoScaleRenderObjects=!0;this._noDisplayCount=0;this._radius=10;this._worldSized=!1;this.focusMultiplier=2;this.touchMultiplier=2.5;this.worldOriented=
!1;this._modelTransform=O.mat4f64.create();this._worldFrame=null;this._renderLocation=Q.vec3f64.create();this._renderLocationDirty=!0;this._location=new u.Point({x:0,y:0,z:0});this._elevationAlignedLocation=new u.Point;this.interactive=this._elevationAlignedLocationDirty=!0;this.selectable=!1;this.grabbable=!0;this.cursor=null;this._selected=this._hovering=this.dragging=this._grabbing=!1;this._state=0;this._focused=!1;this.events=new B.EventEmitter;this._screenLocation={screenPointArray:d.createScreenPointArray(),
renderScreenPointArray:d.createRenderScreenPointArray3(),pixelSize:0};this._screenLocationDirty=!0;this._applyObjectTransform=null;this._engineResourcesAddedToStage=!1;this._engineResources=null;this._attached=!1;this._materialIdReferences=this._engineLayerId=null;this._location.spatialReference=h.view.spatialReference;for(var l in h)this[l]=h[l];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}l.prototype.destroy=function(){this._removeResourcesFromStage();this.camera=
this.view=this._engineResources=null};Object.defineProperty(l.prototype,"elevationInfo",{get:function(){return this._elevationInfo},set:function(d){this._elevationInfo=d;this._renderLocationDirty=this._elevationAlignedLocationDirty=!0;this._updateEngineObject()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"renderObjects",{get:function(){return this._renderObjects},set:function(d){this._removeResourcesFromStage();this._engineResources=null;this._renderObjects=d.slice();this._updateEngineObject()},
enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"available",{get:function(){return this._available},set:function(d){d!==this._available&&(this._available=d,this._updateEngineObject())},enumerable:!0,configurable:!0});l.prototype.disableDisplay=function(){var d=this;this._noDisplayCount++;1===this._noDisplayCount&&this._updateEngineObject();return{remove:z.once(function(){d._noDisplayCount--;0===d._noDisplayCount&&d._updateEngineObject()})}};Object.defineProperty(l.prototype,"radius",
{get:function(){return this._radius},set:function(d){d!==this._radius&&(this._radius=d,this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"worldSized",{get:function(){return this._worldSized},set:function(d){d!==this._worldSized&&(this._worldSized=d,this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"modelTransform",{get:function(){return this._modelTransform},set:function(d){Z(d)&&(this._screenLocationDirty=!0);
A.mat4.copy(this._modelTransform,d);this._updateEngineObject()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"renderLocation",{get:function(){this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=O.mat4f64.create()),M.computeLinearTransformation(this.view.renderSpatialReference,this._renderLocation,this._worldFrame,this.view.renderSpatialReference),
this._worldFrame[12]=0,this._worldFrame[13]=0,this._worldFrame[14]=0):this._worldFrame&&(this._worldFrame=null));return this._renderLocation},set:function(d){this.view.renderCoordsHelper.fromRenderCoords(d,this._location);this.elevationAlignedLocation=this._location},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"location",{get:function(){return this._location},set:function(d){r.clonePoint(d,this._location);this._elevationAlignedLocationDirty=this._screenLocationDirty=this._renderLocationDirty=
!0;this._updateEngineObject();this.events.emit("location-update",{location:this._location})},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"elevationAlignedLocation",{get:function(){if(!this._elevationAlignedLocationDirty)return this._elevationAlignedLocation;this._evaluateElevationAlignment();this._updateElevationAlignedLocation();return this._elevationAlignedLocation},set:function(d){r.clonePoint(d,this._location);this._evaluateElevationAlignment();this._location.z-=this._elevation.offset;
this._updateElevationAlignedLocation();this._updateEngineObject();this.events.emit("location-update",{location:this._location})},enumerable:!0,configurable:!0});l.prototype._updateElevationAlignedLocation=function(){this._elevationAlignedLocation.x=this.location.x;this._elevationAlignedLocation.y=this.location.y;var d=p.isSome(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=d+this._elevation.offset;this._elevationAlignedLocation.spatialReference=
this.location.spatialReference;this._screenLocationDirty=this._renderLocationDirty=!0;this._elevationAlignedLocationDirty=!1};Object.defineProperty(l.prototype,"grabbing",{get:function(){return this._grabbing},set:function(d){d!==this._grabbing&&(this._grabbing=d,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"hovering",{get:function(){return this._hovering},set:function(d){d!==this._hovering&&(this._hovering=
d,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"selected",{get:function(){return this._selected},set:function(d){d!==this._selected&&(this._selected=d,this._updateEngineObject(),this.events.emit("select-changed",{action:d?"select":"deselect"}))},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"state",{get:function(){return this._state},set:function(d){d!==this._state&&(this._state=
d,this._updateEngineObject())},enumerable:!0,configurable:!0});l.prototype.updateStateEnabled=function(d,h){this.state=h?this.state|d:this.state&~d};l.prototype._setFocused=function(d){d!==this._focused&&(this._focused=d,this.events.emit("focus-changed",{action:!0===d?"focus":"unfocus"}))};Object.defineProperty(l.prototype,"focused",{get:function(){return this._focused},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"screenLocation",{get:function(){this.ensureScreenLocation();return this._screenLocation},
enumerable:!0,configurable:!0});l.prototype.ensureScreenLocation=function(){if(this._screenLocationDirty){this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation);this._screenLocationDirty=!1;var d;Z(this._modelTransform)?(d=this._calculateModelTransformOffset(ka),d=C.vec3.add(d,d,this.renderLocation)):d=this.renderLocation;this.camera.projectPoint(d,this._screenLocation.renderScreenPointArray);this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,
this._screenLocation.screenPointArray)}};Object.defineProperty(l.prototype,"applyObjectTransform",{get:function(){return this._applyObjectTransform},set:function(d){this._applyObjectTransform=d;this._screenLocationDirty=!0;this._updateEngineObject()},enumerable:!0,configurable:!0});l.prototype.intersectionDistance=function(l,n){var p;if(!this.available)return null;var r=d.screenPointObjectToArray(l,X);l=this._getCollisionRadius(n);n=-1*this.collisionPriority;switch(this.collisionType.type){case "point":if(I.vec2.squaredDistance(this.screenLocation.screenPointArray,
r)<l*l)return this.screenLocation.renderScreenPointArray[2]+n;break;case "line":var u=this.collisionType.paths;p=this._getWorldToScreenObjectScale();p=this._calculateObjectTransform(p,pa);l*=this.screenLocation.pixelSize;for(var r=v.ray.fromScreen(this.camera,r,aa),x=0,z=u;x<z.length;x++)if(u=z[x],0!==u.length)for(var A=C.vec3.transformMat4(oa,u[0],p),B=1;B<u.length;B++){var E=C.vec3.transformMat4(H,u[B],p),D=v.lineSegment.closestRayDistance2(v.lineSegment.fromPoints(A,E,ca),r);if(null!=D&&D<l*l)return p=
C.vec3.add(U.sv3d.get(),A,E),C.vec3.scale(p,p,.5),l=d.castRenderScreenPointArray(U.sv3d.get()),this.camera.projectPoint(p,l),l[2]+n;C.vec3.copy(A,E)}break;case "disc":A=this.collisionType.direction;u=null!==(p=this.collisionType.offset)&&void 0!==p?p:F.ZEROS;p=this._getWorldToScreenObjectScale();p=this._calculateObjectTransform(p,pa);l*=this.screenLocation.pixelSize;r=v.ray.fromScreen(this.camera,r,aa);B=h.mat3.fromMat4(ga,p);A=C.vec3.transformMat3(V,A,B);B=C.vec3.transformMat4(ba,u,p);v.plane.fromPositionAndNormal(B,
A,da);x=J;if(v.plane.intersectRay(da,r,x)&&C.vec3.squaredDistance(x,B)<l*l)return this.screenLocation.renderScreenPointArray[2]+n;break;case "ribbon":p=this.collisionType;u=p.paths;A=p.direction;p=this._getWorldToScreenObjectScale();p=this._calculateObjectTransform(p,pa);l*=this.camera.computeScreenPixelSizeAt(this.renderLocation);r=v.ray.fromScreen(this.camera,r,aa);B=h.mat3.fromMat4(ga,p);A=C.vec3.transformMat3(V,A,B);B=this._calculateModelTransformPosition(ba);v.plane.fromPositionAndNormal(B,A,
da);x=J;if(!v.plane.intersectRay(da,r,x))break;r=0;for(z=u;r<z.length;r++)if(u=z[r],0!==u.length)for(A=C.vec3.transformMat4(oa,u[0],p),B=1;B<u.length;B++){E=C.vec3.transformMat4(H,u[B],p);D=v.lineSegment.distance2(v.lineSegment.fromPoints(A,E,ca),x);if(null!=D&&D<l*l)return p=C.vec3.add(U.sv3d.get(),A,E),C.vec3.scale(p,p,.5),l=d.castRenderScreenPointArray(U.sv3d.get()),this.camera.projectPoint(p,l),l[2]+n;C.vec3.copy(A,E)}break;default:y.neverReached(this.collisionType)}return null};l.prototype.attach=
function(d){void 0===d&&(d={manipulator3D:{}});if(this.view._stage){d=d.manipulator3D;this._engineLayerId=d.engineLayerId;if(p.isNone(this._engineLayerId)){var h=new R("manipulator-3d",{isPickable:!1});this.view._stage.add(0,h);this.view._stage.addToViewContent([h.id]);this._engineLayerId=h.id;d.engineLayerId=h.id}d.engineLayerReferences=(d.engineLayerReferences||0)+1;this._materialIdReferences=d.materialIdReferences;p.isNone(this._materialIdReferences)&&(this._materialIdReferences=new Map,d.materialIdReferences=
this._materialIdReferences);this.camera.copyFrom(this.view.state.camera);this._attached=!0;this._updateEngineObject();M.canProject(this._location.spatialReference,this.view.spatialReference)||(this.location=new u.Point({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}};l.prototype.detach=function(d){void 0===d&&(d={manipulator3D:{}});d=d.manipulator3D;d.engineLayerReferences--;var h=0===d.engineLayerReferences;h&&(d.engineLayerId=null);this._removeResourcesFromStage(h);this._materialIdReferences=
this._engineLayerId=this._engineResources=null;this._attached=!1};l.prototype.onViewChange=function(){this.camera.copyFrom(this.view.state.camera);this._screenLocationDirty=!0;this._updateEngineObject()};l.prototype.onElevationChange=function(d){W.pointToPoint(this.location,ua,d.spatialReference);E.containsPointObject(d.extent,ua)&&(this.location=this._location)};l.prototype._evaluateElevationAlignment=function(d){void 0===d&&(d=this.location);if(p.isNone(this.elevationInfo))return!1;var h=null,l=
0,n=p.unwrapOr(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case "on-the-ground":h=N.getElevationAtPoint(this.view.elevationProvider,d,"ground")||0;break;case "relative-to-ground":l=(N.getElevationAtPoint(this.view.elevationProvider,d,"ground")||0)+n;break;case "relative-to-scene":l=(N.getElevationAtPoint(this.view.elevationProvider,d,"scene")||0)+n;break;case "absolute-height":l=n}return l!==this._elevation.offset||h!==this._elevation.override?(this._elevation.offset=l,this._elevation.override=
h,!0):!1};l.prototype._updateEngineObject=function(){if(this._attached)if(this.available){var d=this._getWorldToScreenObjectScale(),h=pa;!0===this.autoScaleRenderObjects&&(d*=this._getFocusedSize(this._radius,this.focused));this._calculateObjectTransform(d,h);for(var d=this._ensureEngineResources().objectsByState,l=(this.focused?2:1)|(this.selected?8:4),n=0<this._noDisplayCount,p=0;p<d.length;p++){var r=d[p],u=r.stateMask,r=r.objects;if(n)for(var u=0,v=r;u<v.length;u++)r=v[u],r.setVisible(!1);else if(v=
0===(u&65520)||(this.state&u)===(u&65520),0!==(u&15)&&(l&u)!==(u&15)||!v)for(u=0,v=r;u<v.length;u++)r=v[u],r.setVisible(!1);else for(u=0,v=r;u<v.length;u++)r=v[u],r.setVisible(!0),r.objectTransformation=h}}else this._removeResourcesFromStage()};l.prototype._ensureEngineResources=function(){if(p.isNone(this._engineResources)){var d=this.view._stage.getContent(0,p.unwrap(this._engineLayerId)),h=[],l=new Set;this.renderObjects.forEach(function(d){d=d.material;l.has(d)||(h.push(d),l.add(d))});var n=function(d,
h){var l=h.geometry,n=h.material,p=h.transform;Array.isArray(l)?l.forEach(function(h){return d.addGeometry(h,n,p)}):d.addGeometry(l,n,p)},r=new Map;this.renderObjects.forEach(function(d){var h=new ea({idHint:"manipulator",castShadow:!1});n(h,d);d=d.stateMask||0;var l=r.get(d)||[];l.push(h);r.set(d,l)});var u=[];r.forEach(function(d,h){u.push({stateMask:h,objects:d})});this._engineResources={objectsByState:u,layer:d,materials:h}}this._addResourcesToStage();return this._engineResources};l.prototype._addResourcesToStage=
function(){var d=this;if(!this._engineResourcesAddedToStage&&!p.isNone(this._engineResources)){var h=this._engineResources,l=h.objectsByState,n=h.layer;h.materials.forEach(function(h){var l=p.unwrap(d._materialIdReferences),n=l.get(h.id)||0;0===n&&d.view._stage.add(3,h);l.set(h.id,n+1)});l.forEach(function(h){h.objects.forEach(function(h){n.addObject(h);d.view._stage.add(1,h)})});this._engineResourcesAddedToStage=!0}};l.prototype._removeResourcesFromStage=function(d){var h=this;void 0===d&&(d=!1);
if(this._engineResourcesAddedToStage&&!p.isNone(this._engineResources)){var l=this._engineResources,n=l.layer,r=l.materials;l.objectsByState.forEach(function(d){d.objects.forEach(function(d){n.removeObject(d);h.view._stage.remove(1,d.id)})});r.forEach(function(d){var l=p.unwrap(h._materialIdReferences),n=l.get(d.id);1===n?(h.view._stage.remove(3,d.id),l.delete(d.id)):l.set(d.id,n-1)});d&&this.view._stage.remove(0,n.id);this._engineResourcesAddedToStage=!1}};l.prototype._getCollisionRadius=function(d){return this._getFocusedSize(this.radius,
!0)*("touch"===d?this.touchMultiplier:1)};l.prototype._getFocusedSize=function(d,h){return d*(h?this.focusMultiplier:1)};l.prototype._getWorldToScreenObjectScale=function(){return this._worldSized?1:this.screenLocation.pixelSize};l.prototype._calculateModelTransformPosition=function(d){var h=this._getWorldToScreenObjectScale(),h=this._calculateObjectTransform(h,na);return C.vec3.set(d,h[12],h[13],h[14])};l.prototype._calculateModelTransformOffset=function(d){var h=this._calculateModelTransformPosition(d);
return C.vec3.subtract(d,h,this.renderLocation)};l.prototype._calculateObjectTransform=function(d,h){A.mat4.set(h,d,0,0,0,0,d,0,0,0,0,d,0,0,0,0,1);this._worldFrame&&A.mat4.multiply(h,h,this._worldFrame);A.mat4.multiply(h,h,this._modelTransform);h[12]+=this.renderLocation[0];h[13]+=this.renderLocation[1];h[14]+=this.renderLocation[2];h[15]=1;p.isSome(this._applyObjectTransform)&&this._applyObjectTransform(h);return h};Object.defineProperty(l.prototype,"test",{get:function(){var d=!1;if(p.isSome(this._engineResources))for(var h in this._engineResources.objectsByState){for(var l=
0,n=this._engineResources.objectsByState[h].objects;l<n.length;l++)if(n[l].isVisible){d=!0;break}if(d)break}return{areAnyResourcesVisible:d}},enumerable:!0,configurable:!0});return l}();l.Manipulator3D=D;var X=d.createScreenPointArray(),ca=v.lineSegment.create(),aa=v.ray.create(),ga=n.mat3f64.create(),na=O.mat4f64.create(),pa=O.mat4f64.create(),da=v.plane.create(),oa=Q.vec3f64.create(),H=Q.vec3f64.create(),J=Q.vec3f64.create(),V=Q.vec3f64.create(),ba=Q.vec3f64.create(),ka=Q.vec3f64.create(),ua=new u.Point({x:0,
y:0,z:0,spatialReference:null})})},"esri/views/3d/interactive/editingTools/manipulatorUtils":function(){define(["require","exports","../../../../core/maybe","../../../../support/elevationInfoUtils"],function(D,l,u,y){Object.defineProperty(l,"__esModule",{value:!0});l.canMoveZ=function(l,p){void 0===p&&(p=y.getGraphicEffectiveElevationInfo(l));return"on-the-ground"===p.mode||u.isNone(l.geometry)||!l.geometry.hasZ?!1:!0};l.disableDisplayOnGrab=function(l,p){var d=null,z=l.events.on("grab-changed",function(h){u.isSome(d)&&
(d.remove(),d=null);"start"===h.action&&(d=l.disableDisplay());p&&p(h)});return{remove:function(){u.isSome(d)&&d.remove();z.remove()}}}})},"esri/views/3d/interactive/editingTools/visualElementUtils":function(){define(["require","exports","../../../../core/maybe","./lineGraphicVisualElementUtils","./pointGraphicVisualElementUtils"],function(D,l,u,y,B){Object.defineProperty(l,"__esModule",{value:!0});l.createVisualElements=function(l){switch(u.unwrap(l.graphic.geometry).type){case "point":return B.createVisualElements(l);
case "polygon":case "polyline":return y.createVisualElements(l);default:return null}}})},"esri/views/3d/interactive/editingTools/lineGraphicVisualElementUtils":function(){define("require exports ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../support/elevationInfoUtils ../Manipulator3D ./ManipulatorState ./settings ../visualElements/LaserlineVisualElement ../visualElements/LineVisualElement ../visualElements/OutlineVisualElement ../../layers/graphics/GraphicState".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q){function F(d,h,l){var n=d.graphic,p=new C.OutlineVisualElement({view:d.view,geometry:N(n)?n.geometry:null,elevationInfo:z.getGraphicEffectiveElevationInfo(n),attached:!1});A.settings.visualElements.lineGraphics.shadowStyle.apply(p);d=function(){p.attached=h.displaying};A.settings.visualElements.lineGraphics.outline.apply(p);l.push(h.watch("displaying",d),h.watch("isDraped",function(d){return p.isDraped=d}),h.on("changed",function(){return p.geometry=N(n)?n.geometry:
null}),u.destroyHandle(p));d();return p}function E(d,h,l,p){var v=d.graphic,C=d.view,E=z.getGraphicEffectiveElevationInfo(v),F="on-the-ground"===E.mode||!E.offset&&"absolute-height"!==E.mode,D=new n.ManipulatorState,M=new I.LineVisualElement({view:C,infinite:A.settings.visualElements.zVerticalLine.infiniteType,attached:!1});A.settings.visualElements.pointGraphics.shadowStyle.apply(M);var E=y.deg2rad(A.settings.visualElements.heightPlaneAngleCutoff),U=new O.LaserlineVisualElement({view:C,attached:!1,
angleCutoff:E});A.settings.visualElements.heightPlane.apply(U);var Y=1,Q=1,W=function(){D.update(d);if(l.displaying&&(!F||!l.isDraped&&N(v)&&v.geometry.hasZ)){h.laserlineEnabled=!0;var n=D.grabbingState&4?A.settings.visualElements.laserlineAlphaMultiplier:1;n!==Y&&(Y=n,A.settings.visualElements.lineGraphics.shadowStyle.apply(h,n),A.settings.visualElements.pointGraphics.shadowStyle.apply(M,n));n=D.grabbingState&2?A.settings.visualElements.laserlineAlphaMultiplier:1;n!==Q&&(Q=n,A.settings.visualElements.heightPlane.apply(U,
n));n=1===D.numSelected?D.firstSelected:1<D.numSelected&&B.isSome(D.firstGrabbedXY)?D.firstGrabbedXY:null;B.isSome(n)?(A.settings.visualElements.zVerticalLine.infinite&&(M.worldDownAtLocation=n.renderLocation),M.attached=!0):M.attached=!1;r(d,h,U,D)}else h.laserlineEnabled=!1,M.attached=!1,U.attached=!1};A.settings.visualElements.zVerticalLine.apply(M);p.push(l.on("changed",W),l.watch("displaying",W),h.events.on("attachment-origin-changed",W),u.destroyHandle(M),u.destroyHandle(U));var oa=[],C=function(){u.handlesGroup(oa).remove();
oa.length=0;d.forEachManipulator(function(d){return oa.push(d.events.on("grab-changed",W))});d.forEachManipulator(function(d){return oa.push(d.events.on("select-changed",W))});W()};C();p.push(d.onManipulatorsChanged(C),u.refHandle(function(){return u.handlesGroup(oa)}))}function r(d,l,n,r){if(0<r.numSelected){p.vec3.set(v,0,0,0);var u=0;d.forEachManipulator(function(d,l){1===l&&d.selected&&d instanceof h.Manipulator3D&&(p.vec3.add(v,v,d.renderLocation),u++)});0<u?(n.heightManifoldTarget=p.vec3.scale(v,
v,1/u),n.attached=!0):n.attached=!1}else l=l.attachmentOrigin,B.isSome(l)&&d.view.renderCoordsHelper.toRenderCoords(l,v)?(n.heightManifoldTarget=v,n.attached=!0):n.attached=!1}function N(d){return B.isSome(d.geometry)&&("polygon"===d.geometry.type||"polyline"===d.geometry.type)}Object.defineProperty(l,"__esModule",{value:!0});l.createVisualElements=function(d){var h=d.view,l=d.graphic,n=new Q.GraphicState({graphic:l}),p=[],r=F(d,n,p);E(d,r,n,p);p.push(h.maskOccludee(l));p.push(h.trackGraphicState(n));
return{visualElement:r,remove:function(){u.handlesGroup(p).remove()}}};var v=d.vec3f64.create()})},"esri/views/3d/interactive/editingTools/ManipulatorState":function(){define(["require","exports","../../../../core/maybe","../Manipulator3D"],function(D,l,u,y){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function l(){this.grabbingState=0;this.firstSelected=this.zManipulator=null;this.numSelected=0;this.firstGrabbedXY=null}l.prototype.update=function(l){var d=this;this.grabbingState=
0;this.zManipulator=null;this.numSelected=0;this.firstGrabbedXY=this.firstSelected=null;l.forEachManipulator(function(l,h){0===h&&(d.zManipulator=l);l instanceof y.Manipulator3D&&(l.selected&&(0===d.numSelected&&(d.firstSelected=l),d.numSelected++),u.isNone(d.firstGrabbedXY)&&l.grabbing&&1===h&&(d.firstGrabbedXY=l));if(l.grabbing)switch(d.grabbingState|=1,h){case 0:d.grabbingState|=2;break;case 1:d.grabbingState|=4}})};return l}();l.ManipulatorState=D})},"esri/views/3d/interactive/visualElements/LineVisualElement":function(){define("require exports ../../../../core/maybe ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f32 ./LaserlineVisualElement ./VisualElementResources ../../support/geometryUtils ../../support/geometryUtils/clipRay ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/shaders/RibbonLineTechnique".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function l(d){var l=this;this.view=null;this._ray=A.ray.create();this._isWorldDown=!1;this._start=p.vec3f64.create();this._end=p.vec3f64.fromValues(1,0,0);this._width=1;this._color=z.vec4f32.fromValues(1,0,1,1);this._innerWidth=1;this._innerColor=z.vec4f32.fromValues(1,1,1,1);this._stippleOffColor=this._stipplePattern=null;this._infinite=this._falloff=0;this._laserlineStyle=null;this._laserlineEnabled=
!1;this._occludedMode=4;this.resources=new n.VisualElementResources({view:d.view,cameraChanged:function(){return l.updateGeometry()},createResources:function(d){return l.createResources(d)}});this._laserline=new h.LaserlineVisualElement({view:d.view});var r=!0,u;for(u in d)u in this?"attached"===u?r=d[u]:this[u]=d[u]:console.error("Cannot set unknown property",u);this.attached=r}l.prototype.destroy=function(){this.resources.destroy();this._laserline.destroy()};Object.defineProperty(l.prototype,"laserlineAttached",
{get:function(){return this.attached&&!this.hidden&&this._laserlineEnabled&&u.isSome(this._laserlineStyle)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(d){this.resources.hidden=d;this._laserline.attached=this.laserlineAttached},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"attached",{get:function(){return this.resources.attached},set:function(d){this.resources.attached=d;this._laserline.attached=
this.laserlineAttached},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"worldDownAtLocation",{set:function(d){this._isWorldDown=!0;B.vec3.copy(this._start,d);this.view.renderCoordsHelper.worldUpAtPosition(d,this._end);B.vec3.subtract(this._end,d,this._end);A.ray.fromPoints(this._start,this._end,this._ray);this.updateGeometry()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"start",{get:function(){return this._start},set:function(d){this._isWorldDown=!1;B.vec3.exactEquals(this._start,
d)||(B.vec3.copy(this._start,d),A.ray.fromPoints(this._start,this._end,this._ray),this.updateGeometry())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"end",{get:function(){return this._end},set:function(d){this._isWorldDown=!1;B.vec3.exactEquals(this._end,d)||(B.vec3.copy(this._end,d),A.ray.fromPoints(this._start,this._end,this._ray),this.updateGeometry())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"width",{get:function(){return this._width},set:function(d){d!==
this._width&&(this._width=d,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"color",{get:function(){return this._color},set:function(h){d.vec4.exactEquals(h,this._color)||(d.vec4.copy(this._color,h),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"innerWidth",{get:function(){return this._innerWidth},set:function(d){d!==this._innerWidth&&(this._innerWidth=d,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"innerColor",{get:function(){return this._innerColor},set:function(h){d.vec4.exactEquals(h,this._innerColor)||(d.vec4.copy(this._innerColor,h),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"stipplePattern",{get:function(){return this._stipplePattern},set:function(d){var h=u.isSome(d)!==u.isSome(this._stipplePattern);this._stipplePattern=d;h?this.resources.recreate():this.updateMaterial()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"stippleOffColor",{get:function(){return this._stippleOffColor},set:function(h){if(u.isNone(h)||u.isNone(this._stippleOffColor)||!d.vec4.exactEquals(h,this._stippleOffColor))this._stippleOffColor=u.isSome(h)?z.vec4f32.clone(h):null,this.updateMaterial()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"falloff",{get:function(){return this._falloff},set:function(d){d!==this._falloff&&(this._falloff=d,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"infinite",{get:function(){return this._infinite},set:function(d){d!==this._infinite&&(this._infinite=d,this.updateGeometry())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"laserlineStyle",{get:function(){return this._laserlineStyle},set:function(d){this._laserlineStyle=d;this._laserline.attached=this.laserlineAttached;u.isSome(d)&&(this._laserline.style=d)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"laserlineEnabled",{get:function(){return this._laserlineEnabled},
set:function(d){this._laserlineEnabled!==d&&(this._laserlineEnabled=d,this._laserline.attached=this.laserlineAttached)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"occludedMode",{get:function(){return this._occludedMode},set:function(d){d!==this._occludedMode&&(this._occludedMode=d,u.isSome(this.resources.resources)&&(this.resources.resources.material.renderOccluded=d))},enumerable:!0,configurable:!0});l.prototype.updateMaterial=function(){var d=this.resources.resources;u.isNone(d)||
d.material.setParameterValues(this.materialParameters)};Object.defineProperty(l.prototype,"materialParameters",{get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff}},enumerable:!0,configurable:!0});l.prototype.updateGeometry=function(){var d=this.resources.object;u.isNone(d)||this.updateVertices(d)};l.prototype.updateVertices=function(d){if(this._infinite){var h=
this.view.state.camera;O.fromRay(this._ray,E);switch(this._infinite){case 2:E.c0=-Number.MAX_VALUE;break;case 1:case 3:var l=this._ray.origin,n=this.view.elevationProvider.getElevation(l[0],l[1],l[2],this.view.renderCoordsHelper.spatialReference,"ground"),l=this.view.renderCoordsHelper.getAltitude(l);this._isWorldDown&&l<n&&B.vec3.negate(E.ray.direction,E.ray.direction);3===this._infinite&&null!=n&&(E.c1=Math.abs(l-n))}A.frustum.intersectClipRay(h.frustum.planes,E)?(h=O.getStart(E,r),n=O.getEnd(E,
N),this.updateVertexAttributes(d,h,n),this._laserline.intersectsLine=A.lineSegment.fromPoints(h,n,v)):this.updateVertexAttributes(d,this._start,this._end)}else this.updateVertexAttributes(d,this._start,this._end),this._laserline.intersectsLine=A.lineSegment.fromPoints(this._start,this._end,v)};l.prototype.updateVertexAttributes=function(d,h,l){var n=d.geometryRecords[0].geometry.data.getVertexAttr()[F.RibbonVertexAttributeConstants.POSITION].data;n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=l[0];n[4]=l[1];
n[5]=l[2];d.geometryVertexAttrsUpdated(0)};l.prototype.createResources=function(d){var h=[p.vec3f64.create(),p.vec3f64.create()],l=new I(C.createPolylineGeometry(h),"lineVisualElement"),n=new Q(this.materialParameters,"lineVisualElement");n.renderOccluded=this._occludedMode;d.addGeometry(l,n,y.mat4f64.IDENTITY);this.updateVertices(d);return{material:n,geometry:l,forEach:function(d){return d(n),d(l)}}};return l}();l.LineVisualElement=D;var E=O.create(),r=p.vec3f64.create(),N=p.vec3f64.create(),v=A.lineSegment.create()})},
"esri/views/3d/layers/graphics/GraphicState":function(){define(["require","exports","tslib","../../../../core/Evented","../../../../core/accessorSupport/decorators"],function(D,l,u,y,B){Object.defineProperty(l,"__esModule",{value:!0});D=function(l){function d(d){d=l.call(this,d)||this;d.tracking=!1;d.displaying=!1;d.isDraped=!1;return d}u.__extends(d,l);u.__decorate([B.property({constructOnly:!0})],d.prototype,"graphic",void 0);u.__decorate([B.property()],d.prototype,"tracking",void 0);u.__decorate([B.property()],
d.prototype,"displaying",void 0);u.__decorate([B.property()],d.prototype,"isDraped",void 0);return d=u.__decorate([B.subclass("esri.views.3d.layers.graphics.GraphicState")],d)}(y.EventedAccessor);l.GraphicState=D})},"esri/views/3d/interactive/editingTools/pointGraphicVisualElementUtils":function(){define("require exports ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../core/watchUtils ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/aaBoundingRect ../../../../support/elevationInfoUtils ./ManipulatorState ./settings ../visualElements/LaserlineVisualElement ../visualElements/LineVisualElement ../visualElements/PointVisualElement ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/GraphicState ../../support/projectionUtils".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v){function M(l,n,p,z){var B=l.view,F=l.graphic,D=new Q.LineVisualElement({view:B,infinite:I.settings.visualElements.zVerticalLine.infiniteType,attached:!1});I.settings.visualElements.zVerticalLine.apply(D);var H=new C.LaserlineVisualElement({view:B,intersectsLineInfinite:!0,attached:!1});I.settings.visualElements.pointGraphics.shadowStyle.apply(H);var J=y.deg2rad(I.settings.visualElements.heightPlaneAngleCutoff),V=new C.LaserlineVisualElement({view:B,
attached:!1,angleCutoff:J});I.settings.visualElements.heightPlane.apply(V);var J=A.getGraphicEffectiveElevationInfo(l.graphic),R=r.ElevationContext.fromElevationInfo(J),M="on-the-ground"===J.mode||!J.offset&&"absolute-height"!==J.mode,ca=new O.ManipulatorState,N=1,Y=1,aa=function(){ca.update(l);var p=M&&(n.isDraped||!ea(F)||!F.geometry.hasZ),r=!0;if(!p&&ea(F)){var u=F.geometry,x=E.evaluateElevationAlignmentAtPoint(F.geometry,B.elevationProvider,R,B.renderCoordsHelper);d.vec3.set(Z,u.x,u.y,x);v.vectorToVector(Z,
u.spatialReference,Z,B.renderCoordsHelper.spatialReference);D.worldDownAtLocation=Z;H.intersectsWorldUpAtLocation=Z}else r=!1;u=ca.grabbingState&2?I.settings.visualElements.laserlineAlphaMultiplier:1;u!==N&&(N=u,I.settings.visualElements.heightPlane.apply(V,u));u=h.empty(X);!p&&n.displaying&&z.calculateMapBounds(u)&&v.vectorToVector(h.getMin(u,Z),B.spatialReference,Z,B.renderCoordsHelper.spatialReference)?(V.heightManifoldTarget=Z,V.attached=!0):V.attached=!1;u=ca.grabbingState&4?I.settings.visualElements.laserlineAlphaMultiplier:
1;u!==Y&&(Y=u,I.settings.visualElements.pointGraphics.shadowStyle.apply(H,u));p=r&&n.displaying&&!p;H.attached=p;D.attached=p};p.push(n.watch(["displaying","isDraped"],aa),n.on("changed",aa));l.forEachManipulator(function(d){p.push(d.events.on("grab-changed",aa))});p.push(u.destroyHandle(H));p.push(u.destroyHandle(D));p.push(u.destroyHandle(V));aa()}function U(d,h,l){var n=d.graphic,n=new F.PointVisualElement({view:d.view,geometry:ea(n)?n.geometry:null,elevationInfo:A.getGraphicEffectiveElevationInfo(n),
attached:!1});W(d,n,h,l);l.push(u.destroyHandle(n));return n}function W(d,h,l,n){Y(d,h,l,n);I.settings.visualElements.pointGraphics.outline.apply(h);n.push(p.init(l,"displaying",function(){return h.attached=l.displaying}))}function Y(d,h,l,n){var p=d.view,r=d.graphic,v=null,y=function(){B.isSome(v)&&(v.remove(),v=null);l.isDraped&&ea(r)&&(v=R(p,r.geometry,function(){h.geometry=r.geometry}))};d=function(){y();h.geometry=ea(r)?r.geometry:null};n.push(l.on("changed",d),u.refHandle(function(){return v}));
d()}function R(d,h,l){v.pointToVector(h,Z,d.elevationProvider.spatialReference);var p=Z[0],r=Z[1];return d.elevationProvider.on("elevation-change",function(d){n.containsXY(d.extent,p,r)&&l()})}function ea(d){return B.isSome(d.geometry)&&"point"===d.geometry.type}Object.defineProperty(l,"__esModule",{value:!0});l.createVisualElements=function(d){var h=d.view,l=new N.GraphicState({graphic:d.graphic}),n=[],p=U(d,l,n);M(d,l,n,p);n.push(h.trackGraphicState(l));return{visualElement:p,remove:function(){u.handlesGroup(n).remove()}}};
var Z=z.vec3f64.create(),X=h.create()})},"esri/views/3d/interactive/visualElements/PointVisualElement":function(){define("require exports ../../../../core/mathUtils ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../../../../geometry/support/aaBoundingBox ./VisualElementResources ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/sdfPrimitives ../../support/projectionUtils ../../support/stack ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/Texture ../../webgl-engine/lib/Util ../../webgl-engine/materials/HUDMaterial".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function l(d){var h=this;this._geometry=this.view=null;this._size=3;this._color=z.vec4f64.fromValues(1,0,1,1);this._primitive="square";this._outlineSize=1;this._outlineColor=z.vec4f64.fromValues(1,1,1,1);this._elevationInfo=null;this.resources=new n.VisualElementResources({view:d.view,createResources:function(d){return h.createResources(d)},recreateGeometry:function(d,l){d.geometry=h.recreateGeometry(l,
d.material);return y.isSome(d.geometry)?[d.geometry]:[]}});var l=!0,p;for(p in d)p in this?"attached"===p?l=d[p]:this[p]=d[p]:console.error("Cannot set unknown property",p);this.attached=l}l.prototype.destroy=function(){this.resources.destroy()};Object.defineProperty(l.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(d){this.resources.hidden=d},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"attached",{get:function(){return this.resources.attached},
set:function(d){this.resources.attached=d},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"geometry",{get:function(){return this._geometry},set:function(d){this._geometry=d;this.resources.recreateGeometry()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"size",{get:function(){return this._size},set:function(d){if(d!==this._size){var h=this.preferredTextureSize;this._size=d;h<this.preferredTextureSize?y.isSome(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}},
enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"color",{get:function(){return this._color},set:function(h){d.vec4.exactEquals(h,this._color)||(d.vec4.copy(this._color,h),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"primitive",{get:function(){return this._primitive},set:function(d){this._primitive!==d&&(this._primitive=d,y.isSome(this.resources)&&this.resources.recreate())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"outlineSize",{get:function(){return this._outlineSize},set:function(d){d!==this._outlineSize&&(this._outlineSize=d,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(h){d.vec4.exactEquals(h,this._outlineColor)||(d.vec4.copy(this._outlineColor,h),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"elevationInfo",{get:function(){return this._elevationInfo},
set:function(d){this._elevationInfo=d;this.resources&&this.resources.recreateGeometry()},enumerable:!0,configurable:!0});l.prototype.updateMaterial=function(){var d=this.resources.resources;y.isNone(d)||d.material.setParameterValues(this.materialParameters(d.texture.id))};l.prototype.updateSizeAttribute=function(){var d=this.resources.resources,h=this.resources.object;if(!y.isNone(d)&&!y.isNone(h)&&(d=d.geometry,!y.isNone(d))){var d=d.data.getVertexAttr()[N.VertexAttrConstants.SIZE].data,l=this.geometrySize;
d[0]=l;d[1]=l;h.geometryVertexAttrsUpdated(0)}};l.prototype.materialParameters=function(d){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:U,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:d,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1}};Object.defineProperty(l.prototype,"geometrySize",{get:function(){return this._size/M},enumerable:!0,configurable:!0});l.prototype.recreateGeometry=function(d,
h){var l=this.createRenderGeometry();y.isSome(l)&&d.addGeometry(l,h);return l};l.prototype.createResources=function(d){var h=this.createTexture(),l=new v.default(this.materialParameters(h.id),"pointVisualElement");l.renderOccluded=8;d=this.recreateGeometry(d,l);return{material:l,texture:h,geometry:d,forEach:function(d){d(h);d(l);y.isSome(this.geometry)&&d(this.geometry)}}};Object.defineProperty(l.prototype,"preferredTextureSize",{get:function(){return u.clamp(u.nextHighestPowerOfTwo(2*this.geometrySize),
16,128)},enumerable:!0,configurable:!0});l.prototype.createTexture=function(){var d=this.preferredTextureSize;return new r(I.createType(this._primitive,d,d*M),"pointVisualElement",{mipmap:!1,wrap:{s:33071,t:33071},width:d,height:d,components:4,noUnpackFlip:!0})};l.prototype.calculateMapBounds=function(d){if(y.isNone(this.resources.resources)||y.isNone(this.resources.resources.geometry))return!1;var l=this.resources.resources.geometry.data.getAttribute("position");C.vectorToVector(l.data,this.view.renderCoordsHelper.spatialReference,
W,this.view.spatialReference);h.expandWithBuffer(d,W);return!0};l.prototype.createRenderGeometry=function(){var d=this.geometry;if(y.isNone(d))return null;var h=this.view.renderCoordsHelper,l=A.evaluateElevationAlignmentAtPoint(d,this.view.elevationProvider,O.ElevationContext.fromElevationInfo(this.elevationInfo),h),n=B.vec3.set(Q.sv3d.get(),d.x,d.y,l),l=Q.sv3d.get();C.vectorToVector(n,d.spatialReference,l,h.spatialReference);d=this.geometrySize;d=E.createPointGeometry(null,l,null,[d,d],[0,0,0,1]);
return new F(d)};return l}();l.PointVisualElement=D;var M=.5,U=[M/2,M/2,1-M/2,1-M/2],W=p.vec3f64.create()})},"esri/views/3d/interactive/editingTools/manipulations/config":function(){define(["require","exports"],function(D,l){Object.defineProperty(l,"__esModule",{value:!0});l.HANDLE_COLOR=[1,.5,0];l.GEOMETRY_SEGMENTS=128;l.DISC_RADIUS=70;l.DISC_COLLISION_RADIUS=80;l.DISC_HEIGHT=.02;l.DISC_TRANSLATE_ARROW_SIZE=54;l.DISC_TRANSLATE_ARROW_OFFSET=100;l.DISC_RADIUS_SMALL=Math.ceil(l.DISC_RADIUS/3*2);l.RING_RADIUS=
160;l.RING_HEIGHT=.5;l.RING_THICKNESS=24;l.INDICATOR_THICKNESS=9;l.INNER_INDICATOR_RADIUS=l.RING_RADIUS+30;l.OUTER_INDICATOR_RADIUS=l.RING_RADIUS+53;l.ROTATE_INDICATOR_ARROW_TIP_LENGTH=60;l.ROTATE_INDICATOR_ARROW_TIP_RADIUS=23;l.ROTATE_INDICATOR_ARC_LENGTH=5*Math.PI/12;l.SCALE_INDICATOR_ARC_LENGTH=1*Math.PI/3;l.DRAG_THRESHOLD_PX=10;l.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE=.2;l.SCALE_INDICATOR_OFFSET1=30;l.SCALE_INDICATOR_OFFSET2=53;l.SCALE_INDICATOR_DIRECTION_BUFFER=.2;l.ROTATE_INDICATOR_DIRECTION_BUFFER=
.3;l.RING_INDICATOR_DELAY_MS=200;l.RING_RESET_ANIMATION_SPEED_FACTOR=3;l.ALIGN_ARROWS_SCALE_THRESHOLD=1E6})},"esri/views/3d/interactive/editingTools/manipulations/MoveManipulation":function(){define("require exports tslib ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/has ../../../../../core/maybe ./config ./Manipulation ./MoveXYAxisManipulation ./MoveXYDiscManipulation ./MoveZManipulation".split(" "),function(D,l,u,y,B,p,d,z,h,n,A,O){Object.defineProperty(l,"__esModule",
{value:!0});D=function(h){function l(d){var l=h.call(this)||this;l._handles=new y;l._angleDeferred=null;l._interactive=!0;var p=d.tool,u=d.view,v=d.snapToScene,z=d.radius;l._view=u;l.xyManipulation=new A.MoveXYDiscManipulation({tool:p,view:u,snapToScene:v,radius:z});l.xyAxisManipulation=new n.MoveXYAxisManipulation({tool:p,view:u,radius:z});l.zManipulation=new O.MoveZManipulation({tool:p,view:u,radius:z});l.xyManipulation.available=d.xyAvailable;l.xyAxisManipulation.available=d.xyAxisAvailable;l.zManipulation.available=
d.zAvailable;l.autoHideXYAxis();l.forEachManipulator(function(d){l._handles.add(d.events.on("grab-changed",function(){return l.updateManipulatorInteractivity()}))});return l}u.__extends(l,h);l.prototype.destroy=function(){this._handles.destroy();this.xyManipulation.destroy();this.xyAxisManipulation.destroy();this.zManipulation.destroy()};l.prototype.createGraphicDragPipeline=function(d,h){return B.handlesGroup([this.xyManipulation.createGraphicDragPipeline(d,h),this.xyAxisManipulation.createGraphicDragPipeline(d,
h),this.zManipulation.createGraphicDragPipeline(d,h)])};l.prototype.createDragPipeline=function(d,h,l){return B.handlesGroup([this.xyManipulation.createDragPipeline(d,h,l),this.xyAxisManipulation.createDragPipeline(d,h,l),this.zManipulation.createDragPipeline(d,l)])};Object.defineProperty(l.prototype,"snapToScene",{set:function(d){this.xyManipulation.snapToScene=d},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"angle",{set:function(d){this._angleDeferred=null;this.xyAxisManipulation.angle=
d},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"angleDeferred",{set:function(d){this.xyAxisVisible?this.angle=d():this._angleDeferred=d},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"interactive",{set:function(d){this._interactive!==d&&(this._interactive=d,this.updateManipulatorInteractivity())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"radius",{set:function(d){this.xyAxisManipulation.radius=d;this.xyManipulation.radius=d;this.zManipulation.radius=
d},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"displayScale",{set:function(d){this.xyManipulation.displayScale=d;this.xyAxisManipulation.displayScale=d},enumerable:!0,configurable:!0});l.prototype.forEachManipulator=function(d){this.xyManipulation.forEachManipulator(function(h){return d(h,1)});this.xyAxisManipulation.forEachManipulator(function(h){return d(h,1)});this.zManipulation.forEachManipulator(function(h){return d(h,0)})};Object.defineProperty(l.prototype,"xyAxisVisible",
{get:function(){var d=this.xyManipulation.someManipulator(function(d){return d.focused})||this.xyAxisManipulation.someManipulator(function(d){return d.focused});return this._view.inputManager&&"touch"===this._view.inputManager.latestPointerType||d},enumerable:!0,configurable:!0});l.prototype.autoHideXYAxis=function(){var h=this,l=this.xyAxisManipulation,n=this.xyManipulation;if(!p("esri-mobile")){var u=[];n.forEachManipulator(function(d){return u.push(d)});l.forEachManipulator(function(d){return u.push(d)});
for(var n=function(){var n=[];h.xyAxisVisible?d.isSome(h._angleDeferred)&&(h.angle=h._angleDeferred()):l.forEachManipulator(function(d){return n.push(d.disableDisplay())});h._handles.remove(I);h._handles.add(n,I)},v=0;v<u.length;v++)this._handles.add(u[v].events.on("focus-changed",n));this._view.inputManager&&this._handles.add(this._view.inputManager.watch("latestPointerType",n));n()}};l.prototype.updateManipulatorInteractivity=function(){var d=this,h=this.grabbing;this.forEachManipulator(function(l){l.interactive=
!h&&d._interactive||l.grabbing})};l.radiusForSymbol=function(h){return(h=d.isSome(h)&&"point-3d"===h.type&&h.symbolLayers)&&0<h.length&&h.some(function(d){return"icon"===d.type})?z.DISC_RADIUS_SMALL:z.DISC_RADIUS};return l}(h.Manipulation);l.MoveManipulation=D;var I="disable-xy-axis-display"})},"esri/views/3d/interactive/editingTools/manipulations/Manipulation":function(){define(["require","exports","../../Manipulator3D"],function(D,l,u){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function l(){this._available=
!0}Object.defineProperty(l.prototype,"location",{set:function(l){this.forEachManipulator3D(function(p){return p.location=l})},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"elevationAlignedLocation",{set:function(l){this.forEachManipulator3D(function(p){return p.elevationAlignedLocation=l})},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"elevationInfo",{set:function(l){this.forEachManipulator3D(function(p){return p.elevationInfo=l})},enumerable:!0,configurable:!0});
Object.defineProperty(l.prototype,"available",{get:function(){return this._available},set:function(l){this._available=l;this.forEachManipulator3D(function(p){return p.available=l})},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"grabbing",{get:function(){return this.someManipulator(function(l){return l.grabbing})},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"dragging",{get:function(){return this.someManipulator(function(l){return l.dragging})},enumerable:!0,
configurable:!0});l.prototype.hasManipulator=function(l){return this.someManipulator(function(p){return p===l})};l.prototype.someManipulator=function(l){var p=!1;this.forEachManipulator(function(d){!p&&l(d)&&(p=!0)});return p};l.prototype.forEachManipulator3D=function(l){this.forEachManipulator(function(p,d){p instanceof u.Manipulator3D&&l(p,d)})};return l}();l.Manipulation=D})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation":function(){define("require exports tslib ../../../../../Color ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../support/elevationInfoUtils ../../Manipulator3D ../dragEventPipeline3D ../settings ./config ./Manipulation ./moveUtils ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v,M,U,W,Y){Object.defineProperty(l,"__esModule",{value:!0});D=function(l){function r(d){var h=l.call(this)||this;h._handles=new p;h._arrowManipulatorInfos=[];h._opaqueMaterial=h.createMaterial();h._transparentMaterial=h.createMaterial(.5);h._angle=0;h._scale=1;h._radius=E.DISC_RADIUS;h._updateAfterDrag=!1;h.events=new B;h._tool=d.tool;h._view=d.view;null!=d.radius&&(h._radius=d.radius);h._createManipulators();h.forEachManipulator(function(d){return h._tool.manipulators.add(d)});
return h}u.__extends(r,l);Object.defineProperty(r.prototype,"orthogonalAvailable",{set:function(d){this._arrowManipulatorInfos[1].manipulator.available=d;this._arrowManipulatorInfos[3].manipulator.available=d},enumerable:!0,configurable:!0});r.prototype.destroy=function(){var d=this;this.forEachManipulator(function(h){d._tool.manipulators.remove(h);h.destroy()});this._handles.removeAll();this._view=this._tool=null;this._arrowManipulatorInfos.length=0};r.prototype.forEachManipulator=function(d){this._arrowManipulatorInfos.map(function(h){return d(h.manipulator,
1)})};r.prototype.createGraphicDragPipeline=function(d,h){var l=this,n=d.graphic,p=I.getGraphicEffectiveElevationInfo(n),r=z.unwrap(n.geometry).spatialReference;return N.createGraphicMoveDragPipeline(d,h,function(d){return l.createDragPipeline(d,p,r)})};r.prototype.createDragPipeline=function(h,l,n){var p=this;return d.handlesGroup(this._arrowManipulatorInfos.map(function(d,r){return Y.createManipulatorDragEventPipeline(d.manipulator,function(d,u,v,z){u=u.next(Q.screenToMapXYAtLocation(p._view,d.elevationAlignedLocation,
l,n)).next(Y.constrainToMapAxis(d.location,p.angle+(r+1)*Math.PI*.5)).next(Y.addScreenDelta());h(d,u,v,z)})}))};Object.defineProperty(r.prototype,"angle",{get:function(){return this._angle},set:function(d){this._angle=d;this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"displayScale",{get:function(){return this._scale},set:function(d){this._scale=d;this._updateManipulatorTransform()},enumerable:!0,configurable:!0});
Object.defineProperty(r.prototype,"radius",{get:function(){return this._radius},set:function(d){this._radius!==d&&(this._radius=d,this._updateManipulators())},enumerable:!0,configurable:!0});r.prototype._updateManipulators=function(){for(var d=0;d<this._arrowManipulatorInfos.length;d++)this._updateArrowManipulator(this._arrowManipulatorInfos[d],d);this._updateManipulatorTransform()};r.prototype._updateArrowManipulator=function(d,l){var n=d.manipulator;d=d.transform;var p=this._radius/E.DISC_RADIUS,
r=E.DISC_TRANSLATE_ARROW_SIZE*p,u=Math.sqrt(r*r*3/4),r=U.createExtrudedTriangle(u,r/2,r/2,E.DISC_HEIGHT);U.transformInPlace(r,h.mat4.fromTranslation(v.sm4d.get(),A.vec3.set(v.sv3d.get(),0,-u/3,0)));r=new M(r,"move-xy-axis-arrow");n.renderObjects=[{geometry:r,material:this._opaqueMaterial,stateMask:2},{geometry:r,material:this._transparentMaterial,stateMask:1}];n.radius=u/3*2.4;n=h.mat4.identity(v.sm4d.get());h.mat4.fromZRotation(n,l*Math.PI/2);l=h.mat4.identity(v.sm4d.get());h.mat4.fromTranslation(l,
A.vec3.set(v.sv3d.get(),0,E.DISC_TRANSLATE_ARROW_OFFSET*p,0));h.mat4.multiply(d,n,l)};r.prototype._createManipulators=function(){for(var d=0;4>d;d++){var h=this._createArrowManipulator(d);this._arrowManipulatorInfos.push(h)}this._updateManipulatorTransform()};r.prototype._updateManipulatorTransform=function(){var d=this.angle,l=h.mat4.identity(v.sm4d.get());h.mat4.rotate(l,l,d,O.vec3f64.fromValues(0,0,1));var n=h.mat4.fromScaling(v.sm4d.get(),A.vec3.set(v.sv3d.get(),this.displayScale,this.displayScale,
this.displayScale)),d=h.mat4.identity(v.sm4d.get());h.mat4.multiply(d,n,l);l=0;for(n=this._arrowManipulatorInfos;l<n.length;l++){var p=n[l],r=h.mat4.multiply(v.sm4d.get(),d,p.transform);p.manipulator.modelTransform=r}};r.prototype._createArrowManipulator=function(d){var h=this,l=new C.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:O.vec3f64.fromValues(0,0,1)}}),p={manipulator:l,transform:n.mat4f64.create()};
this._updateArrowManipulator(p,d);this._handles.add(l.events.on("drag",function(d){h._updateAfterDrag&&"end"===d.action&&!h.dragging&&(h._updateManipulatorTransform(),h._updateAfterDrag=!1)}));return p};r.prototype.createMaterial=function(d){void 0===d&&(d=1);var h=y.toUnitRGBA(F.colors.main);h[3]*=d;d=new W({color:h,transparent:1!==d,cullFace:2},"graphic-transform");d.renderOccluded=2;return d};Object.defineProperty(r.prototype,"test",{get:function(){return{arrowManipulators:this._arrowManipulatorInfos.map(function(d){return d.manipulator})}},
enumerable:!0,configurable:!0});return r}(r.Manipulation);l.MoveXYAxisManipulation=D})},"esri/views/3d/interactive/editingTools/dragEventPipeline3D":function(){define("require exports tslib ../../../../geometry ../../../../core/mathUtils ../../../../core/maybe ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../support/elevationInfoUtils ../../support/geometryUtils ../../support/geometryUtils ../../support/projectionUtils ../../support/stack ../../webgl-engine/lib/Intersector ../../webgl-engine/lib/intersectorUtils ../../../interactive/dragEventPipeline".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E){function r(l,n){var p=h.vec3f64.create(),r=h.vec3f64.create(),v=!1;return function(h){if("start"===h.action){var z=d.screenPointObjectToArray(h.screenStart,d.castScreenPointArray(C.sv2d.get())),z=O.ray.fromScreen(l.state.camera,z,Z);v=O.plane.intersectRay(n,z,p)}if(!v)return null;z=d.screenPointObjectToArray(h.screenEnd,d.castScreenPointArray(C.sv2d.get()));z=O.ray.fromScreen(l.state.camera,z,Z);return O.plane.intersectRay(n,z,r)?u.__assign(u.__assign({},
h),{renderStart:p,renderEnd:r,plane:n,ray:z}):null}}function N(h,l,n,r){void 0===r&&(r=null);var v=null;return function(z){if("start"===z.action&&(v=h.sceneIntersectionHelper.intersectElevationFromScreen(d.createScreenPointArray(z.screenStart.x,z.screenStart.y),l,n),p.isSome(v)&&p.isSome(r)&&!I.pointToPoint(v,v,r))||p.isNone(v))return null;var y=h.sceneIntersectionHelper.intersectElevationFromScreen(d.createScreenPointArray(z.screenEnd.x,z.screenEnd.y),l,n);return p.isSome(y)?p.isSome(r)&&!I.pointToPoint(y,
y,r)?null:u.__assign(u.__assign({},z),{mapStart:v,mapEnd:y}):null}}function v(d,h,l,p){void 0===p&&(p=null);h=n.getZForElevationMode(h,d,l);return N(d,l,h,p)}function M(d,h,l,p){void 0===p&&(p=null);return v(d,l,n.getGraphicEffectiveElevationInfo(h),p)}function U(d,h){var l=R,n=ea,p=O.plane.create();d.renderCoordsHelper.worldUpAtPosition(h,l);d=z.vec3.cross(p,l,z.vec3.subtract(n,h,d.state.camera.eye));z.vec3.cross(d,d,l);return O.plane.fromPositionAndNormal(h,d,p)}function W(d,l){var n=h.vec3f64.create(),
p=z.vec3.length(l);d.renderCoordsHelper.worldUpAtPosition(l,n);var r=h.vec3f64.create(),u=h.vec3f64.create(),v=function(h){z.vec3.subtract(h,h,l);A.vector.projectPoint(n,h,h);"global"===d.viewingMode&&z.vec3.length(h)*B.sign(z.vec3.dot(n,h))<-p+.001&&z.vec3.subtract(h,z.vec3.scale(h,n,.001),l);z.vec3.add(h,h,l);return h};return function(d){d.renderStart=v(z.vec3.copy(r,d.renderStart));d.renderEnd=v(z.vec3.copy(u,d.renderEnd));return d}}function Y(d,h){var l=d.renderCoordsHelper;return function(d){var n=
l.fromRenderCoords(d.renderStart,new y.Point,h),r=l.fromRenderCoords(d.renderEnd,new y.Point,h);return p.isSome(n)&&p.isSome(r)?u.__assign(u.__assign({},d),{mapStart:n,mapEnd:r}):null}}Object.defineProperty(l,"__esModule",{value:!0});l.screenToRenderPlane=r;l.screenToMapXY=N;l.screenToMapXYAtLocation=v;l.screenToMapXYForGraphicAtLocation=M;l.screenToMapXYForGraphic=function(d,h,l,n){d=h.toMap(d.screenStart,{include:[l]});return p.isSome(d)?M(h,l,d,n):null};l.screenToZConstrained=function(d,h,l){var n=
null,p=new E.EventPipeline;p.next(r(d,U(d,h))).next(W(d,h)).next(Y(d,l)).next(function(d){d.mapEnd.x=d.mapStart.x;d.mapEnd.y=d.mapStart.y;n=d});return function(d){n=null;p.execute(d);return n}};l.projectToWorldUp=W;l.convertToMapCoordinates=Y;l.hideManipulatorWhileDragging=function(d){var h=null;return function(l){switch(l.action){case "start":h=d.disableDisplay();break;case "end":case "cancel":p.isSome(h)&&(h.remove(),h=null)}return l}};l.screenToMap3D=function(l,n){void 0===n&&(n=null);var r=null,
v=new Q.Intersector(l.viewingMode);v.options.selectionMode=!0;v.options.store=0;var z=d.createScreenPointArray(),A={terrainLocationFeedbackEnabled:!0,enableDraped:!0,exclude:new Set},C=h.vec3f64.create(),B=p.unwrapOr(n,l.spatialReference),H=function(h){l.map.ground&&1>l.map.ground.opacity?A.exclude.add(F.TERRAIN_ID):A.exclude.delete(F.TERRAIN_ID);l.sceneIntersectionHelper.intersectIntersectorScreen(d.screenPointObjectToArray(h,z),v,A);h=v.results.min;if(h.getIntersectionPoint(C))h="TerrainRenderer"===
h.intersector?0:1;else if(v.results.ground.getIntersectionPoint(C))h=0;else return null;var n=new y.Point({spatialReference:B});l.renderCoordsHelper.fromRenderCoords(C,n);return{location:n,surfaceType:h}};return function(d){if("start"===d.action){var h=H(d.screenStart);r=p.isSome(h)?h.location:null}if(p.isNone(r))return null;h=H(d.screenEnd);return p.isSome(h)?u.__assign(u.__assign({},d),{mapStart:r,mapEnd:h.location,surfaceType:h.surfaceType}):null}};var R=h.vec3f64.create(),ea=h.vec3f64.create(),
Z=O.ray.create()})},"esri/views/3d/interactive/editingTools/manipulations/moveUtils":function(){define("require exports ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat2 ../../../../../core/libs/gl-matrix-2/mat2f64 ../../../../../core/libs/gl-matrix-2/vec2 ../../../../../core/libs/gl-matrix-2/vec2f64 ../../../../../geometry/geometryEngine ../../../../../geometry/support/aaBoundingRect ../../../support/mathUtils ../../../../interactive/dragEventPipeline".split(" "),function(D,l,u,
y,B,p,d,z,h,n,A){function O(d){for(var h=0,l=0,n=0;n<d.length;n++)var p=d[n],h=h+p[0],l=l+p[1];h/=d.length;l/=d.length;for(n=0;n<d.length;n++)p=d[n],p[0]-=h,p[1]-=l}Object.defineProperty(l,"__esModule",{value:!0});l.createGraphicMoveDragPipeline=function(d,h,l){var n=d.graphic,p=function(d,l){return h({action:d,graphic:n,dxScreen:l.screenDeltaX,dyScreen:l.screenDeltaY})};return l(function(d,h,l){h.next(function(d){"start"===d.action&&p("start",d);return d}).next(A.dragGraphic(n)).next(function(d){switch(d.action){case "start":case "update":(d.translationX||
d.translationY||d.translationZ)&&p("update",d);break;case "end":p("end",d)}return d});l.next(A.resetGraphic(n)).next(function(){p("end",{screenDeltaX:0,screenDeltaY:0})})})};l.primaryShapeOrientation=function(d){if(u.isNone(d)||"polyline"!==d.type&&"polygon"!==d.type)return 0;d=(d=z.convexHull(d))&&d.rings&&d.rings[0];if(!d)return 0;O(d);for(var l=[],r=0;r<d.length-1;r++){var A=Math.atan2(d[r+1][1]-d[r][1],d[r+1][0]-d[r][0]),A=n.cyclical2PI.normalize(A)%(Math.PI/2);l.push(A)}for(var l=l.sort(function(d,
h){return d-h}),r=null,v=0,B=Number.POSITIVE_INFINITY,D=0;D<l.length;D++)if(A=l[D],A!==r){r=A;y.mat2.fromRotation(I,A);h.empty(C);for(var F=0,Y=d;F<Y.length;F++)p.vec2.transformMat2(Q,Y[F],I),h.expandPointInPlace(C,Q);F=h.area(C);if(.99<=(F>B?B/F:F/B)&&A<v||F<B)v=A,B=F}return v};var I=B.mat2f64.create(),C=h.create(),Q=d.vec2f64.create()})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation":function(){define("require exports tslib ../../../../../Color ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../support/elevationInfoUtils ../../Manipulator3D ../dragEventPipeline3D ../settings ./config ./Manipulation ./moveUtils ../snapping/SnapToScene ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v,M,U,W){Object.defineProperty(l,"__esModule",{value:!0});D=function(l){function D(d){var h=l.call(this)||this;h._handles=new B;h._snapToScene=new r.SnapToScene;h._discMaterial=h._createMaterial();h._discMaterialTransparent=h._createMaterial(.5);h._scale=1;h._radius=Q.DISC_RADIUS;h._view=d.view;h._tool=d.tool;null!=d.snapToScene&&(h.snapToScene=d.snapToScene);null!=d.radius&&(h._radius=d.radius);h._createManipulator();h.forEachManipulator(function(d){return h._tool.manipulators.add(d)});
return h}u.__extends(D,l);D.prototype.destroy=function(){var d=this;this._handles.destroy();this.forEachManipulator(function(h){d._tool.manipulators.remove(h);h.destroy()});this._manipulator=this._view=this._tool=null};D.prototype.forEachManipulator=function(d){d(this._manipulator,1)};Object.defineProperty(D.prototype,"displayScale",{get:function(){return this._scale},set:function(d){this._scale=d;this._updateManipulatorTransform()},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,
"snapToScene",{get:function(){return this._snapToScene.enabled},set:function(d){this._snapToScene.enabled=d},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"radius",{get:function(){return this._radius},set:function(d){d!==this._radius&&(this._radius=d,this._updateManipulator())},enumerable:!0,configurable:!0});D.prototype.createGraphicDragPipeline=function(d,h){var l=this,n=d.graphic,r=A.getGraphicEffectiveElevationInfo(n),u=p.unwrap(n.geometry).spatialReference;return E.createGraphicMoveDragPipeline(d,
h,function(d){return l.createDragPipeline(d,r,u)})};D.prototype.createDragPipeline=function(d,h,l){var n=this,p=this._view;return W.createManipulatorDragEventPipeline(this._manipulator,function(r,u,v,z){u=u.next(W.dragAtLocation(p,r.elevationAlignedLocation)).next(I.screenToMapXYAtLocation(p,r.elevationAlignedLocation,h,l)).next(n._snapToScene.createDragEventPipelineStep(p,h),n._snapToScene.next).next(W.addScreenDelta());d(r,u,v,z)})};D.prototype._updateManipulatorTransform=function(){var l=d.mat4.fromScaling(N.sm4d.get(),
h.vec3.set(N.sv3d.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=l};D.prototype._createManipulator=function(){this._manipulator=new O.Manipulator3D({view:this._view,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:n.vec3f64.fromValues(0,0,1)},worldOriented:!0});this._updateManipulator()};D.prototype._updateManipulator=function(){var h=new v(M.createCylinderGeometry(Q.DISC_HEIGHT,1,Q.GEOMETRY_SEGMENTS,
n.vec3f64.fromValues(0,0,1),n.vec3f64.fromValues(0,0,0)),"graphic-transform-disc"),l=d.mat4.fromScaling(z.mat4f64.create(),n.vec3f64.fromValues(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:h,material:this._discMaterial,transform:l,stateMask:2},{geometry:h,material:this._discMaterialTransparent,transform:l,stateMask:1}];this._manipulator.radius=this._radius/Q.DISC_RADIUS*Q.DISC_COLLISION_RADIUS};D.prototype._createMaterial=function(d){void 0===d&&(d=1);var h=
y.toUnitRGBA(C.colors.main);h[3]*=d;d=new U({color:h,transparent:1!==d,cullFace:2},"move-xy-disc");d.renderOccluded=2;return d};Object.defineProperty(D.prototype,"test",{get:function(){return{discManipulator:this._manipulator}},enumerable:!0,configurable:!0});return D}(F.Manipulation);l.MoveXYDiscManipulation=D})},"esri/views/3d/interactive/editingTools/snapping/SnapToScene":function(){define("require exports tslib ../../../../../core/maybe ../../../../../support/elevationInfoUtils ../../../../interactive/dragEventPipeline".split(" "),
function(D,l,u,y,B,p){Object.defineProperty(l,"__esModule",{value:!0});D=function(){function d(){this.lastDragEvent=this.elevationInfo=this.view=null;this.next=new p.EventPipeline;this._enabled=!1}Object.defineProperty(d.prototype,"enabled",{get:function(){return this._enabled},set:function(d){if(this._enabled!==d&&y.isSome(this.lastDragEvent)){var h=this.lastDragEvent.mapEnd,l=this.snap(this.lastDragEvent.screenEnd);y.isSome(l)&&this.next.execute({action:"update",mapStart:this.lastDragEvent.mapStart,
mapEnd:!0===d?l:h,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd})}this._enabled=d},enumerable:!0,configurable:!0});d.prototype.snap=function(d){d=y.isSome(this.view)?this.view.toMap(d,{exclude:[]}):null;y.isSome(d)&&y.isSome(this.view)&&(d.z=B.getZForElevationMode(d,this.view,this.elevationInfo));return d};d.prototype.createDragEventPipelineStep=function(d,h){var l=this;this.view=d;this.elevationInfo=h;this.lastDragEvent=null;return function(d){l.lastDragEvent="end"!==
d.action?u.__assign({},d):null;if(l._enabled){var h=l.snap(d.screenEnd);return y.isSome(h)?{action:d.action,mapStart:d.mapStart,mapEnd:h,screenStart:d.screenStart,screenEnd:d.screenEnd}:null}return{action:d.action,mapStart:d.mapStart,mapEnd:d.mapEnd,screenStart:d.screenStart,screenEnd:d.screenEnd}}};return d}();l.SnapToScene=D})},"esri/views/3d/interactive/editingTools/manipulations/MoveZManipulation":function(){define("require exports tslib ../../../../../core/colorUtils ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../settings ./config ./Manipulation ./moveUtils ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../../interactive/dragEventPipeline".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v,M,U){Object.defineProperty(l,"__esModule",{value:!0});D=function(l){function r(d){var h=l.call(this)||this;h._handles=new p;h._radius=E.DISC_RADIUS;h.events=new B;h._tool=d.tool;h._view=d.view;null!=d.radius&&(h._radius=d.radius);h.createManipulator();h.forEachManipulator(function(d){return h._tool.manipulators.add(d)});return h}u.__extends(r,l);r.prototype.destroy=function(){var d=this;this._handles.destroy();this.forEachManipulator(function(h){d._tool.manipulators.remove(h);
h.destroy()})};r.prototype.forEachManipulator=function(d){d(this._manipulator,0)};r.prototype.createGraphicDragPipeline=function(d,h){var l=this,n=z.unwrap(d.graphic.geometry).spatialReference;return N.createGraphicMoveDragPipeline(d,h,function(d){return l.createDragPipeline(d,n)})};r.prototype.createDragPipeline=function(d,h){var l=this._view;return U.createManipulatorDragEventPipeline(this._manipulator,function(n,p,r,u){p=p.next(Q.screenToZConstrained(l,n.renderLocation,h)).next(U.addScreenDelta());
d(n,p,r,u)})};Object.defineProperty(r.prototype,"radius",{get:function(){return this._radius},set:function(d){d!==this._radius&&(this._radius=d,this.updateManipulator())},enumerable:!0,configurable:!0});r.prototype.updateManipulator=function(){var d=this._radius/E.DISC_RADIUS,l=F.settings.zManipulator.height*d,p=F.settings.zManipulator.coneHeight*d,r=F.settings.zManipulator.coneWidth*d,d=F.settings.zManipulator.width*d,u=[O.vec3f64.fromValues(0,0,0),O.vec3f64.fromValues(0,0,l)],u=new v(M.createTubeGeometry(u,
d/2,16,!1),"move-z"),z=M.createConeGeometry(p,r/2,16,!1),z=new v(z),p=[O.vec3f64.fromValues(0,0,0),O.vec3f64.fromValues(0,0,l+p)],A=function(d){var p=n.mat4f64.create();h.mat4.translate(p,p,[0,0,l]);h.mat4.rotateX(p,p,Math.PI/2);d&&(d=1+2*d/r,h.mat4.scale(p,p,[d,d,d]));return p}(0),B=function(d,h){h=y.darken(F.settings.zManipulator.color,h);return[h.r/255,h.g/255,h.b/255,F.settings.zManipulator.color.a*d]},H=C.createManipulatorMaterial(B(1,.25),1),J=C.createManipulatorMaterial(B(1,0),1),D=C.createManipulatorMaterial(B(.7,
0),F.settings.zManipulator.occludedFlag),B=C.createManipulatorMaterial(B(.85,0),F.settings.zManipulator.occludedFlag);this._manipulator.renderObjects=[{geometry:z,transform:A,material:H,stateMask:1},{geometry:u,material:H,stateMask:1},{geometry:z,transform:A,material:J,stateMask:2},{geometry:u,material:J,stateMask:2},{geometry:z,transform:A,material:D,stateMask:1},{geometry:u,material:D,stateMask:1},{geometry:z,transform:A,material:B,stateMask:2},{geometry:u,material:B,stateMask:2}];this._manipulator.radius=
d/2+2;this._manipulator.collisionType={type:"line",paths:[p]}};r.prototype.createManipulator=function(){var h=this,l=new I.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:"ns-resize",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});l.applyObjectTransform=function(l){var n=h._view.state.camera,p=W;h._view.renderCoordsHelper.toRenderCoords(h._manipulator.elevationAlignedLocation,p);var r=A.vec3.dist(n.eye,p),u=n.computeRenderPixelSizeAtDist(r),
v=A.vec3.subtract(Y,p,n.eye);A.vec3.normalize(v,v);var z=R;h._view.renderCoordsHelper.worldUpAtPosition(W,z);p=Math.abs(A.vec3.dot(v,z));v=A.vec3.cross(Y,v,z);z=A.vec3.cross(Y,v,z);p=d.clamp(p,.01,1);n=1-Math.sqrt(1-p*p)/p/n.fullWidth;p=h._radius/E.DISC_RADIUS*F.settings.zManipulator.width;A.vec3.scale(z,A.vec3.normalize(z,z),(1/n-1)*r+u*p);l[12]-=Y[0];l[13]-=Y[1];l[14]-=Y[2]};this._manipulator=l;this.updateManipulator()};return r}(r.Manipulation);l.MoveZManipulation=D;var W=O.vec3f64.create(),Y=
O.vec3f64.create(),R=O.vec3f64.create()})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation":function(){define("require exports tslib ../../../../../core/Handles ../../../../../core/maybe ../dragEventPipeline3D ./Manipulation ./moveUtils ../../../../interactive/dragEventPipeline ../../../../interactive/GraphicManipulator".split(" "),function(D,l,u,y,B,p,d,z,h,n){Object.defineProperty(l,"__esModule",{value:!0});D=function(d){function l(h){var l=d.call(this)||this;l._handles=
new y;l._view=h.view;l._tool=h.tool;l._graphicState=h.graphicState;l._createManipulator();l.forEachManipulator(function(d){return l._tool.manipulators.add(d)});return l}u.__extends(l,d);l.prototype.destroy=function(){var d=this;this._handles.destroy();this.forEachManipulator(function(h){d._tool.manipulators.remove(h);h.destroy()});this._graphicState=this._manipulator=this._view=this._tool=null};l.prototype.forEachManipulator=function(d){d(this._manipulator,1)};l.prototype.createGraphicDragPipeline=
function(d){var h=this;return z.createGraphicMoveDragPipeline(this._graphicState,d,function(d){return h.createDragPipeline(d)})};l.prototype.createDragPipeline=function(d){var l=this._view,n=this._graphicState.graphic,u=B.isSome(n.geometry)?n.geometry.spatialReference:null;return h.createManipulatorDragEventPipeline(this._manipulator,function(z,r,y,v){r=r.next(p.screenToMapXYForGraphic(v,l,n,u)).next(h.addMapDelta()).next(h.addScreenDelta());d(z,r,y,v)})};l.prototype._createManipulator=function(){this._manipulator=
new n.GraphicManipulator({graphic:this._graphicState.graphic,view:this._view,selectable:!0,cursor:"move"})};return l}(d.Manipulation);l.MoveXYGraphicManipulation=D})},"esri/views/interactive/GraphicManipulator":function(){define("require exports tslib ../../core/Accessor ../../core/Evented ../../core/Logger ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ../../core/libs/gl-matrix-2/vec2 ../../core/libs/gl-matrix-2/vec3 ../../core/libs/gl-matrix-2/vec3f64 ../../geometry/support/webMercatorUtils ../../support/elevationInfoUtils ../../symbols/support/defaults ../../symbols/support/ElevationInfo ../support/drapedUtils".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E){Object.defineProperty(l,"__esModule",{value:!0});var r=p.getLogger("esri.views.interactive.GraphicManipulator");D=function(l){function p(d){d=l.call(this,d)||this;d.layer=null;d.interactive=!0;d.selectable=!1;d.grabbable=!0;d.dragging=!1;d.cursor=null;d.events=new B.EventEmitter;d._circleCollisionCache=null;d._graphicSymbolChangedHandle=null;d._originalSymbol=null;return d}u.__extends(p,l);Object.defineProperty(p.prototype,"graphic",{set:function(h){"mesh"===
d.get(h.geometry,"type")?r.error("Mesh geometries are not supported"):(this._circleCollisionCache=null,this._originalSymbol=h.symbol,this._set("graphic",h),this.attachSymbolChanged())},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"elevationInfo",{get:function(){var d="elevationInfo"in this.graphic.layer&&this.graphic.layer.elevationInfo,h=C.getGraphicEffectiveElevationMode(this.graphic);return new F({mode:h,offset:d?d.offset:0})},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,
"focusedSymbol",{set:function(d){d!==this._get("focusedSymbol")&&(this._set("focusedSymbol",d),this._updateGraphicSymbol(),this._circleCollisionCache=null)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"grabbing",{set:function(d){d!==this._get("grabbing")&&(this._set("grabbing",d),this._updateGraphicSymbol())},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"hovering",{set:function(d){d!==this._get("hovering")&&(this._set("hovering",d),this._updateGraphicSymbol())},
enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"selected",{set:function(d){d!==this._get("selected")&&(this._set("selected",d),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:d?"select":"deselect"}))},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"_focused",{get:function(){return this._get("hovering")||this._get("grabbing")},enumerable:!0,configurable:!0});p.prototype.destroy=function(){this.detachSymbolChanged();this._resetGraphicSymbol();
this._set("view",null)};p.prototype.intersectionDistance=function(h){var l=this._get("graphic");if(!1===l.visible)return null;var n=this._get("focusedSymbol"),n=d.isSome(n)?n:l.symbol,p=l.geometry;if(d.isNone(p))return null;var r=this._get("view");return"2d"===r.type?this._intersectDistance2D(h,r,p,n):this._intersectDistance3D(h,r,l)};p.prototype.attach=function(){this.attachSymbolChanged();d.isSome(this.layer)&&this.layer.add(this.graphic)};p.prototype.detach=function(){this.detachSymbolChanged();
this._resetGraphicSymbol();d.isSome(this.layer)&&this.layer.remove(this.graphic)};p.prototype.attachSymbolChanged=function(){var h=this;this.detachSymbolChanged();this._graphicSymbolChangedHandle=this.graphic.watch("symbol",function(l){d.isSome(l)&&l!==h.focusedSymbol&&l!==h._originalSymbol&&(h._originalSymbol=l,h._focused&&d.isSome(h.focusedSymbol)&&(h.graphic.symbol=h.focusedSymbol))},!0)};p.prototype.detachSymbolChanged=function(){d.isSome(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),
this._graphicSymbolChangedHandle=null)};p.prototype._updateGraphicSymbol=function(){this.graphic.symbol=this._focused&&d.isSome(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol};p.prototype._resetGraphicSymbol=function(){this.graphic.symbol=this._originalSymbol};p.prototype._intersectDistance2D=function(h,l,p,r){r=r||Q.getDefaultSymbol2D(p);if(d.isNone(r))return null;var u=this._circleCollisionCache;if("point"!==p.type||"simple-marker"!==r.type)return u=E.intersectsDrapedGeometry(h,p,l),
d.isSome(u)?1:null;if(d.isNone(u)||!u.originalPoint.equals(p)){var y=l.spatialReference;I.canProject(p,y)&&(u=I.project(p,y),this._circleCollisionCache=u={originalPoint:p.clone(),mapPoint:u,radiusPx:z.pt2px(r.size)})}return d.isSome(u)?(h=z.screenPointObjectToArray(h,v),l=l.state.toScreen(M,u.mapPoint.x,u.mapPoint.y),u=u.radiusPx,n.vec2.squaredDistance(h,l)<u*u?1:null):null};p.prototype._intersectDistance3D=function(d,h,l){d=h.toMap(d,{include:[l]});if(!d)return null;l=N;return h.renderCoordsHelper.toRenderCoords(d,
l)?A.vec3.distance(l,h.state.camera.eye):null};u.__decorate([h.property({constructOnly:!0,nonNullable:!0})],p.prototype,"graphic",null);u.__decorate([h.property({readOnly:!0,dependsOn:["graphic"]})],p.prototype,"elevationInfo",null);u.__decorate([h.property({constructOnly:!0,nonNullable:!0})],p.prototype,"view",void 0);u.__decorate([h.property({value:null})],p.prototype,"focusedSymbol",null);u.__decorate([h.property({constructOnly:!0})],p.prototype,"layer",void 0);u.__decorate([h.property()],p.prototype,
"interactive",void 0);u.__decorate([h.property()],p.prototype,"selectable",void 0);u.__decorate([h.property()],p.prototype,"grabbable",void 0);u.__decorate([h.property({value:!1})],p.prototype,"grabbing",null);u.__decorate([h.property()],p.prototype,"dragging",void 0);u.__decorate([h.property()],p.prototype,"hovering",null);u.__decorate([h.property({value:!1})],p.prototype,"selected",null);u.__decorate([h.property()],p.prototype,"cursor",void 0);return p=u.__decorate([h.subclass("esri.views.interactive.GraphicManipulator")],
p)}(y);l.GraphicManipulator=D;var N=O.vec3f64.create(),v=z.createScreenPointArray(),M=z.createScreenPointArray()})},"esri/views/support/drapedUtils":function(){define("require exports ../../geometry ../../core/maybe ../../core/unitUtils ../../renderers/support/clickToleranceUtils".split(" "),function(D,l,u,y,B,p){function d(d,l,p,z){void 0===z&&(z=new u.Extent);var h;if("2d"===p.type)h=l*p.resolution;else if("3d"===p.type){var n=p.basemapTerrain,y=n.overlayManager,y=y?y.overlayPixelSizeInMapUnits(d):
1;h=n&&!n.spatialReference.equals(p.spatialReference)?B.getMetersPerUnitForSR(n.spatialReference)/B.getMetersPerUnitForSR(p.spatialReference):l*y}l=d.x-h;n=d.y-h;y=d.x+h;d=d.y+h;p=p.spatialReference;z.xmin=Math.min(l,y);z.ymin=Math.min(n,d);z.xmax=Math.max(l,y);z.ymax=Math.max(n,d);z.spatialReference=p;return z}Object.defineProperty(l,"__esModule",{value:!0});l.createQueryGeometry=d;l.intersectsDrapedGeometry=function(h,l,u){h=u.toMap(h);if(y.isNone(h))return null;var n=p.calculateTolerance();return d(h,
n,u,z).intersects(l)?h:null};var z=new u.Extent})},"esri/renderers/support/clickToleranceUtils":function(){define(["require","exports"],function(D,l){function u(l,d){return d?"xoffset"in d&&d.xoffset?Math.max(l,Math.abs(d.xoffset)):"yoffset"in d&&d.yoffset?Math.max(l,Math.abs(d.yoffset||0)):l:l}function y(l,d){if("number"===typeof l)return l;if(l&&l.stops&&l.stops.length){l=l.stops;for(var p=d=0,h=0;h<l.length;h++){var n=l[h].size;"number"===typeof n&&(d+=n,p++)}return d/p}return d}function B(l,d){if(!d)return l;
d=d.filter(function(d){return"size"===d.type}).map(function(d){var h=d.minSize;return(y(d.maxSize,l)+y(h,l))/2});var p=0,h=d.length;if(0===h)return l;for(var n=0;n<h;n++)p+=d[n];return Math.max(Math.floor(p/h),l)}Object.defineProperty(l,"__esModule",{value:!0});l.calculateTolerance=function(l){var d=l&&l.renderer;l="touch"===(l&&l.event&&l.event.pointerType)?9:6;if(!d)return l;l="visualVariables"in d?B(l,d.visualVariables):l;if("simple"===d.type)return u(l,d.symbol);if("unique-value"===d.type){var p=
l;d.uniqueValueInfos.forEach(function(d){p=u(p,d.symbol)});return p}if("class-breaks"===d.type){var h=l;d.classBreakInfos.forEach(function(d){h=u(h,d.symbol)});return h}return l}})},"esri/views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic":function(){define(["require","exports","../../../../../core/compilerUtils","../../../../../core/maybe","../../../../../support/elevationInfoUtils"],function(D,l,u,y,B){Object.defineProperty(l,"__esModule",{value:!0});l.isSupportedGraphic=function(l){if("graphics"!==
l.layer.type)return 1;if(y.isNone(l.geometry))return 2;var d=l.geometry.type;switch(d){case "polygon":case "point":case "polyline":break;case "multipoint":case "extent":case "mesh":return 3;default:return u.neverReached(d),3}return"on-the-ground"!==B.getGraphicEffectiveElevationMode(l)&&B.hasGraphicFeatureExpressionInfo(l)?4:0}})},"esri/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool":function(){define("require exports tslib ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators ./isSupportedGraphic ./ReshapeOperation ../../../../interactive/InteractiveToolBase".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A){Object.defineProperty(l,"__esModule",{value:!0});D=function(l){function y(d){d=l.call(this,d)||this;d._handles=new B;d._reshapeOperation=null;d._internalGeometryUpdate=!1;d.type="reshape-3d";return d}u.__extends(y,l);y.prototype.destroy=function(){this._handles.removeAll();this._reshapeOperation&&(this._reshapeOperation.destroy(),this._reshapeOperation=null);this._set("view",null);this._set("graphic",null)};Object.defineProperty(y.prototype,"selectionManagementDisabled",
{get:function(){return!0},enumerable:!0,configurable:!0});y.prototype._updateGeometry=function(){var d=this.graphic.geometry;0!==h.isSupportedGraphic(this.graphic)||!p.isSome(d)||"polygon"!==d.type&&"polyline"!==d.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=d.clone()};y.prototype._updateGraphic=function(){var d=this;this._handles.remove("onGraphicGeometryChange");this._updateGeometry();if(0===h.isSupportedGraphic(this.graphic)){var l=this.watch("graphic.geometry",
function(){!1===d._internalGeometryUpdate&&d._updateGeometry()},!0);this._handles.add(l,"onGraphicGeometryChange")}};y.prototype.manipulatorSelectionChanged=function(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()};y.prototype._onReshapeGeometryChanged=function(){p.isNone(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)};y.prototype.initialize=function(){var h=this;this._reshapeOperation=
new n.ReshapeOperation({tool:this});this._handles.add([this._reshapeOperation.on("reshape",function(d){"reshape"===d.type&&h._onReshapeGeometryChanged();h.emit("reshape",d)}),this._reshapeOperation.on("move",function(d){"move"===d.type&&h._onReshapeGeometryChanged();h.emit("move",d)}),this._reshapeOperation.on("vertex-add",function(d){h._onReshapeGeometryChanged();h.emit("vertex-add",d)}),this._reshapeOperation.on("vertex-remove",function(d){h._onReshapeGeometryChanged();h.emit("vertex-remove",d)}),
this._reshapeOperation.on("immediate-click",function(){return h.emit("immediate-click")}),d.init(this,"graphic",function(){h._updateGraphic()},!0)])};y.prototype.onInputEvent=function(d){"key-down"!==d.type||"Delete"!==d.key&&"Backspace"!==d.key||this._reshapeOperation.removeSelectedVertices()};y.prototype.reset=function(){};u.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.prototype,"view",void 0);u.__decorate([z.property({constructOnly:!0})],y.prototype,"graphic",void 0);u.__decorate([z.property({constructOnly:!0,
nonNullable:!0,value:!0})],y.prototype,"enableZ",void 0);u.__decorate([z.property({readOnly:!0})],y.prototype,"type",void 0);return y=u.__decorate([z.subclass("esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool")],y)}(y.EventedMixin(A.InteractiveToolBase));l.GraphicReshapeTool=D})},"esri/views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic":function(){define("require exports ../../../../../core/compilerUtils ../../../../../core/maybe ../../../../../geometry/Circle ../../../../../support/elevationInfoUtils".split(" "),
function(D,l,u,y,B,p){Object.defineProperty(l,"__esModule",{value:!0});l.isSupportedGraphic=function(d){if("graphics"!==d.layer.type)return 1;var l=d.geometry;if(y.isNone(l))return 2;var h=l.type;switch(h){case "polygon":if(l instanceof B)return 3;break;case "polyline":break;case "point":case "multipoint":case "extent":case "mesh":return 3;default:return u.neverReached(h),3}return"on-the-ground"!==p.getGraphicEffectiveElevationMode(d)&&p.hasGraphicFeatureExpressionInfo(d)?4:0}})},"esri/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation":function(){define("require exports tslib ../../../../../core/compilerUtils ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../manipulatorUtils ../settings ../visualElementUtils ../editGeometry/EditGeometryHelper ../manipulations/config ../manipulations/MoveManipulation ../manipulations/moveUtils ../manipulations/MoveXYGraphicManipulation ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../../interactive/dragEventPipeline".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v,M,U,W,Y,R,ea,Z,X,ca,aa){Object.defineProperty(l,"__esModule",{value:!0});D=function(l){function B(d){d=l.call(this,d)||this;d._vertexManipulatorMaterial=Q.createManipulatorMaterial(r.settings.colorToVec4(r.settings.reshapeManipulators.vertex.color),r.settings.reshapeManipulators.vertex.renderOccludedFlag);d._vertexManipulatorOutlineMaterial=Q.createManipulatorOutlineMaterial(r.settings.colorToVec4(r.settings.reshapeManipulators.vertex.outlineColor),
r.settings.reshapeManipulators.vertex.renderOccludedFlag);d._vertexManipulatorHoverOutlineMaterial=Q.createManipulatorOutlineMaterial(r.settings.colorToVec4(r.settings.reshapeManipulators.vertex.hoverOutlineColor),r.settings.reshapeManipulators.vertex.renderOccludedFlag);d._edgeManipulatorMaterial=Q.createManipulatorMaterial(r.settings.colorToVec4(r.settings.reshapeManipulators.edge.color),r.settings.reshapeManipulators.edge.renderOccludedFlag);d._edgeManipulatorOutlineMaterial=Q.createManipulatorOutlineMaterial(r.settings.colorToVec4(r.settings.reshapeManipulators.edge.outlineColor),
r.settings.reshapeManipulators.edge.renderOccludedFlag);d._selectedManipulatorMaterial=Q.createManipulatorMaterial(r.settings.colorToVec4(r.settings.reshapeManipulators.selected.color),r.settings.reshapeManipulators.selected.renderOccludedFlag);d._selectedManipulatorOutlineMaterial=Q.createManipulatorOutlineMaterial(r.settings.colorToVec4(r.settings.reshapeManipulators.selected.outlineColor),r.settings.reshapeManipulators.selected.renderOccludedFlag);d._selectedManipulatorHoverOutlineMaterial=Q.createManipulatorOutlineMaterial(r.settings.colorToVec4(r.settings.reshapeManipulators.selected.hoverOutlineColor),
r.settings.reshapeManipulators.selected.renderOccludedFlag);d._selectedIndex=0;d._vertexManipulatorGeometry=null;d._vertexManipulatorOutlineGeometry=null;d._edgeManipulatorGeometry=null;d._edgeManipulatorOutlineGeometry=null;d._handles=new p;d._manipulatorHandles=new p;d._manipulatorInfos=[];d._reshapeHelper=null;d._graphicMoveManipulation=null;d._moveManipulation=null;d._numGrabbing=0;d._numDragging=0;d._reshapeEventState=0;d._outlineVisualElement=null;d.tool=null;d.outputGeometry=null;d._vertexLaserLineVisualElement=
null;return d}u.__extends(B,l);B.prototype.initialize=function(){var d=this,h=new ea.GraphicState({graphic:this.graphic});this._graphicState=h;this._handles.add([h.watch("displaying",function(h){for(var l=0,n=d._manipulatorInfos;l<n.length;l++)n[l].manipulator.available=h}),this.view.trackGraphicState(h)])};B.prototype.destroy=function(){this._clear();this._handles.destroy()};Object.defineProperty(B.prototype,"inputGeometry",{get:function(){return z.isSome(this._reshapeHelper)?this._reshapeHelper.geometry:
null},set:function(d){this._recreateManipulators(d)},enumerable:!0,configurable:!0});Object.defineProperty(B.prototype,"manipulators",{get:function(){return this.tool.manipulators},enumerable:!0,configurable:!0});Object.defineProperty(B.prototype,"view",{get:function(){return this.tool.view},enumerable:!0,configurable:!0});Object.defineProperty(B.prototype,"graphic",{get:function(){return this.tool.graphic},enumerable:!0,configurable:!0});Object.defineProperty(B.prototype,"enableZ",{get:function(){return this.tool.enableZ},
enumerable:!0,configurable:!0});B.prototype.removeSelectedVertices=function(){var d=this._manipulatorInfos.filter(function(d){return d.manipulator.selected&&"vertex"===d.handle.type});this._removeVertices(d)};B.prototype.manipulatorSelectionChanged=function(){this.emit("manipulators-changed")};B.prototype._clear=function(){this._moveManipulation&&this._moveManipulation.destroy();this._graphicMoveManipulation&&this._graphicMoveManipulation.destroy();this._manipulatorHandles.removeAll();this.manipulators.removeAll();
this._manipulatorInfos=[];this._reshapeHelper=this._moveManipulation=this._graphicMoveManipulation=null;this._numDragging=this._numGrabbing=0};B.prototype._recreateManipulators=function(d){void 0===d&&(d=this.inputGeometry);this._clear();if(!z.isNone(d)){this._reshapeHelper=new pa(v.EditGeometry.fromGeometry(d,this.view.viewingMode),d.type);d=I.getGraphicEffectiveElevationInfo(this.graphic);for(var h=0,l=this._reshapeHelper.data.components;h<l.length;h++){for(var n=l[h],p=0,r=n.vertices;p<r.length;p++)this._createPerVertexManipulator(r[p],
d);p=0;for(n=n.edges;p<n.length;p++)this._createPerVertexManipulator(n[p],d)}this._createGraphicMoveManipulators(d)}};B.prototype._perGraphicManipulatorDragAction=function(d,h){if("end"!==h.action){var l=[],n=this._manipulatorInfos.some(function(d){return"vertex"===d.handle.type&&d.manipulator.selected}),p=1===d&&n;d=z.unwrap(this._reshapeHelper);for(var r=0,u=this._manipulatorInfos;r<u.length;r++)n=u[r],"vertex"!==n.handle.type||n.manipulator.grabbing||p&&!n.manipulator.selected||(z.unwrap(d).moveVertices([n.handle],
h.mapDeltaX,h.mapDeltaY,h.mapDeltaZ),l.push(n.handle.pos),this._updateManipulatorPosition(n));if(0!==l.length){r=p=0;for(u=this._manipulatorInfos;r<u.length;r++)n=u[r],"vertex"===n.handle.type&&p++;this.outputGeometry=d.geometry;l.length===p?(this._updateEventState(1),this.destroyed||this.emit("move",{type:"move",dx:h.screenDeltaX,dy:h.screenDeltaY,mover:this.graphic})):(this._updateEventState(2),this.destroyed||this.emit("reshape",{type:"reshape",mover:this.graphic}))}}};B.prototype._perVertexManipulatorDragAction=
function(d,h){this._updateEventState(2);if(!this.destroyed){var l=h.mapDeltaX,n=h.mapDeltaY,p=h.mapDeltaZ;if(l||n||p){h=[];for(var r=0,u=this._manipulatorInfos;r<u.length;r++){var v=u[r];"vertex"===v.handle.type&&(v.manipulator.selected&&!v.manipulator.grabbing||v===d)&&h.push(v)}r=z.unwrap(this._reshapeHelper);for(u=0;u<h.length;u++)d=h[u],r.moveVertices([d.handle],l,n,p);this.outputGeometry=r.geometry;for(l=0;l<h.length;l++)d=h[l],this._updateManipulatorPosition(d);this.emit("reshape",{type:"reshape",
mover:this.graphic})}}};B.prototype._updateEventState=function(d){if(d===this._reshapeEventState)return!1;switch(d){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape-stop",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",
{type:"reshape-stop",mover:this.graphic}),this.destroyed||this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit("reshape",{type:"reshape-start",mover:this.graphic});break;case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit("reshape",{type:"reshape-start",mover:this.graphic})}}if(this.destroyed)return!1;var h=this._reshapeEventState!==d;this._reshapeEventState=d;return h};B.prototype._createGraphicMoveManipulators=
function(d){var l=this;this._graphicMoveManipulation=new Y.MoveXYGraphicManipulation({tool:this.tool,view:this.view,graphicState:this._graphicState});this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(function(d,h,n){h.next(function(d){return l._trackNumDragging(d)}).next(function(d){l._perGraphicManipulatorDragAction(0,d)});n.next(l._cancelDragOperation())}));this._graphicMoveManipulation.forEachManipulator(function(d){return l._manipulatorHandles.add([l._watchAndUpdateGrabState(d,
!1),d.events.on("immediate-click",function(d){l._manipulatorInfos.some(function(d){return d.manipulator.selected})?l._clearSelection():l.emit("immediate-click");d.stopPropagation()})])});this._moveManipulation=new U.MoveManipulation({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&E.canMoveZ(this.graphic),snapToScene:!1,radius:U.MoveManipulation.radiusForSymbol(this.graphic.symbol)});this._moveManipulation.forEachManipulator(function(d){l._handles.add([l._watchAndUpdateGrabState(d,
!1),d.events.on("immediate-click",function(h){l._moveManipulation.zManipulation.hasManipulator(d)||l._manipulatorInfos.some(function(d){return d.manipulator.selected})||l.emit("immediate-click");h.stopPropagation()})])});this._moveManipulation.elevationInfo={mode:"absolute-height",offset:0};var n=z.unwrap(this.graphic.geometry).spatialReference;this._handles.add([this._moveManipulation.createDragPipeline(function(d,h,n){h.next(function(d){return l._trackNumDragging(d)}).next(aa.addMapDelta()).next(function(d){l._perGraphicManipulatorDragAction(1,
d)});n.next(l._cancelDragOperation())},d,n),h.init(this._graphicState,"displaying",function(d){l._moveManipulation.xyManipulation.available=d;l._moveManipulation.xyAxisManipulation.available=!0;l._moveManipulation.zManipulation.available=d&&l.enableZ&&E.canMoveZ(l.graphic);l._updateMoveManipulationPosition()}),this._graphicState.on("changed",function(){return l._updateMoveManipulationPosition()})]);this._updateMoveManipulationPosition();d=N.createVisualElements({view:this.view,graphic:this.graphic,
forEachManipulator:function(d){if(!l.destroyed){l._graphicMoveManipulation.forEachManipulator(d);for(var h=0,n=l._manipulatorInfos;h<n.length;h++)d(n[h].manipulator,1);l._moveManipulation.forEachManipulator(d)}},onManipulatorsChanged:function(d){return l.on("manipulators-changed",d)}});this._outlineVisualElement=d.visualElement instanceof R.OutlineVisualElement?d.visualElement:null;z.isSome(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on("attachment-origin-changed",
function(){l._graphicState.isDraped||l._updateMoveManipulationPosition()}),this._graphicState.watch("isDraped",function(){return l._updateMoveManipulationPosition()})]);this._manipulatorHandles.add(d)};B.prototype._createPerVertexManipulator=function(h,l){var n=this;void 0===l&&(l=I.getGraphicEffectiveElevationInfo(this.graphic));if(z.isNone(this._vertexManipulatorGeometry)||z.isNone(this._vertexManipulatorOutlineGeometry)){var p=r.settings.reshapeManipulators.vertex,u=p.size/2,v=u+p.collisionPadding;
this._vertexManipulatorGeometry=new X(ca.createSphereGeometry(u/v,16,16),"reshape-manipulator");u=(u+p.outlineSize)/v;this._vertexManipulatorOutlineGeometry=new X(ca.createSphereGeometry(u,16,16),"reshape-manipulator-outline")}if(z.isNone(this._edgeManipulatorGeometry)||z.isNone(this._edgeManipulatorOutlineGeometry))p=r.settings.reshapeManipulators.edge,u=p.size/2,v=u+p.collisionPadding,this._edgeManipulatorGeometry=new X(ca.createSphereGeometry(u/v,16,16),"reshape-manipulator"),u=(u+p.outlineSize)/
v,this._edgeManipulatorOutlineGeometry=new X(ca.createSphereGeometry(u,16,16),"reshape-manipulator-outline");u=new C.Manipulator3D({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:na.Vertex|4},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:na.Vertex|5},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:na.Vertex|
6},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:na.Edge|6},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:na.Edge|6},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:na.Edge|5},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:na.Edge|5},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,
stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:l,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(u,h,l);var y="edge"===h.type?{manipulator:u,handle:h,locationUpdateHandle:null,type:"edge",selectedIndex:0}:
{manipulator:u,handle:h,type:"vertex",selectedIndex:0};this._manipulatorInfos.push(y);this.manipulators.add(u);this._updateManipulatorPosition(y);"edge"===y.type&&(h=this._getManipulatorInfoFromHandle(y.handle.left).manipulator.events.on("location-update",function(){return n._updateManipulatorPosition(y)}),l=this._getManipulatorInfoFromHandle(y.handle.right).manipulator.events.on("location-update",function(){return n._updateManipulatorPosition(y)}),y.locationUpdateHandle=d.handlesGroup([h,l]),this._manipulatorHandles.add(y.locationUpdateHandle,
u));this._manipulatorHandles.add(this._watchAndUpdateGrabState(u,!0),u);h=aa.createManipulatorDragEventPipeline(u,function(d,h,l){h.next(function(d){return n._trackNumDragging(d)}).next(function(d){"edge"===y.handle.type&&n._splitEdgeManipulator(y);return d}).next(F.screenToMapXYForGraphicAtLocation(n.view,n.graphic,d.elevationAlignedLocation,d.location.spatialReference)).next(aa.addMapDelta()).next(function(d){"vertex"===y.type?n._perVertexManipulatorDragAction(y,d):console.error("drag operation on non-vertex manipulator not allowed")});
l.next(n._cancelDragOperation())});this._manipulatorHandles.add(h,u);this._manipulatorHandles.add([u.events.on("immediate-click",function(d){return n._manipulatorClickCallback(d,y)}),u.events.on("select-changed",function(){y.selectedIndex=++n._selectedIndex;n._updateMoveManipulationPosition()})]);this.emit("manipulators-changed");return u};B.prototype._trackNumDragging=function(d){switch(d.action){case "start":this._numDragging++;break;case "end":this._numDragging--}return d};B.prototype._cancelDragOperation=
function(){var d=this,h=z.isSome(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return function(){d._numDragging--;d.inputGeometry=h;d.outputGeometry=h;switch(d._reshapeEventState){case 1:d.emit("move",{type:"move",dx:0,dy:0,mover:d.graphic});break;case 2:d.emit("reshape",{type:"reshape",mover:d.graphic})}d.destroyed||d._updateEventState(0)}};B.prototype._setTypeSpecificManipulatorSettings=function(d,h,l){switch(h.type){case "vertex":d.state=na.Vertex;d.selectable=!0;d.cursor="move";
d.collisionPriority=2;d.radius=r.settings.reshapeManipulators.vertex.size/2+r.settings.reshapeManipulators.vertex.collisionPadding;d.elevationInfo=l;break;case "edge":d.state=na.Edge;d.selectable=!1;d.cursor="copy";d.collisionPriority=-1;d.radius=r.settings.reshapeManipulators.edge.size/2+r.settings.reshapeManipulators.edge.collisionPadding;d.elevationInfo={mode:"absolute-height",offset:0};break;default:y.neverReached(h)}};B.prototype._watchAndUpdateGrabState=function(d,h){var l=this;return d.events.on("grab-changed",
function(n){if("start"===n.action)h&&l._updateSelection(d),l._numGrabbing++;else if(l._numGrabbing--,l._updateEventState(0),l.destroyed)return;l._moveManipulation.interactive=!l._numGrabbing})};B.prototype._clearSelection=function(){for(var d=0,h=this._manipulatorInfos;d<h.length;d++){var l=h[d];l.manipulator.grabbing||(l.manipulator.selected=!1)}};B.prototype._updateSelection=function(d){d.grabbing&&!d.selected&&d.selectable&&(this._clearSelection(),d.selected=!0,this.emit("manipulators-changed"))};
B.prototype._removeManipulator=function(d){d&&(this._manipulatorHandles.remove(d.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(d),1),this.manipulators.remove(d.manipulator),this.emit("manipulators-changed"))};B.prototype._getManipulatorInfoFromHandle=function(d){if(d)for(var h=0,l=this._manipulatorInfos;h<l.length;h++){var n=l[h];if(d===n.handle)return n}return null};B.prototype._updateManipulatorPosition=function(d){if(d){var h=z.unwrap(this._reshapeHelper);if("vertex"===
d.handle.type)d.manipulator.location=h.data.coordinateHelper.toPoint(d.handle.pos,ga),d.manipulator.grabbing&&z.isSome(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=d.manipulator.renderLocation);else if("edge"===d.handle.type){var l=this._getManipulatorInfoFromHandle(d.handle.left).manipulator.elevationAlignedLocation,n=this._getManipulatorInfoFromHandle(d.handle.right).manipulator.elevationAlignedLocation;d.manipulator.elevationAlignedLocation=
O.makeDehydratedPoint(l.x+.5*(n.x-l.x),l.y+.5*(n.y-l.y),l.hasZ&&n.hasZ?l.z+.5*(n.z-l.z):void 0,h.geometry.spatialReference)}}};B.prototype._splitEdgeManipulator=function(d){var h=z.unwrap(this._reshapeHelper),l=z.unwrap(h.splitEdge(d.handle,.5).createdVertex);d.locationUpdateHandle.remove();d.locationUpdateHandle=void 0;d.handle=l;d.type="vertex";var n=I.getGraphicEffectiveElevationInfo(this.graphic);this._setTypeSpecificManipulatorSettings(d.manipulator,d.handle,n);l.left&&this._createPerVertexManipulator(l.left);
l.right&&this._createPerVertexManipulator(l.right);this.outputGeometry=h.geometry;this._updateManipulatorPosition(d);this._updateSelection(d.manipulator);d=h.data.coordinateHelper.toArray(d.handle.pos);h=h.data.components.indexOf(l.component);this.emit("vertex-add",{type:"vertex-add",vertices:[{coordinates:d,componentIndex:h,vertexIndex:z.unwrap(l.index)}],added:d})};B.prototype._updateMoveManipulationPosition=function(){var d=this,h=Z.sv3d.get();A.vec3.set(h,0,0,0);for(var l=0,n=!1,p=null,r=null,
u=0,v=this._manipulatorInfos;u<v.length;u++){var y=v[u];if("vertex"===y.handle.type)if(y.manipulator.selected)if(l++,A.vec3.add(h,h,y.manipulator.renderLocation),z.isNone(p)||y.selectedIndex>p.selectedIndex)r=p,p=y;else{if(z.isNone(r)||y.selectedIndex>r.selectedIndex)r=y}else n=!0}this._moveManipulation.xyAxisManipulation.orthogonalAvailable=!0;this._moveManipulation.xyAxisManipulation.available=!0;0!==l?(u=0,z.isSome(p)&&(v=p.handle.pos,y=z.isSome(r)?r.handle.pos:p.handle.left&&p.handle.left.left?
p.handle.left.left.pos:null,p=!z.isSome(r)&&p.handle.right&&p.handle.right.right?p.handle.right.right.pos:null,y&&p?this._moveManipulation.xyAxisManipulation.available=!1:y?u=Math.atan2(v[1]-y[1],v[0]-y[0])+Math.PI/2:p&&(u=Math.atan2(p[1]-v[1],p[0]-v[0])+Math.PI/2)),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=1!==l,this._moveManipulation.angle=u,this._moveManipulation.radius=M.DISC_RADIUS_SMALL):(this._moveManipulation.angleDeferred=function(){return W.primaryShapeOrientation(z.unwrap(d.graphic.geometry))},
this._moveManipulation.radius=U.MoveManipulation.radiusForSymbol(this.graphic.symbol));0!==l&&n?(A.vec3.scale(h,h,1/l),ga.spatialReference=z.unwrap(this._reshapeHelper).geometry.spatialReference,this.view.renderCoordsHelper.fromRenderCoords(h,ga),this._moveManipulation.elevationAlignedLocation=ga):z.isSome(this._outlineVisualElement)&&!this._graphicState.isDraped&&z.isSome(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:
Q.placeAtGraphic(this.view,this._moveManipulation,this.graphic)};B.prototype._removeVertices=function(d){for(var h=[],l=z.unwrap(this._reshapeHelper),n=0;n<d.length;n++){var p=d[n];"vertex"===p.handle.type&&l.canRemoveVertex()&&(h.push(p.handle),this._removeManipulator(p),this._removeManipulator(this._getManipulatorInfoFromHandle(p.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(p.handle.right)),(p=z.unwrap(l.removeVertices([p.handle]).removedVertices[0].createdEdge))&&this._createPerVertexManipulator(p))}if(0<
h.length&&(d=h.map(function(d){var h=l.data.components.indexOf(d.component);return{coordinates:l.data.coordinateHelper.toArray(d.pos),componentIndex:h,vertexIndex:z.unwrap(d.index)}}),this.outputGeometry=l.geometry,h=this._updateEventState(2),!this.destroyed&&(this.emit("vertex-remove",{type:"vertex-remove",removed:d.map(function(d){return d.coordinates}),vertices:d}),!this.destroyed))){if(h&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}};B.prototype._manipulatorClickCallback=
function(d,h){d.shiftKey||this._clearSelection();"vertex"===h.handle.type&&(h.manipulator.selected=!h.manipulator.selected);"vertex"===h.handle.type&&2===d.button&&this._removeVertices([h]);"edge"===h.handle.type&&0===d.button&&this._splitEdgeManipulator(h);d.stopPropagation()};u.__decorate([n.property({constructOnly:!0})],B.prototype,"tool",void 0);u.__decorate([n.property()],B.prototype,"inputGeometry",null);u.__decorate([n.property()],B.prototype,"outputGeometry",void 0);return B=u.__decorate([n.subclass("esri.views.3d.interactive.editingTools.graphicReshape3D.ReshapeOperation")],
B)}(B.EventedAccessor);l.ReshapeOperation=D;var ga=O.makeDehydratedPoint(0,0,null,null),na;(function(d){d.Vertex=16;d.Edge=32})(na||(na={}));var pa=function(d){function h(h,l){h=d.call(this,h,l)||this;h.type=l;h._geometry=null;return h}u.__extends(h,d);Object.defineProperty(h.prototype,"geometry",{get:function(){if(this._dirty){switch(this.type){case "polyline":this._geometry=this.data.toPolyline();break;case "polygon":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry},enumerable:!0,
configurable:!0});return h}(v.EditGeometryHelper);l.ReshapeGeometryHelper=pa})},"esri/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool":function(){define("require exports tslib ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/accessorSupport/decorators ../../../../../core/libs/gl-matrix-2/math/common ../../../../../support/elevationInfoUtils ../../manipulatorUtils ../manipulatorUtils ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ./GraphicScaleRotateTransform ../../../layers/graphics/GraphicState ../../../../interactive/InteractiveToolBase".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r){Object.defineProperty(l,"__esModule",{value:!0});D=function(l){function r(d){d=l.call(this,d)||this;d.enableZ=!0;d.enableRotation=!0;d.enableScaling=!0;d.type="transform-3d";d.handles=new B;d.scaleRotate=null;return d}u.__extends(r,l);r.prototype.initialize=function(){var d=this;this.graphicState=new E.GraphicState({graphic:this.graphic});this.moveManipulation=new Q.MoveManipulation({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,
xyAxisAvailable:!0,zAvailable:this.enableZ&&O.canMoveZ(this.graphic),radius:Q.MoveManipulation.radiusForSymbol(this.graphic.symbol)});this.moveManipulation.forEachManipulator(function(h){return d.handles.add(h.events.on("immediate-click",function(d){return d.stopPropagation()}))});this.moveManipulation.elevationInfo=n.getGraphicEffectiveElevationInfo(this.graphic);this.moveManipulation.createGraphicDragPipeline(this.graphicState,function(h){var l={graphic:h.graphic,dxScreen:h.dxScreen,dyScreen:h.dyScreen};
switch(h.action){case "start":d.emit("graphic-translate-start",l);break;case "update":d.emit("graphic-translate",l);break;case "end":d.emit("graphic-translate-stop",l)}});this.moveManipulation.angle=this.symbolRotationAngle;if(this.enableScaling||this.enableRotation)this.scaleRotate=new F.GraphicScaleRotateTransform({tool:this,mode:this.enableScaling&&this.enableRotation?null:this.enableScaling?"scale":"rotate"}),this.handles.add(this.scaleRotate.events.on("scale-changed",function(){return d.onScaleChanged()}));
this.handles.add([I.createVisualElements({view:this.view,graphic:this.graphic,forEachManipulator:function(h){return d.forEachManipulator(h)},onManipulatorsChanged:function(){return p.makeHandle()}}),this.graphic.watch("symbol",function(){return d.updateMoveAngle()}),this.graphicState.on("changed",function(){return d.onGeometryChanged()}),this.hideManipulatorsForGraphicState(),this.view.watch("scale",function(){return d.updateMoveAngle()})]);this.handles.add(this.view.trackGraphicState(this.graphicState));
this.onGeometryChanged()};r.prototype.forEachManipulator=function(h){this.moveManipulation.forEachManipulator(h);d.isSome(this.scaleRotate)&&this.scaleRotate.forEachManipulator(h)};r.prototype.hideManipulatorsForGraphicState=function(){var d=this;return this.graphicState.watch("displaying",function(h){d.forEachManipulator(function(d){return d.available=h});d.moveManipulation.zManipulation.available=h&&d.enableZ&&O.canMoveZ(d.graphic)})};r.prototype.destroy=function(){this.handles.destroy();this.moveManipulation.destroy();
d.isSome(this.scaleRotate)&&(this.scaleRotate.destroy(),this.scaleRotate=null);this._set("view",null);this._set("graphic",null)};Object.defineProperty(r.prototype,"snapToScene",{set:function(d){this.moveManipulation&&(this.moveManipulation.snapToScene=d);this._set("snapToScene",d)},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"symbolRotationAngle",{get:function(){var d=this.graphic.symbol;return d?(d=d.symbolLayers.find(function(d){return"object"===d.type}),h.toRadian(-(d&&d.heading||
0))):0},enumerable:!0,configurable:!0});r.prototype.reset=function(){};r.prototype.onDetach=function(){d.isSome(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()};r.prototype.onHide=function(){d.isSome(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()};r.prototype.onScaleChanged=function(){if(!d.isNone(this.scaleRotate)){var h=this.scaleRotate.getScale();this.moveManipulation.displayScale=h}};r.prototype.updateMoveAngle=function(){this.moveManipulation.angle="local"===this.view.viewingMode||
this.view.scale<C.ALIGN_ARROWS_SCALE_THRESHOLD?this.symbolRotationAngle:0};r.prototype.onGeometryChanged=function(){A.placeAtGraphic(this.view,this.moveManipulation,this.graphic)};Object.defineProperty(r.prototype,"test",{get:function(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:d.isSome(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}},enumerable:!0,
configurable:!0});u.__decorate([z.property({constructOnly:!0,nonNullable:!0})],r.prototype,"view",void 0);u.__decorate([z.property({constructOnly:!0,nonNullable:!0})],r.prototype,"graphic",void 0);u.__decorate([z.property({constructOnly:!0,nonNullable:!0})],r.prototype,"enableZ",void 0);u.__decorate([z.property()],r.prototype,"enableRotation",void 0);u.__decorate([z.property()],r.prototype,"enableScaling",void 0);u.__decorate([z.property({value:!1})],r.prototype,"snapToScene",null);u.__decorate([z.property({readOnly:!0})],
r.prototype,"type",void 0);return r=u.__decorate([z.subclass("esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool")],r)}(y.EventedMixin(r.InteractiveToolBase));l.GraphicTransformTool=D})},"esri/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform":function(){define("require exports tslib ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/scheduling ../../../../../core/screenUtils ../../../../../core/watchUtils ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../core/libs/gl-matrix-2/math/common ../../../../../support/elevationInfoUtils ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../manipulations/config ../../../support/geometryUtils ../../../support/mathUtils ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline".split(" "),
function(D,l,u,y,B,p,d,z,h,n,A,O,I,C,Q,F,E,r,N,v,M,U,W,Y,R,ea,Z){function X(d,h){var l=I.vec3.subtract(W.sv3d.get(),h.renderStart,d.origin);d=I.vec3.subtract(W.sv3d.get(),h.renderEnd,d.origin);l=I.vec3.length(l);d=I.vec3.length(d);return 0===l?0:d/l}function ca(h,l){var n=h.allLayerViews.find(function(d){return d.layer===l.layer});if(d.isNone(l.symbol))return null;var p=l.symbol;return{symbolLayers:p.symbolLayers.map(function(d){var h=null,l=null;"object"===d.type&&(h=d.heading);l=n.getSymbolLayerSize(p,
d);return{heading:h,size:l}}).toArray()}}function aa(d,h,l,n){var p=d.renderStart;d=d.renderEnd;var r=ga(p,n,W.sv3d.get());d=ga(d,n,W.sv3d.get());if(I.vec3.squaredDistance(r,d)<v.DRAG_THRESHOLD_PX*v.DRAG_THRESHOLD_PX)return null;var u=I.vec3.subtract(W.sv3d.get(),p,l);h=I.vec3.cross(W.sv3d.get(),u,h);p=I.vec3.add(W.sv3d.get(),p,h);l=ga(l,n,W.sv3d.get());n=ga(p,n,W.sv3d.get());p=I.vec3.subtract(W.sv3d.get(),n,r);n=I.vec3.subtract(W.sv3d.get(),r,l);r=M.ray.wrap(r,p);n=M.ray.wrap(l,n);return M.ray.distance2(r,
d)<M.ray.distance2(n,d)?"rotate":"scale"}function ga(d,l,n){d=l.projectPoint(d,h.castRenderScreenPointArray(oa));l=l.renderToScreen(d,H);return I.vec3.set(n,l[0],l[1],0)}function na(d,h){var l=null,n=1,p=function(){return n};return{start:function(){n=d.getScale();l=d.getScale;d.getScale=p;h()},update:function(d){n+=((n+1)/2-n)*Math.min(d*v.RING_RESET_ANIMATION_SPEED_FACTOR,1);h();return.01>Math.abs(n-1)?1:0},destroy:function(){d.getScale=l;h()}}}function pa(d,h){var l=0,n=null,p=function(){return!1};
return{start:function(){n=d.getFocused;d.getFocused=p;l=0;h()},update:function(d){l+=d;return!n()||l>v.RING_INDICATOR_DELAY_MS?1:0},destroy:function(){d.getFocused=n;h()}}}Object.defineProperty(l,"__esModule",{value:!0});var da;(function(d){d.ScaleIn=32;d.ScaleOut=64;d.RotateLeft=128;d.RotateRight=256;d.Unlocked=1024;d.DelayedFocused=2048;d.TouchInput=32768})(da||(da={}));D=function(){function h(h){var l=this;this.mode=null;this._handles=new B;this._activeAnimation=this._scaleRotateDragData=null;
this.events=new y;this.getFocused=function(){return l.ringManipulator.focused};this.getScale=function(){return d.isSome(l._scaleRotateDragData)&&"scale"===l._scaleRotateDragData.mode?l._scaleRotateDragData.scale:1};this.tool=h.tool;this.mode=h.mode;this.createManipulator();this.updateDragState();this.updateManipulatorTransform()}h.prototype.destroy=function(){d.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null);this._handles.removeAll();this.tool.manipulators.remove(this.ringManipulator);
this.ringManipulator=null};h.prototype.startAnimation=function(d){var h=this;this.cancelActiveAnimation();d.start();var l=z.addFrameTask({update:function(l){d.update(l.deltaTime)&&h.cancelActiveAnimation()}});this._activeAnimation=u.__assign(u.__assign({},d),{frameTask:l})};h.prototype.cancelActiveAnimation=function(){d.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)};h.prototype.forEachManipulator=function(d){d(this.ringManipulator,
2)};h.prototype.createManipulator=function(){var h=this;this.ringManipulator=this.createRingManipulator();this.tool.manipulators.add(this.ringManipulator);var l=this.tool.graphicState.graphic,u=Z.createManipulatorDragEventPipeline(this.ringManipulator,function(n,u,y){h._scaleRotateDragData=null;var z=ca(h.tool.view,l);if(d.isNone(z))return h.updateDragState(),null;var A={mode:"none",origin:C.vec3f64.clone(n.renderLocation),angle:0,startAngle:h.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,
startSymbolData:z};h._scaleRotateDragData=A;h.updateDragState();z=W.sv3d.get();h.tool.view.renderCoordsHelper.worldUpAtPosition(n.renderLocation,z);u.next(N.screenToRenderPlane(h.tool.view,M.plane.fromPositionAndNormal(n.renderLocation,z))).next(function(n){var u=M.plane.normal(n.plane),u=r.calculateInputRotationTransform(n.renderStart,n.renderEnd,A.origin,u),x=U.cyclicalPI.shortestSignedDiff(A.angle,u);A.angleDir=p.clamp(A.angleDir+x,-v.ROTATE_INDICATOR_DIRECTION_BUFFER,v.ROTATE_INDICATOR_DIRECTION_BUFFER);
A.angle=u;u=X(A,n);A.scaleDir=p.clamp(A.scaleDir+(u-A.scale),-v.SCALE_INDICATOR_DIRECTION_BUFFER,v.SCALE_INDICATOR_DIRECTION_BUFFER);A.scale=u;h.onScaleChanged();if("none"===A.mode&&(u=h.mode||aa(n,n.plane,A.origin,h.tool.view.state.camera),d.isSome(u))){switch(u){case "rotate":h.tool.emit("graphic-rotate-start",{graphic:l,angle:A.angle});break;case "scale":h.tool.emit("graphic-scale-start",{graphic:l,scale:A.scale})}A.mode=u}h.updateDragState();if(d.isSome(l.symbol)){var u=l.symbol.clone(),x=0,y=
1;switch(A.mode){default:case "none":break;case "scale":y=A.scale;break;case "rotate":x=A.angle}h.applySymbolData(u,A.startSymbolData,x,y);l.symbol=u;h.updateManipulatorTransform()}switch(n.action){case "start":case "update":switch(A.mode){case "rotate":h.tool.emit("graphic-rotate",{graphic:l,angle:A.angle});break;case "scale":h.tool.emit("graphic-scale",{graphic:l,scale:A.scale})}break;case "end":switch(A.mode){case "rotate":h.tool.emit("graphic-rotate-stop",{graphic:l,angle:A.angle});break;case "scale":h.tool.emit("graphic-scale-stop",
{graphic:l,scale:A.scale})}}"end"===n.action&&(h.startAnimation(na(h,function(){return h.onScaleChanged()})),h._scaleRotateDragData=null,h.updateDragState())});y.next(Z.resetSymbol(l)).next(function(){if(d.isSome(h._scaleRotateDragData)){switch(h._scaleRotateDragData.mode){case "rotate":h.tool.emit("graphic-rotate-stop",{graphic:l,angle:h._scaleRotateDragData.startAngle});break;case "scale":h.tool.emit("graphic-scale-stop",{graphic:l,scale:1})}h.startAnimation(na(h,function(){return h.onScaleChanged()}));
h._scaleRotateDragData=null}})});this._handles.add(u);this._handles.add([this.ringManipulator.events.on("focus-changed",function(d){"focus"===d.action?h.startAnimation(pa(h,function(){return h.updateDelayedFocusedState()})):h.updateDelayedFocusedState()}),this.ringManipulator.events.on("immediate-click",function(d){d.stopPropagation()}),n.init(this.tool.graphicState,"displaying",function(d){return h.ringManipulator.available=d}),this.tool.graphicState.on("changed",function(){return r.placeAtGraphic(h.tool.view,
h.ringManipulator,l)})]);r.placeAtGraphic(this.tool.view,this.ringManipulator,l)};h.prototype.onScaleChanged=function(){this.events.emit("scale-changed");this.updateManipulatorTransform()};h.prototype.updateDelayedFocusedState=function(){this.ringManipulator.updateStateEnabled(da.DelayedFocused,this.getFocused())};h.prototype.updateDragState=function(){this.ringManipulator.updateStateEnabled(da.Unlocked,!(d.isSome(this._scaleRotateDragData)&&"none"!==this._scaleRotateDragData.mode));if(d.isSome(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case "rotate":this.ringManipulator.updateStateEnabled(da.ScaleIn|
da.ScaleOut,!1);this.ringManipulator.updateStateEnabled(da.RotateLeft,0>this._scaleRotateDragData.angleDir);this.ringManipulator.updateStateEnabled(da.RotateRight,0<=this._scaleRotateDragData.angleDir);break;case "scale":this.ringManipulator.updateStateEnabled(da.RotateLeft|da.RotateRight,!1),this.ringManipulator.updateStateEnabled(da.ScaleIn,0>this._scaleRotateDragData.scaleDir),this.ringManipulator.updateStateEnabled(da.ScaleOut,0<=this._scaleRotateDragData.scaleDir)}else this.ringManipulator.updateStateEnabled(da.ScaleIn|
da.ScaleOut|da.RotateLeft|da.RotateRight,!1)};h.prototype.updateManipulatorTransform=function(){var d=A.mat4.identity(W.sm4d.get());A.mat4.rotate(d,d,this.tool.symbolRotationAngle,C.vec3f64.fromValues(0,0,1));var h=this.getScale(),h=A.mat4.fromScaling(W.sm4d.get(),I.vec3.set(W.sv3d.get(),h,h,h)),l=A.mat4.identity(W.sm4d.get());A.mat4.multiply(l,h,d);this.ringManipulator.modelTransform=l};h.prototype.createRingManipulator=function(){for(var d=function(d,h,l){for(var n=[],e=Math.ceil(v.GEOMETRY_SEGMENTS*
(h-d)/(2*Math.PI)),p=0;p<e+1;p++){var m=d+p*(h-d)/e;n.push(C.vec3f64.fromValues(l*Math.cos(m),l*Math.sin(m),0))}return n},h=function(h){return d(0,2*Math.PI,h)},l=function(d,h){return new Y(R.createPathExtrusionGeometry([[-h/2,0],[h/2,0],[h/2,v.RING_HEIGHT/2],[-h/2,v.RING_HEIGHT/2]],d,[],[],!1),"graphic-transform-ring")},n=h(v.RING_RADIUS),p=l(n,v.RING_THICKNESS),r=[],y=[],z=[],B=0;2>B;B++){var D=B*Math.PI-Math.PI/4,x=Math.PI/2-v.ROTATE_INDICATOR_ARC_LENGTH,H=D+x,D=D+Math.PI/2-x,x=d(H,D,v.INNER_INDICATOR_RADIUS),
I=l(x,v.INDICATOR_THICKNESS);z.push(x);z.push(d(H,D,v.OUTER_INDICATOR_RADIUS-v.RING_THICKNESS/2));r.push(I);y.push(I);for(I=0;2>I;I++){var J=0===I,M=O.mat4f64.create();if(J){A.mat4.scale(M,M,[1,-1,1]);A.mat4.rotate(M,M,-H,[0,0,1]);var N=Math.round(v.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE*(x.length-1))}else A.mat4.rotate(M,M,D,[0,0,1]),N=Math.round((1-v.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE)*(x.length-1));M[12]=x[N][0];M[13]=x[N][1];M[14]=x[N][2];N=R.createExtrudedTriangle(v.ROTATE_INDICATOR_ARROW_TIP_LENGTH,
0,v.ROTATE_INDICATOR_ARROW_TIP_RADIUS,v.RING_HEIGHT);R.transformInPlace(N,M);M=new Y(N,"graphic-transform-ring-rotate");(J?r:y).push(M)}}I=[];for(B=0;2>B;B++)D=B*Math.PI-Math.PI/4,x=Math.PI/2-v.SCALE_INDICATOR_ARC_LENGTH,H=D+x,D=D+Math.PI/2-x,x=d(H,D,v.OUTER_INDICATOR_RADIUS),I.push(l(x,v.INDICATOR_THICKNESS));B=h(v.RING_RADIUS+v.SCALE_INDICATOR_OFFSET1);H=h(v.RING_RADIUS+v.SCALE_INDICATOR_OFFSET2);B=l(B,v.INDICATOR_THICKNESS);H=l(H,v.INDICATOR_THICKNESS);D=h(v.RING_RADIUS-v.SCALE_INDICATOR_OFFSET1);
x=h(v.RING_RADIUS-v.SCALE_INDICATOR_OFFSET2);h=l(D,v.INDICATOR_THICKNESS);l=l(x,v.INDICATOR_THICKNESS);D=this.createMaterial();x=this.createMaterial(.66);M=this.createMaterial(.5);J=this.createMaterial(.33);p=[{geometry:p,material:D,stateMask:da.DelayedFocused},{geometry:p,material:M,stateMask:0}];this.mode&&"scale"!==this.mode||(p=p.concat([{geometry:I,material:D,stateMask:da.DelayedFocused|da.Unlocked},{geometry:B,material:x,stateMask:da.DelayedFocused|da.ScaleIn},{geometry:H,material:J,stateMask:da.DelayedFocused|
da.ScaleIn},{geometry:h,material:x,stateMask:da.DelayedFocused|da.ScaleOut},{geometry:l,material:J,stateMask:da.DelayedFocused|da.ScaleOut}]));this.mode&&"rotate"!==this.mode||(p=p.concat([{geometry:y,material:D,stateMask:da.DelayedFocused|da.Unlocked},{geometry:r,material:D,stateMask:da.DelayedFocused|da.RotateLeft},{geometry:y,material:D,stateMask:da.DelayedFocused|da.RotateRight}]));n=u.__spreadArrays([n],z);return new E.Manipulator3D({view:this.tool.view,renderObjects:p,autoScaleRenderObjects:!1,
worldOriented:!0,radius:v.RING_THICKNESS,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:F.getGraphicEffectiveElevationInfo(this.tool.graphicState.graphic),collisionType:{type:"ribbon",paths:n,direction:C.vec3f64.fromValues(0,0,1)}})};h.prototype.createMaterial=function(d){void 0===d&&(d=1);var h=u.__spreadArrays(v.HANDLE_COLOR,[d]);d=new ea({color:h,transparent:1!==d,cullFace:2},"graphic-transform");d.renderOccluded=2;return d};h.prototype.applySymbolData=function(h,l,n,p){var r=this;h.symbolLayers.forEach(function(h,
u){var v=l.symbolLayers[u];u=v.heading;v=v.size;"object"===h.type&&(h.heading=(d.isSome(u)?u:0)-Q.toDegree(n),d.isSome(v)&&"width"in v&&(v.width=r.enforceNonZeroSize(v.width),v.height=r.enforceNonZeroSize(v.height),v.depth=r.enforceNonZeroSize(v.depth),h.width=v.width*p,h.depth=v.depth*p,h.height=v.height*p))})};h.prototype.enforceNonZeroSize=function(d){return d||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)};Object.defineProperty(h.prototype,"test",{get:function(){return{ringManipulator:this.ringManipulator}},
enumerable:!0,configurable:!0});return h}();l.GraphicScaleRotateTransform=D;var oa=C.vec3f64.create(),H=h.createScreenPointArray()})},"*noref":1}});
define("require exports ./editingTools/draw/DrawGraphicTool ./editingTools/draw/DrawOperation ./editingTools/moveGraphic/GraphicMoveTool ./editingTools/reshapeGraphic/GraphicReshapeTool ./editingTools/transformGraphic/GraphicTransformTool".split(" "),function(D,l,u,y,B,p,d){Object.defineProperty(l,"__esModule",{value:!0});l.DrawGraphicTool=u.DrawGraphicTool;l.DrawOperation=y.DrawOperation;l.GraphicMoveTool=B.GraphicMoveTool;l.GraphicReshapeTool=p.GraphicReshapeTool;l.GraphicTransformTool=d.GraphicTransformTool});