// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define(["require","exports","tslib","../geometry","../core/workers"],function(v,d,b,l,t){function g(a){var c;return Array.isArray(a)?null===(c=a[0])||void 0===c?void 0:c.spatialReference:null===a||void 0===a?void 0:a.spatialReference}function r(a){return a?Array.isArray(a)?a.map(r):a.toJSON?a.toJSON():a:a}function k(a){return Array.isArray(a)?a.map(function(a){return l.fromJSON(a)}):l.fromJSON(a)}function u(){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(a){p||
(p=t.open("geometryEngineWorker",{strategy:"distributed"}));return[2,p]})})}function h(a,c){return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(f){switch(f.label){case 0:return[4,u()];case 1:return e=f.sent(),[2,e.invoke("executeGEOperation",{operation:a,parameters:r(c)})]}})})}function q(a){return"xmin"in a?a.center:"x"in a?a:a.extent.center}Object.defineProperty(d,"__esModule",{value:!0});var p;d.extendedSpatialReferenceInfo=function(a){return h("extendedSpatialReferenceInfo",
[a])};d.clip=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(f){switch(f.label){case 0:return[4,h("clip",[g(a),a,c])];case 1:return e=f.sent(),[2,k(e)]}})})};d.cut=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(f){switch(f.label){case 0:return[4,h("cut",[g(a),a,c])];case 1:return e=f.sent(),[2,k(e)]}})})};d.contains=function(a,c){return h("contains",[g(a),a,c])};d.crosses=function(a,c){return h("crosses",
[g(a),a,c])};d.distance=function(a,c,e){return h("distance",[g(a),a,c,e])};d.equals=function(a,c){return h("equals",[g(a),a,c])};d.intersects=function(a,c){return h("intersects",[g(a),a,c])};d.touches=function(a,c){return h("touches",[g(a),a,c])};d.within=function(a,c){return h("within",[g(a),a,c])};d.disjoint=function(a,c){return h("disjoint",[g(a),a,c])};d.overlaps=function(a,c){return h("overlaps",[g(a),a,c])};d.relate=function(a,c,e){return h("relate",[g(a),a,c,e])};d.isSimple=function(a){return h("isSimple",
[g(a),a])};d.simplify=function(a){return b.__awaiter(this,void 0,void 0,function(){var c;return b.__generator(this,function(e){switch(e.label){case 0:return[4,h("simplify",[g(a),a])];case 1:return c=e.sent(),[2,k(c)]}})})};d.convexHull=function(a,c){void 0===c&&(c=!1);return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(f){switch(f.label){case 0:return[4,h("convexHull",[g(a),a,c])];case 1:return e=f.sent(),[2,k(e)]}})})};d.difference=function(a,c){return b.__awaiter(this,
void 0,void 0,function(){var e;return b.__generator(this,function(f){switch(f.label){case 0:return[4,h("difference",[g(a),a,c])];case 1:return e=f.sent(),[2,k(e)]}})})};d.symmetricDifference=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(f){switch(f.label){case 0:return[4,h("symmetricDifference",[g(a),a,c])];case 1:return e=f.sent(),[2,k(e)]}})})};d.intersect=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,
function(f){switch(f.label){case 0:return[4,h("intersect",[g(a),a,c])];case 1:return e=f.sent(),[2,k(e)]}})})};d.union=function(a,c){void 0===c&&(c=null);return b.__awaiter(this,void 0,void 0,function(){var e,f;return b.__generator(this,function(b){switch(b.label){case 0:b=c;var d;Array.isArray(a)?d=a:(d=[],d.push(a),null!=b&&d.push(b));e=d;return[4,h("union",[g(e),e])];case 1:return f=b.sent(),[2,k(f)]}})})};d.offset=function(a,c,e,f,d,n){return b.__awaiter(this,void 0,void 0,function(){var m;return b.__generator(this,
function(b){switch(b.label){case 0:return[4,h("offset",[g(a),a,c,e,f,d,n])];case 1:return m=b.sent(),[2,k(m)]}})})};d.buffer=function(a,c,e,f){void 0===f&&(f=!1);return b.__awaiter(this,void 0,void 0,function(){var d,n;return b.__generator(this,function(b){switch(b.label){case 0:return d=[g(a),a,c,e,f],[4,h("buffer",d)];case 1:return n=b.sent(),[2,k(n)]}})})};d.geodesicBuffer=function(a,c,e,f,d,n){return b.__awaiter(this,void 0,void 0,function(){var m,l;return b.__generator(this,function(b){switch(b.label){case 0:return m=
[g(a),a,c,e,f,d,n],[4,h("geodesicBuffer",m)];case 1:return l=b.sent(),[2,k(l)]}})})};d.nearestCoordinate=function(a,c,e){void 0===e&&(e=!0);return b.__awaiter(this,void 0,void 0,function(){var f;return b.__generator(this,function(d){switch(d.label){case 0:return[4,h("nearestCoordinate",[g(a),a,c,e])];case 1:return f=d.sent(),[2,b.__assign(b.__assign({},f),{coordinate:l.Point.fromJSON(f.coordinate)})]}})})};d.nearestVertex=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,
function(f){switch(f.label){case 0:return[4,h("nearestVertex",[g(a),a,c])];case 1:return e=f.sent(),[2,b.__assign(b.__assign({},e),{coordinate:l.Point.fromJSON(e.coordinate)})]}})})};d.nearestVertices=function(a,c,e,f){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,function(m){switch(m.label){case 0:return[4,h("nearestVertices",[g(a),a,c,e,f])];case 1:return d=m.sent(),[2,d.map(function(a){return b.__assign(b.__assign({},a),{coordinate:l.Point.fromJSON(a.coordinate)})})]}})})};
d.rotate=function(a,c,e){return b.__awaiter(this,void 0,void 0,function(){var f,d,g,k;return b.__generator(this,function(b){switch(b.label){case 0:if(null==a)throw Error("Illegal Argument Exception");f=a.spatialReference;e=null!==e&&void 0!==e?e:q(a);k=(g=a.constructor).fromJSON;return[4,h("rotate",[f,a,c,e])];case 1:return d=k.apply(g,[b.sent()]),d.spatialReference=f,[2,d]}})})};d.flipHorizontal=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var e,f,d,g;return b.__generator(this,
function(b){switch(b.label){case 0:if(null==a)throw Error("Illegal Argument Exception");e=a.spatialReference;c=null!==c&&void 0!==c?c:q(a);g=(d=a.constructor).fromJSON;return[4,h("flipHorizontal",[e,a,c])];case 1:return f=g.apply(d,[b.sent()]),f.spatialReference=e,[2,f]}})})};d.flipVertical=function(a,c){return b.__awaiter(this,void 0,void 0,function(){var e,d,g,k;return b.__generator(this,function(b){switch(b.label){case 0:if(null==a)throw Error("Illegal Argument Exception");e=a.spatialReference;
c=null!==c&&void 0!==c?c:q(a);k=(g=a.constructor).fromJSON;return[4,h("flipVertical",[e,a,c])];case 1:return d=k.apply(g,[b.sent()]),d.spatialReference=e,[2,d]}})})};d.generalize=function(a,c,e,d){return b.__awaiter(this,void 0,void 0,function(){var f;return b.__generator(this,function(b){switch(b.label){case 0:return[4,h("generalize",[g(a),a,c,e,d])];case 1:return f=b.sent(),[2,k(f)]}})})};d.densify=function(a,c,e){return b.__awaiter(this,void 0,void 0,function(){var d;return b.__generator(this,
function(b){switch(b.label){case 0:return[4,h("densify",[g(a),a,c,e])];case 1:return d=b.sent(),[2,k(d)]}})})};d.geodesicDensify=function(a,c,d,f){void 0===f&&(f=0);return b.__awaiter(this,void 0,void 0,function(){var e;return b.__generator(this,function(b){switch(b.label){case 0:return[4,h("geodesicDensify",[g(a),a,c,d,f])];case 1:return e=b.sent(),[2,k(e)]}})})};d.planarArea=function(a,c){return h("planarArea",[g(a),a,c])};d.planarLength=function(a,c){return h("planarLength",[g(a),a,c])};d.geodesicArea=
function(a,c,b){return h("geodesicArea",[g(a),a,c,b])};d.geodesicLength=function(a,c,b){return h("geodesicLength",[g(a),a,c,b])}});