// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
require({cache:{"esri/arcade/arcade":function(){define("require exports ./arcadeCompiler ./arcadeRuntime ./languageUtils ./parser ./treeAnalysis ../core/has ../core/promiseUtils ../intl/moment".split(" "),function(y,g,m,t,p,k,f,e,h,d){function q(a,b){if(null===U)throw Error("Async Arcade must be enabled for this script");return e("csp-restrictions")||!1===c?function(c){return U.executeScript(a,c)}:m.compileScript(a,b,!0)}function u(a,c){void 0===c&&(c=[]);return k.parseScript(a,c)}function n(a,c){if(!0===
c.useAsync||!0===a.isAsync){if(null===U)throw Error("Async Arcade must be enabled for this script");return U.executeScript(a,c)}return t.executeScript(a,c)}function b(a,c){return t.referencesMember(a,c)}function D(a,c){void 0===c&&(c=[]);void 0===a.usesGeometry&&f.findScriptDependencies(a,c);return!0===a.usesGeometry}function H(){return ta?ta:ta=h.create(function(a,c){y(["../geometry/geometryEngine","./functions/geomsync"],function(c,b){A=!0;b.setGeometryEngine(c);a(!0)},function(a){c(a)})})}function J(){return null!==
N?N:N=m.enableAsyncSupport().then(function(){return h.create(function(a,c){y(["./arcadeAsyncRuntime"],function(b){try{U=b;b=0;for(var l=v;b<l.length;b++){var d=l[b];U.extend(d);m.extend(d,"async")}v=null;a(!0)}catch(X){c(X)}},c)})})}function fa(){return U?!0:!1}function aa(){return M?M:M=J().then(function(){return h.create(function(a,c){y(["./featureSetUtils","./functions/featuresetbase","./functions/featuresetgeom","./functions/featuresetstats","./functions/featuresetstring"],function(b,l,d,h,e){try{R=
b,U.extend([l,d,h,e]),m.extend([l,d,h,e],"async"),Y=!0,a(!0)}catch(da){c(da)}},c)})})}function C(a,c){void 0===c&&(c=[]);void 0===a.usesFeatureSet&&f.findScriptDependencies(a,c);return!0===a.usesFeatureSet}function a(a,c){if(c)for(var l=0;l<c.length;l++)if(b(a,c[l]))return!0;return!1}function l(){return null!==pa?pa:pa=d.loadMoment().then(function(a){p.MomentLibrary.Moment=a;return!0})}Object.defineProperty(g,"__esModule",{value:!0});var c=function(){if(e("csp-restrictions"))return!1;try{return(new Function("function* test() {}; return true"))()}catch(oa){return!1}}(),
Y=!1,A=!1,U=null,v=[];g.compileScript=function(a,c){return!0===c.useAsync||!0===a.isAsync?q(a,c):e("csp-restrictions")?function(c){return t.executeScript(a,c)}:m.compileScript(a,c)};g.extend=function(a){t.extend(a);m.extend(a,"sync");null===U?v.push(a):(m.extend(a,"async"),U.extend(a))};g.parseScript=u;g.validateScript=function(a,c,b){void 0===b&&(b="");return k.validateScript(a,c,b)};g.scriptCheck=function(a,c,b,l){void 0===l&&(l="");return k.scriptCheck(a,c,b,l)};g.parseAndExecuteScript=function(a,
c,b){void 0===b&&(b=[]);a=k.parseScript(a,b);return n(a,c)};g.executeScript=n;g.referencesMember=b;g.referencesFunction=function(a,c){return t.referencesFunction(a,c)};g.extractFieldLiterals=function(a,c){void 0===c&&(c=!1);return k.extractFieldLiterals(a,c)};g.scriptUsesGeometryEngine=D;var ta=null;g.enableGeometrySupport=H;var N=null;g.enableAsyncSupport=J;g.isFeatureSetSupportEnabled=function(){return Y};g.isAsyncEnabled=fa;g.isGeometryEnabled=function(){return A};var M=null;g.enableFeatureSetSupport=
aa;g.scriptUsesFeatureSet=C;g.scriptIsAsync=function(a,c){void 0===c&&(c=[]);void 0===a.isAsync&&f.findScriptDependencies(a,c);return!0===a.isAsync};g.loadScriptDependencies=function(c,b,d,e){void 0===d&&(d=[]);void 0===e&&(e=!1);return h.create(function(f,n){var q="string"===typeof c?u(c):c,k=[];k.push(l());q&&(!1===A&&(D(q)||e)&&k.push(H()),!1===fa()&&(!0===q.isAsync||b)&&k.push(J()),!1===Y&&(C(q)||a(q,d))&&k.push(aa()));k?h.all(k).then(function(){f(!0)},n):f(!0)})};g.scriptTouchesGeometry=function(a){if(D(a))return!0;
a=f.findFunctionCalls(a);return-1<a.indexOf("geometry")||-1<a.indexOf("feature")?!0:!1};var R=null;g.featureSetUtils=function(){return R};g.load=l;var pa=null})},"esri/arcade/arcadeCompiler":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(y,g,m,t,p,k,f,e,h,d,q,u,n,b,D,H,J,fa,aa,C,a,l,c,Y){function A(a,c,b){try{return b(a,null,c)}catch(Ka){throw Ka;}}function U(a){return a instanceof Error?J.reject(a):J.reject(Error(a))}function v(a,c){try{switch(c.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return pa(a,c);case "VariableDeclaration":for(var b=[],l=0;l<c.declarations.length;l++)b.push(v(a,c.declarations[l]));return b.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return R(a,
c);case "FunctionDeclaration":var h;var e=c.id.name.toLowerCase(),f={isAsync:a.isAsync,spatialReference:a.spatialReference,console:a.console,lrucache:a.lrucache,services:a.services,symbols:a.symbols,mangleMap:a.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:a.depthCounter+1,globalScope:a.globalScope};if(64<f.depthCounter)throw Error("Exceeded maximum function depth");b="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(l=0;l<c.params.length;l++){var q=c.params[l].name.toLowerCase(),n=ha(a);f.localScope._SymbolsMap[q]=n;f.mangleMap[q]=n;b+="lscope['"+n+"']\x3darguments["+l.toString()+"];\n"}!0===a.isAsync?(b=b+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(R(f,c.body)+"\n return lastStatement; "),b+="});  }, runtimeCtx))\n lastStatement \x3d lc.voidOperation; \n"):(b+=R(f,c.body)+"\n return lastStatement; }, runtimeCtx))",b+="\n lastStatement \x3d lc.voidOperation; \n");void 0!==a.globalScope[e]?
h="gscope['"+e+"']\x3d"+b:void 0!==a.globalScope._SymbolsMap[e]?h="gscope['"+a.globalScope._SymbolsMap[e]+"']\x3d"+b:(n=ha(a),a.globalScope._SymbolsMap[e]=n,a.mangleMap[e]=n,h="gscope['"+n+"']\x3d"+b);return h;case "ReturnStatement":var Da;Da=null===c.argument?"return lc.voidOperation":"return "+v(a,c.argument)+"";return Da;case "IfStatement":if("AssignmentExpression"===c.test.type||"UpdateExpression"===c.test.type)throw Error(d.nodeErrorMessage(c.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));
var D=v(a,c.test),k=x(a),Ea="var "+k+" \x3d "+D+";\n if ("+k+" \x3d\x3d\x3d true) {\n"+M(a,c.consequent)+"\n }\n",Ea=null!==c.alternate?Ea+("else if ("+k+"\x3d\x3d\x3dfalse)   { \n"+M(a,c.alternate)+"}\n"):Ea+("else if ("+k+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");return Ea+="else { lang.error({type: '"+c.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n";case "ExpressionStatement":var na;na="AssignmentExpression"===c.expression.type?"lastStatement \x3d lc.voidOperation; "+
v(a,c.expression)+"; \n ":"lastStatement \x3d "+v(a,c.expression)+"; ";return na;case "AssignmentExpression":return N(a,c);case "UpdateExpression":return ta(a,c);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{for(var H=[],e=h=0,l=c.quasis;e<l.length;e++){var ga=l[e];H.push(ga.value?JSON.stringify(ga.value.cooked):JSON.stringify(""));!1===ga.tail&&(H.push(c.expressions[h]?"lang.castString(lang.aCheck("+v(a,c.expressions[h])+", 'TemplateLiteral'))":
""),h++)}b="(["+H.join(",")+"]).join('')"}catch(z){throw z;}return b;case "TemplateElement":return JSON.stringify(c.value?c.value.cooked:"");case "ForStatement":b="lastStatement \x3d lc.voidOperation; \n";null!==c.init&&(b+=v(a,c.init)+"; ");var u=x(a),p=x(a),b=b+("var "+u+" \x3d true; ")+"\n do { ";null!==c.update&&(b+=" if ("+u+"\x3d\x3d\x3dfalse) {\n "+v(a,c.update)+"  \n}\n "+u+"\x3dfalse; \n");null!==c.test&&(b+="var "+p+" \x3d "+v(a,c.test)+"; ",b+="if ("+p+"\x3d\x3d\x3dfalse) { break; } else if ("+
p+"!\x3d\x3dtrue) { lang.error({type: '"+c.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");b+=v(a,c.body);null!==c.update&&(b+="\n "+v(a,c.update));return b+("\n"+u+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ");case "ForInStatement":var g=x(a),Y=x(a),m=x(a),L="var "+g+" \x3d "+v(a,c.right)+";\n";"VariableDeclaration"===c.left.type&&(L+=v(a,c.left));var C="VariableDeclaration"===c.left.type?c.left.declarations[0].id.name:c.left.name,C=C.toLowerCase(),b="";
null!==a.localScope&&(void 0!==a.localScope[C]?b="lscope['"+C+"']":void 0!==a.localScope._SymbolsMap[C]&&(b="lscope['"+a.localScope._SymbolsMap[C]+"']"));""===b&&(void 0!==a.globalScope[C]?b="gscope['"+C+"']":void 0!==a.globalScope._SymbolsMap[C]&&(b="gscope['"+a.globalScope._SymbolsMap[C]+"']"));L=L+("if ("+g+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n ")+("else if (lc.isArray("+g+") || lc.isString("+g+")) {")+("var "+Y+"\x3d"+g+".length; \n")+("for(var "+m+"\x3d0; "+m+"\x3c"+
Y+"; "+m+"++) {\n");L+=b+"\x3d"+m+";\n";L+=v(a,c.body);L+="\n}\n";L+=" lastStatement \x3d lc.voidOperation; \n";L+=" \n}\n";L+="else if (lc.isImmutableArray("+g+")) {";L=L+("var "+Y+"\x3d"+g+".length(); \n")+("for(var "+m+"\x3d0; "+m+"\x3c"+Y+"; "+m+"++) {\n");L+=b+"\x3d"+m+";\n";L+=v(a,c.body);L+="\n}\n";L+=" lastStatement \x3d lc.voidOperation; \n";L+=" \n}\n";L+="else if (( "+g+" instanceof lang.Dictionary) || ( "+g+" instanceof lang.Feature)) {";L=L+("var "+Y+"\x3d"+g+".keys(); \n")+("for(var "+
m+"\x3d0; "+m+"\x3c"+Y+".length; "+m+"++) {\n");L+=b+"\x3d"+Y+"["+m+"];\n";L+=v(a,c.body);L+="\n}\n";L+=" lastStatement \x3d lc.voidOperation; \n";L+=" \n}\n";a.isAsync&&(L+="else if (lc.isFeatureSet("+g+")) {",L=L+("var "+Y+"\x3d"+g+".iterator(runtimeCtx.abortSignal); \n")+("for(var "+m+"\x3dlang. graphicToFeature( yield "+Y+".next(),"+g+"); "+m+"!\x3dnull; "+m+"\x3dlang. graphicToFeature( yield "+Y+".next(),"+g+")) {\n")+(b+"\x3d"+m+";\n"),L+=v(a,c.body),L+="\n}\n",L+=" lastStatement \x3d lc.voidOperation; \n",
L+=" \n}\n");return L+"else { lastStatement \x3d lc.voidOperation; } \n";case "Identifier":return P(a,c);case "MemberExpression":var J;try{b=void 0,b=!0===c.computed?v(a,c.property):"'"+c.property.name+"'",J="lang.member("+v(a,c.object)+","+b+")"}catch(z){throw z;}return J;case "Literal":return null===c.value||void 0===c.value?"null":JSON.stringify(c.value);case "ThisExpression":throw Error(d.nodeErrorMessage(c,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==c.callee.type)throw Error(d.nodeErrorMessage(c,
"RUNTIME","ONLYNODESSUPPORTED"));var aa=c.callee.name.toLowerCase(),b="";null!==a.localScope&&(void 0!==a.localScope[aa]?b="lscope['"+aa+"']":void 0!==a.localScope._SymbolsMap[aa]&&(b="lscope['"+a.localScope._SymbolsMap[aa]+"']"));""===b&&(void 0!==a.globalScope[aa]?b="gscope['"+aa+"']":void 0!==a.globalScope._SymbolsMap[aa]&&(b="gscope['"+a.globalScope._SymbolsMap[aa]+"']"));if(""!==b){l="[";for(ga=0;ga<c.arguments.length;ga++)0<ga&&(l+=", "),l+=v(a,c.arguments[ga]);l+="]";H=a.isAsync?"(yield lang.callfunc("+
b+","+l+",runtimeCtx) )":"lang.callfunc("+b+","+l+",runtimeCtx)"}else throw Error(d.nodeErrorMessage(c,"RUNTIME","NOTFOUND"));}catch(z){throw z;}return H;case "UnaryExpression":var ya;try{ya="lang.unary("+v(a,c.argument)+",'"+c.operator+"')"}catch(z){throw z;}return ya;case "BinaryExpression":var ma;try{ma="lang.binary("+v(a,c.left)+","+v(a,c.right)+",'"+c.operator+"')"}catch(z){throw z;}return ma;case "LogicalExpression":var A;try{if("AssignmentExpression"===c.left.type||"UpdateExpression"===c.left.type)throw Error(d.nodeErrorMessage(c.left,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===c.right.type||"UpdateExpression"===c.right.type)throw Error(d.nodeErrorMessage(c.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===c.operator||"||"===c.operator)A="(lang.logicalCheck("+v(a,c.left)+") "+c.operator+" lang.logicalCheck("+v(a,c.right)+"))";else throw Error(d.nodeErrorMessage(c,"RUNTIME","ONLYORORAND"));}catch(z){throw z;}return A;case "ConditionalExpression":throw Error(d.nodeErrorMessage(c,
"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":var fa;try{b=[];for(l=0;l<c.elements.length;l++)"Literal"===c.elements[l].type?b.push(v(a,c.elements[l])):b.push("lang.aCheck("+v(a,c.elements[l])+",'ArrayExpression')");fa="["+b.join(",")+"]"}catch(z){throw z;}return fa;case "ObjectExpression":b="lang.dictionary([";for(l=0;l<c.properties.length;l++){var t=c.properties[l],ea="Identifier"===t.key.type?"'"+t.key.name+"'":v(a,t.key),qa=v(a,t.value);0<l&&(b+=",");b+="lang.strCheck("+ea+",'ObjectExpression'),lang.aCheck("+
qa+", 'ObjectExpression')"}return b+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(d.nodeErrorMessage(c,"RUNTIME","NOTSUPPORTED"));default:throw Error(d.nodeErrorMessage(c,"RUNTIME","UNREOGNISED"));}}catch(z){throw z;}}function ta(a,c){var b=null,l="";if("MemberExpression"===c.argument.type)return b=v(a,c.argument.object),l=!0===c.argument.computed?v(a,c.argument.property):"'"+c.argument.property.name+"'","lang.memberupdate("+b+","+l+",'"+c.operator+"',"+c.prefix+
")";b=c.argument.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[b])return"lang.update(lscope, '"+b+"','"+c.operator+"',"+c.prefix+")";if(void 0!==a.localScope._SymbolsMap[b])return"lang.update(lscope, '"+a.localScope._SymbolsMap[b]+"','"+c.operator+"',"+c.prefix+")"}if(void 0!==a.globalScope[b])return"lang.update(gscope, '"+b+"','"+c.operator+"',"+c.prefix+")";if(void 0!==a.globalScope._SymbolsMap[b])return"lang.update(gscope, '"+a.globalScope._SymbolsMap[b]+"','"+c.operator+
"',"+c.prefix+")";throw Error("Variable not recognised");}function N(a,c){var b=v(a,c.right),l=null,d="";if("MemberExpression"===c.left.type)return l=v(a,c.left.object),d=!0===c.left.computed?v(a,c.left.property):"'"+c.left.property.name+"'","lang.assignmember("+l+","+d+",'"+c.operator+"',"+b+")";l=c.left.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[l])return"lscope['"+l+"']\x3dlang.assign("+b+",'"+c.operator+"', lscope['"+l+"'])";if(void 0!==a.localScope._SymbolsMap[l])return"lscope['"+
a.localScope._SymbolsMap[l]+"']\x3dlang.assign("+b+",'"+c.operator+"', lscope['"+a.localScope._SymbolsMap[l]+"'])"}if(void 0!==a.globalScope[l])return"gscope['"+l+"']\x3dlang.assign("+b+",'"+c.operator+"', gscope['"+l+"'])";if(void 0!==a.globalScope._SymbolsMap[l])return"gscope['"+a.globalScope._SymbolsMap[l]+"']\x3dlang.assign("+b+",'"+c.operator+"', gscope['"+a.globalScope._SymbolsMap[l]+"'])";throw Error("Variable not recognised");}function M(a,c){return"BlockStatement"===c.type?v(a,c):"ReturnStatement"===
c.type||"BreakStatement"===c.type||"ContinueStatement"===c.type?v(a,c)+"; ":"UpdateExpression"===c.type?"lastStatement \x3d "+v(a,c)+"; ":"ExpressionStatement"===c.type?v(a,c):"ObjectExpression"===c.type?"lastStatement \x3d "+v(a,c)+"; ":v(a,c)+"; "}function R(a,c){for(var b="",l=0;l<c.body.length;l++)b="ReturnStatement"===c.body[l].type?b+(v(a,c.body[l])+"; \n"):"BreakStatement"===c.body[l].type?b+(v(a,c.body[l])+"; \n"):"ContinueStatement"===c.body[l].type?b+(v(a,c.body[l])+"; \n"):"UpdateExpression"===
c.body[l].type?b+("lastStatement \x3d "+v(a,c.body[l])+"; \n"):"ObjectExpression"===c.body[l].type?b+("lastStatement \x3d "+v(a,c.body[l])+"; \n"):b+(v(a,c.body[l])+" \n");return b}function pa(a,c){var b=null===c.init?null:v(a,c.init);b===h.voidOperation&&(b=null);c=c.id.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[c])return"lscope['"+c+"']\x3d"+b+"; ";if(void 0!==a.localScope._SymbolsMap[c])return"lscope['"+a.localScope._SymbolsMap[c]+"']\x3d"+b+"; ";var l=ha(a);a.localScope._SymbolsMap[c]=
l;a.mangleMap[c]=l;return"lscope['"+l+"']\x3d"+b+"; "}if(void 0!==a.globalScope[c])return"gscope['"+c+"']\x3d"+b+"; ";if(void 0!==a.globalScope._SymbolsMap[c])return"gscope['"+a.globalScope._SymbolsMap[c]+"']\x3d"+b+"; ";l=ha(a);a.globalScope._SymbolsMap[c]=l;a.mangleMap[c]=l;return"gscope['"+l+"']\x3d"+b+"; "}function oa(a,c,b){c=c.toLowerCase();switch(c){case "hasz":return a=a.hasZ,void 0===a?!1:a;case "hasm":return a=a.hasM,void 0===a?!1:a;case "spatialreference":return c=a.spatialReference._arcadeCacheId,
void 0===c&&(b=!0,Object.freeze&&Object.isFrozen(a.spatialReference)&&(b=!1),b&&(sa++,c=a.spatialReference._arcadeCacheId=sa)),a=new p({wkt:a.spatialReference.wkt,wkid:a.spatialReference.wkid}),void 0!==c&&(a._arcadeCacheId="SPREF"+c.toString()),a}switch(a.type){case "extent":switch(c){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return a=a[c],void 0!==a?a:null;case "type":return"Extent"}break;case "polygon":switch(c){case "rings":return c=a.cache._arcadeCacheId,
void 0===c&&(sa++,c=sa,a.cache._arcadeCacheId=c),a=new f(a.rings,a.spatialReference,!0===a.hasZ,!0===a.hasM,c);case "type":return"Polygon"}break;case "point":switch(c){case "x":case "y":case "z":case "m":return void 0!==a[c]?a[c]:null;case "type":return"Point"}break;case "polyline":switch(c){case "paths":return c=a.cache._arcadeCacheId,void 0===c&&(sa++,c=sa,a.cache._arcadeCacheId=c),a=new f(a.paths,a.spatialReference,!0===a.hasZ,!0===a.hasM,c);case "type":return"Polyline"}break;case "multipoint":switch(c){case "points":return c=
a.cache._arcadeCacheId,void 0===c&&(sa++,c=sa,a.cache._arcadeCacheId=c),a=new e(a.points,a.spatialReference,!0===a.hasZ,!0===a.hasM,c,1);case "type":return"Multipoint"}}throw Error(d.nodeErrorMessage(b,"RUNTIME","PROPERTYNOTFOUND"));}function P(a,c){try{var b=c.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[b])return"lscope['"+b+"']";if(void 0!==a.localScope._SymbolsMap[b])return"lscope['"+a.localScope._SymbolsMap[b]+"']"}if(void 0!==a.globalScope[b])return"gscope['"+b+"']";if(void 0!==
a.globalScope._SymbolsMap[b])return"gscope['"+a.globalScope._SymbolsMap[b]+"']";throw Error(d.nodeErrorMessage(c,"RUNTIME","VARIABLENOTFOUND"));}catch(Ka){throw Ka;}}function la(b){return null===b?"":h.isArray(b)||h.isImmutableArray(b)?"Array":h.isDate(b)?"Date":h.isString(b)?"String":h.isBoolean(b)?"Boolean":h.isNumber(b)?"Number":b instanceof t?"Attachment":b instanceof m?"Portal":b instanceof p?"Dictionary":b instanceof k?"Feature":b instanceof a?"Point":b instanceof l?"Polygon":b instanceof c?
"Polyline":b instanceof C?"Multipoint":b instanceof fa?"Extent":h.isFunctionParameter(b)?"Function":h.isFeatureSet(b)?"FeatureSet":h.isFeatureSetCollection(b)?"FeatureSetCollection":b===h.voidOperation?"":"number"===typeof b&&isNaN(b)?"Number":"Unrecognised Type"}function wa(a,c,b,l){try{if(h.equalityTest(c[b],l))return c[b+1];var d=c.length-b;return 1===d?c[b]:2===d?null:3===d?c[b+2]:wa(a,c,b+2,l)}catch(Fa){throw Fa;}}function K(a,c,b,l){try{if(!0===l)return c[b+1];if(3===c.length-b)return c[b+2];
var d=c[b+2];if(!1===h.isBoolean(d))throw Error("WHEN needs boolean test conditions");return K(a,c,b+2,d)}catch(Fa){throw Fa;}}function X(a,c){var b=a.length,l=Math.floor(b/2);if(0===b)return[];if(1===b)return[a[0]];var d=X(a.slice(0,l),c);a=X(a.slice(l,b),c);for(b=[];0<d.length||0<a.length;)0<d.length&&0<a.length?(l=c(d[0],a[0]),isNaN(l)&&(l=0),0>=l?(b.push(d[0]),d=d.slice(1)):(b.push(a[0]),a=a.slice(1))):0<d.length?(b.push(d[0]),d=d.slice(1)):0<a.length&&(b.push(a[0]),a=a.slice(1));return b}function I(a,
c){try{var b=a.length,l=Math.floor(b/2);if(0===b)return J.resolve([]);if(1===b)return J.resolve([a[0]]);var d=[I(a.slice(0,l),c),I(a.slice(l,b),c)];return J.all(d).then(function(a){return da(a[0],a[1],c,[])})}catch(Fa){return J.reject(Fa)}}function da(a,c,b,l){return J.create(function(d,h){0<a.length||0<c.length?0<a.length&&0<c.length?b(a[0],c[0]).then(function(e){try{isNaN(e)&&(e=1),0>=e?(l.push(a[0]),a=a.slice(1)):(l.push(c[0]),c=c.slice(1)),da(a,c,b,l).then(function(a){d(a)},h)}catch(Ta){h(Ta)}},
h):0<a.length?(l.push(a[0]),a=a.slice(1),da(a,c,b,l).then(function(a){d(a)},h)):0<c.length&&(l.push(c[0]),c=c.slice(1),da(a,c,b,l).then(function(a){d(a)},h)):d(l)})}function ha(a){a.symbols.symbolCounter++;return"_T"+a.symbols.symbolCounter.toString()}function x(a){a.symbols.symbolCounter++;return"_Tvar"+a.symbols.symbolCounter.toString()}function L(a,c,b){var l={};a||(a={});b||(b={});l._SymbolsMap={};l.textformatting=1;l.infinity=1;l.pi=1;for(var d in c)l[d]=1;for(d in b)l[d]=1;for(d in a)l[d]=1;
return l}function qa(a,c){for(var b={mode:c,compiled:!0,functions:{},signatures:[],failDefferred:U,standardFunction:A,standardFunctionAsync:A,evaluateIdentifier:ba},l=0;l<a.length;l++)a[l].registerFunctions(b);if("sync"===c){for(var e in b.functions)S[e]=new h.NativeFunction(b.functions[e]),ya.prototype[e]=S[e];for(l=0;l<b.signatures.length;l++)d.addFunctionDeclaration(b.signatures[l],"sync")}else{for(e in b.functions)ga[e]=new h.NativeFunction(b.functions[e]),ea.prototype[e]=ga[e];for(l=0;l<b.signatures.length;l++)d.addFunctionDeclaration(b.signatures[l],
"async")}}function ba(a,c){c=c.name;if("_SymbolsMap"===c)throw"Illegal";if(0<a.localStack.length){if("_t"!==c.substr(0,2).toLowerCase()&&void 0!==a.localStack[a.localStack.length-1][c])return a.localStack[a.localStack.length-1][c];var b=a.mangleMap[c];if(void 0!==b&&void 0!==a.localStack[a.localStack.length-1][b])return a.localStack[a.localStack.length-1][b]}if("_t"!==c.substr(0,2).toLowerCase()&&void 0!==a.globalScope[c]||1===a.globalScope._SymbolsMap[c])return a.globalScope[c];c=a.mangleMap[c];
if(void 0!==c)return a.globalScope[c]}function O(a){console.log(a)}Object.defineProperty(g,"__esModule",{value:!0});var sa=0,S={};q.registerFunctions(S,A);H.registerFunctions(S,A);b.registerFunctions(S,A);u.registerFunctions(S,A);D.registerFunctions(S,A);S["typeof"]=function(a,c){return A(a,c,function(a,c,b){h.pcCheck(b,1,1);a=la(b[0]);if("Unrecognised Type"===a)throw Error("Unrecognised Type");return a})};S.iif=function(a,c){try{return A(a,c,function(a,c,b){h.pcCheck(b,3,3);if(!1===h.isBoolean(b[0]))throw Error("IF Function must have a boolean test condition");
return b[0]?b[1]:b[2]})}catch(ra){throw ra;}};S.decode=function(a,c){try{return A(a,c,function(c,b,l){if(2>l.length)throw Error("Missing Parameters");if(2===l.length)return l[1];if(0===(l.length-1)%2)throw Error("Must have a default value result.");return wa(a,l,1,l[0])})}catch(ra){throw ra;}};S.when=function(a,c){try{return A(a,c,function(c,b,l){if(3>l.length)throw Error("Missing Parameters");if(0===l.length%2)throw Error("Must have a default value result.");c=l[0];if(!1===h.isBoolean(c))throw Error("WHEN needs boolean test conditions");
return K(a,l,0,c)})}catch(ra){throw ra;}};S.top=function(a,c){return A(a,c,function(a,c,b){h.pcCheck(b,2,2);if(h.isArray(b[0]))return h.toNumber(b[1])>=b[0].length?b[0].slice(0):b[0].slice(0,h.toNumber(b[1]));if(h.isImmutableArray(b[0]))return h.toNumber(b[1])>=b[0].length()?b[0].slice(0):b[0].slice(0,h.toNumber(b[1]));throw Error("Top cannot accept this parameter type");})};S.first=function(a,c){return A(a,c,function(a,c,b){h.pcCheck(b,1,1);return h.isArray(b[0])?0===b[0].length?null:b[0][0]:h.isImmutableArray(b[0])?
0===b[0].length()?null:b[0].get(0):null})};S.sort=function(a,c){return A(a,c,function(c,b,l){h.pcCheck(l,1,2);b=l[0];h.isImmutableArray(b)&&(b=b.toArray());if(!1===h.isArray(b))throw Error("Illegal Argument");if(1<l.length){if(!1===h.isFunctionParameter(l[1]))throw Error("Illegal Argument");var d=function(a,b){return Aa.callfunc(l[1],[a,b],c)};return a.isAsync?I(b,d):b=X(b,function(a,c){return d(a,c)})}if(0===b.length)return[];for(var e={},x=0;x<b.length;x++){var f=la(b[x]);""!==f&&(e[f]=!0)}if(!0===
e.Array||!0===e.Dictionary||!0===e.Feature||!0===e.Point||!0===e.Polygon||!0===e.Polyline||!0===e.Multipoint||!0===e.Extent||!0===e.Function)return b.slice(0);var x=0,f="",n;for(n in e)x++,f=n;return b=1<x||"String"===f?X(b,function(a,c){if(null===a||void 0===a||a===h.voidOperation)return null===c||void 0===c||c===h.voidOperation?0:1;if(null===c||void 0===c||c===h.voidOperation)return-1;a=h.toString(a);c=h.toString(c);return a<c?-1:a===c?0:1}):"Number"===f?X(b,function(a,c){return a-c}):"Boolean"===
f?X(b,function(a,c){return a===c?0:c?-1:1}):"Date"===f?X(b,function(a,c){return c-a}):b.slice(0)})};var ga={},na;for(na in S)ga[na]=new h.NativeFunction(S[na]);n.registerFunctions(S,A);for(na in S)S[na]=new h.NativeFunction(S[na]);var ya=function(){};ya.prototype=S;var ea=function(){};ea.prototype=ga;g.functionHelper={fixSpatialReference:h.fixSpatialReference,parseArguments:function(a,c){for(var b=[],l=0;l<c.arguments.length;l++)b.push(v(a,c.arguments[l]));return b},standardFunction:A};g.extend=qa;
g.executeScript=function(a,c){return a(c)};g.extractFieldLiterals=function(a,c){void 0===c&&(c=!1);return d.findFieldLiterals(a)};g.validateScript=function(a,c){return d.validateScript(a,c,"sync")};g.referencesMember=function(a,c){return d.referencesMember(a,c)};g.referencesFunction=function(a,c){return d.referencesFunction(a,c)};var ma=0,Aa={error:function(a,c,b){throw Error(d.nodeErrorMessage(a,c,b));},__awaiter:function(a,c,b,l){return J.create(function(b,d){function e(a){try{x(l.next(a))}catch(Qa){d(Qa)}}
function h(a){try{x(l["throw"](a))}catch(Qa){d(Qa)}}function x(a){a.done?b(a.value):a.value&&a.value.then?a.value.then(e,h):(ma++,0===ma%100?setTimeout(function(){ma=0;e(a.value)},0):e(a.value))}x((l=l.apply(a,c||[])).next())})},functionDepthchecker:function(a,c){return function(){c.depthCounter++;c.localStack.push([]);if(64<c.depthCounter)throw Error("Exceeded maximum function depth");var b=a.apply(this,arguments);if(J.isPromiseLike(b))return b.then(function(a){c.depthCounter--;--c.localStack.length;
return a});c.depthCounter--;--c.localStack.length;return b}},castString:function(a){return h.toString(a)},aCheck:function(a,c){if(h.isFunctionParameter(a))throw Error(d.nodeErrorMessage({type:c},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return a===h.voidOperation?null:a},Dictionary:p,Feature:k,dictionary:function(a){for(var c={},b=0;b<a.length;b+=2){if(h.isFunctionParameter(a[b+1]))throw Error("Illegal Argument");if(!1===h.isString(a[b]))throw Error("Illegal Argument");c[a[b].toString()]=a[b+1]===h.voidOperation?
null:a[b+1]}a=new p(c);a.immutable=!1;return a},strCheck:function(a){if(!1===h.isString(a))throw Error("Illegal Argument");return a},unary:function(a,c){if(h.isBoolean(a)){if("!"===c)return!a;if("-"===c)return-1*h.toNumber(a);if("+"===c)return 1*h.toNumber(a);if("~"===c)return~h.toNumber(a);throw Error(d.nodeErrorMessage({type:"UnaryExpression",operator:c,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===c)return-1*h.toNumber(a);if("+"===c)return 1*h.toNumber(a);if("~"===
c)return~h.toNumber(a);throw Error(d.nodeErrorMessage({type:"UnaryExpression",operator:c,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck:function(a){if(!1===h.isBoolean(a))throw Error(d.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return a},logical:function(a,c,b){if(h.isBoolean(a)&&h.isBoolean(c))switch(b){case "||":return a||c;case "\x26\x26":return a&&c}throw Error(d.nodeErrorMessage({type:"LogicalExpression",
operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));},binary:function(a,c,b){switch(b){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return h.binaryOperator(h.toNumber(a),h.toNumber(c),b);case "\x3d\x3d":return h.equalityTest(a,c);case "\x3d":return h.equalityTest(a,c);case "!\x3d":return!h.equalityTest(a,c);case "\x3c":return h.greaterThanLessThan(a,c,b);case "\x3e":return h.greaterThanLessThan(a,c,b);case "\x3c\x3d":return h.greaterThanLessThan(a,c,
b);case "\x3e\x3d":return h.greaterThanLessThan(a,c,b);case "+":return h.isString(a)||h.isString(c)?h.toString(a)+h.toString(c):h.toNumber(a)+h.toNumber(c);case "-":return h.toNumber(a)-h.toNumber(c);case "*":return h.toNumber(a)*h.toNumber(c);case "/":return h.toNumber(a)/h.toNumber(c);case "%":return h.toNumber(a)%h.toNumber(c);default:throw Error(d.nodeErrorMessage({type:"BinaryExpression",operator:b,left:a,right:c},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign:function(a,c,b){switch(c){case "\x3d":return a===
h.voidOperation?null:a;case "/\x3d":return h.toNumber(b)/h.toNumber(a);case "*\x3d":return h.toNumber(b)*h.toNumber(a);case "-\x3d":return h.toNumber(b)-h.toNumber(a);case "+\x3d":return h.isString(b)||h.isString(a)?h.toString(b)+h.toString(a):h.toNumber(b)+h.toNumber(a);case "%\x3d":return h.toNumber(b)%h.toNumber(a);default:throw Error(d.nodeErrorMessage({type:"AssignmentExpression",operator:c,left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));}},update:function(a,c,b,l){var d=h.toNumber(a[c]);
a[c]="++"===b?d+1:d-1;return!1===l?d:"++"===b?d+1:d-1},graphicToFeature:function(a,c){return null===a?null:k.createFromGraphicLikeObject(a.geometry,a.attributes,c)},memberupdate:function(a,c,b,l){var d;if(h.isArray(a))if(h.isNumber(c)){0>c&&(c=a.length+c);if(0>c||c>=a.length)throw Error("Assignment outside of array bounds");d=h.toNumber(a[c]);a[c]="++"===b?d+1:d-1}else throw Error("Invalid Parameter");else if(a instanceof p){if(!1===h.isString(c))throw Error("Dictionary accessor must be a string");
if(!0===a.hasField(c))d=h.toNumber(a.field(c)),a.setField(c,"++"===b?d+1:d-1);else throw Error("Invalid Parameter");}else if(a instanceof k){if(!1===h.isString(c))throw Error("Feature accessor must be a string");if(!0===a.hasField(c))d=h.toNumber(a.field(c)),a.setField(c,"++"===b?d+1:d-1);else throw Error("Invalid Parameter");}else{if(h.isImmutableArray(a))throw Error("Array is Immutable");throw Error("Invalid Parameter");}return!1===l?d:"++"===b?d+1:d-1},assignmember:function(a,c,b,l){if(h.isArray(a))if(h.isNumber(c)){0>
c&&(c=a.length+c);if(0>c||c>a.length)throw Error("Assignment outside of array bounds");if(c===a.length&&"\x3d"!==b)throw Error("Invalid Parameter");a[c]=this.assign(l,b,a[c])}else throw Error("Invalid Parameter");else if(a instanceof p){if(!1===h.isString(c))throw Error("Dictionary accessor must be a string");if(!0===a.hasField(c))a.setField(c,this.assign(l,b,a.field(c)));else{if("\x3d"!==b)throw Error("Invalid Parameter");a.setField(c,this.assign(l,b,null))}}else if(a instanceof k){if(!1===h.isString(c))throw Error("Feature accessor must be a string");
if(!0===a.hasField(c))a.setField(c,this.assign(l,b,a.field(c)));else{if("\x3d"!==b)throw Error("Invalid Parameter");a.setField(c,this.assign(l,b,null))}}else{if(h.isImmutableArray(a))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member:function(a,c){if(null===a)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","NOTFOUND"));if(a instanceof p||a instanceof k){if(h.isString(c))return a.field(c);throw Error(d.nodeErrorMessage({type:"MemberExpression",
object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(a instanceof aa){if(h.isString(c))return oa(a,c,"MemberExpression");throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(h.isArray(a)){if(h.isNumber(c)&&isFinite(c)&&Math.floor(c)===c){0>c&&(c=a.length+c);if(c>=a.length||0>c)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return a[c]}throw Error(d.nodeErrorMessage({type:"MemberExpression",
object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(h.isString(a)){if(h.isNumber(c)&&isFinite(c)&&Math.floor(c)===c){0>c&&(c=a.length+c);if(c>=a.length||0>c)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return a[c]}throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(h.isImmutableArray(a)&&h.isNumber(c)&&isFinite(c)&&Math.floor(c)===
c){0>c&&(c=a.length()+c);if(c>=a.length()||0>c)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return a.get(c)}throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));},callfunc:function(a,c,b){return a instanceof h.NativeFunction?a.fn(b,c):a instanceof h.SizzleFunction?a.fn.apply(this,c):a.apply(this,c)}};g.compileScript=function(a,c,b){void 0===c&&(c=null);
void 0===b&&(b=!1);null===c&&(c={vars:{},customfunctions:{}});c={isAsync:b,globalScope:L(c.vars,b?ga:S,c.customfunctions),localScope:null,mangleMap:{},console:O,lrucache:c.lrucache,services:c.services,symbols:{symbolCounter:0}};a=v(c,a.body[0].body);""===a&&(a="lc.voidOperation; ");c={lc:h,lang:Aa,mangles:c.mangleMap,postProcess:function(a){a instanceof h.ReturnResult&&(a=a.value);a instanceof h.ImplicitResult&&(a=a.value);a===h.voidOperation&&(a=null);if(a===h.breakResult)throw Error("Cannot return BREAK");
if(a===h.continueResult)throw Error("Cannot return CONTINUE");if(h.isFunctionParameter(a))throw Error("Cannot return FUNCTION");return a},prepare:function(a,c){var b=a.spatialReference;if(null===b||void 0===b)b=new Y({wkid:102100});var l=a.vars,d=a.customfunctions,e=c?new ea:new ya;l||(l={});d||(d={});var h=new p({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});h.immutable=!1;e._SymbolsMap={textformatting:1,infinity:1,pi:1};e.textformatting=h;e.infinity=
Number.POSITIVE_INFINITY;e.pi=Math.PI;for(var x in d)e[x]=d[x],e._SymbolsMap[x]=1;for(x in l)e._SymbolsMap[x]=1,e[x]=l[x]&&"esri.Graphic"===l[x].declaredClass?k.createFromGraphic(l[x]):l[x];return{localStack:[],isAsync:c,mangleMap:this.mangles,spatialReference:b,globalScope:e,abortSignal:void 0===a.abortSignal||null===a.abortSignal?{aborted:!1}:a.abortSignal,localScope:null,services:a.services,console:a.console?a.console:O,lrucache:a.lrucache,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context",
"spatialReference",b?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+a+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+
a+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(c)};g.enableAsyncSupport=function(){return J.create(function(a,c){y(["./functions/geomasync"],function(c){qa([c],"async");a(!0)},function(a){c(a)})})}})},"esri/arcade/ArcadePortal":function(){define(["require","exports","tslib","./Dictionary"],function(y,g,m,t){return function(g){function k(f){var e=g.call(this)||this;e.immutable=!1;e.setField("url",f);e.immutable=!0;return e}m.__extends(k,g);return k}(t)})},"esri/arcade/Dictionary":function(){define(["require",
"exports","./ImmutableArray","./languageUtils","../geometry/Geometry"],function(y,g,m,t,p){function k(e){var h=null;if(null!==e)if(t.isNumber(e))h=t.toNumber(e);else if(t.isBoolean(e))h=t.toBoolean(e);else if(t.isString(e))h=t.toString(e);else if(t.isDate(e))h=t.toDate(e);else if(t.isArray(e))for(var h=[],d=0;d<e.length;d++)h.push(k(e[d]));else{if(0===Object.keys(e).length)return null;h=new f;h.immutable=!1;for(var d=0,q=Object.keys(e);d<q.length;d++){var u=q[d];h.setField(u,k(e[u]))}h.immutable=
!0}return h}var f=function(){function e(h){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=h instanceof e?h.attributes:void 0===h?{}:null===h?{}:h}e.prototype.field=function(e){var d=e.toLowerCase();e=this.attributes[e];if(void 0!==e)return e;for(var h in this.attributes)if(h.toLowerCase()===d)return this.attributes[h];throw Error("Field not Found");};e.prototype.setField=function(e,d){if(this.immutable)throw Error("Dictionary is Immutable");
var h=e.toLowerCase();if(void 0===this.attributes[e])for(var f in this.attributes)if(f.toLowerCase()===h){this.attributes[f]=d;return}this.attributes[e]=d};e.prototype.hasField=function(e){var d=e.toLowerCase();if(void 0!==this.attributes[e])return!0;for(var h in this.attributes)if(h.toLowerCase()===d)return!0;return!1};e.prototype.keys=function(){var e=[],d;for(d in this.attributes)e.push(d);return e=e.sort()};e.prototype.castToText=function(){var e="",d;for(d in this.attributes){""!==e&&(e+=",");
var f=this.attributes[d];null==f?e+=JSON.stringify(d)+":null":t.isBoolean(f)||t.isNumber(f)||t.isString(f)?e+=JSON.stringify(d)+":"+JSON.stringify(f):f instanceof p?e+=JSON.stringify(d)+":"+t.toStringExplicit(f):f instanceof m?e+=JSON.stringify(d)+":"+t.toStringExplicit(f):f instanceof Array?e+=JSON.stringify(d)+":"+t.toStringExplicit(f):f instanceof Date?e+=JSON.stringify(d)+":"+JSON.stringify(f):null!==f&&"object"===typeof f&&void 0!==f.castToText&&(e+=JSON.stringify(d)+":"+f.castToText())}return"{"+
e+"}"};e.convertObjectToArcadeDictionary=function(f){var d=new e;d.immutable=!1;for(var h in f)d.setField(h.toString(),k(f[h]));d.immutable=!0;return d};return e}();return f})},"esri/arcade/ImmutableArray":function(){define(["require","exports"],function(y,g){return function(){function g(g){void 0===g&&(g=[]);this._elements=g}g.prototype.length=function(){return this._elements.length};g.prototype.get=function(g){return this._elements[g]};g.prototype.toArray=function(){for(var g=[],p=0;p<this.length();p++)g.push(this.get(p));
return g};return g}()})},"esri/arcade/languageUtils":function(){define("require exports ./FunctionWrapper ./ImmutableArray ./ImmutablePathArray ./ImmutablePointArray ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../core/number ../geometry/support/coordsUtils ../core/maybe".split(" "),function(y,g,m,t,p,k,f,e,h,d,q,u,n,b,D,H){function J(a,c,b){return""===c||null===c||void 0===c||c===b||c===b?a:a=a.split(c).join(b)}
function fa(a){return a instanceof I||a instanceof m||a instanceof da}function aa(c){return C(c)||l(c)||A(c)||a(c)||null===c||c===g.voidOperation||"number"===typeof c?!0:!1}function C(a){return"string"===typeof a||a instanceof String}function a(a){return"boolean"===typeof a}function l(a){return"number"===typeof a}function c(a){return a instanceof Array}function Y(a){return a instanceof t}function A(a){return a instanceof Date}function U(a,c){if(!1===isNaN(a)){if(void 0===c||null===c||""===c)return a.toString();
c=J(c,"\u2030","");c=J(c,"\u00a4","");return b.format(a,{pattern:c})}return a.toString()}function v(a,c){a=g.MomentLibrary.Moment(a);return void 0===c||null===c||""===c?a.format():a.format(ta(c))}function ta(a){return a.replace(/(LTS)|L|l/g,function(a){return"["+a+"]"})}function N(a,c,b){switch(b){case "\x3e":return a>c;case "\x3c":return a<c;case "\x3e\x3d":return a>=c;case "\x3c\x3d":return a<=c}return!1}function M(a,c){if(a===c||null===a&&c===g.voidOperation||null===c&&a===g.voidOperation)return!0;
if(A(a)&&A(c))return a.getTime()===c.getTime();if(a instanceof p||a instanceof k)return a.equalityTest(c);if(a instanceof q&&c instanceof q){var b=void 0,l=void 0,b=a.cache._arcadeCacheId,l=c.cache._arcadeCacheId;if(void 0!==b&&null!==b)return b===l}return void 0!==a&&void 0!==c&&null!==a&&null!==c&&"object"===typeof a&&"object"===typeof c&&(a._arcadeCacheId===c._arcadeCacheId&&void 0!==a._arcadeCacheId&&null!==a._arcadeCacheId||a._underlyingGraphic===c._underlyingGraphic&&void 0!==a._underlyingGraphic&&
null!==a._underlyingGraphic)?!0:!1}function R(b,d){if(C(b))return b;if(null===b)return"";if(l(b))return U(b,d);if(a(b))return b.toString();if(A(b))return v(b,d);if(b instanceof h)return JSON.stringify(b.toJSON());if(c(b)){d=[];for(var e=0;e<b.length;e++)d[e]=oa(b[e]);return"["+d.join(",")+"]"}if(b instanceof t){d=[];for(e=0;e<b.length();e++)d[e]=oa(b.get(e));return"["+d.join(",")+"]"}return null!==b&&"object"===typeof b&&void 0!==b.castToText?b.castToText():fa(b)?"object, Function":""}function pa(b,
d){if(C(b))return b;if(null===b)return"";if(l(b))return U(b,d);if(a(b))return b.toString();if(A(b))return v(b,d);if(b instanceof h)return b instanceof e?'{"xmin":'+b.xmin.toString()+',"ymin":'+b.ymin.toString()+","+(b.hasZ?'"zmin":'+b.zmin.toString()+",":"")+(b.hasM?'"mmin":'+b.mmin.toString()+",":"")+'"xmax":'+b.xmax.toString()+',"ymax":'+b.ymax.toString()+","+(b.hasZ?'"zmax":'+b.zmax.toString()+",":"")+(b.hasM?'"mmax":'+b.mmax.toString()+",":"")+'"spatialReference":'+wa(b.spatialReference)+"}":
wa(b.toJSON(),function(a,c){return a.key===c.key?0:"spatialReference"===a.key?1:"spatialReference"===c.key||a.key<c.key?-1:a.key>c.key?1:0});if(c(b)){d=[];for(var f=0;f<b.length;f++)d[f]=oa(b[f]);return"["+d.join(",")+"]"}if(b instanceof t){d=[];for(f=0;f<b.length();f++)d[f]=oa(b.get(f));return"["+d.join(",")+"]"}return null!==b&&"object"===typeof b&&void 0!==b.castToText?b.castToText():fa(b)?"object, Function":""}function oa(c){return null===c?"null":a(c)||l(c)||C(c)?JSON.stringify(c):c instanceof
h||c instanceof t||c instanceof Array?pa(c):c instanceof Date?JSON.stringify(v(c,"")):null!==c&&"object"===typeof c&&void 0!==c.castToText?c.castToText():"null"}function P(d,e){return l(d)?d:null===d||""===d?0:A(d)?NaN:a(d)?d?1:0:c(d)||""===d||void 0===d?NaN:void 0!==e&&C(d)?(e=J(e,"\u2030",""),e=J(e,"\u00a4",""),b.parse(d,{pattern:e})):d===g.voidOperation?0:Number(d)}function la(a,c){var b;c.fields.some(function(c){c.name===a&&(b=c.domain);return!!b});return b}function wa(a,c){c||(c={});"function"===
typeof c&&(c={cmp:c});var b="boolean"===typeof c.cycles?c.cycles:!1,l=c.cmp&&function(a){return function(c){return function(b,l){return a({key:b,value:c[b]},{key:l,value:c[l]})}}}(c.cmp),d=[];return function S(a){a&&a.toJSON&&"function"===typeof a.toJSON&&(a=a.toJSON());if(void 0!==a){if("number"===typeof a)return isFinite(a)?""+a:"null";if("object"!==typeof a)return JSON.stringify(a);var c,e;if(Array.isArray(a)){e="[";for(c=0;c<a.length;c++)c&&(e+=","),e+=S(a[c])||"null";return e+"]"}if(null===a)return"null";
if(-1!==d.indexOf(a)){if(b)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var f=d.push(a)-1,h=Object.keys(a).sort(l&&l(a));e="";for(c=0;c<h.length;c++){var n=h[c],q=S(a[n]);q&&(e&&(e+=","),e+=JSON.stringify(n)+":"+q)}d.splice(f,1);return"{"+e+"}"}}(a)}function K(a,c){if(c instanceof q)a.push(c.hasZ?c.hasM?[c.x,c.y,c.z,c.m]:[c.x,c.y,c.z]:[c.x,c.y]);else throw Error("Invalid Argument");}Object.defineProperty(g,"__esModule",{value:!0});y=function(){return function(a){this.value=
a}}();g.ReturnResultE=y;var X=function(){return function(a){this.value=a}}();g.ImplicitResultE=X;var I=function(){return function(a){this.fn=a}}();g.NativeFunctionE=I;var da=function(){return function(a){this.fn=a}}();g.SizzleFunctionE=da;g.NativeFunction=I;g.ImplicitResult=X;g.ReturnResult=y;g.SizzleFunction=da;g.voidOperation={type:"VOID"};g.breakResult={type:"BREAK"};g.continueResult={type:"CONTINUE"};g.multiReplace=J;g.isFunctionParameter=fa;g.isSimpleType=aa;g.defaultUndefined=function(a,c){return void 0===
a?c:a};g.isString=C;g.isBoolean=a;g.isNumber=l;g.isArray=c;g.isFeatureSet=function(a){return!0===(a&&a.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===a.declaredRootClass)};g.isFeatureSetCollection=function(a){return!0===(a&&a.declaredRootClass&&"esri.arcade.featureSetCollection"===a.declaredRootClass)};g.isImmutableArray=Y;g.isDate=A;g.pcCheck=function(a,c,b){if(a.length<c||a.length>b)throw Error("Function called with wrong number of Parameters");};g.generateUUID=function(){var a=
(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var b=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===c?b:b&3|8).toString(16)})};g.formatNumber=U;g.formatDate=v;g.standardiseDateFormat=ta;g.greaterThanLessThan=function(c,b,d){if(null===c){if(null===b||b===g.voidOperation)return N(null,null,d);if(l(b))return N(0,b,d);if(C(b)||a(b))return N(0,P(b),d);if(A(b))return N(0,b.getTime(),d)}if(c===g.voidOperation){if(null===b||b===g.voidOperation)return N(null,
null,d);if(l(b))return N(0,b,d);if(C(b)||a(b))return N(0,P(b),d);if(A(b))return N(0,b.getTime(),d)}else if(l(c)){if(l(b))return N(c,b,d);if(a(b))return N(c,P(b),d);if(null===b||b===g.voidOperation)return N(c,0,d);if(C(b))return N(c,P(b),d);if(A(b))return N(c,b.getTime(),d)}else if(C(c)){if(C(b))return N(R(c),R(b),d);if(A(b))return N(P(c),b.getTime(),d);if(l(b))return N(P(c),b,d);if(null===b||b===g.voidOperation)return N(P(c),0,d);if(a(b))return N(P(c),P(b),d)}else if(A(c)){if(A(b))return N(c,b,d);
if(null===b||b===g.voidOperation)return N(c.getTime(),0,d);if(l(b))return N(c.getTime(),b,d);if(a(b)||C(b))return N(c.getTime(),P(b),d)}else if(a(c)){if(a(b))return N(c,b,d);if(l(b))return N(P(c),P(b),d);if(A(b))return N(P(c),b.getTime(),d);if(null===b||b===g.voidOperation)return N(P(c),0,d);if(C(b))return N(P(c),P(b),d)}return!M(c,b)||"\x3c\x3d"!==d&&"\x3e\x3d"!==d?!1:!0};g.equalityTest=M;g.toString=R;g.toNumberArray=function(a){var b=[];if(!1===c(a))return null;if(a instanceof t){for(var l=0;l<
a.length();l++)b[l]=P(a.get(l));return b}for(l=0;l<a.length;l++)b[l]=P(a[l]);return b};g.toStringExplicit=pa;g.toNumber=P;g.toDate=function(a,c){return A(a)?a:C(a)&&(a=g.MomentLibrary.Moment(a,[void 0===c||null===c||""===c?g.MomentLibrary.Moment.ISO_8601:c]),a.isValid())?a.toDate():null};g.toDateM=function(a,c){return A(a)?g.MomentLibrary.Moment(a):C(a)&&(a=g.MomentLibrary.Moment(a,[void 0===c||null===c||""===c?g.MomentLibrary.Moment.ISO_8601:c]),a.isValid())?a:null};g.toBoolean=function(c){return a(c)?
c:C(c)?(c=c.toLowerCase(),"true"===c?!0:!1):l(c)?0===c||isNaN(c)?!1:!0:!1};g.fixSpatialReference=function(a,c){if(H.isNone(a))return null;if(null===a.spatialReference||void 0===a.spatialReference)a.spatialReference=c;return a};g.fixNullGeometry=function(a){return null===a?null:a instanceof q?"NaN"===a.x||null===a.x||isNaN(a.x)?null:a:a instanceof u?0===a.rings.length?null:a:a instanceof n?0===a.paths.length?null:a:a instanceof d?0===a.points.length?null:a:a instanceof e?"NaN"===a.xmin||null===a.xmin||
isNaN(a.xmin)?null:a:null};g.getDomainValue=function(a,c){if(!a||!a.domain)return c;var b=null;if("string"===a.field.type||"esriFieldTypeString"===a.field.type)c=R(c);else{if(null===c||void 0===c)return null;if(""===c)return c;c=P(c)}for(var l=0;l<a.domain.codedValues.length;l++){var d=a.domain.codedValues[l];d.code===c&&(b=d)}return null===b?c:b.name};g.getDomainCode=function(a,c){if(!a||!a.domain)return c;var b=null;c=R(c);for(var l=0;l<a.domain.codedValues.length;l++){var d=a.domain.codedValues[l];
d.name===c&&(b=d)}return null===b?c:b.code};g.getDomain=function(a,c,b,l){void 0===b&&(b=null);if(!c||!c.fields)return null;for(var d=null,e=0;e<c.fields.length;e++){var f=c.fields[e];f.name.toLowerCase()===a.toString().toLowerCase()&&(d=f)}if(null===d)throw Error("Field not found");var h,n;l||(l=b&&c.typeIdField&&b._field(c.typeIdField));null!=l&&c.types.some(function(a){return a.id===l?((h=a.domains&&a.domains[d.name])&&"inherited"===h.type&&(h=la(d.name,c),n=!0),!0):!1});n||h||(h=la(a,c));return{field:d,
domain:h}};g.stableStringify=wa;g.autoCastFeatureToGeometry=function(a){if(null===a)return null;for(var c=[],b=0;b<a.length;b++){var l=a[b];l&&l.declaredClass&&"esri.arcade.Feature"===l.declaredClass?c.push(l.geometry()):c.push(l)}return c};g.autoCastArrayOfPointsToPolygon=function(a,b){if(c(a)||Y(a)){var l=!1,d=!1,e=[];if(c(a)){for(var f=0;f<a.length;f++){var h=a[f];K(e,h)}0<e.length&&(b=a[0].spatialReference,l=a[0].hasZ,d=a[0].hasM)}else if(a instanceof k)e=a._elements,0<e.length&&(l=a._hasZ,d=
a._hasM,b=a.get(0).spatialReference);else if(Y(a)){for(var f=0,n=a.toArray();f<n.length;f++)h=n[f],K(e,h);0<e.length&&(b=a.get(0).spatialReference,l=!0===a.get(0).hasZ,d=!0===a.get(0).hasM)}else throw Error("Invalid Argument");if(0===e.length)return null;!1===D.isClockwise(e,d,l)&&(e=e.slice(0).reverse());return new u({rings:[e],spatialReference:b,hasZ:l,hasM:d})}return a};g.autoCastArrayOfPointsToPolyline=function(a,b){if(c(a)||Y(a)){var l=!1,d=!1,e=[];if(c(a)){for(var f=0;f<a.length;f++){var h=
a[f];K(e,h)}0<e.length&&(b=a[0].spatialReference,l=!0===a[0].hasZ,d=!0===a[0].hasM)}else if(a instanceof k)e=a._elements,0<e.length&&(l=a._hasZ,d=a._hasM,b=a.get(0).spatialReference);else if(Y(a)){for(var f=0,q=a.toArray();f<q.length;f++)h=q[f],K(e,h);0<e.length&&(b=a.get(0).spatialReference,l=!0===a.get(0).hasZ,d=!0===a.get(0).hasM)}return 0===e.length?null:new n({paths:[e],spatialReference:b,hasZ:l,hasM:d})}return a};g.autoCastArrayOfPointsToMultiPoint=function(a,b){if(c(a)||Y(a)){var l=!1,e=!1,
f=[];if(c(a)){for(var h=0;h<a.length;h++){var n=a[h];K(f,n)}0<f.length&&(b=a[0].spatialReference,l=!0===a[0].hasZ,e=!0===a[0].hasM)}else if(a instanceof k)f=a._elements,0<f.length&&(l=a._hasZ,e=a._hasM,b=a.get(0).spatialReference);else if(Y(a)){for(var h=0,q=a.toArray();h<q.length;h++)n=q[h],K(f,n);0<f.length&&(b=a.get(0).spatialReference,l=!0===a.get(0).hasZ,e=!0===a.get(0).hasM)}return 0===f.length?null:new d({points:f,spatialReference:b,hasZ:l,hasM:e})}return a};g.toStringArray=function(a,b){void 0===
b&&(b=!1);var l=[];if(null===a)return l;if(!0===c(a)){for(var d=0;d<a.length;d++){var e=R(a[d]);""===e&&!0!==b||l.push(e)}return l}if(a instanceof t){for(d=0;d<a.length();d++)e=R(a.get(d)),""===e&&!0!==b||l.push(e);return l}return aa(a)?(e=R(a),""===e&&!0!==b||l.push(e),l):[]};var ha=0;g.tick=function(a){ha++;return 0===ha%100?(ha=0,f.create(function(c){setTimeout(function(){c(a)},0)})):a};g.MomentLibrary={Moment:null};g.binaryOperator=function(a,c,b){switch(b){case "\x26":return a&c;case "|":return a|
c;case "^":return a^c;case "\x3c\x3c":return a<<c;case "\x3e\x3e":return a>>c;case "\x3e\x3e\x3e":return a>>>c}}})},"esri/arcade/FunctionWrapper":function(){define(["require","exports"],function(y,g){return function(){return function(g,t){this.context=this.definition=null;this.definition=g;this.context=t}}()})},"esri/arcade/ImmutablePathArray":function(){define(["require","exports","tslib","./ImmutableArray","./ImmutablePointArray"],function(y,g,m,t,p){return function(k){function f(e,f,d,q,g){e=k.call(this,
e)||this;e._lazyPath=[];e._hasZ=!1;e._hasM=!1;e._hasZ=d;e._hasM=q;e._spRef=f;e._cacheId=g;return e}m.__extends(f,k);f.prototype.get=function(e){if(void 0===this._lazyPath[e]){var f=this._elements[e];if(void 0===f)return;this._lazyPath[e]=new p(f,this._spRef,this._hasZ,this._hasM,this._cacheId,e)}return this._lazyPath[e]};f.prototype.equalityTest=function(e){return e===this?!0:null===e||!1===e instanceof f?!1:e.getUniqueHash()===this.getUniqueHash()};f.prototype.getUniqueHash=function(){return this._cacheId.toString()};
return f}(t)})},"esri/arcade/ImmutablePointArray":function(){define(["require","exports","tslib","./ImmutableArray","../geometry/Point"],function(y,g,m,t,p){return function(k){function f(e,f,d,q,g,n){e=k.call(this,e)||this;e._lazyPt=[];e._hasZ=!1;e._hasM=!1;e._spRef=f;e._hasZ=d;e._hasM=q;e._cacheId=g;e._partId=n;return e}m.__extends(f,k);f.prototype.get=function(e){if(void 0===this._lazyPt[e]){var f=this._elements[e];if(void 0===f)return;var d=this._hasZ,q=this._hasM,k=null,k=d&&!q?new p(f[0],f[1],
f[2],void 0,this._spRef):q&&d?new p(f[0],f[1],void 0,f[2],this._spRef):d&&q?new p(f[0],f[1],f[2],f[3],this._spRef):new p(f[0],f[1],this._spRef);k.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+e.toString();this._lazyPt[e]=k}return this._lazyPt[e]};f.prototype.equalityTest=function(e){return e===this?!0:null===e||!1===e instanceof f?!1:e.getUniqueHash()===this.getUniqueHash()};f.prototype.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};
return f}(t)})},"esri/core/number":function(){define(["require","exports","tslib","../core/string","../intl/locale"],function(y,g,m,t,p){function k(b){b||(b=p.getLocale());var d=b in q;if(!d){var e=b.split("-");1<e.length&&e[0]in q&&(b=e[0],d=!0);d||(b="en")}b=q[b];d=b[2];return{decimal:b[0],group:b[1],pattern:void 0===d?"#,##0.###":d}}function f(b,d,e){e=e||{};!0===e.places&&(e.places=0);Infinity===e.places&&(e.places=6);d=d.split(".");var f="string"===typeof e.places&&e.places.indexOf(","),h=e.places;
f?h=e.places.substring(f+1):0<=h||(h=(d[1]||[]).length);0>e.round||(b=Number(b.toFixed(Number(h))));b=String(Math.abs(b)).split(".");var n=b[1]||"";d[1]||e.places?(f&&(e.places=e.places.substring(0,f)),f=void 0!==e.places?e.places:d[1]&&d[1].lastIndexOf("0")+1,f>n.length&&(b[1]=t.padEnd(n,Number(f),"0")),h<n.length&&(b[1]=n.substr(0,Number(h)))):b[1]&&b.pop();h=d[0].replace(",","");f=h.indexOf("0");-1!==f&&(f=h.length-f,f>b[0].length&&(b[0]=t.padStart(b[0],f,"0")),-1===h.indexOf("#")&&(b[0]=b[0].substr(b[0].length-
f)));var h=d[0].lastIndexOf(","),q,a;-1!==h&&(q=d[0].length-h-1,d=d[0].substr(0,h),h=d.lastIndexOf(","),-1!==h&&(a=d.length-h-1));d=[];for(h=b[0];h;)f=h.length-q,d.push(0<f?h.substr(f):h),h=0<f?h.slice(0,f):"",a&&(q=a,a=void 0);b[0]=d.reverse().join(e.group||",");return b.join(e.decimal||".")}function e(b){b=b||{};var d=k(b.locale),e=b.pattern||d.pattern,f=d.group,q=d.decimal,g=1;if(-1!==e.indexOf("%"))g/=100;else if(-1!==e.indexOf("\u2030"))g/=1E3;else if(-1!==e.indexOf("\u00a4"))throw Error("currency notation not supported");
d=e.split(";");1===d.length&&d.push("-"+d[0]);return{regexp:n(d,function(d){d="(?:"+t.escapeRegExpString(d,".")+")";return d.replace(u,function(a){var l={signed:!1,separator:b.strict?f:[f,""],fractional:b.fractional,decimal:q,exponent:!1};a=a.split(".");var c=b.places;1===a.length&&1!==g&&(a[1]="###");1===a.length||0===c?l.fractional=!1:(void 0===c&&(c=b.pattern?a[1].lastIndexOf("0")+1:Infinity),c&&null==b.fractional&&(l.fractional=!0),!b.places&&c<a[1].length&&(c+=","+a[1].length),l.places=c);a=
a[0].split(",");1<a.length&&(l.groupSize=a.pop().length,1<a.length&&(l.groupSize2=a.pop().length));return"("+h(l)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:f,decimal:q,factor:g}}function h(b){b=b||{};"places"in b||(b.places=Infinity);"string"!==typeof b.decimal&&(b.decimal=".");"fractional"in b&&!/^0/.test(String(b.places))||(b.fractional=[!0,!1]);"exponent"in b||(b.exponent=[!0,!1]);"eSigned"in b||(b.eSigned=[!0,!1]);var e=d(b),f=n(b.fractional,function(d){var e="";d&&0!==b.places&&(e="\\"+
b.decimal,e=Infinity===b.places?"(?:"+e+"\\d+)?":e+("\\d{"+b.places+"}"));return e},!0),h=n(b.exponent,function(e){return e?"([eE]"+d({signed:b.eSigned})+")":""}),e=e+f;f&&(e="(?:(?:"+e+")|(?:"+f+"))");return e+h}function d(b){b=b||{};"signed"in b||(b.signed=[!0,!1]);"separator"in b?"groupSize"in b||(b.groupSize=3):b.separator="";var d=n(b.signed,function(b){return b?"[-+]":""},!0),e=n(b.separator,function(d){if(!d)return"(?:\\d+)";d=t.escapeRegExpString(d);" "===d?d="\\s":"\u00a0"===d&&(d="\\s\\xa0");
var e=b.groupSize,f=b.groupSize2;return f?(d="(?:0|[1-9]\\d{0,"+(f-1)+"}(?:["+d+"]\\d{"+f+"})*["+d+"]\\d{"+e+"})",0<e-f?"(?:"+d+"|(?:0|[1-9]\\d{0,"+(e-1)+"}))":d):"(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+d+"]\\d{"+e+"})*)"},!0);return d+e}Object.defineProperty(g,"__esModule",{value:!0});var q={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],
fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]};g.getCustoms=k;
g.format=function(b,d){d=m.__assign({},d);var e=k(d.locale);d.customs=e;var h=d.pattern||e.pattern;if(isNaN(b)||Infinity===Math.abs(b))return null;d=d||{};var e=d.customs.group,n=d.customs.decimal,h=h.split(";"),q=h[0],h=h[0>b?1:0]||"-"+q;if(-1!==h.indexOf("%"))b*=100;else if(-1!==h.indexOf("\u2030"))b*=1E3;else{if(-1!==h.indexOf("\u00a4"))throw Error("currency notation not supported");if(-1!==h.indexOf("E"))throw Error("exponential notation not supported");}var D=u,q=q.match(D);if(!q)throw Error("unable to find a number expression in pattern: "+
h);!1===d.fractional&&(d.places=0);return h.replace(D,f(b,q[0],{decimal:n,group:e,places:d.places,round:d.round}))};var u=/[#0,]*[#0](?:\.0*#*)?/;g.regexp=function(b){return e(b).regexp};g._parseInfo=e;g.parse=function(b,d){d=e(d);b=(new RegExp("^"+d.regexp+"$")).exec(b);if(!b)return NaN;var f=b[1];if(!b[1]){if(!b[2])return NaN;f=b[2];d.factor*=-1}f=f.replace(new RegExp("["+d.group+"\\s\\xa0]","g"),"").replace(d.decimal,".");return Number(f)*d.factor};var n=function(b,d,e){if(!(b instanceof Array))return d(b);
for(var f=[],h=0;h<b.length;h++)f.push(d(b[h]));b=f.join("|");return"("+(e?"?:":"")+b+")"}})},"esri/arcade/Attachment":function(){define(["require","exports","tslib","./Dictionary"],function(y,g,m,t){return function(g){function k(f,e,h,d,q){var k=g.call(this)||this;k.attachmentUrl=q;k.immutable=!1;k.setField("id",f);k.setField("name",e);k.setField("contenttype",h);k.setField("size",d);k.immutable=!0;return k}m.__extends(k,g);return k}(t)})},"esri/arcade/Feature":function(){define("require exports tslib ./Dictionary ./ImmutableArray ./languageUtils ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils ./featureset/support/shared ../layers/graphics/featureConversionUtils ../core/maybe".split(" "),
function(y,g,m,t,p,k,f,e,h,d,q,u){return function(){function n(){this.declaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=this._optimizedGeomDefinition=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=!0}n.createFromGraphic=function(b){var d=new n;d._geometry=u.isSome(b.geometry)?b.geometry:null;d.attributes=void 0===b.attributes?{}:null===b.attributes?{}:b.attributes;b._sourceLayer?(d._layer=b._sourceLayer,d._datesfixed=!1):b._layer?(d._layer=
b._layer,d._datesfixed=!1):b.layer?(d._layer=b.layer,d._datesfixed=!1):b.sourceLayer&&(d._layer=b.sourceLayer,d._datesfixed=!1);return d};n.createFromArcadeFeature=function(b){var d=new n;d._datesfixed=b._datesfixed;d.attributes=b.attributes;d._geometry=b._geometry;d._optimizedGeomDefinition=b._optimizedGeomDefinition;b._layer&&(d._layer=b._layer);return d};n.createFromOptimisedFeature=function(b,d,e){var f=new n;f._geometry=b.geometry?{geometry:b.geometry}:null;f._optimizedGeomDefinition=e;f.attributes=
b.attributes||{};f._layer=d;f._datesfixed=!1;return f};n.createFromArcadeDictionary=function(b){var d=new n;d.attributes=b.field("attributes");null!==d.attributes?d.attributes instanceof t?(d.attributes=d.attributes.attributes,null===d.attributes&&(d.attributes={})):d.attributes={}:d.attributes={};d._geometry=b.field("geometry");null!==d._geometry&&(d._geometry instanceof t?d._geometry=n.parseGeometryFromDictionary(d._geometry):d._geometry instanceof f||(d._geometry=null));return d};n.createFromGraphicLikeObject=
function(b,d,e){void 0===e&&(e=null);var f=new n;null===d&&(d={});f.attributes=d;f._geometry=u.isSome(b)?b:null;f._layer=e;f._layer&&(f._datesfixed=!1);return f};n.prototype.repurposeFromGraphicLikeObject=function(b,d,e){void 0===e&&(e=null);null===d&&(d={});this.attributes=d;this._geometry=b?b:null;this._datesfixed=(this._layer=e)?!1:!0};n.prototype.castToText=function(){var b="";!1===this._datesfixed&&this._fixDates();for(var d in this.attributes){""!==b&&(b+=",");var e=this.attributes[d];null==
e?b+=JSON.stringify(d)+":null":k.isBoolean(e)||k.isNumber(e)||k.isString(e)?b+=JSON.stringify(d)+":"+JSON.stringify(e):e instanceof f?b+=JSON.stringify(d)+":"+k.toStringExplicit(e):e instanceof p?b+=JSON.stringify(d)+":"+k.toStringExplicit(e):e instanceof Array?b+=JSON.stringify(d)+":"+k.toStringExplicit(e):e instanceof Date?b+=JSON.stringify(d)+":"+JSON.stringify(e):null!==e&&"object"===typeof e&&void 0!==e.castToText&&(b+=JSON.stringify(d)+":"+e.castToText())}return'{"geometry":'+(null===this.geometry()?
"null":k.toStringExplicit(this.geometry()))+',"attributes":{'+b+"}}"};n.prototype._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{for(var b=[],d=0;d<this._layer.fields.length;d++){var e=this._layer.fields[d];"date"!==e.type&&"esriFieldTypeDate"!==e.type||b.push(e.name)}this._datefields=b;0<b.length&&this._fixDateFields(b)}this._datesfixed=!0};n.prototype._fixDateFields=function(b){this.attributes=m.__assign({},this.attributes);
for(var d=0;d<b.length;d++){var e=this.attributes[b[d]];if(null!==e)if(void 0===e)for(var f in this.attributes){if(f.toLowerCase()===b[d].toLowerCase()){e=this.attributes[f];null===e||e instanceof Date||(this.attributes[f]=new Date(e));break}}else e instanceof Date||(this.attributes[b[d]]=new Date(e))}};n.prototype.geometry=function(){if(null===this._geometry||this._geometry instanceof f)return this._geometry;this._optimizedGeomDefinition?(this._geometry=u.unwrap(h.fromJSON(q.convertToGeometry(this._geometry,
this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=u.unwrap(h.fromJSON(this._geometry));return this._geometry};n.prototype.field=function(b){!1===this._datesfixed&&this._fixDates();var d=this.attributes[b];if(void 0!==d)return d;b=b.toLowerCase();for(var e in this.attributes)if(e.toLowerCase()===b)return this.attributes[e];if(this._hasFieldDefinition(b))return null;
throw Error("Field not Found");};n.prototype._hasFieldDefinition=function(b){if(null===this._layer)return!1;for(var d=0;d<this._layer.fields.length;d++)if(this._layer.fields[d].name.toLowerCase()===b)return!0;return!1};n.prototype._field=function(b){!1===this._datesfixed&&this._fixDates();var d=b.toLowerCase();b=this.attributes[b];if(void 0!==b)return b;for(var e in this.attributes)if(e.toLowerCase()===d)return this.attributes[e];return null};n.prototype.setField=function(b,d){if(this.immutable)throw Error("Feature is Immutable");
if(!1===k.isSimpleType(d))throw Error("Illegal Value Assignment to Feature");var e=b.toLowerCase();if(void 0===this.attributes[b])for(var f in this.attributes)if(f.toLowerCase()===e){this.attributes[f]=d;return}this.attributes[b]=d};n.prototype.hasField=function(b){var d=b.toLowerCase();if(void 0!==this.attributes[b])return!0;for(var e in this.attributes)if(e.toLowerCase()===d)return!0;return this._hasFieldDefinition(d)?!0:!1};n.prototype.keys=function(){var b=[],d={},e;for(e in this.attributes)b.push(e),
d[e.toLowerCase()]=1;if(null!==this._layer)for(e=0;e<this._layer.fields.length;e++){var f=this._layer.fields[e];1!==d[f.name.toLowerCase()]&&b.push(f.name)}return b=b.sort()};n.parseGeometryFromDictionary=function(b){b=n.convertDictionaryToJson(b,!0);void 0!==b.spatialreference&&(b.spatialReference=b.spatialreference,delete b.spatialreference);void 0!==b.rings&&(b.rings=this.fixPathArrays(b.rings,!0===b.hasZ,!0===b.hasM));void 0!==b.paths&&(b.paths=this.fixPathArrays(b.paths,!0===b.hasZ,!0===b.hasM));
void 0!==b.points&&(b.points=this.fixPointArrays(b.points,!0===b.hasZ,!0===b.hasM));return h.fromJSON(b)};n.fixPathArrays=function(b,d,e){var f=[];if(b instanceof Array)for(var h=0;h<b.length;h++)f.push(this.fixPointArrays(b[h],d,e));else if(b instanceof p)for(h=0;h<b.length();h++)f.push(this.fixPointArrays(b.get(h),d,e));return f};n.fixPointArrays=function(b,d,f){var h=[];if(b instanceof Array)for(var n=0;n<b.length;n++){var q=b[n];q instanceof e?d&&f?h.push([q.x,q.y,q.z,q.m]):d?h.push([q.x,q.y,
q.z]):f?h.push([q.x,q.y,q.m]):h.push([q.x,q.y]):q instanceof p?h.push(q.toArray()):h.push(q)}else if(b instanceof p)for(n=0;n<b.length();n++)q=b.get(n),q instanceof e?d&&f?h.push([q.x,q.y,q.z,q.m]):d?h.push([q.x,q.y,q.z]):f?h.push([q.x,q.y,q.m]):h.push([q.x,q.y]):q instanceof p?h.push(q.toArray()):h.push(q);return h};n.convertDictionaryToJson=function(b,d){void 0===d&&(d=!1);var e={},f;for(f in b.attributes){var h=b.attributes[f];h instanceof t&&(h=n.convertDictionaryToJson(h));d?e[f.toLowerCase()]=
h:e[f]=h}return e};n.parseAttributesFromDictionary=function(b){var d={},e;for(e in b.attributes){var f=b.attributes[e];if(k.isSimpleType(f))d[e]=f;else throw Error("Illegal Argument");}return d};n.fromJson=function(b){var d=null;null!==b.geometry&&void 0!==b.geometry&&(d=h.fromJSON(b.geometry));var e={};if(null!==b.attributes&&void 0!==b.attributes)for(var f in b.attributes){var q=b.attributes[f];if(null===q)e[f]=q;else if(k.isString(q)||k.isNumber(q)||k.isBoolean(q)||k.isDate(q))e[f]=q;else throw Error("Illegal Argument");
}return n.createFromGraphicLikeObject(d,e,null)};n.prototype.fullDomain=function(b,d){return null!==this._layer&&this._layer.fields?k.getDomain(b,this._layer,this,d):null};n.prototype.subtypes=function(){return null!==this._layer&&this._layer.fields?this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?this._layer.types.map(function(b){return{name:b.name,code:b.id}}):[]}:null:null};n.prototype.domainValueLookup=function(b,d,e){if(null===this._layer||!this._layer.fields)return null;
e=k.getDomain(b,this._layer,this,e);if(void 0===d)try{d=this.field(b)}catch(J){return null}return k.getDomainValue(e,d)};n.prototype.domainCodeLookup=function(b,d,e){if(null===this._layer||!this._layer.fields)return null;if(void 0===d){try{d=this.field(b)}catch(J){return null}return d}b=k.getDomain(b,this._layer,this,e);return k.getDomainCode(b,d)};n.prototype.schema=function(){if(null===this._layer||!this._layer.fields)return null;for(var b=[],e=0,f=this._layer.fields;e<f.length;e++)b.push(d.esriFieldToJson(f[e]));
return{objectIdField:this._layer.objectIdField,typeIdField:this._layer.typeIdField,geometryType:void 0===d.layerGeometryEsriRestConstants[this._layer.geometryType]?"":d.layerGeometryEsriRestConstants[this._layer.geometryType],hasZ:!0===this._layer.hasZ,hasM:!0===this._layer.hasM,fields:b}};return n}()})},"esri/arcade/featureset/support/shared":function(){define(["require","exports","../../../core/promiseUtils","../../../geometry/Extent","../../../layers/support/Field"],function(y,g,m,t,p){function k(f){return f instanceof
Date}Object.defineProperty(g,"__esModule",{value:!0});(function(f){f[f.Standardised=0]="Standardised";f[f.StandardisedNoInterval=1]="StandardisedNoInterval";f[f.SqlServer=2]="SqlServer";f[f.Oracle=3]="Oracle";f[f.Postgres=4]="Postgres";f[f.PGDB=5]="PGDB";f[f.FILEGDB=6]="FILEGDB";f[f.NotEvaluated=7]="NotEvaluated"})(g.FeatureServiceDatabaseType||(g.FeatureServiceDatabaseType={}));g.cloneField=function(f){return p.fromJSON(f.toJSON())};g.esriFieldToJson=function(f){return f.toJSON()};(function(f){f[f.InFeatureSet=
0]="InFeatureSet";f[f.NotInFeatureSet=1]="NotInFeatureSet";f[f.Unknown=2]="Unknown"})(g.IdState||(g.IdState={}));g.isString=function(f){return"string"===typeof f||f instanceof String};g.isBoolean=function(f){return"boolean"===typeof f};g.isNumber=function(f){return"number"===typeof f};g.isArray=function(f){return f instanceof Array};g.isDate=k;g.equalityTest=function(f,e){return f===e?!0:k(f)&&k(e)?f.getTime()===e.getTime():!1};g.cloneAttributes=function(f){var e={},h;for(h in f)e[h]=f[h];return e};
g.convertSquareUnitsToCode=function(f){if(void 0===f)return null;if("number"===typeof f)return f;switch(f.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};g.shapeExtent=function(f){if(null===f)return null;switch(f.type){case "polygon":case "multipoint":case "polyline":return f.extent;case "point":return new t({xmin:f.x,ymin:f.y,xmax:f.x,ymax:f.y,spatialReference:f.spatialReference});
case "extent":return f}return null};g.convertLinearUnitsToCode=function(f){if(void 0===f)return null;if("number"===typeof f||"number"===typeof f)return f;switch(f.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};g.sameGeomType=function(f,e){return f===e||"point"===f&&"esriGeometryPoint"===e||"polyline"===f&&"esriGeometryPolyline"===e||"polygon"===f&&"esriGeometryPolygon"===e||"extent"===
f&&"esriGeometryEnvelope"===e||"multipoint"===f&&"esriGeometryMultipoint"===e||"point"===e&&"esriGeometryPoint"===f||"polyline"===e&&"esriGeometryPolyline"===f||"polygon"===e&&"esriGeometryPolygon"===f||"extent"===e&&"esriGeometryEnvelope"===f||"multipoint"===e&&"esriGeometryMultipoint"===f?!0:!1};g.defaultMaxRecords=1E3;g.errback=function(f){return function(e){f.reject(e)}};g.callback=function(f,e){return function(){try{f.apply(null,arguments)}catch(h){e.reject(h)}}};g.layerGeometryEsriConstants=
{point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};g.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",
esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};g.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger","long":"esriFieldTypeLong",single:"esriFieldTypeSingle","double":"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",
guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",
esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};g.toEsriGeometryType=function(f){switch(f){case "point":return"esriGeometryPoint";case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};g.reduceArrayWithPromises=function(f,e){return m.create(function(h,d){var q=m.resolve(!0);
f.reduce(function(d,f,b,h){return d.then(function(d){try{return e(d,f,b,h)}catch(J){return m.reject(J)}},function(b){return m.reject(b)})},q).then(h,d)})};g.extractServiceUrl=function(f){if(void 0===f)return"";f=f.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");f=f.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return f=f.split("?")[0]};g.stableStringify=function(f,e){e||(e={});"function"===typeof e&&(e={cmp:e});var h="boolean"===typeof e.cycles?e.cycles:!1,d=e.cmp&&function(d){return function(e){return function(b,
f){return d({key:b,value:e[b]},{key:f,value:e[f]})}}}(e.cmp),q=[];return function n(b){b&&b.toJSON&&"function"===typeof b.toJSON&&(b=b.toJSON());if(void 0!==b){if("number"===typeof b)return isFinite(b)?""+b:"null";if("object"!==typeof b)return JSON.stringify(b);var e,f;if(Array.isArray(b)){f="[";for(e=0;e<b.length;e++)e&&(f+=","),f+=n(b[e])||"null";return f+"]"}if(null===b)return"null";if(-1!==q.indexOf(b)){if(h)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");
}var k=q.push(b)-1,g=Object.keys(b).sort(d&&d(b));f="";for(e=0;e<g.length;e++){var p=g[e],m=n(b[p]);m&&(f&&(f+=","),f+=JSON.stringify(p)+":"+m)}q.splice(k,1);return"{"+f+"}"}}(f)}})},"esri/arcade/treeAnalysis":function(){define(["require","exports"],function(y,g){function m(a,b){return"0"!==a.min&&b.length<Number(a.min)||"*"!==a.max&&b.length>Number(a.max)?-2:1}function t(a,b,c){if(null!==c.localScope&&void 0!==c.localScope[a.toLowerCase()]){var d=c.localScope[a.toLowerCase()];if("FormulaFunction"===
d.type||"any"===d.type)return void 0===d.signature&&(d.signature={min:"0",max:"*"}),m(d.signature,b)}return void 0!==c.globalScope[a.toLowerCase()]&&(d=c.globalScope[a.toLowerCase()],"FormulaFunction"===d.type||"any"===d.type)?(void 0===d.signature&&(d.signature={min:"0",max:"*"}),m(d.signature,b)):-1}function p(a,b){if(a)for(var c=0;c<a.length;c++)k(a[c],b)}function k(a,b){if(a&&!1!==b(a))switch(a.type){case "ArrayExpression":p(a.elements,b);break;case "AssignmentExpression":case "BinaryExpression":k(a.left,
b);k(a.right,b);break;case "BlockStatement":p(a.body,b);break;case "CallExpression":k(a.callee,b);p(a.arguments,b);break;case "ConditionalExpression":k(a.test,b);k(a.alternate,b);k(a.consequent,b);break;case "DoWhileStatement":k(a.test,b);k(a.body,b);break;case "ExpressionStatement":k(a.expression,b);break;case "ForInStatement":k(a.left,b);k(a.right,b);k(a.body,b);break;case "ForStatement":k(a.init,b);k(a.test,b);k(a.update,b);k(a.body,b);break;case "FunctionDeclaration":case "FunctionDeclaration":case "FunctionExpression":k(a.id,
b);p(a.params,b);k(a.body,b);break;case "IfStatement":k(a.test,b);k(a.consequent,b);k(a.alternate,b);break;case "LogicalExpression":k(a.left,b);k(a.right,b);break;case "MemberExpression":k(a.object,b);k(a.property,b);break;case "NewExpression":k(a.callee,b);p(a.arguments,b);break;case "ObjectExpression":p(a.properties,b);break;case "Program":p(a.body,b);break;case "Property":k(a.key,b);k(a.value,b);break;case "ReturnStatement":k(a.argument,b);break;case "UnaryExpression":k(a.argument,b);break;case "UpdateExpression":k(a.argument,
b);break;case "VariableDeclaration":p(a.declarations,b);break;case "VariableDeclarator":k(a.id,b);k(a.init,b);break;case "TemplateLiteral":p(a.expressions,b),p(a.quasis,b)}}function f(a,b){void 0===b&&(b=!0);var c=n(a,"SYNTAX","UNREOGNISED");try{switch(a.type){case "VariableDeclarator":return null!==a.init&&"FunctionExpression"===a.init.type?n(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):"Identifier"!==a.id.type?n(a,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==a.init?f(a.init,!1):"";case "VariableDeclaration":for(var d=
0;d<a.declarations.length;d++)if(c=f(a.declarations[d],b),""!==c)return c;return"";case "ForInStatement":c=f(a.left,b);if(""!==c)break;if("VariableDeclaration"===a.left.type){if(1<a.left.declarations.length)return n(a,"SYNTAX","ONLY1VAR");if(null!==a.left.declarations[0].init)return n(a,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==a.left.type)return n(a,"SYNTAX","LEFTNOTVAR");c=f(a.right,b);if(""!==c)break;c=f(a.body,b);if(""!==c)break;return"";case "ForStatement":if(null!==a.test&&(c=f(a.test,
b),""!==c))break;if(null!==a.init&&(c=f(a.init,b),""!==c))break;if(null!==a.update&&(c=f(a.update,b),""!==c))break;if(null!==a.body&&(c=f(a.body,b),""!==c))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":c=f(a.test,b);if(""!==c)break;if(null!==a.consequent&&(c=f(a.consequent,!1),""!==c))break;if(null!==a.alternate&&(c=f(a.alternate,!1),""!==c))break;return"";case "BlockStatement":for(var e=[],d=0;d<a.body.length;d++)"EmptyStatement"!==
a.body[d].type&&e.push(a.body[d]);a.body=e;for(d=0;d<a.body.length;d++)if(c=f(a.body[d],b),""!==c)return c;return"";case "FunctionDeclaration":return!1===b?n(a,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==a.id.type?n(a,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):f(a.body,!1);case "ReturnStatement":return null!==a.argument?f(a.argument,b):"";case "UpdateExpression":return"Identifier"!==a.argument.type&&"MemberExpression"!==a.argument.type?n(a,"SYNTAX","ASSIGNMENTTOVARSONLY"):f(a.argument,b);case "AssignmentExpression":if("Identifier"!==
a.left.type&&"MemberExpression"!==a.left.type)return n(a,"SYNTAX","ASSIGNMENTTOVARSONLY");c=f(a.left,b);if(""!==c)break;switch(a.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return n(a,"SYNTAX","OPERATORNOTRECOGNISED")}return f(a.right,!1);case "ExpressionStatement":return f(a.expression,!1);case "Identifier":c="";break;case "MemberExpression":c=f(a.object,b);if(""!==c)break;return!0===a.computed?f(a.property,b):"";case "Literal":return"";case "TemplateElement":return"";
case "CallExpression":if("Identifier"!==a.callee.type)return n(a,"SYNTAX","ONLYNODESSUPPORTED");c="";for(d=0;d<a.arguments.length;d++)if(c=f(a.arguments[d],b),""!==c)return c;return"";case "UnaryExpression":c=f(a.argument,b);break;case "BinaryExpression":c=f(a.left,b);if(""!==c)break;c=f(a.right,b);if(""!==c)break;switch(a.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;
default:return n(a,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":c=f(a.left,b);if(""!==c)break;c=f(a.right);if(""!==c)break;switch(a.operator){case "\x26\x26":case "||":break;default:return n(a,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ConditionalExpression":return n(a,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":c="";for(d=0;d<a.elements.length&&(c=f(a.elements[d],b),""===c);d++);break;case "TemplateLiteral":c="";for(d=0;d<a.quasis.length;d++)if(c=f(a.quasis[d],b),
""!==c)return c;for(d=0;d<a.expressions.length&&(c=f(a.expressions[d],b),""===c);d++);break;case "ObjectExpression":c="";for(d=0;d<a.properties.length;d++){c="";if(null!==a.properties[d].key&&("Literal"!==a.properties[d].key.type&&"Identifier"!==a.properties[d].key.type&&(c=n(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===a.properties[d].key.type)){var e=a.properties[d].key,l="value"in e?e.value:null;"string"===typeof l||l instanceof String||(c=n(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===
c&&(c=f(a.properties[d],b));if(""!==c)break}break;case "Property":if("Literal"!==a.key.type&&"Identifier"!==a.key.type)return n(a,"SYNTAX","ONLYLITERAL");if("Identifier"!==a.key.type&&(c=f(a.key,b),""!==c))break;c=f(a.value,b)}return c}catch(v){throw v;}}function e(a,b){var c=n(a,"SYNTAX","UNREOGNISED"),l=null,f="";try{switch(a.type){case "VariableDeclarator":if(null!==a.init&&"FunctionExpression"===a.init.type)return n(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");var h=null===a.init?"":e(a.init,b);if(""!==
h)return h;"Identifier"===a.id.type&&(null===b.localScope?b.globalScope[a.id.name.toLowerCase()]={type:"any"}:b.localScope[a.id.name.toLowerCase()]={type:"any"});return"";case "FunctionDeclaration":l=d(a.id.name.toLowerCase(),a);f=q(a,b);if(""!==f)return f;if(null!==b.localScope)return n(a,"SYNTAX","GLOBALFUNCTIONSONLY");l.isnative=!1;b.globalScope[a.id.name.toLowerCase()]={type:"FormulaFunction",signature:[l]};return"";case "VariableDeclaration":for(var c="",k=0;k<a.declarations.length&&(c=e(a.declarations[k],
b),""===c);k++);break;case "IfStatement":c=e(a.test,b);if(""!==c)break;if("AssignmentExpression"===a.test.type||"UpdateExpression"===a.test.type)return n(a.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");if(null!==a.consequent&&(c=e(a.consequent,b),""!==c))break;if(null!==a.alternate&&(c=e(a.alternate,b),""!==c))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(k=0;k<a.body.length;k++)if(c=e(a.body[k],b),""!==c)return c;return"";case "ReturnStatement":return null!==a.argument?
e(a.argument,b):"";case "ForInStatement":if("VariableDeclaration"===a.left.type){if(1<a.left.declarations.length)return n(a,"SYNTAX","ONLY1VAR");if(null!==a.left.declarations[0].init)return n(a,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==a.left.type)return n(a,"SYNTAX","LEFTNOTVAR");c=e(a.left,b);if(""!==c)break;c=e(a.right,b);if(""!==c)break;c=e(a.body,b);if(""!==c)break;return"";case "ForStatement":if(null!==a.init&&(c=e(a.init,b),""!==c))break;if(null!==a.test&&(c=e(a.test,b),""!==c))break;
if(null!==a.body&&(c=e(a.body,b),""!==c))break;if(null!==a.update&&(c=e(a.update,b),""!==c))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==a.argument.type&&"MemberExpression"!==a.argument.type)return n(a,"SYNTAX","ASSIGNMENTTOVARSONLY");var g=!1;if("MemberExpression"===a.argument.type)return e(a.argument,b);null!==b.localScope&&void 0!==b.localScope[a.argument.name.toLowerCase()]&&(g=!0);void 0!==b.globalScope[a.argument.name.toLowerCase()]&&
(g=!0);return!1===g?"Identifier "+a.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==a.left.type&&"MemberExpression"!==a.left.type)return n(a,"SYNTAX","ASSIGNMENTTOVARSONLY");var u=e(a.right,b);if(""!==u)return u;g=!1;if("MemberExpression"===a.left.type)return u=e(a.left,b),""!==u?u:"";null!==b.localScope&&void 0!==b.localScope[a.left.name.toLowerCase()]&&(g=!0);void 0!==b.globalScope[a.left.name.toLowerCase()]&&(g=!0);return!1===g?"Identifier "+a.left.name+
" has not been declared.":"";case "ExpressionStatement":return e(a.expression,b);case "Identifier":var p=a.name.toLowerCase();if(null!==b.localScope&&void 0!==b.localScope[p])return"";c=void 0!==b.globalScope[p]?"":n(a,"SYNTAX","VARIABLENOTFOUND");break;case "MemberExpression":c=e(a.object,b);if(""!==c)break;return!0===a.computed?e(a.property,b):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":if("Identifier"!==a.callee.type)return n(a,"SYNTAX","ONLYNODESSUPPORTED");
c="";for(k=0;k<a.arguments.length;k++)if(c=e(a.arguments[k],b),""!==c)return c;var m=t(a.callee.name,a.arguments,b);-1===m&&(c=n(a,"SYNTAX","NOTFOUND"));-2===m&&(c=n(a,"SYNTAX","WRONGSIGNATURE"));break;case "UnaryExpression":c=e(a.argument,b);break;case "BinaryExpression":c=e(a.left,b);if(""!==c)break;c=e(a.right,b);if(""!==c)break;return"";case "LogicalExpression":c=e(a.left,b);if(""!==c)break;if("AssignmentExpression"===a.left.type||"UpdateExpression"===a.left.type)return n(a.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");
c=e(a.right,b);if(""!==c)break;return"AssignmentExpression"===a.right.type||"UpdateExpression"===a.right.type?n(a.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ConditionalExpression":return n(a,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":c="";for(k=0;k<a.elements.length&&(c=e(a.elements[k],b),""===c);k++);break;case "TemplateLiteral":c="";for(k=0;k<a.quasis.length;k++)if(c=e(a.quasis[k],b),""!==c)return c;for(k=0;k<a.expressions.length&&(c=e(a.expressions[k],b),""===c);k++);break;
case "ObjectExpression":c="";for(k=0;k<a.properties.length;k++){c="";if(null!==a.properties[k].key&&("Literal"!==a.properties[k].key.type&&"Identifier"!==a.properties[k].key.type&&(c=n(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===a.properties[k].key.type)){var C=a.properties[k].key,D="value"in C?C.value:null;"string"===typeof D||D instanceof String||(c=n(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===c&&(c=e(a.properties[k],b));if(""!==c)break}break;case "Property":if("Literal"!==a.key.type&&
"Identifier"!==a.key.type)return n(a,"SYNTAX","ONLYLITERAL");if("Identifier"!==a.key.type&&(c=e(a.key,b),""!==c))break;c=e(a.value,b)}return c}catch(P){throw P;}}function h(a,b){var c=!1,d=b.toLowerCase();k(a,function(a){if(c)return!1;"Identifier"===a.type&&a.name&&a.name.toLowerCase()===d&&(c=!0);return!0});return c}function d(a,b){var c=[];if(void 0!==b.params&&null!==b.params)for(var d=0;d<b.params.length;d++)c.push("any");return{name:a,return:"any",params:c}}function q(a,b){b={globalScope:b.globalScope,
localScope:{}};for(var c=0;c<a.params.length;c++)b.localScope[a.params[c].name.toLowerCase()]={type:"any"};return e(a.body,b)}function u(a,b,c,d){var e={};if(void 0===a||null===a)a={};if(void 0===c||null===c)c={};e.infinity={type:"any"};e.textformatting={type:"any"};e.pi={type:"any"};for(var f in b)"sync"===d&&void 0!==b[f].min?e[f]={type:"FormulaFunction",signature:{min:b[f].min,max:b[f].max}}:"sync"!==d&&void 0!==b[f].fmin&&(e[f]={type:"FormulaFunction",signature:{min:b[f].fmin,max:b[f].fmax}});
for(b=0;b<c.length;b++)f=c[b],e[f.name]={type:"FormulaFunction",signature:f};for(f in a)e[f]=a[f],e[f].type="any";return e}function n(a,b,c){var d="";switch(b){case "SYNTAX":d="Syntax Error: ";break;case "RUNTIME":d="Runtime Error: ";break;default:d="Syntax Error: "}try{switch(a.type){case "IfStatement":switch(c){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":d+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":d+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(c){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":d+=
" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":d+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":d+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(c){case "GLOBALFUNCTIONSONLY":d+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":d+=" Function Definition must have an identifier"}break;case "VariableDeclaration":d+=" Only 1 variable can be declared at a time";break;
case "VariableDeclarator":switch(c){case "FUNCTIONVARIABLEDECLARATOR":d+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":d+=" Variable Definition must have an identifier"}break;case "Identifier":d+=" Identifier Not Found. ";d+=a.name;break;case "ObjectExpression":switch(c){case "OBJECTPROPERTYMUSTBESTRING":d+=" Property name must be a string"}break;case "ForStatement":switch(c){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":d+=" Non Boolean used as Condition"}break;
case "ForInStatement":switch(c){case "ONLY1VAR":d+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":d+=" Can only declare value for use with IN";break;case "LEFTNOVAR":d+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":d+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":d+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(c){case "PROPERTYNOTFOUND":d+="Cannot find member property. ";d+=
!1===a.computed?"Identifier"===a.property.type?a.property.name:"":"";break;case "OUTOFBOUNDS":d+="Out of Bounds. ";d+=!1===a.computed?"Identifier"===a.property.type?a.property.name:"":"";break;case "NOTFOUND":d+="Cannot call member method on null. ";d+=!1===a.computed?"Identifier"===a.property.type?a.property.name:"":"";break;case "INVALIDTYPE":d+="Cannot call member property on object of this type. ",d+=!1===a.computed?"Identifier"===a.property.type?a.property.name:"":""}break;case "Property":switch(c){case "ONLYLITERAL":d+=
"Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(c){case "WRONGSIGNATURE":d+="Function signature does not match: ";d+="Identifier"===a.callee.type?a.callee.name:"";break;case "ONLYNODESUPPORTED":d+="Functions must be declared.";d+="Identifier"===a.callee.type?a.callee.name:"";break;case "NOTAFUNCTION":d+="Not a Function: ";d+="Identifier"===a.callee.type?a.callee.name:"";break;case "NOTFOUND":d+="Function Not Found: "+("Identifier"===a.callee.type?
a.callee.name:"")}break;case "UnaryExpression":switch(c){case "NOTSUPPORTEDUNARYOPERATOR":d+="Operator "+a.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case "NOTSUPPORTEDTYPE":d+="Unary operator "+a.operator+" cannot be used with this argument."}case "BinaryExpression":switch(c){case "OPERATORNOTRECOGNISED":d+="Binary Operator not recognised "+a.operator}break;case "LogicalExpression":switch(c){case "ONLYBOOLEAN":d+="Operator "+a.operator+" cannot be used. Only || or \x26\x26 are allowed values";
break;case "ONLYORORAND":d+="Logical Expression "+a.operator+" being applied to parameters that are not boolean."}break;case "ConditionalExpression":d+="Conditional statements not supported.";break;case "ArrayExpression":switch(c){case "FUNCTIONCONTEXTILLEGAL":d+=" Cannot Put Function inside Array."}break;default:d+="Expression contains unrecognised code structures."}}catch(A){throw A;}return d}function b(a,b,c){return{line:a.loc.start.line,character:a.loc.start.column,reason:n(a,b,c)}}function D(a,
b,c,d){b={globalScope:b.globalScope,localScope:{}};for(var e=0;e<a.params.length;e++)b.localScope[a.params[e].name.toLowerCase()]={type:"any"};H(a.body,b,c,d,!1)}function H(a,e,c,f,h){void 0===h&&(h=!0);if(null===a)throw Error("Unnexpexted Expression Syntax");var l=null;try{switch(a.type){case "VariableDeclarator":if(null!==a.init&&"FunctionExpression"===a.init.type){f.push(b(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"));break}"Identifier"!==a.id.type?f.push(b(a,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):
(a.id.name.toLowerCase(),null===e.localScope?e.globalScope[a.id.name.toLowerCase()]={type:"any"}:e.localScope[a.id.name.toLowerCase()]={type:"any"});null!==a.init&&H(a.init,e,c,f,h);break;case "FunctionDeclaration":!1===h&&f.push(b(a,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==a.id.type&&f.push(b(a,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));l=d("",a);D(a,e,c,f);null!==e.localScope&&f.push(b(a,"SYNTAX","GLOBALFUNCTIONSONLY"));l.isnative=!1;"Identifier"===a.id.type&&(e.globalScope[a.id.name.toLowerCase()]=
{type:"FormulaFunction",signature:[l]});break;case "VariableDeclaration":for(var q=0;q<a.declarations.length;q++)H(a.declarations[q],e,c,f,h);break;case "IfStatement":null!==a.test&&(H(a.test,e,c,f,h),"AssignmentExpression"!==a.test.type&&"UpdateExpression"!==a.test.type||f.push(b(a.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==a.consequent&&H(a.consequent,e,c,f,h);null!==a.alternate&&H(a.alternate,e,c,f,h);break;case "EmptyStatement":break;case "BlockStatement":if(null!==a.body)for(q=
0;q<a.body.length;q++)H(a.body[q],e,c,f,h);break;case "ReturnStatement":null!==a.argument&&H(a.argument,e,c,f,h);break;case "ForInStatement":"VariableDeclaration"===a.left.type?(1<a.left.declarations.length&&f.push(b(a,"SYNTAX","ONLY1VAR")),null!==a.left.declarations[0].init&&f.push(b(a,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==a.left.type&&f.push(b(a,"SYNTAX","LEFTNOTVAR"));H(a.left,e,c,f,h);H(a.right,e,c,f,h);H(a.body,e,c,f,h);break;case "ForStatement":null!==a.init&&H(a.init,e,c,f,h);null!==
a.test&&H(a.test,e,c,f,h);null!==a.body&&H(a.body,e,c,f,h);null!==a.update&&H(a.update,e,c,f,h);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==a.argument.type&&"MemberExpression"!==a.argument.type?f.push(b(a,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===a.argument.type&&(l=!1,!1===c&&(null!==e.localScope&&void 0!==e.localScope[a.argument.name.toLowerCase()]&&(l=!0),void 0!==e.globalScope[a.argument.name.toLowerCase()]&&(l=!0),!1===l&&f.push({line:null===
a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Identifier "+a.argument.name+" has not been declared."}))),"MemberExpression"===a.argument.type&&H(a.argument,e,c,f,h));break;case "AssignmentExpression":"Identifier"!==a.left.type&&"MemberExpression"!==a.left.type&&f.push(b(a,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(a.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:f.push(b(a,"SYNTAX","OPERATORNOTRECOGNISED"))}H(a.right,e,c,f,
h);l=!1;"Identifier"===a.left.type&&(null!==e.localScope&&void 0!==e.localScope[a.left.name.toLowerCase()]&&(l=!0),void 0!==e.globalScope[a.left.name.toLowerCase()]&&(l=!0),!1===c&&!1===l&&f.push({line:null===a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Identifier "+a.left.name+" has not been declared."}));"MemberExpression"===a.left.type&&H(a.left,e,c,f,h);break;case "ExpressionStatement":H(a.expression,e,c,f,h);break;case "Identifier":var n=a.name.toLowerCase();if(null!==
e.localScope&&void 0!==e.localScope[n]||void 0!==e.globalScope[n])break;!1===c&&f.push(b(a,"SYNTAX","VARIABLENOTFOUND"));break;case "MemberExpression":H(a.object,e,c,f,h);!0===a.computed&&H(a.property,e,c,f,h);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==a.callee.type&&f.push(b(a,"SYNTAX","ONLYNODESSUPPORTED"));for(q=0;q<a.arguments.length;q++)H(a.arguments[q],e,c,f,h);if("Identifier"===a.callee.type){var k=t(a.callee.name,a.arguments,e);!1===c&&-1===
k&&f.push(b(a,"SYNTAX","NOTFOUND"));-2===k&&f.push(b(a,"SYNTAX","WRONGSIGNATURE"))}break;case "UnaryExpression":H(a.argument,e,c,f,h);break;case "BinaryExpression":H(a.left,e,c,f,h);H(a.right,e,c,f,h);switch(a.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;default:f.push(b(a,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(a.operator){case "\x26\x26":case "||":break;
default:f.push(b(a,"SYNTAX","OPERATORNOTRECOGNISED"))}H(a.left,e,c,f,h);"AssignmentExpression"!==a.left.type&&"UpdateExpression"!==a.left.type||f.push(b(a,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));H(a.right,e,c,f,h);"AssignmentExpression"!==a.right.type&&"UpdateExpression"!==a.right.type||f.push(b(a,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ConditionalExpression":f.push(b(a,"SYNTAX","NOTSUPPORTED"));break;case "ArrayExpression":for(q=0;q<a.elements.length;q++)H(a.elements[q],
e,c,f,h);break;case "TemplateLiteral":for(q=0;q<a.quasis.length;q++)H(a.quasis[q],e,c,f,h);for(q=0;q<a.expressions.length;q++)H(a.expressions[q],e,c,f,h);break;case "ObjectExpression":for(q=0;q<a.properties.length;q++)H(a.properties[q],e,c,f,h);break;case "Property":"Literal"!==a.key.type&&"Identifier"!==a.key.type&&f.push(b(a,"SYNTAX","ONLYLITERAL"));"Literal"===a.key.type&&H(a.key,e,c,f,h);H(a.value,e,c,f,h);break;default:f.push(b(a,"SYNTAX","UNRECOGNISED"))}}catch(M){f.push({line:null===a?0:a.loc.start.line,
character:null===a?0:a.loc.start.column,reason:"Unnexpected Syntax"})}}function J(a){var b=[];k(a,function(a){"CallExpression"===a.type&&"Identifier"===a.callee.type&&b.push(a.callee.name.toLowerCase());return!0});return b}Object.defineProperty(g,"__esModule",{value:!0});g.functionDecls={concatenate:{min:"0",max:"*"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",
max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",
max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},
atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",
max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",
max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",
max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},schema:{min:"1",max:"1"}};for(var fa in g.functionDecls)g.functionDecls[fa].fmin=
g.functionDecls[fa].min,g.functionDecls[fa].fmax=g.functionDecls[fa].max;var aa="featureset featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl attachments featuresetbyportalitem".split(" "),C="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");
g.addFunctionDeclaration=function(a,b){var c=g.functionDecls[a.name.toLowerCase()];void 0===c?"sync"===b?g.functionDecls[a.name.toLowerCase()]={min:a.min,max:a.max}:g.functionDecls[a.name.toLowerCase()]={fmin:a.min,fmax:a.max}:"sync"===b?(c.min=a.min,c.max=a.max):(c.fmin=a.min,c.fmax=a.max)};g.checkFunctionSignature=m;g.findFunction=t;g.walk=k;g.validateLanguageNode=f;g.testValidityOfExpression=e;g.referencesMember=h;g.referencesFunction=function(a,b){var c=!1,d=b.toLowerCase();k(a,function(a){return c?
!1:"CallExpression"===a.type&&"Identifier"===a.callee.type&&a.callee.name&&a.callee.name.toLowerCase()===d?(c=!0,!1):!0});return c};g.findFieldLiterals=function(a){var b=[];k(a,function(a){if("MemberExpression"!==a.type||"Identifier"!==a.object.type)return!0;!1===a.computed&&a.object&&a.object.name&&a.property&&"Identifier"===a.property.type&&a.property.name?b.push(a.object.name.toLowerCase()+"."+a.property.name.toLowerCase()):a.object&&a.object.name&&a.property&&"Literal"===a.property.type&&"string"===
typeof a.property.value&&b.push(a.object.name.toLowerCase()+"."+a.property.value.toString().toLowerCase());return!1});return b};g.extractFunctionDeclaration=d;g.validateFunction=q;g.constructGlobalScope=u;g.validateScript=function(a,b,c,d){void 0===c&&(c="async");void 0===d&&(d=g.functionDecls);b={globalScope:u(b.vars,d,b.customFunctions,c),localScope:null};return e(a.body[0].body,b)};g.validateLanguage=function(a){return"BlockStatement"!==a.body[0].body.type?"Invalid formula content.":f(a.body[0].body)};
g.nodeErrorMessage=n;g.makeError=b;g.extractAllIssuesInFunction=D;g.extractAllIssues=H;g.checkScript=function(a,b,c,d,e){void 0===d&&(d="async");void 0===e&&(e=g.functionDecls);var f=[];if("BlockStatement"!==a.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===b||void 0===b)b={vars:{},customFunctions:[]};b={globalScope:u(b.vars,e,b.customFunctions,d),localScope:null};try{H(a.body[0].body,b,c,f)}catch(v){}return f};g.findFunctionCalls=J;g.findScriptDependencies=function(a,
b){void 0===b&&(b=[]);var c=null;if(void 0===a.usesFeatureSet){null===c&&(c=J(a));a.usesFeatureSet=!1;for(var d=0;d<c.length;d++)-1<aa.indexOf(c[d])&&(a.usesFeatureSet=!0,a.isAsync=!0);if(!1===a.usesFeatureSet&&b&&0<b.length)for(d=0;d<b.length;d++)if(h(a,b[d])){a.usesFeatureSet=!0;a.isAsync=!0;break}}if(void 0===a.usesGeometry)for(a.usesGeometry=!1,null===c&&(c=J(a)),d=0;d<c.length;d++)-1<C.indexOf(c[d])&&(a.usesGeometry=!0)};g.scriptUsesFeatureSet=function(a){a=J(a);for(var b=0;b<a.length;b++)if(-1<
aa.indexOf(a[b]))return!0;return!1}})},"esri/arcade/functions/date":function(){define(["require","exports","../languageUtils"],function(y,g,m){function t(g){return null===g?g:isNaN(g.getTime())?null:g}Object.defineProperty(g,"__esModule",{value:!0});g.registerFunctions=function(g,k){g.today=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,0,0);e=new Date;e.setHours(0,0,0,0);return e})};g.now=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,0,0);return new Date})};g.timestamp=function(f,
e){return k(f,e,function(e,d,f){m.pcCheck(f,0,0);e=new Date;return e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())})};g.toutc=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,1,1);e=m.toDate(f[0]);return null===e?null:new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())})};g.tolocal=function(f,e){return k(f,e,function(e,d,
f){m.pcCheck(f,1,1);e=m.toDate(f[0]);return null===e?null:m.MomentLibrary.Moment.utc([e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]).toDate()})};g.day=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,1,1);e=m.toDate(f[0]);return null===e?NaN:e.getDate()})};g.month=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,1,1);e=m.toDate(f[0]);return null===e?NaN:e.getMonth()})};g.year=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,
1,1);e=m.toDate(f[0]);return null===e?NaN:e.getFullYear()})};g.hour=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,1,1);e=m.toDate(f[0]);return null===e?NaN:e.getHours()})};g.second=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,1,1);e=m.toDate(f[0]);return null===e?NaN:e.getSeconds()})};g.millisecond=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,1,1);e=m.toDate(f[0]);return null===e?NaN:e.getMilliseconds()})};g.minute=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,
1,1);e=m.toDate(f[0]);return null===e?NaN:e.getMinutes()})};g.weekday=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,1,1);e=m.toDate(f[0]);return null===e?NaN:e.getDay()})};g.date=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,0,7);if(3===f.length)return t(new Date(m.toNumber(f[0]),m.toNumber(f[1]),m.toNumber(f[2]),0,0,0,0));if(4===f.length)return t(new Date(m.toNumber(f[0]),m.toNumber(f[1]),m.toNumber(f[2]),m.toNumber(f[3]),0,0,0));if(5===f.length)return t(new Date(m.toNumber(f[0]),
m.toNumber(f[1]),m.toNumber(f[2]),m.toNumber(f[3]),m.toNumber(f[4]),0,0));if(6===f.length)return t(new Date(m.toNumber(f[0]),m.toNumber(f[1]),m.toNumber(f[2]),m.toNumber(f[3]),m.toNumber(f[4]),m.toNumber(f[5]),0));if(7===f.length)return t(new Date(m.toNumber(f[0]),m.toNumber(f[1]),m.toNumber(f[2]),m.toNumber(f[3]),m.toNumber(f[4]),m.toNumber(f[5]),m.toNumber(f[6])));if(2===f.length){e=m.toString(f[1]);if(""===e)return null;e=m.standardiseDateFormat(e);f=m.MomentLibrary.Moment(m.toString(f[0]),e,!0);
return!0===f.isValid()?f.toDate():null}if(1===f.length){if(m.isString(f[0])&&""===f[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;e=m.toNumber(f[0]);return!1===isNaN(e)?t(new Date(e)):m.toDate(f[0])}if(0===f.length)return new Date})};g.datediff=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,2,3);e=m.toDateM(f[0]);d=m.toDateM(f[1]);if(null===e||null===d)return NaN;switch(m.toString(f[2]).toLowerCase()){case "days":case "day":case "d":return e.diff(d,"days",!0);case "months":case "month":return e.diff(d,
"months",!0);case "minutes":case "minute":case "m":return"M"===f[2]?e.diff(d,"months",!0):e.diff(d,"minutes",!0);case "seconds":case "second":case "s":return e.diff(d,"seconds",!0);case "milliseconds":case "millisecond":case "ms":return e.diff(d);case "hours":case "hour":case "h":return e.diff(d,"hours",!0);case "years":case "year":case "y":return e.diff(d,"years",!0);default:return e.diff(d)}})};g.dateadd=function(f,e){return k(f,e,function(e,d,f){m.pcCheck(f,2,3);e=m.toDateM(f[0]);if(null===e)return null;
d="milliseconds";switch(m.toString(f[2]).toLowerCase()){case "days":case "day":case "d":d="days";break;case "months":case "month":d="months";break;case "minutes":case "minute":case "m":d="M"===f[2]?"months":"minutes";break;case "seconds":case "second":case "s":d="seconds";break;case "milliseconds":case "millisecond":case "ms":d="milliseconds";break;case "hours":case "hour":case "h":d="hours";break;case "years":case "year":case "y":d="years"}e.add(m.toNumber(f[1]),d);return e.toDate()})}}})},"esri/arcade/functions/geometry":function(){define("require exports ../Dictionary ../Feature ../ImmutablePointArray ../languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/support/jsonUtils ../../geometry/support/coordsUtils".split(" "),
function(y,g,m,t,p,k,f,e,h,d,q,u,n,b,D){Object.defineProperty(g,"__esModule",{value:!0});g.registerFunctions=function(g,J){g.ringisclockwise=function(b,e){return J(b,e,function(b,a,e){k.pcCheck(e,1,1);b=[];var c=a=!1;if(null===e[0])return!1;if(k.isArray(e[0])){for(var f=0,l=e[0];f<l.length;f++){var h=l[f];if(h instanceof d)b.push(h.hasZ?h.hasM?[h.x,h.y,h.z,h.m]:[h.x,h.y,h.z]:[h.x,h.y]);else throw Error("Invalid Argument");}0<b.length&&(a=e[0][0].hasZ,c=e[0][0].hasM)}else if(e[0]instanceof p)b=e[0]._elements,
0<b.length&&(a=e[0]._hasZ,c=e[0]._hasM);else if(k.isImmutableArray(e[0])){f=0;for(l=e[0].toArray();f<l.length;f++)if(h=l[f],h instanceof d)b.push(h.hasZ?h.hasM?[h.x,h.y,h.z,h.m]:[h.x,h.y,h.z]:[h.x,h.y]);else throw Error("Invalid Argument");0<b.length&&(a=e[0].get(0).hasZ,c=e[0].get(0).hasM)}else throw Error("Invalid Argument");return 3>b.length?!1:D.isClockwise(b,c,a)})};g.polygon=function(d,e){return J(d,e,function(e,a,f){k.pcCheck(f,1,1);e=null;if(f[0]instanceof m){if(e=k.fixSpatialReference(t.parseGeometryFromDictionary(f[0]),
d.spatialReference),!1===e instanceof q)throw Error("Illegal Parameter");}else e=f[0]instanceof q?b.fromJSON(f[0].toJSON()):k.fixSpatialReference(new q(JSON.parse(f[0])),d.spatialReference);if(null!==e&&!1===e.spatialReference.equals(d.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return k.fixNullGeometry(e)})};g.polyline=function(d,e){return J(d,e,function(e,a,f){k.pcCheck(f,1,1);e=null;if(f[0]instanceof m){if(e=k.fixSpatialReference(t.parseGeometryFromDictionary(f[0]),
d.spatialReference),!1===e instanceof u)throw Error("Illegal Parameter");}else e=f[0]instanceof u?b.fromJSON(f[0].toJSON()):k.fixSpatialReference(new u(JSON.parse(f[0])),d.spatialReference);if(null!==e&&!1===e.spatialReference.equals(d.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return k.fixNullGeometry(e)})};g.point=function(e,f){return J(e,f,function(f,a,l){k.pcCheck(l,1,1);f=null;if(l[0]instanceof m){if(f=k.fixSpatialReference(t.parseGeometryFromDictionary(l[0]),
e.spatialReference),!1===f instanceof d)throw Error("Illegal Parameter");}else f=l[0]instanceof d?b.fromJSON(l[0].toJSON()):k.fixSpatialReference(new d(JSON.parse(l[0])),e.spatialReference);if(null!==f&&!1===f.spatialReference.equals(e.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return k.fixNullGeometry(f)})};g.multipoint=function(d,e){return J(d,e,function(e,a,f){k.pcCheck(f,1,1);e=null;if(f[0]instanceof m){if(e=
k.fixSpatialReference(t.parseGeometryFromDictionary(f[0]),d.spatialReference),!1===e instanceof h)throw Error("Illegal Parameter");}else e=f[0]instanceof h?b.fromJSON(f[0].toJSON()):k.fixSpatialReference(new h(JSON.parse(f[0])),d.spatialReference);if(null!==e&&!1===e.spatialReference.equals(d.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return k.fixNullGeometry(e)})};g.extent=function(e,n){return J(e,n,function(n,
a,l){l=k.autoCastFeatureToGeometry(l);k.pcCheck(l,1,1);n=null;l[0]instanceof m?n=k.fixSpatialReference(t.parseGeometryFromDictionary(l[0]),e.spatialReference):l[0]instanceof d?(n={xmin:l[0].x,ymin:l[0].y,xmax:l[0].x,ymax:l[0].y,spatialReference:l[0].spatialReference.toJSON()},l[0].hasZ?(n.zmin=l[0].z,n.zmax=l[0].z):l[0].hasM&&(n.mmin=l[0].m,n.mmax=l[0].m),n=b.fromJSON(n)):n=l[0]instanceof q?b.fromJSON(l[0].extent.toJSON()):l[0]instanceof u?b.fromJSON(l[0].extent.toJSON()):l[0]instanceof h?b.fromJSON(l[0].extent.toJSON()):
l[0]instanceof f?b.fromJSON(l[0].toJSON()):k.fixSpatialReference(new f(JSON.parse(l[0])),e.spatialReference);if(null!==n&&!1===n.spatialReference.equals(e.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return k.fixNullGeometry(n)})};g.geometry=function(d,e){return J(d,e,function(e,a,f){k.pcCheck(f,1,1);e=null;e=f[0]instanceof t?k.fixSpatialReference(f[0].geometry(),d.spatialReference):f[0]instanceof m?k.fixSpatialReference(t.parseGeometryFromDictionary(f[0]),
d.spatialReference):k.fixSpatialReference(b.fromJSON(JSON.parse(f[0])),d.spatialReference);if(null!==e&&!1===e.spatialReference.equals(d.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return k.fixNullGeometry(e)})};g.setgeometry=function(b,d){return J(b,d,function(b,a,d){k.pcCheck(d,2,2);if(d[0]instanceof t){if(!0===d[0].immutable)throw Error("Feature is Immutable");if(d[1]instanceof e||null===d[1])d[0]._geometry=d[1];
else throw Error("Illegal Argument");}else throw Error("Illegal Argument");return k.voidOperation})};g.feature=function(b,d){return J(b,d,function(d,a,f){if(0===f.length)throw Error("Missing Parameters");d=null;if(1===f.length)if(k.isString(f[0]))d=t.fromJson(JSON.parse(f[0]));else if(f[0]instanceof t)d=t.createFromArcadeFeature(f[0]);else if(f[0]instanceof e)d=t.createFromGraphicLikeObject(f[0],null,null);else if(f[0]instanceof m)d=f[0].hasField("geometry")?f[0].field("geometry"):null,a=f[0].hasField("attributes")?
f[0].field("attributes"):null,null!==d&&d instanceof m&&(d=t.parseGeometryFromDictionary(d)),null!==a&&(a=t.parseAttributesFromDictionary(a)),d=t.createFromGraphicLikeObject(d,a,null);else throw Error("Illegal Argument");else{if(2===f.length){a=d=null;if(null!==f[0])if(f[0]instanceof e)d=f[0];else if(d instanceof m)d=t.parseGeometryFromDictionary(f[0]);else throw Error("Illegal Argument");if(null!==f[1])if(f[1]instanceof m)a=t.parseAttributesFromDictionary(f[1]);else throw Error("Illegal Argument");
}else{d=null;a={};if(null!==f[0])if(f[0]instanceof e)d=f[0];else if(d instanceof m)d=t.parseGeometryFromDictionary(f[0]);else throw Error("Illegal Argument");for(var c=1;c<f.length;c+=2){var h=k.toString(f[c]),n=f[c+1];if(null===n||void 0===n||k.isString(n)||isNaN(n)||k.isDate(n)||k.isNumber(n)||k.isBoolean(n)){if(k.isFunctionParameter(n)||!1===k.isSimpleType(n))throw Error("Illegal Argument");a[h]=n===k.voidOperation?null:n}else throw Error("Illegal Argument");}}d=t.createFromGraphicLikeObject(d,
a,null)}d._geometry=k.fixSpatialReference(d.geometry(),b.spatialReference);d.immutable=!1;return d})};g.dictionary=function(b,d){return J(b,d,function(b,a,d){if(0===d.length)return d=new m,d.immutable=!1,d;if(1===d.length&&k.isString(d[0]))try{var c=JSON.parse(d[0]),e=m.convertObjectToArcadeDictionary(c);e.immutable=!1;return e}catch(A){throw Error("Missing Parameters or Illegal Json");}if(0!==d.length%2)throw Error("Missing Parameters");b={};for(a=0;a<d.length;a+=2)if(c=k.toString(d[a]),e=d[a+1],
null===e||void 0===e||k.isString(e)||isNaN(e)||k.isDate(e)||k.isNumber(e)||k.isBoolean(e)||k.isArray(e)||k.isImmutableArray(e)){if(k.isFunctionParameter(e))throw Error("Illegal Argument");b[c]=e===k.voidOperation?null:e}else throw Error("Illegal Argument");d=new m(b);d.immutable=!1;return d})};g.haskey=function(b,d){return J(b,d,function(b,a,d){k.pcCheck(d,2,2);b=k.toString(d[1]);if(d[0]instanceof t||d[0]instanceof m)return d[0].hasField(b);throw Error("Illegal Argument");})};g.indexof=function(b,
d){return J(b,d,function(b,a,d){k.pcCheck(d,2,2);b=d[1];if(k.isArray(d[0])){for(a=0;a<d[0].length;a++)if(k.equalityTest(b,d[0][a]))return a;return-1}if(k.isImmutableArray(d[0])){var c=d[0].length();for(a=0;a<c;a++)if(k.equalityTest(b,d[0].get(a)))return a;return-1}throw Error("Illegal Argument");})};g.angle=function(b,e){return J(b,e,function(b,a,e){e=k.autoCastFeatureToGeometry(e);k.pcCheck(e,2,3);if(!(e[0]instanceof d))throw Error("Illegal Argument");if(!(e[1]instanceof d))throw Error("Illegal Argument");
if(2<e.length&&!(e[2]instanceof d))throw Error("Illegal Argument");return 2===e.length?n.angle2D(e[0],e[1]):n.angleBetween2D(e[0],e[1],e[2])})};g.bearing=function(b,e){return J(b,e,function(b,a,e){e=k.autoCastFeatureToGeometry(e);k.pcCheck(e,2,3);if(!(e[0]instanceof d))throw Error("Illegal Argument");if(!(e[1]instanceof d))throw Error("Illegal Argument");if(2<e.length&&!(e[2]instanceof d))throw Error("Illegal Argument");return 2===e.length?n.bearing2D(e[0],e[1]):n.bearingBetween2D(e[0],e[1],e[2])})};
g.isselfintersecting=function(b,d){return J(b,d,function(d,a,e){e=k.autoCastFeatureToGeometry(e);k.pcCheck(e,1,1);d=e[0];if(d instanceof q)return d.isSelfIntersecting;if(d instanceof u)return d=d.paths,n.pathsSelfIntersecting(d);if(d instanceof h)for(a=d.points,e=0;e<a.length;e++)for(var c=0;c<a.length;c++)if(c!==e){for(var f=!0,l=0;l<a[e].length;l++)if(a[e][l]!==a[c][l]){f=!1;break}if(!0===f)return!0}return k.isArray(d)||k.isImmutableArray(d)?(d=k.autoCastArrayOfPointsToPolyline(d,b.spatialReference),
null!==d&&(d=d.paths),n.pathsSelfIntersecting(d)):!1})}}})},"esri/arcade/functions/centroid":function(){define(["require","exports","../../geometry/Point","../../geometry/support/intersects"],function(y,g,m,t){function p(d,e,f){var b={x:0,y:0};e&&(b.z=0);f&&(b.m=0);for(var h=0,n=d[0],q=0;q<d.length;q++){var g=d[q],u;a:if(g.length!==n.length)u=!1;else{for(u=0;u<g.length;u++)if(g[u]!==n[u]){u=!1;break a}u=!0}if(!1===u){u=k(n,g,e);var m=g,a=e,l=f,c={x:(n[0]+m[0])/2,y:(n[1]+m[1])/2};a&&(c.z=(n[2]+m[2])/
2);a&&l?c.m=(n[3]+m[3])/2:l&&(c.m=(n[2]+m[2])/2);n=c;n.x*=u;n.y*=u;b.x+=n.x;b.y+=n.y;e&&(n.z*=u,b.z+=n.z);f&&(n.m*=u,b.m+=n.m);h+=u;n=g}}0<h?(b.x/=h,b.y/=h,e&&(b.z/=h),f&&(b.m/=h)):(b.x=d[0][0],b.y=d[0][1],e&&(b.z=d[0][2]),f&&e?b.m=d[0][3]:f&&(b.m=d[0][2]));return b}function k(d,e,f){var b=e[0]-d[0];d=e[1]-d[1];return f?(e=e[2]-e[2],Math.sqrt(b*b+d*d+e*e)):Math.sqrt(b*b+d*d)}function f(d,e,f){for(void 0===f&&(f=0);d<f;)d+=e;for(f+=e;d>=f;)d-=e;return d}function e(d,e){return Math.atan2(e.y-d.y,e.x-
d.x)}function h(d,e,f){var b=d.x-e.x;d=d.y-e.y;var h=f.x-e.x;e=f.y-e.y;return Math.atan2(h*d-b*e,h*b+e*d)}Object.defineProperty(g,"__esModule",{value:!0});g.centroidPolyline=function(d){for(var e={x:0,y:0,spatialReference:d.spatialReference.toJSON()},f={x:0,y:0,spatialReference:d.spatialReference.toJSON()},b=0,h=0,g=0;g<d.paths.length;g++)if(0!==d.paths[g].length){var q;q=d.paths[g];var t=!0===d.hasZ;if(1>=q.length)q=0;else{for(var aa=0,C=1;C<q.length;C++)aa+=k(q[C-1],q[C],t);q=aa}0===q?(t=p(d.paths[g],
!0===d.hasZ,!0===d.hasM),e.x+=t.x,e.y+=t.y,!0===d.hasZ&&(e.z+=t.z),!0===d.hasM&&(e.m+=t.m),++b):(t=p(d.paths[g],!0===d.hasZ,!0===d.hasM),f.x+=t.x*q,f.y+=t.y*q,!0===d.hasZ&&(f.z+=t.z*q),!0===d.hasM&&(f.m+=t.m*q),h+=q)}return 0<h?(f.x/=h,f.y/=h,!0===d.hasZ&&(f.z/=h),!0===d.hasM&&(f.m/=h),new m(f)):0<b?(e.x/=b,e.y/=b,!0===d.hasZ&&(f.z/=b),!0===d.hasM&&(e.m/=b),new m(e)):null};g.centroidMultiPoint=function(d){if(0===d.points.length)return null;for(var e=0,f=0,b=0,h=0,k=0;k<d.points.length;k++){var g=
d.getPoint(k);!0===g.hasZ&&(b+=g.z);!0===g.hasM&&(h+=g.m);e+=g.x;f+=g.y;h+=g.m}e={x:e/d.points.length,y:f/d.points.length,spatialReference:null};e.spatialReference=d.spatialReference.toJSON();!0===d.hasZ&&(e.z=b/d.points.length);!0===d.hasM&&(e.m=h/d.points.length);return new m(e)};g.angleRad=e;g.angle2D=function(d,h){return f(e(d,h),2*Math.PI)*(180/Math.PI)};g.bearing2D=function(d,h){return f(Math.PI/2-e(d,h),2*Math.PI)*(180/Math.PI)};g.angleBetweenRad=h;g.angleBetween2D=function(d,e,n){return f(h(d,
e,n),2*Math.PI)*(180/Math.PI)};g.bearingBetween2D=function(d,e,n){return f(-1*h(d,e,n),2*Math.PI)*(180/Math.PI)};var d=[0,0];g.pathsSelfIntersecting=function(e){for(var f=0;f<e.length;f++){for(var h=e[f],b=0;b<h.length-1;b++)for(var k=h[b],g=h[b+1],q=f+1;q<e.length;q++)for(var m=0;m<e[q].length-1;m++){var p=e[q][m],C=e[q][m+1],a=t.segmentIntersects(k,g,p,C,d);if(a&&!(d[0]===k[0]&&d[1]===k[1]||d[0]===p[0]&&d[1]===p[1]||d[0]===g[0]&&d[1]===g[1]||d[0]===C[0]&&d[1]===C[1]))return!0}m=h.length;if(!(3>
m))for(b=0;b<=m-2;b++)for(k=h[b],g=h[b+1],q=b+2;q<=m-2;q++)if(p=h[q],C=h[q+1],(a=t.segmentIntersects(k,g,p,C,d))&&!(d[0]===k[0]&&d[1]===k[1]||d[0]===p[0]&&d[1]===p[1]||d[0]===g[0]&&d[1]===g[1]||d[0]===C[0]&&d[1]===C[1]))return!0}return!1}})},"esri/arcade/functions/geomsync":function(){define("require exports ../../kernel ../kernel ../languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils".split(" "),
function(y,g,m,t,p,k,f,e,h,d,q,u,n){function b(b){return 0===m.version.indexOf("4.")?q.fromExtent(b):new q({spatialReference:b.spatialReference,rings:[[[b.xmin,b.ymin],[b.xmin,b.ymax],[b.xmax,b.ymax],[b.xmax,b.ymin],[b.xmin,b.ymin]]]})}Object.defineProperty(g,"__esModule",{value:!0});var D=null;g.setGeometryEngine=function(b){D=b};g.registerFunctions=function(g,m){function y(b){p.pcCheck(b,2,2);if(!(b[0]instanceof e&&b[1]instanceof e||b[0]instanceof e&&null===b[1]||b[1]instanceof e&&null===b[0]||
null===b[0]&&null===b[1]))throw Error("Illegal Argument");}g.disjoint=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);y(c);return null===c[0]||null===c[1]?!0:D.disjoint(c[0],c[1])})};g.intersects=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);y(c);return null===c[0]||null===c[1]?!1:D.intersects(c[0],c[1])})};g.touches=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);y(c);return null===c[0]||null===c[1]?!1:D.touches(c[0],
c[1])})};g.crosses=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);y(c);return null===c[0]||null===c[1]?!1:D.crosses(c[0],c[1])})};g.within=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);y(c);return null===c[0]||null===c[1]?!1:D.within(c[0],c[1])})};g.contains=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);y(c);return null===c[0]||null===c[1]?!1:D.contains(c[0],c[1])})};g.overlaps=function(b,d){return m(b,d,function(a,
b,c){c=p.autoCastFeatureToGeometry(c);y(c);return null===c[0]||null===c[1]?!1:D.overlaps(c[0],c[1])})};g.equals=function(b,d){return m(b,d,function(a,b,c){p.pcCheck(c,2,2);return c[0]===c[1]?!0:c[0]instanceof e&&c[1]instanceof e?D.equals(c[0],c[1]):p.isDate(c[0])&&p.isDate(c[1])?c[0].getTime()===c[1].getTime():!1})};g.relate=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,3,3);if(c[0]instanceof e&&c[1]instanceof e)return D.relate(c[0],c[1],p.toString(c[2]));
if(c[0]instanceof e&&null===c[1]||c[1]instanceof e&&null===c[0]||null===c[0]&&null===c[1])return!1;throw Error("Illegal Argument");})};g.intersection=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);y(c);return null===c[0]||null===c[1]?null:D.intersect(c[0],c[1])})};g.union=function(b,d){return m(b,d,function(a,d,c){c=p.autoCastFeatureToGeometry(c);a=[];if(0===c.length)throw Error("Function called with wrong number of Parameters");if(1===c.length)if(p.isArray(c[0]))for(c=
p.autoCastFeatureToGeometry(c[0]),d=0;d<c.length;d++){if(null!==c[d]){if(!(c[d]instanceof e))throw Error("Illegal Argument");a.push(c[d])}}else if(p.isImmutableArray(c[0]))for(c=p.autoCastFeatureToGeometry(c[0].toArray()),d=0;d<c.length;d++){if(null!==c[d]){if(!(c[d]instanceof e))throw Error("Illegal Argument");a.push(c[d])}}else{if(c[0]instanceof e)return p.fixSpatialReference(t.cloneGeometry(c[0]),b.spatialReference);if(null===c[0])return null;throw Error("Illegal Argument");}else for(d=0;d<c.length;d++)if(null!==
c[d]){if(!(c[d]instanceof e))throw Error("Illegal Argument");a.push(c[d])}return 0===a.length?null:D.union(a)})};g.difference=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);y(c);return null!==c[0]&&null===c[1]?t.cloneGeometry(c[0]):null===c[0]?null:D.difference(c[0],c[1])})};g.symmetricdifference=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);y(c);return null===c[0]&&null===c[1]?null:null===c[0]?t.cloneGeometry(c[1]):null===c[1]?t.cloneGeometry(c[0]):
D.symmetricDifference(c[0],c[1])})};g.clip=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,2);if(!(c[1]instanceof f)&&null!==c[1])throw Error("Illegal Argument");if(null===c[0])return null;if(!(c[0]instanceof e))throw Error("Illegal Argument");return null===c[1]?null:D.clip(c[0],c[1])})};g.cut=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,2);if(!(c[1]instanceof u)&&null!==c[1])throw Error("Illegal Argument");if(null===
c[0])return[];if(!(c[0]instanceof e))throw Error("Illegal Argument");return null===c[1]?[t.cloneGeometry(c[0])]:D.cut(c[0],c[1])})};g.area=function(b,d){return m(b,d,function(a,d,c){p.pcCheck(c,1,2);c=p.autoCastFeatureToGeometry(c);if(null===c[0])return 0;if(p.isArray(c[0])||p.isImmutableArray(c[0]))return a=p.autoCastArrayOfPointsToPolygon(c[0],b.spatialReference),null===a?0:D.planarArea(a,t.convertSquareUnitsToCode(p.defaultUndefined(c[1],-1)));if(!(c[0]instanceof e))throw Error("Illegal Argument");
return D.planarArea(c[0],t.convertSquareUnitsToCode(p.defaultUndefined(c[1],-1)))})};g.areageodetic=function(b,d){return m(b,d,function(a,d,c){p.pcCheck(c,1,2);c=p.autoCastFeatureToGeometry(c);if(null===c[0])return 0;if(p.isArray(c[0])||p.isImmutableArray(c[0]))return a=p.autoCastArrayOfPointsToPolygon(c[0],b.spatialReference),null===a?0:D.geodesicArea(a,t.convertSquareUnitsToCode(p.defaultUndefined(c[1],-1)));if(!(c[0]instanceof e))throw Error("Illegal Argument");return D.geodesicArea(c[0],t.convertSquareUnitsToCode(p.defaultUndefined(c[1],
-1)))})};g.length=function(b,d){return m(b,d,function(a,d,c){p.pcCheck(c,1,2);c=p.autoCastFeatureToGeometry(c);if(null===c[0])return 0;if(p.isArray(c[0])||p.isImmutableArray(c[0]))return a=p.autoCastArrayOfPointsToPolyline(c[0],b.spatialReference),null===a?0:D.planarLength(a,t.convertLinearUnitsToCode(p.defaultUndefined(c[1],-1)));if(!(c[0]instanceof e))throw Error("Illegal Argument");return D.planarLength(c[0],t.convertLinearUnitsToCode(p.defaultUndefined(c[1],-1)))})};g.lengthgeodetic=function(b,
d){return m(b,d,function(a,d,c){p.pcCheck(c,1,2);c=p.autoCastFeatureToGeometry(c);if(null===c[0])return 0;if(p.isArray(c[0])||p.isImmutableArray(c[0]))return a=p.autoCastArrayOfPointsToPolyline(c[0],b.spatialReference),null===a?0:D.geodesicLength(a,t.convertLinearUnitsToCode(p.defaultUndefined(c[1],-1)));if(!(c[0]instanceof e))throw Error("Illegal Argument");return D.geodesicLength(c[0],t.convertLinearUnitsToCode(p.defaultUndefined(c[1],-1)))})};g.distance=function(b,d){return m(b,d,function(a,d,
c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,3);a=c[0];if(p.isArray(c[0])||p.isImmutableArray(c[0]))a=p.autoCastArrayOfPointsToMultiPoint(c[0],b.spatialReference);d=c[1];if(p.isArray(c[1])||p.isImmutableArray(c[1]))d=p.autoCastArrayOfPointsToMultiPoint(c[1],b.spatialReference);if(!(a instanceof e))throw Error("Illegal Argument");if(!(d instanceof e))throw Error("Illegal Argument");return D.distance(a,d,t.convertLinearUnitsToCode(p.defaultUndefined(c[2],-1)))})};g.distancegeodetic=function(b,
e){return m(b,e,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,3);a=c[0];b=c[1];if(!(a instanceof d))throw Error("Illegal Argument");if(!(b instanceof d))throw Error("Illegal Argument");var e=new u({paths:[],spatialReference:a.spatialReference});e.addPath([a,b]);return D.geodesicLength(e,t.convertLinearUnitsToCode(p.defaultUndefined(c[2],-1)))})};g.densify=function(d,h){return m(d,h,function(a,d,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,3);if(null===c[0])return null;if(!(c[0]instanceof
e))throw Error("Illegal Argument");a=p.toNumber(c[1]);if(isNaN(a))throw Error("Illegal Argument");if(0>=a)throw Error("Illegal Argument");return c[0]instanceof q||c[0]instanceof u?D.densify(c[0],a,t.convertLinearUnitsToCode(p.defaultUndefined(c[2],-1))):c[0]instanceof f?D.densify(b(c[0]),a,t.convertLinearUnitsToCode(p.defaultUndefined(c[2],-1))):c[0]})};g.densifygeodetic=function(d,h){return m(d,h,function(a,d,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,3);if(null===c[0])return null;if(!(c[0]instanceof
e))throw Error("Illegal Argument");a=p.toNumber(c[1]);if(isNaN(a))throw Error("Illegal Argument");if(0>=a)throw Error("Illegal Argument");return c[0]instanceof q||c[0]instanceof u?D.geodesicDensify(c[0],a,t.convertLinearUnitsToCode(p.defaultUndefined(c[2],-1))):c[0]instanceof f?D.geodesicDensify(b(c[0]),a,t.convertLinearUnitsToCode(p.defaultUndefined(c[2],-1))):c[0]})};g.generalize=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,4);if(null===c[0])return null;
if(!(c[0]instanceof e))throw Error("Illegal Argument");a=p.toNumber(c[1]);if(isNaN(a))throw Error("Illegal Argument");return D.generalize(c[0],a,p.toBoolean(p.defaultUndefined(c[2],!0)),t.convertLinearUnitsToCode(p.defaultUndefined(c[3],-1)))})};g.buffer=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,3);if(null===c[0])return null;if(!(c[0]instanceof e))throw Error("Illegal Argument");a=p.toNumber(c[1]);if(isNaN(a))throw Error("Illegal Argument");return 0===
a?t.cloneGeometry(c[0]):D.buffer(c[0],a,t.convertLinearUnitsToCode(p.defaultUndefined(c[2],-1)))})};g.buffergeodetic=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,3);if(null===c[0])return null;if(!(c[0]instanceof e))throw Error("Illegal Argument");a=p.toNumber(c[1]);if(isNaN(a))throw Error("Illegal Argument");return 0===a?t.cloneGeometry(c[0]):D.geodesicBuffer(c[0],a,t.convertLinearUnitsToCode(p.defaultUndefined(c[2],-1)))})};g.offset=function(b,d){return m(b,
d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,6);if(null===c[0])return null;if(!(c[0]instanceof q||c[0]instanceof u))throw Error("Illegal Argument");a=p.toNumber(c[1]);if(isNaN(a))throw Error("Illegal Argument");b=p.toNumber(p.defaultUndefined(c[4],10));if(isNaN(b))throw Error("Illegal Argument");var d=p.toNumber(p.defaultUndefined(c[5],0));if(isNaN(d))throw Error("Illegal Argument");return D.offset(c[0],a,t.convertLinearUnitsToCode(p.defaultUndefined(c[2],-1)),p.toString(p.defaultUndefined(c[3],
"round")).toLowerCase(),b,d)})};g.rotate=function(b,h){return m(b,h,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,2,3);a=c[0];if(null===a)return null;if(!(a instanceof e))throw Error("Illegal Argument");a instanceof f&&(a=q.fromExtent(a));b=p.toNumber(c[1]);if(isNaN(b))throw Error("Illegal Argument");c=p.defaultUndefined(c[2],null);if(null===c)return D.rotate(a,b);if(c instanceof d)return D.rotate(a,b,c);throw Error("Illegal Argument");})};g.centroid=function(b,n){return m(b,n,function(a,
n,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,1,1);if(null===c[0])return null;a=c[0];if(p.isArray(c[0])||p.isImmutableArray(c[0]))a=p.autoCastArrayOfPointsToMultiPoint(c[0],b.spatialReference);if(null===a)return null;if(!(a instanceof e))throw Error("Illegal Argument");return a instanceof d?p.fixSpatialReference(t.cloneGeometry(c[0]),b.spatialReference):a instanceof q?a.centroid:a instanceof u?k.centroidPolyline(a):a instanceof h?k.centroidMultiPoint(a):a instanceof f?a.center:null})};g.multiparttosinglepart=
function(b,k){return m(b,k,function(a,k,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,1,1);k=[];if(null===c[0])return null;if(!(c[0]instanceof e))throw Error("Illegal Argument");if(c[0]instanceof d||c[0]instanceof f)return[p.fixSpatialReference(t.cloneGeometry(c[0]),b.spatialReference)];a=D.simplify(c[0]);if(a instanceof q){k=[];var g=[];for(c=0;c<a.rings.length;c++)if(a.isClockwise(a.rings[c])){var l=n.fromJSON({rings:[a.rings[c]],hasZ:!0===a.hasZ,hasM:!0===a.hasM,spatialReference:a.spatialReference.toJSON()});
k.push(l)}else g.push({ring:a.rings[c],pt:a.getPoint(c,0)});for(a=0;a<g.length;a++)for(c=0;c<k.length;c++)if(k[c].contains(g[a].pt)){k[c].addRing(g[a].ring);break}return k}if(a instanceof u){k=[];for(c=0;c<a.paths.length;c++)g=n.fromJSON({paths:[a.paths[c]],hasZ:!0===a.hasZ,hasM:!0===a.hasM,spatialReference:a.spatialReference.toJSON()}),k.push(g);return k}if(c[0]instanceof h){a=p.fixSpatialReference(t.cloneGeometry(c[0]),b.spatialReference);for(c=0;c<a.points.length;c++)k.push(a.getPoint(c));return k}return null})};
g.issimple=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,1,1);if(null===c[0])return!0;if(!(c[0]instanceof e))throw Error("Illegal Argument");return D.isSimple(c[0])})};g.simplify=function(b,d){return m(b,d,function(a,b,c){c=p.autoCastFeatureToGeometry(c);p.pcCheck(c,1,1);if(null===c[0])return null;if(!(c[0]instanceof e))throw Error("Illegal Argument");return D.simplify(c[0])})}}})},"esri/arcade/kernel":function(){define(["require","exports","../geometry/Extent"],
function(y,g,m){Object.defineProperty(g,"__esModule",{value:!0});g.convertSquareUnitsToCode=function(g){if(void 0===g)return null;if("number"===typeof g)return g;switch(g.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 109414;
case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 109405}return null};g.shapeExtent=function(g){if(null===g)return null;switch(g.type){case "polygon":case "multipoint":case "polyline":return g.extent;case "point":return new m({xmin:g.x,
ymin:g.y,xmax:g.x,ymax:g.y,spatialReference:g.spatialReference});case "extent":return g}return null};g.convertLinearUnitsToCode=function(g){if(void 0===g)return null;if("number"===typeof g||"number"===typeof g)return g;switch(g.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 9035;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 9036;
case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 9002}return null};g.sameGeomType=function(g,m){return g===m||"point"===g&&"esriGeometryPoint"===m||"polyline"===g&&"esriGeometryPolyline"===m||"polygon"===g&&"esriGeometryPolygon"===m||"extent"===g&&"esriGeometryEnvelope"===m||"multipoint"===g&&"esriGeometryMultipoint"===
m||"point"===m&&"esriGeometryPoint"===g||"polyline"===m&&"esriGeometryPolyline"===g||"polygon"===m&&"esriGeometryPolygon"===g||"extent"===m&&"esriGeometryEnvelope"===g||"multipoint"===m&&"esriGeometryMultipoint"===g?!0:!1};g.cloneGeometry=function(g){if(null===g)return null;var m=g.clone();void 0!==g.cache._geVersion&&(m.cache._geVersion=g.cache._geVersion);return m}})},"esri/arcade/functions/maths":function(){define(["require","exports","../languageUtils","../../core/number"],function(y,g,m,t){function p(g,
f,e){if("undefined"===typeof e||0===+e)return Math[g](f);f=+f;e=+e;if(isNaN(f)||"number"!==typeof e||0!==e%1)return NaN;f=f.toString().split("e");f=Math[g](+(f[0]+"e"+(f[1]?+f[1]-e:-e)));f=f.toString().split("e");return+(f[0]+"e"+(f[1]?+f[1]+e:e))}Object.defineProperty(g,"__esModule",{value:!0});g.registerFunctions=function(g,f){function e(e,d,f){e=m.toNumber(e);return isNaN(e)?e:isNaN(d)||isNaN(f)||d>f?NaN:e<d?d:e>f?f:e}g.number=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,2);d=f[0];
return m.isNumber(d)?d:null===d?0:m.isDate(d)||m.isBoolean(d)?Number(d):m.isArray(d)?NaN:""===d||void 0===d?Number(d):m.isString(d)?void 0!==f[1]?(f=m.multiReplace(f[1],"\u2030",""),f=m.multiReplace(f,"\u00a4",""),t.parse(d,{pattern:f})):Number(d.trim()):Number(d)})};g.abs=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return Math.abs(m.toNumber(f[0]))})};g.acos=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return Math.acos(m.toNumber(f[0]))})};g.asin=function(e,d){return f(e,
d,function(d,e,f){m.pcCheck(f,1,1);return Math.asin(m.toNumber(f[0]))})};g.atan=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return Math.atan(m.toNumber(f[0]))})};g.atan2=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,2,2);return Math.atan2(m.toNumber(f[0]),m.toNumber(f[1]))})};g.ceil=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,2);return 2===f.length?(d=m.toNumber(f[1]),isNaN(d)&&(d=0),p("ceil",m.toNumber(f[0]),-1*d)):Math.ceil(m.toNumber(f[0]))})};g.round=function(e,
d){return f(e,d,function(d,e,f){m.pcCheck(f,1,2);return 2===f.length?(d=m.toNumber(f[1]),isNaN(d)&&(d=0),p("round",m.toNumber(f[0]),-1*d)):Math.round(m.toNumber(f[0]))})};g.floor=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,2);return 2===f.length?(d=m.toNumber(f[1]),isNaN(d)&&(d=0),p("floor",m.toNumber(f[0]),-1*d)):Math.floor(m.toNumber(f[0]))})};g.cos=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return Math.cos(m.toNumber(f[0]))})};g.isnan=function(e,d){return f(e,d,function(d,
e,f){m.pcCheck(f,1,1);return"number"===typeof f[0]&&isNaN(f[0])})};g.exp=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return Math.exp(m.toNumber(f[0]))})};g.log=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return Math.log(m.toNumber(f[0]))})};g.pow=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,2,2);return Math.pow(m.toNumber(f[0]),m.toNumber(f[1]))})};g.random=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,0,0);return Math.random()})};g.sin=function(e,
d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return Math.sin(m.toNumber(f[0]))})};g.sqrt=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return Math.sqrt(m.toNumber(f[0]))})};g.tan=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return Math.tan(m.toNumber(f[0]))})};g.defaultvalue=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,2,2);return null===f[0]||""===f[0]||void 0===f[0]?f[1]:f[0]})};g.isempty=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return null===
f[0]||""===f[0]||void 0===f[0]?!0:!1})};g["boolean"]=function(e,d){return f(e,d,function(d,e,f){m.pcCheck(f,1,1);return m.toBoolean(f[0])})};g.constrain=function(g,d){return f(g,d,function(d,f,g){m.pcCheck(g,3,3);d=m.toNumber(g[1]);f=m.toNumber(g[2]);if(m.isArray(g[0])){var b=[],h=0;for(g=g[0];h<g.length;h++)b.push(e(g[h],d,f));return b}if(m.isImmutableArray(g[0])){b=[];for(h=0;h<g[0].length();h++)b.push(e(g[0].get(h),d,f));return b}return e(g[0],d,f)})}}})},"esri/arcade/functions/stats":function(){define(["require",
"exports","../languageUtils","./fieldStats"],function(y,g,m,t){function p(g,f,e,h){if(1===h.length){if(m.isArray(h[0]))return t.calculateStat(g,h[0],-1);if(m.isImmutableArray(h[0]))return t.calculateStat(g,h[0].toArray(),-1)}return t.calculateStat(g,h,-1)}Object.defineProperty(g,"__esModule",{value:!0});g.registerFunctions=function(g,f){g.stdev=function(e,g){return f(e,g,function(d,e,f){return p("stdev",d,e,f)})};g.variance=function(e,g){return f(e,g,function(d,e,f){return p("variance",d,e,f)})};
g.average=function(e,g){return f(e,g,function(d,e,f){return p("mean",d,e,f)})};g.mean=function(e,g){return f(e,g,function(d,e,f){return p("mean",d,e,f)})};g.sum=function(e,g){return f(e,g,function(d,e,f){return p("sum",d,e,f)})};g.min=function(e,g){return f(e,g,function(d,e,f){return p("min",d,e,f)})};g.max=function(e,g){return f(e,g,function(d,e,f){return p("max",d,e,f)})};g.distinct=function(e,g){return f(e,g,function(d,e,f){return p("distinct",d,e,f)})};g.count=function(e,g){return f(e,g,function(d,
e,f){m.pcCheck(f,1,1);if(m.isArray(f[0])||m.isString(f[0]))return f[0].length;if(m.isImmutableArray(f[0]))return f[0].length();throw Error("Invalid Parameters for Count");})}}})},"esri/arcade/functions/fieldStats":function(){define(["require","exports","../languageUtils"],function(y,g,m){function t(g){for(var f=0,e=0;e<g.length;e++)f+=g[e];return f/g.length}function p(g){for(var f=t(g),e=0,h=0;h<g.length;h++)e+=Math.pow(f-g[h],2);return e/g.length}Object.defineProperty(g,"__esModule",{value:!0});
g.decodeStatType=function(g){switch(g.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};g.calculateStat=function(g,f,e){void 0===e&&(e=1E3);switch(g.toLowerCase()){case "distinct":a:{g=e;e=[];for(var h={},d=[],k=0;k<f.length;k++){if(void 0!==f[k]&&null!==f[k]&&f[k]!==m.voidOperation){var u=
f[k];if(m.isNumber(u)||m.isString(u))void 0===h[u]&&(e.push(u),h[u]=1);else{for(var n=!1,b=0;b<d.length;b++)!0===m.equalityTest(d[b],u)&&(n=!0);!1===n&&(d.push(u),e.push(u))}}if(e.length>=g&&-1!==g){f=e;break a}}f=e}return f;case "avg":case "mean":return t(m.toNumberArray(f));case "min":return Math.min.apply(Math,m.toNumberArray(f));case "sum":f=m.toNumberArray(f);for(e=g=0;e<f.length;e++)g+=f[e];return g;case "max":return Math.max.apply(Math,m.toNumberArray(f));case "stdev":case "stddev":return Math.sqrt(p(m.toNumberArray(f)));
case "var":case "variance":return p(m.toNumberArray(f));case "count":return f.length}return 0}})},"esri/arcade/functions/string":function(){define("require exports ../ArcadePortal ../Dictionary ../Feature ../languageUtils ../featureset/support/shared".split(" "),function(y,g,m,t,p,k,f){Object.defineProperty(g,"__esModule",{value:!0});g.registerFunctions=function(e,g){e.portal=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,1,1);return new m(k.toString(b[0]))})};e.trim=function(d,e){return g(d,
e,function(d,e,b){k.pcCheck(b,1,1);return k.toString(b[0]).trim()})};e.upper=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,1,1);return k.toString(b[0]).toUpperCase()})};e.proper=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,1,2);d=1;2===b.length&&"firstword"===k.toString(b[1]).toLowerCase()&&(d=2);e=/\s/;b=k.toString(b[0]);for(var f="",g=!0,h=0;h<b.length;h++){var n=b[h];e.test(n)?1===d&&(g=!0):n.toUpperCase()!==n.toLowerCase()&&(g?(n=n.toUpperCase(),g=!1):n=n.toLowerCase());f+=
n}return f})};e.lower=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,1,1);return k.toString(b[0]).toLowerCase()})};e.guid=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,0,1);if(0<b.length)switch(k.toString(b[0]).toLowerCase()){case "digits":return k.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return k.generateUUID();case "digits-hyphen-parentheses":return"("+k.generateUUID()+")"}return"{"+k.generateUUID()+"}"})};e.console=function(d,
e){return g(d,e,function(e,f,b){0!==b.length&&(1===b.length?d.console(k.toString(b[0])):d.console(k.toString(b)));return k.voidOperation})};e.mid=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,2,3);d=k.toNumber(b[1]);if(isNaN(d))return"";0>d&&(d=0);if(2===b.length)return k.toString(b[0]).substr(d);e=k.toNumber(b[2]);if(isNaN(e))return"";0>e&&(e=0);return k.toString(b[0]).substr(d,e)})};e.find=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,2,3);d=0;if(2<b.length){d=k.toNumber(k.defaultUndefined(b[2],
0));if(isNaN(d))return-1;0>d&&(d=0)}return k.toString(b[1]).indexOf(k.toString(b[0]),d)})};e.left=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,2,2);d=k.toNumber(b[1]);if(isNaN(d))return"";0>d&&(d=0);return k.toString(b[0]).substr(0,d)})};e.right=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,2,2);d=k.toNumber(b[1]);if(isNaN(d))return"";0>d&&(d=0);return k.toString(b[0]).substr(-1*d,d)})};e.split=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,2,4);d=k.toNumber(k.defaultUndefined(b[2],
-1));e=k.toBoolean(k.defaultUndefined(b[3],!1));-1===d||null===d||!0===e?b=k.toString(b[0]).split(k.toString(b[1])):(isNaN(d)&&(d=-1),-1>d&&(d=-1),b=k.toString(b[0]).split(k.toString(b[1]),d));if(!1===e)return b;e=[];for(var f=0;f<b.length&&!(-1!==d&&e.length>=d);f++)""!==b[f]&&void 0!==b[f]&&e.push(b[f]);return e})};e.text=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,1,2);return k.toStringExplicit(b[0],b[1])})};e.concatenate=function(d,e){return g(d,e,function(d,e,b){d=[];if(1>b.length)return"";
if(k.isArray(b[0])){e=k.defaultUndefined(b[2],"");for(var f=0;f<b[0].length;f++)d[f]=k.toStringExplicit(b[0][f],e);return 1<b.length?d.join(b[1]):d.join("")}if(k.isImmutableArray(b[0])){e=k.defaultUndefined(b[2],"");for(f=0;f<b[0].length();f++)d[f]=k.toStringExplicit(b[0].get(f),e);return 1<b.length?d.join(b[1]):d.join("")}for(f=0;f<b.length;f++)d[f]=k.toStringExplicit(b[f]);return d.join("")})};e.reverse=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,1,1);if(k.isArray(b[0]))return d=b[0].slice(0),
d.reverse(),d;if(k.isImmutableArray(b[0]))return d=b[0].toArray().slice(0),d.reverse(),d;throw Error("Invalid Parameter");})};e.replace=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,3,4);d=k.toString(b[0]);e=k.toString(b[1]);var f=k.toString(b[2]);return(4===b.length?k.toBoolean(b[3]):1)?k.multiReplace(d,e,f):d.replace(e,f)})};e.schema=function(d,e){return g(d,e,function(d,e,b){if(b[0]instanceof p)return(d=b[0].schema())?t.convertObjectToArcadeDictionary(d):null;throw Error("Invalid Parameter");
})};e.subtypes=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,1,1);if(b[0]instanceof p)return(d=b[0].subtypes())?t.convertObjectToArcadeDictionary(d):null;throw Error("Invalid Parameter");})};e.subtypecode=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,1,1);if(b[0]instanceof p){e=b[0].subtypes();if(!e)return null;if(e.subtypeField&&b[0].hasField(e.subtypeField))for(b=b[0].field(e.subtypeField),d=0,e=e.subtypes;d<e.length;d++){var f=e[d];if(f.code===b)return f.code}return null}throw Error("Invalid Parameter");
})};e.subtypename=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,1,1);if(b[0]instanceof p){e=b[0].subtypes();if(!e)return"";if(e.subtypeField&&b[0].hasField(e.subtypeField))for(b=b[0].field(e.subtypeField),d=0,e=e.subtypes;d<e.length;d++){var f=e[d];if(f.code===b)return f.name}return""}throw Error("Invalid Parameter");})};e.domain=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,2,3);if(b[0]instanceof p)return(d=b[0].fullDomain(k.toString(b[1]),void 0===b[2]?void 0:k.toNumber(b[2])))&&
d.domain?"coded-value"===d.domain.type||"codedValue"===d.domain.type?t.convertObjectToArcadeDictionary({type:"codedValue",name:d.domain.name,dataType:f.layerFieldEsriConstants[d.field.type],codedValues:d.domain.codedValues.map(function(b){return{name:b.name,code:b.code}})}):t.convertObjectToArcadeDictionary({type:"range",name:d.domain.name,dataType:f.layerFieldEsriConstants[d.field.type],min:d.domain.min,max:d.domain.max}):null;throw Error("Invalid Parameter");})};e.domainname=function(d,e){return g(d,
e,function(d,e,b){k.pcCheck(b,2,4);if(b[0]instanceof p)return b[0].domainValueLookup(k.toString(b[1]),b[2],void 0===b[3]?void 0:k.toNumber(b[3]));throw Error("Invalid Parameter");})};e.domaincode=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,2,4);if(b[0]instanceof p)return b[0].domainCodeLookup(k.toString(b[1]),b[2],void 0===b[3]?void 0:k.toNumber(b[3]));throw Error("Invalid Parameter");})};e.urlencode=function(d,e){return g(d,e,function(d,e,b){k.pcCheck(b,1,1);if(null===b[0])return"";if(b[0]instanceof
t){d="";e=0;for(var f=b[0].keys();e<f.length;e++){var g=f[e],h=b[0].field(g);""!==d&&(d+="\x26");d=null===h?d+(encodeURIComponent(g)+"\x3d"):d+(encodeURIComponent(g)+"\x3d"+encodeURIComponent(h))}return d}return encodeURIComponent(k.toString(b[0]))})}}})},"esri/arcade/arcadeRuntime":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(y,g,m,t,p,k,f,e,h,d,q,u,n,b,D,H,J,fa,aa,C,a,l,c,Y){function A(a,b){for(var d=[],c=0;c<b.arguments.length;c++)d.push(v(a,b.arguments[c]));return d}function U(a,b,d){try{return d(a,b,A(a,b))}catch(ea){throw ea;}}function v(a,b){try{switch(b.type){case "EmptyStatement":return d.voidOperation;case "VariableDeclarator":var c=null===b.init?null:v(a,b.init);c===d.voidOperation&&(c=null);if("Identifier"!==b.id.type)throw Error("Can only assign a regular variable");var e=b.id.name.toLowerCase();null!==
a.localScope?a.localScope[e]={value:c,valueset:!0,node:b.init}:a.globalScope[e]={value:c,valueset:!0,node:b.init};return d.voidOperation;case "VariableDeclaration":for(var g=0;g<b.declarations.length;g++)v(a,b.declarations[g]);return d.voidOperation;case "BlockStatement":var h;a:{for(var l=d.voidOperation,g=0;g<b.body.length;g++)if(l=v(a,b.body[g]),l instanceof d.ReturnResult||l===d.breakResult||l===d.continueResult){h=l;break a}h=l}return h;case "FunctionDeclaration":var m=b.id.name.toLowerCase();
a.globalScope[m]={valueset:!0,node:null,value:new f(b,a)};return d.voidOperation;case "ReturnStatement":var n;if(null===b.argument)n=new d.ReturnResult(d.voidOperation);else{var ga=v(a,b.argument);n=new d.ReturnResult(ga)}return n;case "IfStatement":var na;if("AssignmentExpression"===b.test.type||"UpdateExpression"===b.test.type)throw Error(q.nodeErrorMessage(b.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var t=v(a,b.test);if(!0===t)na=v(a,b.consequent);else if(!1===t)na=null!==b.alternate?
v(a,b.alternate):d.voidOperation;else throw Error(q.nodeErrorMessage(b,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));return na;case "ExpressionStatement":var D;if("AssignmentExpression"===b.expression.type||"UpdateExpression"===b.expression.type)D=v(a,b.expression);else{var y=v(a,b.expression);D=y===d.voidOperation?d.voidOperation:new d.ImplicitResult(y)}return D;case "AssignmentExpression":var x;var A=v(a,b.right),g=null,u="";if("MemberExpression"===b.left.type){g=v(a,b.left.object);!0===b.left.computed?
u=v(a,b.left.property):"Identifier"===b.left.property.type&&(u=b.left.property.name);if(d.isArray(g))if(d.isNumber(u)){0>u&&(u=g.length+u);if(0>u||u>g.length)throw Error("Assignment outside of array bounds");if(u===g.length&&"\x3d"!==b.operator)throw Error("Invalid Parameter");g[u]=N(A,b.operator,g[u],b)}else throw Error("Invalid Parameter");else if(g instanceof p){if(!1===d.isString(u))throw Error("Dictionary accessor must be a string");if(!0===g.hasField(u))g.setField(u,N(A,b.operator,g.field(u),
b));else{if("\x3d"!==b.operator)throw Error("Invalid Parameter");g.setField(u,N(A,b.operator,null,b))}}else if(g instanceof k){if(!1===d.isString(u))throw Error("Feature accessor must be a string");if(!0===g.hasField(u))g.setField(u,N(A,b.operator,g.field(u),b));else{if("\x3d"!==b.operator)throw Error("Invalid Parameter");g.setField(u,N(A,b.operator,null,b))}}else{if(d.isImmutableArray(g))throw Error("Array is Immutable");throw Error("Invalid Parameter");}x=d.voidOperation}else if(g=b.left.name.toLowerCase(),
null!==a.localScope&&void 0!==a.localScope[g])a.localScope[g]={value:N(A,b.operator,a.localScope[g].value,b),valueset:!0,node:b.right},x=d.voidOperation;else if(void 0!==a.globalScope[g])a.globalScope[g]={value:N(A,b.operator,a.globalScope[g].value,b),valueset:!0,node:b.right},x=d.voidOperation;else throw Error("Variable not recognised");return x;case "UpdateExpression":var H;var C,g=null,u="";if("MemberExpression"===b.argument.type){g=v(a,b.argument.object);!0===b.argument.computed?u=v(a,b.argument.property):
"Identifier"===b.argument.property.type&&(u=b.argument.property.name);if(d.isArray(g))if(d.isNumber(u)){0>u&&(u=g.length+u);if(0>u||u>=g.length)throw Error("Assignment outside of array bounds");C=d.toNumber(g[u]);g[u]="++"===b.operator?C+1:C-1}else throw Error("Invalid Parameter");else if(g instanceof p){if(!1===d.isString(u))throw Error("Dictionary accessor must be a string");if(!0===g.hasField(u))C=d.toNumber(g.field(u)),g.setField(u,"++"===b.operator?C+1:C-1);else throw Error("Invalid Parameter");
}else if(g instanceof k){if(!1===d.isString(u))throw Error("Feature accessor must be a string");if(!0===g.hasField(u))C=d.toNumber(g.field(u)),g.setField(u,"++"===b.operator?C+1:C-1);else throw Error("Invalid Parameter");}else{if(d.isImmutableArray(g))throw Error("Array is Immutable");throw Error("Invalid Parameter");}H=!1===b.prefix?C:"++"===b.operator?C+1:C-1}else{g="Identifier"===b.argument.type?b.argument.name.toLowerCase():"";if(!g)throw Error("Invalid identifier");if(null!==a.localScope&&void 0!==
a.localScope[g])C=d.toNumber(a.localScope[g].value),a.localScope[g]={value:"++"===b.operator?C+1:C-1,valueset:!0,node:b},H=!1===b.prefix?C:"++"===b.operator?C+1:C-1;else if(void 0!==a.globalScope[g])C=d.toNumber(a.globalScope[g].value),a.globalScope[g]={value:"++"===b.operator?C+1:C-1,valueset:!0,node:b},H=!1===b.prefix?C:"++"===b.operator?C+1:C-1;else throw Error("Variable not recognised");}return H;case "BreakStatement":return d.breakResult;case "ContinueStatement":return d.continueResult;case "TemplateElement":return b.value?
b.value.cooked:"";case "TemplateLiteral":var J="",I=0;x=0;for(g=b.quasis;x<g.length;x++)if(u=g[x],J+=u.value?u.value.cooked:"",!1===u.tail){var K=b.expressions[I]?d.toString(v(a,b.expressions[I])):"",J=J+K;I++}return J;case "ForStatement":null!==b.init&&v(a,b.init);I={testResult:!0,lastAction:d.voidOperation};do b:{g=a;u=b;K=I;if(null!==u.test){K.testResult=v(g,u.test);if(!1===K.testResult)break b;if(!0!==K.testResult)throw Error(q.nodeErrorMessage(u,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));
}K.lastAction=v(g,u.body);K.lastAction===d.breakResult?K.testResult=!1:K.lastAction instanceof d.ReturnResult?K.testResult=!1:null!==u.update&&v(g,u.update)}while(!0===I.testResult);J=I.lastAction instanceof d.ReturnResult?I.lastAction:d.voidOperation;return J;case "ForInStatement":return ta(a,b);case "Identifier":return la(a,b);case "MemberExpression":return R(a,b);case "Literal":return b.value;case "CallExpression":return wa(a,b);case "UnaryExpression":return pa(a,b);case "BinaryExpression":return oa(a,
b);case "LogicalExpression":return P(a,b);case "ConditionalExpression":throw Error(q.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{for(g=[],u=0;u<b.elements.length;u++){var L=v(a,b.elements[u]);if(d.isFunctionParameter(L))throw Error(q.nodeErrorMessage(b,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));L===d.voidOperation?g.push(null):g.push(L)}}catch(Ba){throw Ba;}return g;case "ObjectExpression":g={};for(u=0;u<b.properties.length;u++){var M=v(a,b.properties[u]);if(d.isFunctionParameter(M.value))throw Error("Illegal Argument");
if(!1===d.isString(M.key))throw Error("Illegal Argument");g[M.key.toString()]=M.value===d.voidOperation?null:M.value}var O=new p(g);O.immutable=!1;return O;case "Property":return{key:"Identifier"===b.key.type?b.key.name:v(a,b.key),value:v(a,b.value)};default:throw Error(q.nodeErrorMessage(b,"RUNTIME","UNREOGNISED"));}}catch(Ba){throw Ba;}}function ta(a,b){var c=v(a,b.right);"VariableDeclaration"===b.left.type&&v(a,b.left);var e=null,f="";if("VariableDeclaration"===b.left.type){var g=b.left.declarations[0].id;
"Identifier"===g.type&&(f=g.name)}else"Identifier"===b.left.type&&(f=b.left.name);if(!f)throw Error(q.nodeErrorMessage(b,"RUNTIME","INVALIDVARIABLE"));f=f.toLowerCase();null!==a.localScope&&void 0!==a.localScope[f]&&(e=a.localScope[f]);null===e&&void 0!==a.globalScope[f]&&(e=a.globalScope[f]);if(null===e)throw Error(q.nodeErrorMessage(b,"RUNTIME","VARIABLENOTDECLARED"));if(d.isArray(c)||d.isString(c)){c=c.length;for(g=0;g<c;g++){e.value=g;f=v(a,b.body);if(f===d.breakResult)break;if(f instanceof d.ReturnResult)return f}return d.voidOperation}if(d.isImmutableArray(c)){for(g=
0;g<c.length();g++){e.value=g;f=v(a,b.body);if(f===d.breakResult)break;if(f instanceof d.ReturnResult)return f}return d.voidOperation}if(c instanceof p||c instanceof k)for(c=c.keys(),g=0;g<c.length;g++){e.value=c[g];f=v(a,b.body);if(f===d.breakResult)break;if(f instanceof d.ReturnResult)return f}else return d.voidOperation}function N(a,b,c,e){switch(b){case "\x3d":return a===d.voidOperation?null:a;case "/\x3d":return d.toNumber(c)/d.toNumber(a);case "*\x3d":return d.toNumber(c)*d.toNumber(a);case "-\x3d":return d.toNumber(c)-
d.toNumber(a);case "+\x3d":return d.isString(c)||d.isString(a)?d.toString(c)+d.toString(a):d.toNumber(c)+d.toNumber(a);case "%\x3d":return d.toNumber(c)%d.toNumber(a);default:throw Error(q.nodeErrorMessage(e,"RUNTIME","OPERATORNOTRECOGNISED"));}}function M(a,b,c){b=b.toLowerCase();switch(b){case "hasz":return a=a.hasZ,void 0===a?!1:a;case "hasm":return a=a.hasM,void 0===a?!1:a;case "spatialreference":return b=a.spatialReference._arcadeCacheId,void 0===b&&(c=!0,Object.freeze&&Object.isFrozen(a.spatialReference)&&
(c=!1),c&&(ba++,b=a.spatialReference._arcadeCacheId=ba)),a=new p({wkt:a.spatialReference.wkt,wkid:a.spatialReference.wkid}),void 0!==b&&(a._arcadeCacheId="SPREF"+b.toString()),a}switch(a.type){case "extent":switch(b){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return a=a[b],void 0!==a?a:null;case "type":return"Extent"}break;case "polygon":switch(b){case "rings":return b=a.cache._arcadeCacheId,void 0===b&&(ba++,b=ba,a.cache._arcadeCacheId=b),a=new e(a.rings,
a.spatialReference,!0===a.hasZ,!0===a.hasM,b);case "type":return"Polygon"}break;case "point":switch(b){case "x":case "y":case "z":case "m":return void 0!==a[b]?a[b]:null;case "type":return"Point"}break;case "polyline":switch(b){case "paths":return b=a.cache._arcadeCacheId,void 0===b&&(ba++,b=ba,a.cache._arcadeCacheId=b),a=new e(a.paths,a.spatialReference,!0===a.hasZ,!0===a.hasM,b);case "type":return"Polyline"}break;case "multipoint":switch(b){case "points":return b=a.cache._arcadeCacheId,void 0===
b&&(ba++,b=ba,a.cache._arcadeCacheId=b),a=new h(a.points,a.spatialReference,!0===a.hasZ,!0===a.hasM,b,1);case "type":return"Multipoint"}}throw Error(q.nodeErrorMessage(c,"RUNTIME","PROPERTYNOTFOUND"));}function R(a,b){try{var c=v(a,b.object);if(null===c)throw Error(q.nodeErrorMessage(b,"RUNTIME","NOTFOUND"));if(!1===b.computed){if("Identifier"===b.property.type){if(c instanceof p||c instanceof k)return c.field(b.property.name);if(c instanceof aa)return M(c,b.property.name,b)}throw Error(q.nodeErrorMessage(b,
"RUNTIME","INVALIDTYPE"));}var e=v(a,b.property);if(c instanceof p||c instanceof k){if(d.isString(e))return c.field(e);throw Error(q.nodeErrorMessage(b,"RUNTIME","INVALIDTYPE"));}if(c instanceof aa){if(d.isString(e))return M(c,e,b);throw Error(q.nodeErrorMessage(b,"RUNTIME","INVALIDTYPE"));}if(d.isArray(c)){if(d.isNumber(e)&&isFinite(e)&&Math.floor(e)===e){0>e&&(e=c.length+e);if(e>=c.length||0>e)throw Error(q.nodeErrorMessage(b,"RUNTIME","OUTOFBOUNDS"));return c[e]}throw Error(q.nodeErrorMessage(b,
"RUNTIME","INVALIDTYPE"));}if(d.isString(c)){if(d.isNumber(e)&&isFinite(e)&&Math.floor(e)===e){0>e&&(e=c.length+e);if(e>=c.length||0>e)throw Error(q.nodeErrorMessage(b,"RUNTIME","OUTOFBOUNDS"));return c[e]}throw Error(q.nodeErrorMessage(b,"RUNTIME","INVALIDTYPE"));}if(d.isImmutableArray(c)&&d.isNumber(e)&&isFinite(e)&&Math.floor(e)===e){0>e&&(e=c.length()+e);if(e>=c.length()||0>e)throw Error(q.nodeErrorMessage(b,"RUNTIME","OUTOFBOUNDS"));return c.get(e)}throw Error(q.nodeErrorMessage(b,"RUNTIME",
"INVALIDTYPE"));}catch(ma){throw ma;}}function pa(a,b){try{var c=v(a,b.argument);if(d.isBoolean(c)){if("!"===b.operator)return!c;if("-"===b.operator)return-1*d.toNumber(c);if("+"===b.operator)return 1*d.toNumber(c);if("~"===b.operator)return~d.toNumber(c);throw Error(q.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===b.operator)return~d.toNumber(c);if("-"===b.operator)return-1*d.toNumber(c);if("+"===b.operator)return 1*d.toNumber(c);throw Error(q.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));
}catch(ea){throw ea;}}function oa(a,b){try{var c=[v(a,b.left),v(a,b.right)],e=c[0],f=c[1];switch(b.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return d.binaryOperator(d.toNumber(e),d.toNumber(f),b.operator);case "\x3d\x3d":return d.equalityTest(e,f);case "!\x3d":return!d.equalityTest(e,f);case "\x3c":return d.greaterThanLessThan(e,f,b.operator);case "\x3e":return d.greaterThanLessThan(e,f,b.operator);case "\x3c\x3d":return d.greaterThanLessThan(e,f,
b.operator);case "\x3e\x3d":return d.greaterThanLessThan(e,f,b.operator);case "+":return d.isString(e)||d.isString(f)?d.toString(e)+d.toString(f):d.toNumber(e)+d.toNumber(f);case "-":return d.toNumber(e)-d.toNumber(f);case "*":return d.toNumber(e)*d.toNumber(f);case "/":return d.toNumber(e)/d.toNumber(f);case "%":return d.toNumber(e)%d.toNumber(f);default:throw Error(q.nodeErrorMessage(b,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(Aa){throw Aa;}}function P(a,b){try{if("AssignmentExpression"===b.left.type||
"UpdateExpression"===b.left.type)throw Error(q.nodeErrorMessage(b.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===b.right.type||"UpdateExpression"===b.right.type)throw Error(q.nodeErrorMessage(b.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var c=v(a,b.left);if(d.isBoolean(c))switch(b.operator){case "||":if(!0===c)return c;var e=v(a,b.right);if(d.isBoolean(e))return e;throw Error(q.nodeErrorMessage(b,"RUNTIME","ONLYORORAND"));case "\x26\x26":if(!1===c)return c;
e=v(a,b.right);if(d.isBoolean(e))return e;throw Error(q.nodeErrorMessage(b,"RUNTIME","ONLYORORAND"));default:throw Error(q.nodeErrorMessage(b,"RUNTIME","ONLYORORAND"));}throw Error(q.nodeErrorMessage(b,"RUNTIME","ONLYBOOLEAN"));}catch(ma){throw ma;}}function la(a,b){var c;try{var d=b.name.toLowerCase();if(null!==a.localScope&&void 0!==a.localScope[d]){c=a.localScope[d];if(!0===c.valueset)return c.value;c.value=v(a,c.node);c.valueset=!0;return c.value}if(void 0!==a.globalScope[d]){c=a.globalScope[d];
if(!0===c.valueset)return c.value;c.value=v(a,c.node);c.valueset=!0;return c.value}throw Error(q.nodeErrorMessage(b,"RUNTIME","VARIABLENOTFOUND"));}catch(ma){throw ma;}}function wa(a,b){try{if("Identifier"!==b.callee.type)throw Error(q.nodeErrorMessage(b,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==a.localScope&&void 0!==a.localScope[b.callee.name.toLowerCase()]){var c=a.localScope[b.callee.name.toLowerCase()];if(c.value instanceof d.NativeFunction)return c.value.fn(a,b);if(c.value instanceof f)return x(a,
b,c.value.definition);throw Error(q.nodeErrorMessage(b,"RUNTIME","NOTAFUNCTION"));}if(void 0!==a.globalScope[b.callee.name.toLowerCase()]){c=a.globalScope[b.callee.name.toLowerCase()];if(c.value instanceof d.NativeFunction)return c.value.fn(a,b);if(c.value instanceof f)return x(a,b,c.value.definition);throw Error(q.nodeErrorMessage(b,"RUNTIME","NOTAFUNCTION"));}throw Error(q.nodeErrorMessage(b,"RUNTIME","NOTFOUND"));}catch(ea){throw ea;}}function K(b){return null==b?"":d.isArray(b)||d.isImmutableArray(b)?
"Array":d.isDate(b)?"Date":d.isString(b)?"String":d.isBoolean(b)?"Boolean":d.isNumber(b)?"Number":b instanceof t?"Attachment":b instanceof m?"Portal":b instanceof p?"Dictionary":b instanceof k?"Feature":b instanceof a?"Point":b instanceof l?"Polygon":b instanceof c?"Polyline":b instanceof C?"Multipoint":b instanceof fa?"Extent":d.isFunctionParameter(b)?"Function":d.isFeatureSet(b)?"FeatureSet":d.isFeatureSetCollection(b)?"FeatureSetCollection":b===d.voidOperation?"":"number"===typeof b&&isNaN(b)?
"Number":"Unrecognised Type"}function X(a,b,c,e){try{var f=v(a,b.arguments[c]);if(d.equalityTest(f,e))return v(a,b.arguments[c+1]);var g=b.arguments.length-c;return 1===g?v(a,b.arguments[c]):2===g?null:3===g?v(a,b.arguments[c+2]):X(a,b,c+2,e)}catch(Da){throw Da;}}function I(a,b,c,e){try{if(!0===e)return v(a,b.arguments[c+1]);if(3===b.arguments.length-c)return v(a,b.arguments[c+2]);var f=v(a,b.arguments[c+2]);if(!1===d.isBoolean(f))throw Error("WHEN needs boolean test conditions");return I(a,b,c+2,
f)}catch(Aa){throw Aa;}}function da(a,b){var c=a.length,d=Math.floor(c/2);if(0===c)return[];if(1===c)return[a[0]];var e=da(a.slice(0,d),b);a=da(a.slice(d,c),b);for(c=[];0<e.length||0<a.length;)0<e.length&&0<a.length?(d=b(e[0],a[0]),isNaN(d)&&(d=0),0>=d?(c.push(e[0]),e=e.slice(1)):(c.push(a[0]),a=a.slice(1))):0<e.length?(c.push(e[0]),e=e.slice(1)):0<a.length&&(c.push(a[0]),a=a.slice(1));return c}function ha(a,b,c){try{var e=a.body;if(c.length!==a.params.length)throw Error("Invalid Parameter calls to function.");
for(var f=0;f<c.length;f++)b.localScope[a.params[f].name.toLowerCase()]={value:c[f],valueset:!0,node:null};var g=v(b,e);if(g instanceof d.ReturnResult)return g.value;if(g===d.breakResult)throw Error("Cannot Break from a Function");if(g===d.continueResult)throw Error("Cannot Continue from a Function");return g instanceof d.ImplicitResult?g.value:g}catch(Da){throw Da;}}function x(a,b,c){return U(a,b,function(b,d,e){b={spatialReference:a.spatialReference,globalScope:a.globalScope,depthCounter:a.depthCounter+
1,console:a.console,lrucache:a.lrucache,localScope:{}};if(64<b.depthCounter)throw Error("Exceeded maximum function depth");return ha(c,b,e)})}function L(a){return function(){var b={spatialReference:a.context.spatialReference,console:a.context.console,lrucache:a.context.lrucache,localScope:{},depthCounter:a.context.depthCounter+1,globalScope:a.context.globalScope};if(64<b.depthCounter)throw Error("Exceeded maximum function depth");return ha(a.definition,b,arguments)}}function qa(a){console.log(a)}
Object.defineProperty(g,"__esModule",{value:!0});var ba=0,O={};u.registerFunctions(O,U);J.registerFunctions(O,U);D.registerFunctions(O,U);n.registerFunctions(O,U);H.registerFunctions(O,U);b.registerFunctions(O,U);O["typeof"]=function(a,b){return U(a,b,function(a,b,c){d.pcCheck(c,1,1);a=K(c[0]);if("Unrecognised Type"===a)throw Error("Unrecognised Type");return a})};O.iif=function(a,b){try{d.pcCheck(null===b.arguments?[]:b.arguments,3,3);var c=v(a,b.arguments[0]);if(!1===d.isBoolean(c))throw Error("IF Function must have a boolean test condition");
var e=v(a,b.arguments[1]),f=v(a,b.arguments[2]);return!0===c?e:f}catch(Aa){throw Aa;}};O.decode=function(a,b){try{if(2>b.arguments.length)throw Error("Missing Parameters");if(2===b.arguments.length)return v(a,b.arguments[1]);if(0===(b.arguments.length-1)%2)throw Error("Must have a default value result.");var c=v(a,b.arguments[0]);return X(a,b,1,c)}catch(ea){throw ea;}};O.when=function(a,b){try{if(3>b.arguments.length)throw Error("Missing Parameters");if(0===b.arguments.length%2)throw Error("Must have a default value result.");
var c=v(a,b.arguments[0]);if(!1===d.isBoolean(c))throw Error("WHEN needs boolean test conditions");return I(a,b,0,c)}catch(ea){throw ea;}};O.top=function(a,b){return U(a,b,function(a,b,c){d.pcCheck(c,2,2);if(d.isArray(c[0]))return d.toNumber(c[1])>=c[0].length?c[0].slice(0):c[0].slice(0,d.toNumber(c[1]));if(d.isImmutableArray(c[0]))return d.toNumber(c[1])>=c[0].length()?c[0].slice(0):c[0].slice(0,d.toNumber(c[1]));throw Error("Top cannot accept this parameter type");})};O.first=function(a,b){return U(a,
b,function(a,b,c){d.pcCheck(c,1,1);return d.isArray(c[0])?0===c[0].length?null:c[0][0]:d.isImmutableArray(c[0])?0===c[0].length()?null:c[0].get(0):null})};O.sort=function(a,b){return U(a,b,function(a,b,c){d.pcCheck(c,1,2);a=c[0];d.isImmutableArray(a)&&(a=a.toArray());if(!1===d.isArray(a))throw Error("Illegal Argument");if(1<c.length){if(!1===d.isFunctionParameter(c[1]))throw Error("Illegal Argument");var e=L(c[1]);return a=da(a,function(a,b){return e(a,b)})}if(0===a.length)return[];c={};for(b=0;b<
a.length;b++){var f=K(a[b]);""!==f&&(c[f]=!0)}if(!0===c.Array||!0===c.Dictionary||!0===c.Feature||!0===c.Point||!0===c.Polygon||!0===c.Polyline||!0===c.Multipoint||!0===c.Extent||!0===c.Function)return a.slice(0);b=0;var f="",g;for(g in c)b++,f=g;return a=1<b||"String"===f?da(a,function(a,b){if(null===a||void 0===a||a===d.voidOperation)return null===b||void 0===b||b===d.voidOperation?0:1;if(null===b||void 0===b||b===d.voidOperation)return-1;a=d.toString(a);b=d.toString(b);return a<b?-1:a===b?0:1}):
"Number"===f?da(a,function(a,b){return a-b}):"Boolean"===f?da(a,function(a,b){return a===b?0:b?-1:1}):"Date"===f?da(a,function(a,b){return b-a}):a.slice(0)})};for(var sa in O)O[sa]={value:new d.NativeFunction(O[sa]),valueset:!0,node:null};var S=function(){};S.prototype=O;S.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};S.prototype.pi={value:Math.PI,valueset:!0,node:null};g.functionHelper={fixSpatialReference:d.fixSpatialReference,parseArguments:A,standardFunction:U};g.extend=
function(a){for(var b={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:U,evaluateIdentifier:la,arcadeCustomFunctionHandler:L},c=0;c<a.length;c++)a[c].registerFunctions(b);for(var e in b.functions)O[e]={value:new d.NativeFunction(b.functions[e]),valueset:!0,node:null},S.prototype[e]=O[e];for(c=0;c<b.signatures.length;c++)q.addFunctionDeclaration(b.signatures[c],"async")};g.executeScript=function(a,b){var c=b.spatialReference;if(null===c||void 0===c)c=new Y({wkid:102100});var e=
b.vars,g=b.customfunctions,h=new S;e||(e={});g||(g={});var l=new p({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});l.immutable=!1;h.textformatting={value:l,valueset:!0,node:null};for(var m in g)h[m]={value:new d.NativeFunction(g[m]),native:!0,valueset:!0,node:null};for(m in e)h[m]=e[m]&&"esri.Graphic"===e[m].declaredClass?{value:k.createFromGraphic(e[m]),valueset:!0,node:null}:{value:e[m],valueset:!0,node:null};a=v({spatialReference:c,globalScope:h,localScope:null,
console:b.console?b.console:qa,lrucache:b.lrucache,depthCounter:1},a.body[0].body);a instanceof d.ReturnResult&&(a=a.value);a instanceof d.ImplicitResult&&(a=a.value);a===d.voidOperation&&(a=null);if(a===d.breakResult)throw Error("Cannot return BREAK");if(a===d.continueResult)throw Error("Cannot return CONTINUE");if(a instanceof f)throw Error("Cannot return FUNCTION");if(a instanceof d.NativeFunction)throw Error("Cannot return FUNCTION");return a};g.extractFieldLiterals=function(a,b){void 0===b&&
(b=!1);return q.findFieldLiterals(a)};g.validateScript=function(a,b){return q.validateScript(a,b,"simple")};g.referencesMember=function(a,b){return q.referencesMember(a,b)};g.referencesFunction=function(a,b){return q.referencesFunction(a,b)};g.findFunctionCalls=function(a){return q.findFunctionCalls(a)}})},"esri/arcade/parser":function(){define(["require","exports","./treeAnalysis","./lib/esprima"],function(y,g,m,t){Object.defineProperty(g,"__esModule",{value:!0});g.parseScript=function(g,k){void 0===
k&&(k=[]);g=t.parse("function _() { "+g+"\n}");if(null===g.body||void 0===g.body)throw Error("No formula provided.");if(0===g.body.length)throw Error("No formula provided.");if(0===g.body.length)throw Error("No formula provided.");if("BlockStatement"!==g.body[0].body.type)throw Error("Invalid formula content.");var f=m.validateLanguage(g);if(""!==f)throw Error(f);m.findScriptDependencies(g,k);return g};g.scriptCheck=function(g,k,f,e,h){var d=[];try{var p=t.parse("function _() { "+g+"\n}",{tolerant:!0,
loc:!0}),u=p.errors;if(0<u.length)for(var n=0;n<u.length;n++)d.push({line:u[n].lineNumber,character:u[n].column,reason:u[n].description});var b=m.checkScript(p,k,f,e,h);for(k=0;k<b.length;k++)d.push(b[k])}catch(D){try{"Unexpected token }"===D.description?(D.index=("function _() { "+g+"\n}").length-1,d.push({line:D.lineNumber,character:D.column,reason:"Unexpected end of script"})):d.push({line:D.lineNumber,character:D.column,reason:D.description})}catch(H){}}return d};g.extractFieldLiterals=function(g,
k){void 0===k&&(k=!1);return m.findFieldLiterals(g)};g.validateScript=function(g,k,f){return m.validateScript(g,k,f)};g.referencesMember=function(g,k){return m.referencesMember(g,k)};g.referencesFunction=function(g,k){return m.referencesFunction(g,k)}})},"esri/arcade/lib/esprima":function(){(function(y,g){"function"===typeof define&&define.amd?define(["exports"],g):"undefined"!==typeof exports?g(exports):g(y.esprima={})})(this,function(y){function g(a,b){if(!a)throw Error("ASSERT: "+b);}function m(a){return 48<=
a&&57>=a}function t(a){return 0<="0123456789abcdefABCDEF".indexOf(a)}function p(a){return 0<="01234567".indexOf(a)}function k(a){return 10===a||13===a||8232===a||8233===a}function f(a){return 65536>a?String.fromCharCode(a):String.fromCharCode(55296+(a-65536>>10))+String.fromCharCode(56320+(a-65536&1023))}function e(a){return 36===a||95===a||65<=a&&90>=a||97<=a&&122>=a||92===a||128<=a&&Xa.NonAsciiIdentifierStart.test(f(a))}function h(a){return 36===a||95===a||65<=a&&90>=a||97<=a&&122>=a||48<=a&&57>=
a||92===a||128<=a&&Xa.NonAsciiIdentifierPart.test(f(a))}function d(a){a=a.toLowerCase();switch(a.length){case 2:return"if"===a||"in"===a;case 3:return"var"===a||"for"===a;case 4:return"else"===a;case 5:return"break"===a;case 6:return"return"===a;case 8:return"function"===a||"continue"===a;default:return!1}}function q(a,b,c,d,e){g("number"===typeof c,"Comment must have valid position");E.lastCommentStart=c;a={type:a,value:b};w.range&&(a.range=[c,d]);w.loc&&(a.loc=e);w.comments.push(a);w.attachComment&&
(w.leadingComments.push(a),w.trailingComments.push(a));w.tokenize&&(a.type+="Comment",w.delegate&&(a=w.delegate(a)),w.tokens.push(a))}function u(a){var b,c,d;b=r-a;for(c={start:{line:T,column:r-V-a}};r<ca;)if(d=z.charCodeAt(r),++r,k(d)){Ca=!0;w.comments&&(a=z.slice(b+a,r-1),c.end={line:T,column:r-V-1},q("Line",a,b,r-1,c));13===d&&10===z.charCodeAt(r)&&++r;++T;V=r;return}w.comments&&(a=z.slice(b+a,r),c.end={line:T,column:r-V},q("Line",a,b,r,c))}function n(){var a,b;Ca=!1;for(b=0===r;r<ca;)if(a=z.charCodeAt(r),
32===a||9===a||11===a||12===a||160===a||5760<=a&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(a))++r;else if(k(a))Ca=!0,++r,13===a&&10===z.charCodeAt(r)&&++r,++T,V=r,b=!0;else if(47===a)if(a=z.charCodeAt(r+1),47===a)++r,++r,u(2),b=!0;else if(42===a){++r;++r;a:{var c=a=void 0,d=void 0,d=void 0;w.comments&&(a=r-2,c={start:{line:T,column:r-V-2}});for(;r<ca;)if(d=z.charCodeAt(r),k(d))13===d&&10===z.charCodeAt(r+1)&&++r,Ca=!0,++T,++r,V=r;else{if(42===
d&&47===z.charCodeAt(r+1)){++r;++r;w.comments&&(d=z.slice(a+2,r-2),c.end={line:T,column:r-V},q("Block",d,a,r,c));break a}++r}w.comments&&(c.end={line:T,column:r-V},d=z.slice(a+2,r),q("Block",d,a,r,c));X()}}else break;else if(b&&45===a)if(45===z.charCodeAt(r+1)&&62===z.charCodeAt(r+2))r+=3,u(3);else break;else if(60===a)if("!--"===z.slice(r+1,r+4))++r,++r,++r,++r,u(4);else break;else break}function b(a){var b,c,d=0;b="u"===a?4:2;for(a=0;a<b;++a)if(r<ca&&t(z[r]))c=z[r++],d=16*d+"0123456789abcdef".indexOf(c.toLowerCase());
else return"";return String.fromCharCode(d)}function D(){var a,b;a=z[r];b=0;for("}"===a&&K();r<ca;){a=z[r++];if(!t(a))break;b=16*b+"0123456789abcdef".indexOf(a.toLowerCase())}(1114111<b||"}"!==a)&&K();return f(b)}function H(a){var b;b=z.charCodeAt(a);55296<=b&&56319>=b&&(a=z.charCodeAt(a+1),56320<=a&&57343>=a&&(b=1024*(b-55296)+a-56320+65536));return b}function J(){var a,c,d;a=H(r);d=f(a);r+=d.length;92===a&&(117!==z.charCodeAt(r)&&K(),++r,"{"===z[r]?(++r,c=D()):(c=b("u"),a=c.charCodeAt(0),c&&"\\"!==
c&&e(a)||K()),d=c);for(;r<ca;){a=H(r);if(!h(a))break;c=f(a);d+=c;r+=c.length;92===a&&(d=d.substr(0,d.length-1),117!==z.charCodeAt(r)&&K(),++r,"{"===z[r]?(++r,c=D()):(c=b("u"),a=c.charCodeAt(0),c&&"\\"!==c&&h(a)||K()),d+=c)}return d}function fa(){var a,b;for(a=r++;r<ca;){b=z.charCodeAt(r);if(92===b||55296<=b&&57343>b)return r=a,J();if(h(b))++r;else break}return z.slice(a,r)}function aa(){var a,b;a=r;b=92===z.charCodeAt(r)?J():fa();return{type:1===b.length?B.Identifier:d(b)?B.Keyword:"null"===b.toLowerCase()?
B.NullLiteral:"true"===b.toLowerCase()||"false"===b.toLowerCase()?B.BooleanLiteral:B.Identifier,value:b,lineNumber:T,lineStart:V,start:a,end:r}}function C(){var a,b;a={type:B.Punctuator,value:"",lineNumber:T,lineStart:V,start:r,end:r};b=z[r];switch(b){case "(":w.tokenize&&(w.openParenToken=w.tokenValues.length);++r;break;case "{":w.tokenize&&(w.openCurlyToken=w.tokenValues.length);E.curlyStack.push("{");++r;break;case ".":++r;"."===z[r]&&"."===z[r+1]&&(r+=2,b="...");break;case "}":++r;E.curlyStack.pop();
break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++r;break;default:b=z.substr(r,4),"\x3e\x3e\x3e\x3d"===b?r+=4:(b=b.substr(0,3),"\x3d\x3d\x3d"===b||"!\x3d\x3d"===b||"\x3e\x3e\x3e"===b||"\x3c\x3c\x3d"===b||"\x3e\x3e\x3d"===b?r+=3:(b=b.substr(0,2),"\x26\x26"===b||"||"===b||"\x3d\x3d"===b||"!\x3d"===b||"+\x3d"===b||"-\x3d"===b||"*\x3d"===b||"/\x3d"===b||"++"===b||"--"===b||"\x3c\x3c"===b||"\x3e\x3e"===b||"\x26\x3d"===b||"|\x3d"===b||"^\x3d"===b||"%\x3d"===b||"\x3c\x3d"===
b||"\x3e\x3d"===b||"\x3d\x3e"===b?r+=2:(b=z[r],0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(b)&&++r)))}r===a.start&&K();a.end=r;a.value=b;return a}function a(){var a,b,c;c=z[r];g(m(c.charCodeAt(0))||"."===c,"Numeric literal must start with a decimal digit or a decimal point");b=r;a="";if("."!==c){a=z[r++];c=z[r];if("0"===a){if("x"===c||"X"===c){++r;for(a="";r<ca&&t(z[r]);)a+=z[r++];0===a.length&&K();e(z.charCodeAt(r))&&K();return{type:B.NumericLiteral,value:parseInt("0x"+a,16),lineNumber:T,lineStart:V,start:b,
end:r}}if("b"===c||"B"===c){++r;for(c="";r<ca;){a=z[r];if("0"!==a&&"1"!==a)break;c+=z[r++]}0===c.length&&K();r<ca&&(a=z.charCodeAt(r),(e(a)||m(a))&&K());return{type:B.NumericLiteral,value:parseInt(c,2),lineNumber:T,lineStart:V,start:b,end:r}}if("o"===c||"O"===c){p(c)?(c=!0,a="0"+z[r++]):(c=!1,++r,a="");for(;r<ca&&p(z[r]);)a+=z[r++];c||0!==a.length||K();(e(z.charCodeAt(r))||m(z.charCodeAt(r)))&&K();return{type:B.NumericLiteral,value:parseInt(a,8),octal:c,lineNumber:T,lineStart:V,start:b,end:r}}}for(;m(z.charCodeAt(r));)a+=
z[r++];c=z[r]}if("."===c){for(a+=z[r++];m(z.charCodeAt(r));)a+=z[r++];c=z[r]}if("e"===c||"E"===c){a+=z[r++];c=z[r];if("+"===c||"-"===c)a+=z[r++];if(m(z.charCodeAt(r)))for(;m(z.charCodeAt(r));)a+=z[r++];else K()}e(z.charCodeAt(r))&&K();return{type:B.NumericLiteral,value:parseFloat(a),lineNumber:T,lineStart:V,start:b,end:r}}function l(){function a(a){return a&&1<a.length&&"a"<=a[0]&&"z">=a[0]}var b,c;c=w.tokenValues[w.tokenValues.length-1];b=null!==c;switch(c){case "this":case "]":b=!1;break;case ")":(b=
w.tokenValues[w.openParenToken-1])&&(b=b.toLowerCase());b="if"===b||"while"===b||"for"===b||"with"===b;break;case "}":b=!1,a(w.tokenValues[w.openCurlyToken-3])?((b=w.tokenValues[w.openCurlyToken-4])&&(b=b.toLowerCase()),b=b?0>Wa.indexOf(b):!1):a(w.tokenValues[w.openCurlyToken-4])&&(b=(b=w.tokenValues[w.openCurlyToken-5])?0>Wa.indexOf(b):!0)}return b?collectRegex():C()}function c(){var c,d,f;if(r>=ca)return{type:B.EOF,lineNumber:T,lineStart:V,start:r,end:r};f=z.charCodeAt(r);if(e(f))return f=aa();
if(40===f||41===f||59===f)return C();if(39===f||34===f){f="";var h,n,q=!1;h=z[r];g("'"===h||'"'===h,"String literal must starts with a quote");n=r;for(++r;r<ca;)if(d=z[r++],d===h){h="";break}else if("\\"===d)if((d=z[r++])&&k(d.charCodeAt(0)))++T,"\r"===d&&"\n"===z[r]&&++r,V=r;else switch(d){case "u":case "x":if("{"===z[r])++r,f+=D();else{d=b(d);if(!d)throw K();f+=d}break;case "n":f+="\n";break;case "r":f+="\r";break;case "t":f+="\t";break;case "b":f+="\b";break;case "f":f+="\f";break;case "v":f+=
"\x0B";break;case "8":case "9":f+=d;X();break;default:if(p(d)){c=d;d="0"!==c;var t="01234567".indexOf(c);r<ca&&p(z[r])&&(d=!0,t=8*t+"01234567".indexOf(z[r++]),0<="0123".indexOf(c)&&r<ca&&p(z[r])&&(t=8*t+"01234567".indexOf(z[r++])));c=t;q=d||q;f+=String.fromCharCode(c)}else f+=d}else if(k(d.charCodeAt(0)))break;else f+=d;""!==h&&(r=n,K());return{type:B.StringLiteral,value:f,octal:q,lineNumber:Ha,lineStart:Ia,start:n,end:r}}if(46===f)return m(z.charCodeAt(r+1))?a():C();if(m(f))return a();if(w.tokenize&&
47===f)return l();if(96===f||125===f&&"${"===E.curlyStack[E.curlyStack.length-1]){f="";var u,v,t=d=!1;n=r;c="`"===z[r];q=2;for(++r;r<ca;)if(h=z[r++],"`"===h){q=1;d=t=!0;break}else if("$"===h){if("{"===z[r]){E.curlyStack.push("${");++r;d=!0;break}f+=h}else if("\\"===h)if(h=z[r++],k(h.charCodeAt(0)))++T,"\r"===h&&"\n"===z[r]&&++r,V=r;else switch(h){case "n":f+="\n";break;case "r":f+="\r";break;case "t":f+="\t";break;case "u":case "x":"{"===z[r]?(++r,f+=D()):(u=r,(v=b(h))?f+=v:(r=u,f+=h));break;case "b":f+=
"\b";break;case "f":f+="\f";break;case "v":f+="\v";break;default:"0"===h?(m(z.charCodeAt(r))&&P(Q.TemplateOctalLiteral),f+="\x00"):p(h)?P(Q.TemplateOctalLiteral):f+=h}else k(h.charCodeAt(0))?(++T,"\r"===h&&"\n"===z[r]&&++r,V=r,f+="\n"):f+=h;d||K();c||E.curlyStack.pop();return{type:B.Template,value:{cooked:f,raw:z.slice(n+1,r-q)},head:c,tail:t,lineNumber:T,lineStart:V,start:n,end:r}}return 55296<=f&&57343>f&&(f=H(r),e(f))?aa():C()}function Y(){var a,b,d;a={start:{line:T,column:r-V}};b=c();a.end={line:T,
column:r-V};b.type!==B.EOF&&(d=z.slice(b.start,b.end),a={type:ua[b.type],value:d,range:[b.start,b.end],loc:a},b.regex&&(a.regex={pattern:b.regex.pattern,flags:b.regex.flags}),w.tokenValues&&w.tokenValues.push("Punctuator"===a.type||"Keyword"===a.type?a.value:null),w.tokenize&&(w.range||delete a.range,w.loc||delete a.loc,w.delegate&&(a=w.delegate(a))),w.tokens.push(a));return b}function A(){var a;Ja=!0;za=r;Pa=T;Sa=V;n();a=F;ka=r;Ha=T;Ia=V;F="undefined"!==typeof w.tokens?Y():c();Ja=!1;return a}function U(){Ja=
!0;n();za=r;Pa=T;Sa=V;ka=r;Ha=T;Ia=V;F="undefined"!==typeof w.tokens?Y():c();Ja=!1}function v(){this.line=Ha;this.column=ka-Ia}function ta(){this.start=new v;this.end=null}function N(a){this.start={line:a.lineNumber,column:a.start-a.lineStart};this.end=null}function M(){w.range&&(this.range=[ka,0]);w.loc&&(this.loc=new ta)}function R(a){w.range&&(this.range=[a.start,0]);w.loc&&(this.loc=new N(a))}function pa(a){var b,c;for(b=0;b<w.errors.length;b++)if(c=w.errors[b],c.index===a.index&&c.message===
a.message)return;w.errors.push(a)}function oa(a,b,c){var d;a:{d=b-(Ja?V:Sa)+1;var e=Error("Line "+a+": "+c);try{throw e;}catch(Oa){Object.create&&Object.defineProperty&&(e=Object.create(Oa),Object.defineProperty(e,"column",{value:d}))}finally{d=e;break a}}d.lineNumber=a;d.description=c;d.index=b;return d}function P(a){var b,c;b=Array.prototype.slice.call(arguments,1);c=a.replace(/%(\d)/g,function(a,c){g(c<b.length,"Message reference must be in range");return b[c]});throw oa(Pa,za,c);}function la(a){var b,
c;b=Array.prototype.slice.call(arguments,1);c=a.replace(/%(\d)/g,function(a,c){g(c<b.length,"Message reference must be in range");return b[c]});c=oa(T,za,c);if(w.errors)pa(c);else throw c;}function wa(a,b){var c=b||Q.UnexpectedToken;a?(b||(c=a.type===B.EOF?Q.UnexpectedEOS:a.type===B.Identifier?Q.UnexpectedIdentifier:a.type===B.NumericLiteral?Q.UnexpectedNumber:a.type===B.StringLiteral?Q.UnexpectedString:a.type===B.Template?Q.UnexpectedTemplate:Q.UnexpectedToken),b=a.type===B.Template?a.value.raw:
a.value):b="ILLEGAL";c=c.replace("%0",b);return a&&"number"===typeof a.lineNumber?oa(a.lineNumber,a.start,c):oa(Ja?T:Pa,Ja?r:za,c)}function K(a,b){throw wa(a,b);}function X(a,b){a=wa(a,b);if(w.errors)pa(a);else throw a;}function I(a){var b=A();b.type===B.Punctuator&&b.value===a||K(b)}function da(){var a;w.errors?(a=F,a.type===B.Punctuator&&","===a.value?A():a.type===B.Punctuator&&";"===a.value?(A(),X(a)):X(a,Q.UnexpectedToken)):I(",")}function ha(a){var b=A();b.type===B.Keyword&&b.value.toLowerCase()===
a.toLowerCase()||K(b)}function x(a){return F.type===B.Punctuator&&F.value===a}function L(a){return F.type===B.Keyword&&F.value.toLowerCase()===a.toLowerCase()}function qa(){59===z.charCodeAt(ka)||x(";")?A():Ca||(za=ka,Pa=Ha,Sa=Ia,F.type===B.EOF||x("}")||K(F))}function ba(a){var b=Z,c=W,d=va;W=Z=!0;va=null;a=a();null!==va&&K(va);Z=b;W=c;va=d;return a}function O(a){var b=Z,c=W,d=va;W=Z=!0;va=null;a=a();Z=Z&&b;W=W&&c;va=d||va;return a}function sa(a,b){var c=new M,d,e,f=x("[");if(F.type===B.Identifier){e=
F;d=Ga();if(x("\x3d"))return a.push(e),A(),a=ia(),c.finishProperty("init",d,!1,(new R(e)).finishAssignmentPattern(d,a),!1,!0);if(!x(":"))return a.push(e),c.finishProperty("init",d,!1,d,!1,!0)}else d=ea();I(":");a=ga(a,b);return c.finishProperty("init",d,f,a,!1,!1)}function S(a,b){if(x("[")){var c=new M,d=[],e;for(I("[");!x("]");)if(x(","))A(),d.push(null);else{if(x("...")){e=new M;A();a.push(F);a=Ga(b);d.push(e.finishRestElement(a));break}else d.push(ga(a,b));x("]")||I(",")}I("]");return c.finishArrayPattern(d)}if(x("{")){c=
new M;d=[];for(I("{");!x("}");)d.push(sa(a,b)),x("}")||I(",");A();return c.finishObjectPattern(d)}L("let")&&("const"!==b&&"let"!==b||X(F,Q.UnexpectedToken));a.push(F);return Ga(b)}function ga(a,b){var c=F,d;a=S(a,b);x("\x3d")&&(A(),b=E.allowYield,E.allowYield=!0,d=ba(ia),E.allowYield=b,a=(new R(c)).finishAssignmentPattern(a,d));return a}function na(){var a=[],b=new M,c;for(I("[");!x("]");)x(",")?(A(),a.push(null)):x("...")?(c=new M,A(),c.finishSpreadElement(O(ia)),x("]")||(W=Z=!1,I(",")),a.push(c)):
(a.push(O(ia)),x("]")||I(","));A();return b.finishArrayExpression(a)}function ya(a,b,c){var d,e;W=Z=!1;d=ja;e=ba(ab);ja&&b.firstRestricted&&X(b.firstRestricted,b.message);ja&&b.stricted&&X(b.stricted,b.message);ja=d;return a.finishFunctionExpression(null,b.params,b.defaults,e,c)}function ea(){var a,b=new M;a=A();switch(a.type){case B.StringLiteral:case B.NumericLiteral:return ja&&a.octal&&X(a,Q.StrictOctalLiteral),b.finishLiteral(a);case B.Identifier:case B.BooleanLiteral:case B.NullLiteral:case B.Keyword:return b.finishIdentifier(a.value);
case B.Punctuator:if("["===a.value)return a=ba(ia),I("]"),a}K(a)}function ma(){switch(F.type){case B.Identifier:case B.StringLiteral:case B.BooleanLiteral:case B.NullLiteral:case B.NumericLiteral:case B.Keyword:return!0;case B.Punctuator:return"["===F.value}return!1}function Aa(a,b,c,d){var e,f=E.allowYield;if(a.type===B.Identifier){if("get"===a.value&&ma())return c=x("["),b=ea(),a=new M,I("("),I(")"),E.allowYield=!1,a=ya(a,{params:[],defaults:[],stricted:null,firstRestricted:null,message:null},!1),
E.allowYield=f,d.finishProperty("get",b,c,a,!1,!1);if("set"===a.value&&ma())return c=x("["),b=ea(),a=new M,I("("),e={params:[],defaultCount:0,defaults:[],firstRestricted:null,paramSet:{}},x(")")?X(F):(E.allowYield=!1,bb(e),E.allowYield=f,0===e.defaultCount&&(e.defaults=[])),I(")"),E.allowYield=!1,a=ya(a,e,!1),E.allowYield=f,d.finishProperty("set",b,c,a,!1,!1)}else if(a.type===B.Punctuator&&"*"===a.value&&ma())return c=x("["),b=ea(),a=new M,E.allowYield=!0,e=Va(),E.allowYield=f,E.allowYield=!1,a=ya(a,
e,!0),E.allowYield=f,d.finishProperty("init",b,c,a,!0,!1);return b&&x("(")?(e=new M,f=E.allowYield,E.allowYield=!1,a=Va(),E.allowYield=f,E.allowYield=!1,a=ya(e,a,!1),E.allowYield=f,d.finishProperty("init",b,c,a,!0,!1)):null}function Da(a){var b=F,c=new M,d,e,f;d=x("[");x("*")?A():e=ea();if(f=Aa(b,e,d,c))return f;e||K(F);d||(f=e.type===G.Identifier&&"__proto__"===e.name||e.type===G.Literal&&"__proto__"===e.value,a.value&&f&&la(Q.DuplicateProtoProperty),a.value|=f);if(x(":"))return A(),a=O(ia),c.finishProperty("init",
e,d,a,!1,!1);if(b.type===B.Identifier)return x("\x3d")?(va=F,A(),a=ba(ia),c.finishProperty("init",e,d,(new R(b)).finishAssignmentPattern(e,a),!1,!0)):c.finishProperty("init",e,d,e,!1,!0);K(F)}function Ea(a){var b=[],c={value:!1},d=new M;for(a||I("{");!x("}");)b.push(Da(c)),x("}")||da();I("}");return d.finishObjectExpression(b)}function ra(a){var b;switch(a.type){case G.ArrayExpression:a.type=G.ArrayPattern;for(b=0;b<a.elements.length;b++)null!==a.elements[b]&&ra(a.elements[b]);break;case G.ObjectExpression:a.type=
G.ObjectPattern;for(b=0;b<a.properties.length;b++)ra(a.properties[b].value);break;case G.AssignmentExpression:a.type=G.AssignmentPattern,ra(a.left)}}function Ka(a){var b;(F.type!==B.Template||a.head&&!F.head)&&K();a=new M;b=A();return a.finishTemplateElement({raw:b.value.raw,cooked:b.value.cooked},b.tail)}function db(){var a,b;I("(");if(x(")"))return A(),x("\x3d\x3e")||I("\x3d\x3e"),{type:Na.ArrowParameterPlaceHolder,params:[],rawParams:[]};b=F;Z=!0;a=O(ia);if(x(",")){W=!1;for(a=[a];ka<ca&&x(",");)A(),
a.push(O(ia));a=(new R(b)).finishSequenceExpression(a)}I(")");if(x("\x3d\x3e")){if(a.type===G.Identifier&&"yield"===a.name)return{type:Na.ArrowParameterPlaceHolder,params:[a]};Z||K(F);if(a.type===G.SequenceExpression)for(b=0;b<a.expressions.length;b++)ra(a.expressions[b]);else ra(a);a={type:Na.ArrowParameterPlaceHolder,params:a.type===G.SequenceExpression?a.expressions:[a]}}Z=!1;return a}function Fa(){var a,b,c;if(x("("))return Z=!1,O(db);if(x("["))return O(na);if(x("{"))return O(Ea);a=F.type;c=new M;
if(a===B.Identifier)b=c.finishIdentifier(A().value);else if(a===B.StringLiteral||a===B.NumericLiteral)W=Z=!1,ja&&F.octal&&X(F,Q.StrictOctalLiteral),b=c.finishLiteral(A());else if(a===B.Keyword){W=Z=!1;if(L("function"))return parseFunctionExpression();K(A())}else if(a===B.BooleanLiteral)W=Z=!1,a=A(),a.value="true"===a.value.toLowerCase(),b=c.finishLiteral(a);else if(a===B.NullLiteral)W=Z=!1,a=A(),a.value=null,b=c.finishLiteral(a);else if(a===B.Template){var d=new M;c=Ka({head:!0});a=[c];for(b=[];!c.tail;)b.push(xa()),
c=Ka({head:!1}),a.push(c);b=d.finishTemplateLiteral(a,b)}else K(A());return b}function eb(){var a,b,c,d=E.allowIn;c=F;E.allowIn=!0;for(a=O(Fa);;)if(x(".")){Z=!1;W=!0;I(".");b=void 0;var e=new M;b=A();b.type===B.Identifier||b.type===B.Keyword||b.type===B.BooleanLiteral||b.type===B.NullLiteral||K(b);b=e.finishIdentifier(b.value);a=(new R(c)).finishMemberExpression(".",a,b)}else if(x("(")){W=Z=!1;b=[];e=void 0;I("(");if(!x(")"))for(;ka<ca;){e=ba(ia);b.push(e);if(x(")"))break;da()}I(")");a=(new R(c)).finishCallExpression(a,
b)}else if(x("["))Z=!1,W=!0,b=void 0,I("["),b=ba(xa),I("]"),a=(new R(c)).finishMemberExpression("[",a,b);else break;E.allowIn=d;return a}function Ta(){var a,b,c=F;a=O(eb);Ca||F.type!==B.Punctuator||!x("++")&&!x("--")||(W||la(Q.InvalidLHSInAssignment),W=Z=!1,b=A(),a=(new R(c)).finishPostfixExpression(b.value,a));return a}function La(){var a,b,c;F.type!==B.Punctuator&&F.type!==B.Keyword?b=Ta():x("++")||x("--")?(c=F,a=A(),b=O(La),W||la(Q.InvalidLHSInAssignment),b=(new R(c)).finishUnaryExpression(a.value,
b),W=Z=!1):x("+")||x("-")||x("~")||x("!")?(c=F,a=A(),b=O(La),b=(new R(c)).finishUnaryExpression(a.value,b),W=Z=!1):L("delete")||L("void")||L("typeof")?(c=F,a=A(),b=O(La),b=(new R(c)).finishUnaryExpression(a.value,b),ja&&"delete"===b.operator&&b.argument.type===G.Identifier&&la(Q.StrictDelete),W=Z=!1):b=Ta();return b}function Ya(a,b){var c=0;if(a.type!==B.Punctuator&&a.type!==B.Keyword)return 0;switch(a.value){case "||":c=1;break;case "\x26\x26":c=2;break;case "|":c=3;break;case "^":c=4;break;case "\x26":c=
5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":c=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":c=7;break;case "in":c=b?7:0;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":c=8;break;case "+":case "-":c=9;break;case "*":case "/":case "%":c=11}return c}function Qa(){var a,b,c,d,e,f;a=F;b=O(La);c=F;d=Ya(c,E.allowIn);if(0===d)return b;W=Z=!1;c.prec=d;A();a=[a,F];f=ba(La);for(e=[b,c,f];0<(d=Ya(F,E.allowIn));){for(;2<e.length&&d<=e[e.length-
2].prec;)f=e.pop(),c=e.pop().value,b=e.pop(),a.pop(),b=(new R(a[a.length-1])).finishBinaryExpression(c,b,f),e.push(b);c=A();c.prec=d;e.push(c);a.push(F);b=ba(La);e.push(b)}d=e.length-1;b=e[d];for(a.pop();1<d;)b=(new R(a.pop())).finishBinaryExpression(e[d-1].value,e[d-2],b),d-=2;return b}function Ma(a,b){var c;switch(b.type){case G.Identifier:Ua(a,b,b.name);break;case G.RestElement:Ma(a,b.argument);break;case G.AssignmentPattern:Ma(a,b.left);break;case G.ArrayPattern:for(c=0;c<b.elements.length;c++)null!==
b.elements[c]&&Ma(a,b.elements[c]);break;case G.YieldExpression:break;default:for(g(b.type===G.ObjectPattern,"Invalid type"),c=0;c<b.properties.length;c++)Ma(a,b.properties[c].value)}}function ia(){var a,b,c,d;a=d=F;var e;c=F;b=O(Qa);x("?")&&(A(),e=E.allowIn,E.allowIn=!0,a=ba(ia),E.allowIn=e,I(":"),e=ba(ia),b=(new R(c)).finishConditionalExpression(b,a,e),W=Z=!1);if(b.type===Na.ArrowParameterPlaceHolder||x("\x3d\x3e")){W=Z=!1;a:{var f,g,h,k;c=[];e=0;a=[b];switch(b.type){case G.Identifier:break;case Na.ArrowParameterPlaceHolder:a=
b.params;break;default:a=null;break a}k={paramSet:{}};f=0;for(g=a.length;f<g;f+=1)switch(h=a[f],h.type){case G.AssignmentPattern:a[f]=h.left;h.right.type===G.YieldExpression&&(h.right.argument&&K(F),h.right.type=G.Identifier,h.right.name="yield",delete h.right.argument,delete h.right.delegate);c.push(h.right);++e;Ma(k,h.left);break;default:Ma(k,h),a[f]=h,c.push(null)}if(ja||!E.allowYield)for(f=0,g=a.length;f<g;f+=1)h=a[f],h.type===G.YieldExpression&&K(F);k.message===Q.StrictParamDupe&&(f=ja?k.stricted:
k.firstRestricted,K(f,k.message));0===e&&(c=[]);a={params:a,defaults:c,stricted:k.stricted,firstRestricted:k.firstRestricted,message:k.message}}return a?(va=null,parseArrowFunctionExpression(a,new R(d))):b}F.type!==B.Punctuator?a=!1:(a=F.value,a="\x3d"===a||"*\x3d"===a||"/\x3d"===a||"%\x3d"===a||"+\x3d"===a||"-\x3d"===a||"\x3c\x3c\x3d"===a||"\x3e\x3e\x3d"===a||"\x3e\x3e\x3e\x3d"===a||"\x26\x3d"===a||"^\x3d"===a||"|\x3d"===a);a&&(W||la(Q.InvalidLHSInAssignment),x("\x3d")?ra(b):W=Z=!1,a=A(),c=ba(ia),
b=(new R(d)).finishAssignmentExpression(a.value,b,c),va=null);return b}function xa(){var a,b=F;a=ba(ia);if(x(",")){for(a=[a];ka<ca&&x(",");)A(),a.push(ba(ia));a=(new R(b)).finishSequenceExpression(a)}return a}function Ra(){if(F.type===B.Keyword)switch(F.value.toLowerCase()){case "function":return cb(new M)}return Ba()}function Ga(a){var b,c=new M;b=A();b.type!==B.Identifier&&(ja||"let"!==b.value||"var"!==a)&&K(b);return c.finishIdentifier(b.value)}function Za(a){var b=null,c,d=new M;c=S([],"var");
x("\x3d")?(A(),b=ba(ia)):c.type===G.Identifier||a.inFor||I("\x3d");return d.finishVariableDeclarator(c,b)}function $a(a){var b;a={inFor:a.inFor};for(b=[Za(a)];x(",");)A(),b.push(Za(a));return b}function fb(){return Ba(!0)}function Ba(a){var b=F.type,c,d;b===B.EOF&&K(F);if(b===B.Punctuator&&"{"===F.value){if(a){I("{");var f=F;a=r;c=T;d=V;A();b=x(":");F=f;r=a;T=c;V=d;if((F.type===B.Identifier||F.type===B.StringLiteral)&&b)return Ea(!0);a=new M;for(c=[];ka<ca&&!x("}");)c.push(Ra());I("}");return a.finishBlockStatement(c)}return Ea()}W=
Z=!0;a=new M;if(b===B.Punctuator)switch(F.value){case ";":return I(";"),a.finishEmptyStatement();case "(":return c=xa(),qa(),a.finishExpressionStatement(c)}else if(b===B.Keyword)switch(F.value.toLowerCase()){case "break":return c=null,ha("break"),59===z.charCodeAt(za)?(A(),E.inIteration||E.inSwitch||P(Q.IllegalBreak),a=a.finishBreakStatement(null)):(Ca?E.inIteration||E.inSwitch||P(Q.IllegalBreak):F.type===B.Identifier&&(c=Ga(),d="$"+c.name,Object.prototype.hasOwnProperty.call(E.labelSet,d)||P(Q.UnknownLabel,
c.name)),qa(),null!==c||E.inIteration||E.inSwitch||P(Q.IllegalBreak),a=a.finishBreakStatement(c)),a;case "continue":return c=null,ha("continue"),59===z.charCodeAt(ka)?(A(),E.inIteration||P(Q.IllegalContinue),a=a.finishContinueStatement(null)):Ca?(E.inIteration||P(Q.IllegalContinue),a=a.finishContinueStatement(null)):(F.type===B.Identifier&&(c=Ga(),d="$"+c.name,Object.prototype.hasOwnProperty.call(E.labelSet,d)||P(Q.UnknownLabel,c.name)),qa(),null!==c||E.inIteration||P(Q.IllegalContinue),a=a.finishContinueStatement(c)),
a;case "for":var g,h,k,l;l=E.allowIn;g=f=k=null;b=!0;ha("for");I("(");if(x(";"))A();else if(L("var"))g=new M,A(),E.allowIn=!1,h=$a({inFor:!0}),E.allowIn=l,1===h.length&&L("in")?(g=g.finishVariableDeclaration(h),A(),c=g,d=xa(),g=null):1===h.length&&null===h[0].init&&F.type===B.Identifier&&"of"===F.value?(g=g.finishVariableDeclaration(h),A(),c=g,d=ia(),g=null,b=!1):(g=g.finishVariableDeclaration(h),I(";"));else if(h=F,E.allowIn=!1,g=O(ia),E.allowIn=l,L("in"))W||la(Q.InvalidLHSInForIn),A(),ra(g),c=g,
d=xa(),g=null;else{if(x(",")){for(g=[g];x(",");)A(),g.push(ba(ia));g=(new R(h)).finishSequenceExpression(g)}I(";")}"undefined"===typeof c&&(x(";")||(f=xa()),I(";"),x(")")||(k=xa()));I(")");l=E.inIteration;E.inIteration=!0;h=ba(fb);E.inIteration=l;return"undefined"===typeof c?a.finishForStatement(g,f,k,h):b?a.finishForInStatement(c,d,h):a.finishForOfStatement(c,d,h);case "function":return cb(a);case "if":return ha("if"),I("("),c=xa(),I(")"),d=Ba(!0),L("else")?(A(),b=Ba(!0)):b=null,a.finishIfStatement(c,
d,b);case "return":return c=null,ha("return"),E.inFunctionBody||la(Q.IllegalReturn),32===z.charCodeAt(za)&&e(z.charCodeAt(za+1))?(c=xa(),qa(),a=a.finishReturnStatement(c)):Ca?a=a.finishReturnStatement(null):(x(";")||x("}")||F.type===B.EOF||(c=xa()),qa(),a=a.finishReturnStatement(c)),a;case "switch":return parseSwitchStatement(a);case "var":return ha("var"),c=$a({inFor:!1}),qa(),a.finishVariableDeclaration(c)}c=xa();if(c.type===G.Identifier&&x(":"))return A(),b="$"+c.name,Object.prototype.hasOwnProperty.call(E.labelSet,
b)&&P(Q.Redeclaration,"Label",c.name),E.labelSet[b]=!0,d=Ba(),delete E.labelSet[b],a.finishLabeledStatement(c,d);qa();return a.finishExpressionStatement(c)}function ab(){var a,b=[],c,d,e,f=new M;for(I("{");ka<ca&&F.type===B.StringLiteral;){c=F;a=Ra();b.push(a);if(a.expression.type!==G.Literal)break;a=z.slice(c.start+1,c.end-1);"use strict"===a?(ja=!0,d&&X(d,Q.StrictOctalLiteral)):!d&&c.octal&&(d=c)}c=E.labelSet;d=E.inIteration;a=E.inSwitch;e=E.inFunctionBody;E.labelSet={};E.inIteration=!1;E.inSwitch=
!1;for(E.inFunctionBody=!0;ka<ca&&!x("}");)b.push(Ra());I("}");E.labelSet=c;E.inIteration=d;E.inSwitch=a;E.inFunctionBody=e;return f.finishBlockStatement(b)}function Ua(a,b,c){c="$"+c;ja?Object.prototype.hasOwnProperty.call(a.paramSet,c)&&(a.stricted=b,a.message=Q.StrictParamDupe):!a.firstRestricted&&Object.prototype.hasOwnProperty.call(a.paramSet,c)&&(a.stricted=b,a.message=Q.StrictParamDupe);a.paramSet[c]=!0}function bb(a){var b,c=[],d,e;if("..."===F.value)return b=new M,A(),x("{")&&P(Q.ObjectPatternAsRestParameter),
c.push(F),c=Ga(),x("\x3d")&&P(Q.DefaultRestParameter),x(")")||P(Q.ParameterAfterRestParameter),b=b.finishRestElement(c),Ua(a,b.argument,b.argument.name),a.params.push(b),a.defaults.push(null),!1;b=ga(c);for(d=0;d<c.length;d++)Ua(a,c[d],c[d].value);b.type===G.AssignmentPattern&&(e=b.right,b=b.left,++a.defaultCount);a.params.push(b);a.defaults.push(e);return!x(")")}function Va(a){a={params:[],defaultCount:0,defaults:[],firstRestricted:a};I("(");if(!x(")"))for(a.paramSet={};ka<ca&&bb(a);)I(",");I(")");
0===a.defaultCount&&(a.defaults=[]);return{params:a.params,defaults:a.defaults,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}}function cb(a,b){var c=null,d=[],e=[],f,g,h,k,l;l=E.allowYield;ha("function");b&&x("(")||(c=Ga());E.allowYield=!0;f=Va(g);d=f.params;e=f.defaults;b=f.stricted;g=f.firstRestricted;f.message&&(h=f.message);k=ja;f=ab();ja&&g&&K(g,h);ja&&b&&X(b,h);ja=k;E.allowYield=l;return a.finishFunctionDeclaration(c,d,e,f,void 0)}var B,ua,Wa,G,Na,Q,Xa,z,ja,r,T,V,Ca,
za,Pa,Sa,ka,Ha,Ia,Ja,ca,F,E,w,Z,W,va;B={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10};ua={};ua[B.BooleanLiteral]="Boolean";ua[B.EOF]="\x3cend\x3e";ua[B.Identifier]="Identifier";ua[B.Keyword]="Keyword";ua[B.NullLiteral]="Null";ua[B.NumericLiteral]="Numeric";ua[B.Punctuator]="Punctuator";ua[B.StringLiteral]="String";ua[B.RegularExpression]="RegularExpression";ua[B.Template]="Template";Wa="( { [ in typeof instanceof new return case delete throw void \x3d +\x3d -\x3d *\x3d /\x3d %\x3d \x3c\x3c\x3d \x3e\x3e\x3d \x3e\x3e\x3e\x3d \x26\x3d |\x3d ^\x3d , + - * / % ++ -- \x3c\x3c \x3e\x3e \x3e\x3e\x3e \x26 | ^ ! ~ \x26\x26 || ? : \x3d\x3d\x3d \x3d\x3d \x3e\x3d \x3c\x3d \x3c \x3e !\x3d !\x3d\x3d".split(" ");
G={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",
FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"};
Na={ArrowParameterPlaceHolder:"ArrowParameterPlaceHolder"};Q={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",
InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",
StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",
StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token \x3d",
ObjectPatternAsRestParameter:"Unexpected token {",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",
IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0"};Xa={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,
NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};
R.prototype=M.prototype={processComment:function(){var a,b,c,d,e=w.bottomRightStack,f,g,h=e[e.length-1];if(!(this.type===G.Program&&0<this.body.length)){if(this.type===G.BlockStatement&&0===this.body.length){b=[];for(f=w.leadingComments.length-1;0<=f;--f)g=w.leadingComments[f],this.range[1]>=g.range[1]&&(b.unshift(g),w.leadingComments.splice(f,1),w.trailingComments.splice(f,1));if(b.length){this.innerComments=b;return}}if(0<w.trailingComments.length){d=[];for(f=w.trailingComments.length-1;0<=f;--f)g=
w.trailingComments[f],g.range[0]>=this.range[1]&&(d.unshift(g),w.trailingComments.splice(f,1));w.trailingComments=[]}else h&&h.trailingComments&&h.trailingComments[0].range[0]>=this.range[1]&&(d=h.trailingComments,delete h.trailingComments);for(;h&&h.range[0]>=this.range[0];)a=e.pop(),h=e[e.length-1];if(a){if(a.leadingComments){c=[];for(f=a.leadingComments.length-1;0<=f;--f)g=a.leadingComments[f],g.range[1]<=this.range[0]&&(c.unshift(g),a.leadingComments.splice(f,1));a.leadingComments.length||(a.leadingComments=
void 0)}}else if(0<w.leadingComments.length)for(c=[],f=w.leadingComments.length-1;0<=f;--f)g=w.leadingComments[f],g.range[1]<=this.range[0]&&(c.unshift(g),w.leadingComments.splice(f,1));c&&0<c.length&&(this.leadingComments=c);d&&0<d.length&&(this.trailingComments=d);e.push(this)}},finish:function(){w.range&&(this.range[1]=za);w.loc&&(this.loc.end={line:Pa,column:za-Sa},w.source&&(this.loc.source=w.source));w.attachComment&&this.processComment()},finishArrayExpression:function(a){this.type=G.ArrayExpression;
this.elements=a;this.finish();return this},finishArrayPattern:function(a){this.type=G.ArrayPattern;this.elements=a;this.finish();return this},finishAssignmentExpression:function(a,b,c){this.type=G.AssignmentExpression;this.operator=a;this.left=b;this.right=c;this.finish();return this},finishAssignmentPattern:function(a,b){this.type=G.AssignmentPattern;this.left=a;this.right=b;this.finish();return this},finishBinaryExpression:function(a,b,c){this.type="||"===a||"\x26\x26"===a?G.LogicalExpression:G.BinaryExpression;
this.operator=a;this.left=b;this.right=c;this.finish();return this},finishBlockStatement:function(a){this.type=G.BlockStatement;this.body=a;this.finish();return this},finishBreakStatement:function(a){this.type=G.BreakStatement;this.label=a;this.finish();return this},finishCallExpression:function(a,b){this.type=G.CallExpression;this.callee=a;this.arguments=b;this.finish();return this},finishConditionalExpression:function(a,b,c){this.type=G.ConditionalExpression;this.test=a;this.consequent=b;this.alternate=
c;this.finish();return this},finishContinueStatement:function(a){this.type=G.ContinueStatement;this.label=a;this.finish();return this},finishEmptyStatement:function(){this.type=G.EmptyStatement;this.finish();return this},finishExpressionStatement:function(a){this.type=G.ExpressionStatement;this.expression=a;this.finish();return this},finishForStatement:function(a,b,c,d){this.type=G.ForStatement;this.init=a;this.test=b;this.update=c;this.body=d;this.finish();return this},finishForInStatement:function(a,
b,c){this.type=G.ForInStatement;this.left=a;this.right=b;this.body=c;this.each=!1;this.finish();return this},finishFunctionDeclaration:function(a,b,c,d,e){this.type=G.FunctionDeclaration;this.id=a;this.params=b;this.defaults=c;this.body=d;this.generator=e;this.expression=!1;this.finish();return this},finishFunctionExpression:function(a,b,c,d,e){this.type=G.FunctionExpression;this.id=a;this.params=b;this.defaults=c;this.body=d;this.generator=e;this.expression=!1;this.finish();return this},finishIdentifier:function(a){this.type=
G.Identifier;this.name=a;this.finish();return this},finishIfStatement:function(a,b,c){this.type=G.IfStatement;this.test=a;this.consequent=b;this.alternate=c;this.finish();return this},finishLiteral:function(a){this.type=G.Literal;this.value=a.value;this.raw=z.slice(a.start,a.end);a.regex&&(this.regex=a.regex);this.finish();return this},finishMemberExpression:function(a,b,c){this.type=G.MemberExpression;this.computed="["===a;this.object=b;this.property=c;this.finish();return this},finishObjectExpression:function(a){this.type=
G.ObjectExpression;this.properties=a;this.finish();return this},finishObjectPattern:function(a){this.type=G.ObjectPattern;this.properties=a;this.finish();return this},finishPostfixExpression:function(a,b){this.type=G.UpdateExpression;this.operator=a;this.argument=b;this.prefix=!1;this.finish();return this},finishProgram:function(a,b){this.type=G.Program;this.body=a;this.sourceType=b;this.finish();return this},finishProperty:function(a,b,c,d,e,f){this.type=G.Property;this.key=b;this.computed=c;this.value=
d;this.kind=a;this.method=e;this.shorthand=f;this.finish();return this},finishRestElement:function(a){this.type=G.RestElement;this.argument=a;this.finish();return this},finishReturnStatement:function(a){this.type=G.ReturnStatement;this.argument=a;this.finish();return this},finishTemplateElement:function(a,b){this.type=G.TemplateElement;this.value=a;this.tail=b;this.finish();return this},finishTemplateLiteral:function(a,b){this.type=G.TemplateLiteral;this.quasis=a;this.expressions=b;this.finish();
return this},finishUnaryExpression:function(a,b){this.type="++"===a||"--"===a?G.UpdateExpression:G.UnaryExpression;this.operator=a;this.argument=b;this.prefix=!0;this.finish();return this},finishVariableDeclaration:function(a){this.type=G.VariableDeclaration;this.declarations=a;this.kind="var";this.finish();return this},finishLexicalDeclaration:function(a,b){this.type=G.VariableDeclaration;this.declarations=a;this.kind=b;this.finish();return this},finishVariableDeclarator:function(a,b){this.type=
G.VariableDeclarator;this.id=a;this.init=b;this.finish();return this}};y.version="2.7.3";y.tokenize=function(a,b,c){var d,e;d=String;"string"===typeof a||a instanceof String||(a=d(a));z=a;r=0;T=0<z.length?1:0;V=0;ka=r;Ha=T;Ia=V;ca=z.length;F=null;E={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[]};w={};b=b||{};b.tokens=!0;w.tokens=[];w.tokenValues=[];w.tokenize=!0;w.delegate=c;w.openParenToken=-1;w.openCurlyToken=-1;w.range="boolean"===
typeof b.range&&b.range;w.loc="boolean"===typeof b.loc&&b.loc;"boolean"===typeof b.comment&&b.comment&&(w.comments=[]);"boolean"===typeof b.tolerant&&b.tolerant&&(w.errors=[]);try{U();if(F.type===B.EOF)return w.tokens;for(A();F.type!==B.EOF;)try{A()}catch(Oa){if(w.errors){pa(Oa);break}else throw Oa;}e=w.tokens;"undefined"!==typeof w.errors&&(e.errors=w.errors)}catch(Oa){throw Oa;}finally{w={}}return e};y.parse=function(a,b){var c,d;d=String;"string"===typeof a||a instanceof String||(a=d(a));z=a;r=
0;T=0<z.length?1:0;V=0;ka=r;Ha=T;Ia=V;ca=z.length;F=null;E={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[],sourceType:"script"};ja=!1;w={};"undefined"!==typeof b&&(w.range="boolean"===typeof b.range&&b.range,w.loc="boolean"===typeof b.loc&&b.loc,w.attachComment="boolean"===typeof b.attachComment&&b.attachComment,w.loc&&null!==b.source&&void 0!==b.source&&(w.source=d(b.source)),"boolean"===typeof b.tokens&&b.tokens&&(w.tokens=[]),
"boolean"===typeof b.comment&&b.comment&&(w.comments=[]),"boolean"===typeof b.tolerant&&b.tolerant&&(w.errors=[]),w.attachComment&&(w.range=!0,w.comments=[],w.bottomRightStack=[],w.trailingComments=[],w.leadingComments=[]),"module"===b.sourceType&&(E.sourceType=b.sourceType,ja=!0));try{var e;U();e=new M;var f;a=[];for(var g,h,k;ka<ca;){g=F;if(g.type!==B.StringLiteral)break;f=Ra();a.push(f);if(f.expression.type!==G.Literal)break;h=z.slice(g.start+1,g.end-1);"use strict"===h?(ja=!0,k&&X(k,Q.StrictOctalLiteral)):
!k&&g.octal&&(k=g)}for(;ka<ca;){f=Ra();if("undefined"===typeof f)break;a.push(f)}c=e.finishProgram(a,E.sourceType);"undefined"!==typeof w.comments&&(c.comments=w.comments);if("undefined"!==typeof w.tokens){var l,m,n;e=[];for(l=0;l<w.tokens.length;++l)m=w.tokens[l],n={type:m.type,value:m.value},m.regex&&(n.regex={pattern:m.regex.pattern,flags:m.regex.flags}),w.range&&(n.range=m.range),w.loc&&(n.loc=m.loc),e.push(n);w.tokens=e;c.tokens=w.tokens}"undefined"!==typeof w.errors&&(c.errors=w.errors)}catch(gb){throw gb;
}finally{w={}}return c};y.Syntax=function(){var a,b={};"function"===typeof Object.create&&(b=Object.create(null));for(a in G)G.hasOwnProperty(a)&&(b[a]=G[a]);"function"===typeof Object.freeze&&Object.freeze(b);return b}()})},"esri/intl/moment":function(){define("require exports tslib ../core/MapUtils ./locale @dojo/framework/shim/Promise".split(" "),function(y,g,m,t,p){Object.defineProperty(g,"__esModule",{value:!0});var k=t.MapFromValues([["ar",function(){return new Promise(function(f,e){y(["moment/locale/ar"],
f,e)})}],["ar-dz",function(){return new Promise(function(f,e){y(["moment/locale/ar-dz"],f,e)})}],["ar-kw",function(){return new Promise(function(f,e){y(["moment/locale/ar-kw"],f,e)})}],["ar-ly",function(){return new Promise(function(f,e){y(["moment/locale/ar-ly"],f,e)})}],["ar-ma",function(){return new Promise(function(f,e){y(["moment/locale/ar-ma"],f,e)})}],["ar-sa",function(){return new Promise(function(f,e){y(["moment/locale/ar-sa"],f,e)})}],["ar-tn",function(){return new Promise(function(f,e){y(["moment/locale/ar-tn"],
f,e)})}],["bs",function(){return new Promise(function(f,e){y(["moment/locale/bs"],f,e)})}],["ca",function(){return new Promise(function(f,e){y(["moment/locale/ca"],f,e)})}],["cs",function(){return new Promise(function(f,e){y(["moment/locale/cs"],f,e)})}],["da",function(){return new Promise(function(f,e){y(["moment/locale/da"],f,e)})}],["de",function(){return new Promise(function(f,e){y(["moment/locale/de"],f,e)})}],["de-at",function(){return new Promise(function(f,e){y(["moment/locale/de-at"],f,e)})}],
["de-ch",function(){return new Promise(function(f,e){y(["moment/locale/de-ch"],f,e)})}],["el",function(){return new Promise(function(f,e){y(["moment/locale/el"],f,e)})}],["en-au",function(){return new Promise(function(f,e){y(["moment/locale/en-au"],f,e)})}],["en-ca",function(){return new Promise(function(f,e){y(["moment/locale/en-ca"],f,e)})}],["en-gb",function(){return new Promise(function(f,e){y(["moment/locale/en-gb"],f,e)})}],["en-ie",function(){return new Promise(function(f,e){y(["moment/locale/en-ie"],
f,e)})}],["en-il",function(){return new Promise(function(f,e){y(["moment/locale/en-il"],f,e)})}],["en-nz",function(){return new Promise(function(f,e){y(["moment/locale/en-nz"],f,e)})}],["es",function(){return new Promise(function(f,e){y(["moment/locale/es"],f,e)})}],["es-do",function(){return new Promise(function(f,e){y(["moment/locale/es-do"],f,e)})}],["es-us",function(){return new Promise(function(f,e){y(["moment/locale/es-us"],f,e)})}],["et",function(){return new Promise(function(f,e){y(["moment/locale/et"],
f,e)})}],["fi",function(){return new Promise(function(f,e){y(["moment/locale/fi"],f,e)})}],["fr",function(){return new Promise(function(f,e){y(["moment/locale/fr"],f,e)})}],["fr-ca",function(){return new Promise(function(f,e){y(["moment/locale/fr-ca"],f,e)})}],["fr-ch",function(){return new Promise(function(f,e){y(["moment/locale/fr-ch"],f,e)})}],["he",function(){return new Promise(function(f,e){y(["moment/locale/he"],f,e)})}],["hr",function(){return new Promise(function(f,e){y(["moment/locale/hr"],
f,e)})}],["hu",function(){return new Promise(function(f,e){y(["moment/locale/hu"],f,e)})}],["id",function(){return new Promise(function(f,e){y(["moment/locale/id"],f,e)})}],["it",function(){return new Promise(function(f,e){y(["moment/locale/it"],f,e)})}],["it-ch",function(){return new Promise(function(f,e){y(["moment/locale/it-ch"],f,e)})}],["ja",function(){return new Promise(function(f,e){y(["moment/locale/ja"],f,e)})}],["ko",function(){return new Promise(function(f,e){y(["moment/locale/ko"],f,e)})}],
["lt",function(){return new Promise(function(f,e){y(["moment/locale/lt"],f,e)})}],["lv",function(){return new Promise(function(f,e){y(["moment/locale/lv"],f,e)})}],["nb",function(){return new Promise(function(f,e){y(["moment/locale/nb"],f,e)})}],["nl",function(){return new Promise(function(f,e){y(["moment/locale/nl"],f,e)})}],["nl-be",function(){return new Promise(function(f,e){y(["moment/locale/nl-be"],f,e)})}],["pl",function(){return new Promise(function(f,e){y(["moment/locale/pl"],f,e)})}],["pt",
function(){return new Promise(function(f,e){y(["moment/locale/pt"],f,e)})}],["pt-br",function(){return new Promise(function(f,e){y(["moment/locale/pt-br"],f,e)})}],["ro",function(){return new Promise(function(f,e){y(["moment/locale/ro"],f,e)})}],["ru",function(){return new Promise(function(f,e){y(["moment/locale/ru"],f,e)})}],["sl",function(){return new Promise(function(f,e){y(["moment/locale/sl"],f,e)})}],["sr",function(){return new Promise(function(f,e){y(["moment/locale/sr"],f,e)})}],["sr-cyrl",
function(){return new Promise(function(f,e){y(["moment/locale/sr-cyrl"],f,e)})}],["sv",function(){return new Promise(function(f,e){y(["moment/locale/sv"],f,e)})}],["th",function(){return new Promise(function(f,e){y(["moment/locale/th"],f,e)})}],["tr",function(){return new Promise(function(f,e){y(["moment/locale/tr"],f,e)})}],["uk",function(){return new Promise(function(f,e){y(["moment/locale/uk"],f,e)})}],["vi",function(){return new Promise(function(f,e){y(["moment/locale/vi"],f,e)})}],["zh-cn",function(){return new Promise(function(f,
e){y(["moment/locale/zh-cn"],f,e)})}],["zh-hk",function(){return new Promise(function(f,e){y(["moment/locale/zh-hk"],f,e)})}],["zh-tw",function(){return new Promise(function(f,e){y(["moment/locale/zh-tw"],f,e)})}]]);g.loadMoment=function(f){void 0===f&&(f=p.getLocale());return m.__awaiter(this,void 0,void 0,function(){var e,g,d;return m.__generator(this,function(h){switch(h.label){case 0:return[4,new Promise(function(d,e){y(["moment/moment"],d,e)})];case 1:return e=h.sent(),g=k.has(f),g||(d=f.split("-"),
1<d.length&&k.has(d[0])&&(f=d[0],g=!0)),g?[4,k.get(f)()]:[3,3];case 2:return h.sent(),[3,4];case 3:f="en",h.label=4;case 4:return f!==e.locale()&&e.locale(f),[2,e]}})})}})},"*noref":1}});
define("require exports ../arcade/arcade ../arcade/Dictionary ../arcade/Feature ../core/lang ../core/promiseUtils ../renderers/visualVariables/support/sizeVariableUtils".split(" "),function(y,g,m,t,p,k,f,e){function h(d){if(!d)return null;try{return m.parseScript(d)}catch(b){}return null}function d(d){d=h(d);return!!d&&m.scriptUsesGeometryEngine(d)}Object.defineProperty(g,"__esModule",{value:!0});g.arcade=m;g.Dictionary=t;g.arcadeFeature=p;var q=/^\$feature\./i,u={vars:{$feature:"any",$view:"any"},
spatialReference:null};g.createSyntaxTree=h;g.createFunction=function(d,b){d="string"===typeof d?h(d):d;if(!d)return null;try{return b=b||k.clone(u),m.compileScript(d,b)}catch(D){}return null};g.createExecContext=function(d,b){return{vars:{$feature:null==d?new p:p.createFromGraphic(d),$view:b&&b.view},spatialReference:b&&b.sr}};g.createFeature=function(d,b,e){return p.createFromGraphicLikeObject(b,d,e)};g.updateExecContext=function(d,b){d.vars.$feature=b};g.evalSyntaxTree=function(d,b){var e;try{e=
m.executeScript(d,b)}catch(H){e=null}return e};g.executeFunction=function(d,b){var e;try{e=d?d(b):null}catch(H){e=null}return e};g.executeAsyncFunction=function(d,b){try{return d?d(b):f.resolve(null)}catch(D){return f.resolve(null)}};g.extractFieldNames=function(d){if(!d)return[];d="string"===typeof d?h(d):d;if(!d)return[];var b=[];m.extractFieldLiterals(d).forEach(function(d){q.test(d)&&(d=d.replace(q,""),b.push(d))});b.sort();return b.filter(function(d,e){return 0===e||b[e-1]!==d})};g.dependsOnView=
function(d){return m.referencesMember(d,"$view")};g.hasVariable=function(d,b){return d?m.referencesMember(d,b):!1};g.getViewInfo=function(d){if(d&&(null!=d.spatialReference||null!=d.scale&&null!=d.viewingMode))return{view:d.viewingMode&&null!=d.scale?new t({viewingMode:d.viewingMode,scale:d.scale}):null,sr:d.spatialReference}};g.convertServiceUrlToWorkspace=function(d,b){var e=m.featureSetUtils();return e?e.createFeatureSetCollectionFromService(d,b):null};g.convertFeatureLayerToFeatureSet=function(d,
b){if(null===d)return null;var e=m.featureSetUtils();return e?e.constructFeatureSet(d,b):null};g.convertMapToFeatureSetCollection=function(d){if(null===d||null===d.map)return null;var b=m.featureSetUtils();return b?b.createFeatureSetCollectionFromMap(d.map,d.spatialReference):null};g.loadScriptDependencies=function(d,b,e){void 0===e&&(e=[]);return m.loadScriptDependencies(d,b,e)};g.enableGeometryOperations=function(){return m.enableGeometrySupport()};g.enableFeatureSetOperations=function(){return m.enableFeatureSetSupport()};
g.applyTextFormattingHTML=function(d){var b=/(\n)/gi;return"string"===typeof d?d.replace(b,'\x3cbr class\x3d"esri-text-new-line" /\x3e'):d};g.hasGeometryOperations=function(f){if(!f)return!1;if("string"===typeof f)return d(f);if("simple"===f.type||"class-breaks"===f.type||"unique-value"===f.type||"dot-density"===f.type||"dictionary"===f.type){if("dot-density"===f.type){var b=f.attributes.some(function(b){return d(b.valueExpression)});if(b)return b}b=f.visualVariables;b=!!b&&b.some(function(b){var f=
d(b.valueExpression);"size"===b.type&&(e.isSizeVariable(b.minSize)&&(f=f||d(b.minSize.valueExpression)),e.isSizeVariable(b.maxSize)&&(f=f||d(b.maxSize.valueExpression)));return f});return"valueExpression"in f&&d(f.valueExpression)?!0:b}return"esri.layers.support.LabelClass"===f.declaredClass?(f=f.labelExpressionInfo&&f.labelExpressionInfo.expression,!(!f||!d(f))||!1):"esri.PopupTemplate"===f.declaredClass?!!f.expressionInfos&&f.expressionInfos.some(function(b){return d(b.expression)}):!1}});