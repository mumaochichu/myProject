// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports tslib ../../core/Error ../../core/accessorSupport/decorators ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties @dojo/framework/shim/Promise".split(" "),function(p,g,c,h,d,k,l,m,n){Object.defineProperty(g,"__esModule",{value:!0});g.OperationalLayer=function(g){return function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;a.title="Layer";return a}c.__extends(a,e);a.prototype.writeListMode=function(a,
b,c,d){d&&"ground"===d.layerContainerType?b[c]=a:a&&l.willPropertyWrite(this,c,{},d)&&(b[c]=a)};a.prototype.writeOperationalLayerType=function(a,b){a&&(b.layerType=a)};a.prototype.writeTitle=function(a,b){b.title=a||"Layer"};a.prototype.read=function(a,b){var c=this;b&&(b.layer=this);k.readLoadable(this,a,function(b){return e.prototype.read.call(c,a,b)},b)};a.prototype.write=function(a,b){if(b&&b.origin){var d=b.origin+"/"+(b.layerContainerType||"operational-layers"),f=m.supportedTypes[d],f=f&&f[this.operationalLayerType];
"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===d&&(f=!1);if(!f)return b.messages&&b.messages.push(new h("layer:unsupported","Layers ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' are not supported in the context of '"+d+"'",{layer:this})),null}a=e.prototype.write.call(this,a,c.__assign(c.__assign({},b),{layer:this}));b=!!b&&!!b.messages&&!!b.messages.filter(function(a){return a instanceof h&&"web-document-write:property-required"===
a.name}).length;return!this.url&&b?null:a};a.prototype.beforeSave=function(){};c.__decorate([d.property({json:{read:!1,write:!1,origins:{"web-map":{default:"normal",read:!0,write:!0}}}})],a.prototype,"blendMode",void 0);c.__decorate([d.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],a.prototype,"id",void 0);c.__decorate([d.property({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],
a.prototype,"listMode",void 0);c.__decorate([d.writer("listMode")],a.prototype,"writeListMode",null);c.__decorate([d.property({type:String,readOnly:!0,json:{write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],a.prototype,"operationalLayerType",void 0);c.__decorate([d.writer("operationalLayerType")],a.prototype,"writeOperationalLayerType",null);c.__decorate([d.property(n.opacity)],a.prototype,"opacity",void 0);c.__decorate([d.property({type:String,json:{write:{ignoreOrigin:!0,
allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],a.prototype,"title",void 0);c.__decorate([d.writer("title")],a.prototype,"writeTitle",null);c.__decorate([d.property({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],a.prototype,"visible",void 0);return a=c.__decorate([d.subclass("esri.layers.mixins.OperationalLayer")],a)}(g)}});