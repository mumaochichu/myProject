// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports tslib ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),function(h,p,a,k,m,g,n,d){var l=function(f){return function(e){function c(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];var b=e.apply(this,c)||this;b.loadError=null;b.loadStatus="not-loaded";b.loadWarnings=null;b._set("loadWarnings",[]);b.addResolvingPromise(g.create(function(a){var c=b.load.bind(b);b.load=function(e){var f=g.create(function(a,c){g.onAbortOrThrow(e,c);b.destroyed&&
c(new k("load:instance-destroyed","Instance is destroyed",{instance:b}));b._promiseProps.when(a,c)});if("not-loaded"===b.loadStatus){b._set("loadStatus","loading");var d=b._loadController=g.createAbortController();c({signal:d.signal});g.onAbort(d.signal,function(){b._promiseProps.abort()})}a();return f}}));b.when(function(){b._set("loadStatus","loaded");b._loadController=null},function(c){b._set("loadStatus","failed");b._set("loadError",c);b._loadController=null});return b}a.__extends(c,e);Object.defineProperty(c.prototype,
"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});c.prototype.load=function(){return null};c.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new k("load:cancelled","Cancelled"));this._loadController.abort();return this};a.__decorate([d.property({readOnly:!0,dependsOn:["loadStatus"]})],c.prototype,"loaded",null);a.__decorate([d.property({readOnly:!0})],c.prototype,"loadError",void 0);a.__decorate([d.property()],c.prototype,
"loadStatus",void 0);a.__decorate([d.property({type:[n],readOnly:!0})],c.prototype,"loadWarnings",void 0);return c=a.__decorate([d.subclass("esri.core.Loadable")],c)}(f)};h=function(f){function e(){return null!==f&&f.apply(this,arguments)||this}a.__extends(e,f);return e=a.__decorate([d.subclass("esri.core.Loadable")],e)}(l(m.EsriPromise));(function(a){a.LoadableMixin=l;a.isLoadable=function(a){return!(!a||!a.load)}})(h||(h={}));return h});