// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
/*
 MIT
*/
require({cache:{"esri/libs/sortablejs/Sortable":function(){(function(R,E){"object"===typeof exports&&"undefined"!==typeof module?module.exports=E():"function"===typeof define&&define.amd?define(E):(R=R||self,R.Sortable=E())})(this,function(){function R(b){R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return R(b)}function E(){E=Object.assign||
function(b){for(var e=1;e<arguments.length;e++){var g=arguments[e],y;for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&(b[y]=g[y])}return b};return E.apply(this,arguments)}function c(b){for(var e=1;e<arguments.length;e++){var g=null!=arguments[e]?arguments[e]:{},y=Object.keys(g);"function"===typeof Object.getOwnPropertySymbols&&(y=y.concat(Object.getOwnPropertySymbols(g).filter(function(b){return Object.getOwnPropertyDescriptor(g,b).enumerable})));y.forEach(function(e){var y=g[e];e in b?Object.defineProperty(b,
e,{value:y,enumerable:!0,configurable:!0,writable:!0}):b[e]=y})}return b}function Q(b,e){if(null==b)return{};var g;if(null==b)g={};else{g={};var y=Object.keys(b),a,d;for(d=0;d<y.length;d++)a=y[d],0<=e.indexOf(a)||(g[a]=b[a])}if(Object.getOwnPropertySymbols)for(d=Object.getOwnPropertySymbols(b),a=0;a<d.length;a++)y=d[a],0<=e.indexOf(y)||Object.prototype.propertyIsEnumerable.call(b,y)&&(g[y]=b[y]);return g}function V(b){var e;if(Array.isArray(b)){e=0;for(var g=Array(b.length);e<b.length;e++)g[e]=b[e];
e=g}else e=void 0;e||(e=Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b)?Array.from(b):void 0);if(!(b=e))throw new TypeError("Invalid attempt to spread non-iterable instance");return b}function L(b){return!!navigator.userAgent.match(b)}function u(b,e,g){b.addEventListener(e,g,!la&&kb)}function q(b,e,g){b.removeEventListener(e,g,!la&&kb)}function h(b,e){if(e){"\x3e"===e[0]&&(e=e.substring(1));if(b)try{if(b.matches)return b.matches(e);if(b.msMatchesSelector)return b.msMatchesSelector(e);
if(b.webkitMatchesSelector)return b.webkitMatchesSelector(e)}catch(g){}return!1}}function I(b,e,g,y){if(b){g=g||document;do{if(null!=e&&("\x3e"===e[0]?b.parentNode===g&&h(b,e):h(b,e))||y&&b===g)return b;if(b===g)break}while(b=b.host&&b!==document&&b.host.nodeType?b.host:b.parentNode)}return null}function m(b,e,g){if(b&&e)if(b.classList)b.classList[g?"add":"remove"](e);else{var y=(" "+b.className+" ").replace(lb," ").replace(" "+e+" "," ");b.className=(y+(g?" "+e:"")).replace(lb," ")}}function f(b,
e,g){var y=b&&b.style;if(y){if(void 0===g)return document.defaultView&&document.defaultView.getComputedStyle?g=document.defaultView.getComputedStyle(b,""):b.currentStyle&&(g=b.currentStyle),void 0===e?g:g[e];e in y||-1!==e.indexOf("webkit")||(e="-webkit-"+e);y[e]=g+("string"===typeof g?"":"px")}}function z(b,e){var g="";if("string"===typeof b)g=b;else{do{var y=f(b,"transform");y&&"none"!==y&&(g=y+" "+g)}while(!e&&(b=b.parentNode))}return(b=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix)&&
new b(g)}function C(b,e,g){if(b){b=b.getElementsByTagName(e);e=0;var y=b.length;if(g)for(;e<y;e++)g(b[e],e);return b}return[]}function S(){return la?document.documentElement:document.scrollingElement}function G(b,e,g,y,a){if(b.getBoundingClientRect||b===window){var d,O,n,k,c,A,t;b!==window&&b!==S()?(d=b.getBoundingClientRect(),O=d.top,n=d.left,k=d.bottom,c=d.right,A=d.height,t=d.width):(n=O=0,k=window.innerHeight,c=window.innerWidth,A=window.innerHeight,t=window.innerWidth);if((e||g)&&b!==window&&
(a=a||b.parentNode,!la)){do if(a&&a.getBoundingClientRect&&("none"!==f(a,"transform")||g&&"static"!==f(a,"position"))){k=a.getBoundingClientRect();O-=k.top+parseInt(f(a,"border-top-width"));n-=k.left+parseInt(f(a,"border-left-width"));k=O+d.height;c=n+d.width;break}while(a=a.parentNode)}y&&b!==window&&(y=(b=z(a||b))&&b.a,a=b&&b.d,b&&(O/=a,n/=y,t/=y,A/=a,k=O+A,c=n+t));return{top:O,left:n,bottom:k,right:c,width:t,height:A}}}function w(b,e,g){var a=r(b,!0);for(b=G(b)[e];a;){e=G(a)[g];var d=void 0,d=
"top"===g||"left"===g?b>=e:b<=e;if(!d)return a;if(a===S())break;a=r(a,!1)}return!1}function ma(b,e,g){for(var a=0,d=0,n=b.children;d<n.length;){if("none"!==n[d].style.display&&n[d]!==x.ghost&&n[d]!==x.dragged&&I(n[d],g.draggable,b,!1)){if(a===e)return n[d];a++}d++}return null}function l(b,e){for(b=b.lastElementChild;b&&(b===x.ghost||"none"===f(b,"display")||e&&!h(b,e));)b=b.previousElementSibling;return b||null}function J(b,e){var g=0;if(!b||!b.parentNode)return-1;for(;b=b.previousElementSibling;)"TEMPLATE"===
b.nodeName.toUpperCase()||b===x.clone||e&&!h(b,e)||g++;return g}function H(b){var e=0,g=0,a=S();if(b){do var d=z(b),n=d.d,e=e+b.scrollLeft*d.a,g=g+b.scrollTop*n;while(b!==a&&(b=b.parentNode))}return[e,g]}function ca(b,e){for(var g in b)if(b.hasOwnProperty(g))for(var a in e)if(e.hasOwnProperty(a)&&e[a]===b[g][a])return Number(g);return-1}function r(b,e){if(!b||!b.getBoundingClientRect)return S();var g=!1;do if(b.clientWidth<b.scrollWidth||b.clientHeight<b.scrollHeight){var a=f(b);if(b.clientWidth<
b.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||b.clientHeight<b.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!b.getBoundingClientRect||b===document.body)break;if(g||e)return b;g=!0}}while(b=b.parentNode);return S()}function a(b,e){return Math.round(b.top)===Math.round(e.top)&&Math.round(b.left)===Math.round(e.left)&&Math.round(b.height)===Math.round(e.height)&&Math.round(b.width)===Math.round(e.width)}function d(b,e){return function(){if(!Ba){var g=arguments;1===g.length?
b.call(this,g[0]):b.apply(this,g);Ba=setTimeout(function(){Ba=void 0},e)}}}function k(b,e,g){b.scrollLeft+=e;b.scrollTop+=g}function t(b){var e=window.Polymer,g=window.jQuery||window.Zepto;return e&&e.dom?e.dom(b).cloneNode(!0):g?g(b).clone(!0)[0]:b.cloneNode(!0)}function F(b,e){f(b,"position","absolute");f(b,"top",e.top);f(b,"left",e.left);f(b,"width",e.width);f(b,"height",e.height)}function M(b){f(b,"position","");f(b,"top","");f(b,"left","");f(b,"width","");f(b,"height","")}function X(){var b=
[],e;return{captureAnimationState:function(){b=[];this.options.animation&&[].slice.call(this.el.children).forEach(function(e){if("none"!==f(e,"display")&&e!==x.ghost){b.push({target:e,rect:G(e)});var g=c({},b[b.length-1].rect);if(e.thisAnimationDuration){var a=z(e,!0);a&&(g.top-=a.f,g.left-=a.e)}e.fromRect=g}})},addAnimationState:function(e){b.push(e)},removeAnimationState:function(e){b.splice(ca(b,{target:e}),1)},animateAll:function(g){var y=this;if(this.options.animation){var d=!1,n=0;b.forEach(function(b){var e=
0,g=b.target,O=g.fromRect,k=G(g),c=g.prevFromRect,f=g.prevToRect;b=b.rect;var A=z(g,!0);A&&(k.top-=A.f,k.left-=A.e);g.toRect=k;g.thisAnimationDuration&&a(c,k)&&!a(O,k)&&(b.top-k.top)/(b.left-k.left)===(O.top-k.top)/(O.left-k.left)&&(e=Math.sqrt(Math.pow(c.top-b.top,2)+Math.pow(c.left-b.left,2))/Math.sqrt(Math.pow(c.top-f.top,2)+Math.pow(c.left-f.left,2))*y.options.animation);a(k,O)||(g.prevFromRect=O,g.prevToRect=k,e||(e=y.options.animation),y.animate(g,b,k,e));e&&(d=!0,n=Math.max(n,e),clearTimeout(g.animationResetTimer),
g.animationResetTimer=setTimeout(function(){g.animationTime=0;g.prevFromRect=null;g.fromRect=null;g.prevToRect=null;g.thisAnimationDuration=null},e),g.thisAnimationDuration=e)});clearTimeout(e);d?e=setTimeout(function(){"function"===typeof g&&g()},n):"function"===typeof g&&g();b=[]}else clearTimeout(e),"function"===typeof g&&g()},animate:function(b,e,a,d){if(d){f(b,"transition","");f(b,"transform","");var g=z(this.el),y=(e.left-a.left)/(g&&g.a||1);e=(e.top-a.top)/(g&&g.d||1);b.animatingX=!!y;b.animatingY=
!!e;f(b,"transform","translate3d("+y+"px,"+e+"px,0)");f(b,"transition","transform "+d+"ms"+(this.options.easing?" "+this.options.easing:""));f(b,"transform","translate3d(0,0,0)");"number"===typeof b.animated&&clearTimeout(b.animated);b.animated=setTimeout(function(){f(b,"transition","");f(b,"transform","");b.animated=!1;b.animatingX=!1;b.animatingY=!1},d)}}}}function pa(b){var e=b.sortable,g=b.rootEl,a=b.name,d=b.targetEl,n=b.cloneEl,k=b.toEl,f=b.fromEl,A=b.oldIndex,t=b.newIndex,h=b.oldDraggableIndex,
l=b.newDraggableIndex,r=b.originalEvent,p=b.putSortable,C=b.extraEventProperties;if(e=e||g&&g[Z]){var F=e.options,m="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||la||Ca?(b=document.createEvent("Event"),b.initEvent(a,!0,!0)):b=new CustomEvent(a,{bubbles:!0,cancelable:!0});b.to=k||g;b.from=f||g;b.item=d||g;b.clone=n;b.oldIndex=A;b.newIndex=t;b.oldDraggableIndex=h;b.newDraggableIndex=l;b.originalEvent=r;b.pullMode=p?p.lastPutMode:void 0;var a=c({},C,Da.getEventProperties(a,e)),H;for(H in a)b[H]=
a[H];g&&g.dispatchEvent(b);F[m]&&F[m].call(e,b)}}function W(b){pa(c({putSortable:Y,cloneEl:P,targetEl:v,rootEl:N,oldIndex:xa,oldDraggableIndex:Ea,newIndex:fa,newDraggableIndex:qa},b))}function x(b,e){if(!b||!b.nodeType||1!==b.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(b));this.el=b;this.options=e=E({},e);b[Z]=this;var g={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(b.nodeName)?"\x3eli":"\x3e*",swapThreshold:1,invertSwap:!1,
invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return mb(b,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(b,e){b.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",
fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==x.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};Da.initializePlugins(this,b,g);for(var a in g)a in e||(e[a]=g[a]);nb(e);for(var d in this)"_"===d.charAt(0)&&"function"===typeof this[d]&&(this[d]=this[d].bind(this));if(this.nativeDraggable=e.forceFallback?!1:xb)this.options.touchStartThreshold=1;e.supportPointer?u(b,"pointerdown",this._onTapStart):(u(b,"mousedown",this._onTapStart),u(b,"touchstart",
this._onTapStart));this.nativeDraggable&&(u(b,"dragover",this),u(b,"dragenter",this));Pa.push(this.el);e.store&&e.store.get&&this.sort(e.store.get(this)||[]);E(this,X())}function na(b,e,g,a,d,n,k,c){var y,O=b[Z],f=O.options.onMove,A;!window.CustomEvent||la||Ca?(y=document.createEvent("Event"),y.initEvent("move",!0,!0)):y=new CustomEvent("move",{bubbles:!0,cancelable:!0});y.to=e;y.from=b;y.dragged=g;y.draggedRect=a;y.related=d||e;y.relatedRect=n||G(e);y.willInsertAfter=c;y.originalEvent=k;b.dispatchEvent(y);
f&&(A=f.call(O,y,k));return A}function ra(b){b.draggable=!1}function Za(){$a=!1}function oa(b,e,g){g=G(l(g.el,g.options.draggable));return e?b.clientX>g.right+10||b.clientX<=g.right&&b.clientY>g.bottom&&b.clientX>=g.left:b.clientX>g.right&&b.clientY>g.top||b.clientX<=g.right&&b.clientY>g.bottom+10}function yb(b,e,g,a,d,n,k,c){b=a?b.clientY:b.clientX;var y=a?g.height:g.width,O=a?g.top:g.left;g=a?g.bottom:g.right;a=!1;if(!k)if(c&&Qa<y*d)if(!Fa&&(1===Ga?b>O+y*n/2:b<g-y*n/2)&&(Fa=!0),Fa)a=!0;else{if(1===
Ga?b<O+Qa:b>g-Qa)return-Ga}else if(b>O+y*(1-d)/2&&b<g-y*(1-d)/2)return e=J(v)<J(e)?1:-1,e;if(a||k)if(b<O+y*n/2||b>g-y*n/2)return b>O+y/2?1:-1;return 0}function p(b){b=b.tagName+b.className+b.src+b.href+b.textContent;for(var e=b.length,g=0;e--;)g+=b.charCodeAt(e);return g.toString(36)}function zb(b){Ra.length=0;b=b.getElementsByTagName("input");for(var e=b.length;e--;){var g=b[e];g.checked&&Ra.push(g)}}function n(b){return setTimeout(b,0)}function A(){T.forEach(function(b){clearInterval(b.pid)});T=
[]}function aa(){}function da(){}function Ha(b,e){B.forEach(function(g,a){(a=e.children[g.sortableIndex+(b?Number(a):0)])?e.insertBefore(g,a):e.appendChild(g)})}function ob(b,e){ga.forEach(function(g,a){(a=e.children[g.sortableIndex+(b?Number(a):0)])?e.insertBefore(g,a):e.appendChild(g)})}function Sa(){B.forEach(function(b){b!==K&&b.parentNode&&b.parentNode.removeChild(b)})}var la=L(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ca=L(/Edge/i),pb=L(/firefox/i),ab=L(/safari/i)&&!L(/chrome/i)&&
!L(/android/i),Ia=L(/iP(ad|od|hone)/i),Ab=L(/chrome/i)&&L(/android/i),kb={capture:!1,passive:!1},lb=/\s+/g,Ba,Z="Sortable"+(new Date).getTime(),Ja=[],bb={initializeByDefault:!0},Da={mount:function(b){for(var e in bb)!bb.hasOwnProperty(e)||e in b||(b[e]=bb[e]);Ja.push(b)},pluginEvent:function(b,e,g){var a=this;this.eventCanceled=!1;g.cancel=function(){a.eventCanceled=!0};var d=b+"Global";Ja.forEach(function(a){if(e[a.pluginName]){if(e[a.pluginName][d])e[a.pluginName][d](c({sortable:e},g));if(e.options[a.pluginName]&&
e[a.pluginName][b])e[a.pluginName][b](c({sortable:e},g))}})},initializePlugins:function(b,e,g,a){Ja.forEach(function(a){var d=a.pluginName;if(b.options[d]||a.initializeByDefault)a=new a(b,e,b.options),a.sortable=b,a.options=b.options,b[d]=a,E(g,a.defaults)});for(var d in b.options)b.options.hasOwnProperty(d)&&(a=this.modifyOption(b,d,b.options[d]),"undefined"!==typeof a&&(b.options[d]=a))},getEventProperties:function(b,e){var g={};Ja.forEach(function(a){"function"===typeof a.eventProperties&&E(g,
a.eventProperties.call(e[a.pluginName],b))});return g},modifyOption:function(b,e,g){var a;Ja.forEach(function(d){b[d.pluginName]&&d.optionListeners&&"function"===typeof d.optionListeners[e]&&(a=d.optionListeners[e].call(b[d.pluginName],g))});return a}},ea=function(b,e){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=g.evt,g=Q(g,["evt"]);Da.pluginEvent.bind(x)(b,e,c({dragEl:v,parentEl:U,ghostEl:D,rootEl:N,nextEl:ta,lastDownEl:Ta,cloneEl:P,cloneHidden:sa,dragStarted:Ka,putSortable:Y,
activeSortable:x.active,originalEvent:a,oldIndex:xa,oldDraggableIndex:Ea,newIndex:fa,newDraggableIndex:qa,hideGhostForTarget:qb,unhideGhostForTarget:rb,cloneNowHidden:function(){sa=!0},cloneNowShown:function(){sa=!1},dispatchSortableEvent:function(b){W({sortable:e,name:b,originalEvent:a})}},g))};if("undefined"===typeof window||!window.document)throw Error("Sortable.js requires a window with a document");var v,U,D,N,ta,Ta,P,sa,xa,fa,Ea,qa,Ua,Y,ya=!1,Va=!1,Pa=[],ua,ja,cb,db,sb,tb,Ka,za,Ga,Fa=!1,Wa=
!1,Qa,ba,eb=[],$a=!1,Ra=[],ub=Ca||la?"cssFloat":"float",xb=!Ab&&!Ia&&"draggable"in document.createElement("div"),vb=function(){if(la)return!1;var b=document.createElement("x");b.style.cssText="pointer-events:auto";return"auto"===b.style.pointerEvents}(),mb=function(b,e){var g=f(b),a=parseInt(g.width)-parseInt(g.paddingLeft)-parseInt(g.paddingRight)-parseInt(g.borderLeftWidth)-parseInt(g.borderRightWidth),d=ma(b,0,e);b=ma(b,1,e);var n=d&&f(d);e=b&&f(b);var k=n&&parseInt(n.marginLeft)+parseInt(n.marginRight)+
G(d).width,c=e&&parseInt(e.marginLeft)+parseInt(e.marginRight)+G(b).width;return"flex"===g.display?"column"===g.flexDirection||"column-reverse"===g.flexDirection?"vertical":"horizontal":"grid"===g.display?1>=g.gridTemplateColumns.split(" ").length?"vertical":"horizontal":d&&n["float"]&&"none"!==n["float"]?(g="left"===n["float"]?"left":"right",!b||"both"!==e.clear&&e.clear!==g?"horizontal":"vertical"):d&&("block"===n.display||"flex"===n.display||"table"===n.display||"grid"===n.display||k>=a&&"none"===
g[ub]||b&&"none"===g[ub]&&k+c>a)?"vertical":"horizontal"},Bb=function(b,e,g){var a=g?b.left:b.top,d=g?b.right:b.bottom;b=g?b.width:b.height;var n=g?e.left:e.top,k=g?e.right:e.bottom;e=g?e.width:e.height;return a===n||d===k||a+b/2===n+e/2},Cb=function(b,e){var g;Pa.some(function(a){if(!l(a)){var d=G(a),n=a[Z].options.emptyInsertThreshold,y=b>=d.left-n&&b<=d.right+n,d=e>=d.top-n&&e<=d.bottom+n;if(n&&y&&d)return g=a}});return g},nb=function(b){function e(b,a){return function(g,d,n,y){var k=g.options.group.name&&
d.options.group.name&&g.options.group.name===d.options.group.name;if(null==b&&(a||k))return!0;if(null==b||!1===b)return!1;if(a&&"clone"===b)return b;if("function"===typeof b)return e(b(g,d,n,y),a)(g,d,n,y);g=(a?g:d).options.group.name;return!0===b||"string"===typeof b&&b===g||b.join&&-1<b.indexOf(g)}}var g={},a=b.group;a&&"object"==R(a)||(a={name:a});g.name=a.name;g.checkPull=e(a.pull,!0);g.checkPut=e(a.put);g.revertClone=a.revertClone;b.group=g},qb=function(){!vb&&D&&f(D,"display","none")},rb=function(){!vb&&
D&&f(D,"display","")};document.addEventListener("click",function(b){if(Va)return b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),Va=!1},!0);var va=function(b){if(v){b=b.touches?b.touches[0]:b;var e=Cb(b.clientX,b.clientY);if(e){var a={},d;for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.target=a.rootEl=e;a.preventDefault=void 0;a.stopPropagation=void 0;e[Z]._onDragOver(a)}}},Db=function(b){v&&v.parentNode[Z]._isOutsideThisEl(b.target)};
x.prototype={constructor:x,_isOutsideThisEl:function(b){this.el.contains(b)||b===this.el||(za=null)},_getDirection:function(b,e){return"function"===typeof this.options.direction?this.options.direction.call(this,b,e,v):this.options.direction},_onTapStart:function(b){if(b.cancelable){var e=this,a=this.el,d=this.options,n=d.preventOnFilter,k=b.type,c=b.touches&&b.touches[0]||b.pointerType&&"touch"===b.pointerType&&b,f=(c||b).target,A=b.target.shadowRoot&&(b.path&&b.path[0]||b.composedPath&&b.composedPath()[0])||
f,t=d.filter;zb(a);if(!(v||/mousedown|pointerdown/.test(k)&&0!==b.button||d.disabled||A.isContentEditable||(f=I(f,d.draggable,a,!1),f&&f.animated||Ta===f))){xa=J(f);Ea=J(f,d.draggable);if("function"===typeof t){if(t.call(this,b,f,this)){W({sortable:e,rootEl:A,name:"filter",targetEl:f,toEl:a,fromEl:a});ea("filter",e,{evt:b});n&&b.cancelable&&b.preventDefault();return}}else if(t&&(t=t.split(",").some(function(g){if(g=I(A,g.trim(),a,!1))return W({sortable:e,rootEl:g,name:"filter",targetEl:f,fromEl:a,
toEl:a}),ea("filter",e,{evt:b}),!0}))){n&&b.cancelable&&b.preventDefault();return}d.handle&&!I(A,d.handle,a,!1)||this._prepareDragStart(b,c,f)}}},_prepareDragStart:function(b,e,a){var g=this,d=g.el,n=g.options,k=d.ownerDocument;if(a&&!v&&a.parentNode===d){var c=G(a);N=d;v=a;U=v.parentNode;ta=v.nextSibling;Ta=a;Ua=n.group;x.dragged=v;ua={target:v,clientX:(e||b).clientX,clientY:(e||b).clientY};sb=ua.clientX-c.left;tb=ua.clientY-c.top;this._lastX=(e||b).clientX;this._lastY=(e||b).clientY;v.style["will-change"]=
"all";a=function(){ea("delayEnded",g,{evt:b});x.eventCanceled?g._onDrop():(g._disableDelayedDragEvents(),!pb&&g.nativeDraggable&&(v.draggable=!0),g._triggerDragStart(b,e),W({sortable:g,name:"choose",originalEvent:b}),m(v,n.chosenClass,!0))};n.ignore.split(",").forEach(function(b){C(v,b.trim(),ra)});u(k,"dragover",va);u(k,"mousemove",va);u(k,"touchmove",va);u(k,"mouseup",g._onDrop);u(k,"touchend",g._onDrop);u(k,"touchcancel",g._onDrop);pb&&this.nativeDraggable&&(this.options.touchStartThreshold=4,
v.draggable=!0);ea("delayStart",this,{evt:b});!n.delay||n.delayOnTouchOnly&&!e||this.nativeDraggable&&(Ca||la)?a():x.eventCanceled?this._onDrop():(u(k,"mouseup",g._disableDelayedDrag),u(k,"touchend",g._disableDelayedDrag),u(k,"touchcancel",g._disableDelayedDrag),u(k,"mousemove",g._delayedDragTouchMoveHandler),u(k,"touchmove",g._delayedDragTouchMoveHandler),n.supportPointer&&u(k,"pointermove",g._delayedDragTouchMoveHandler),g._dragStartTimer=setTimeout(a,n.delay))}},_delayedDragTouchMoveHandler:function(b){b=
b.touches?b.touches[0]:b;Math.max(Math.abs(b.clientX-this._lastX),Math.abs(b.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&ra(v);clearTimeout(this._dragStartTimer);this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var b=this.el.ownerDocument;q(b,"mouseup",this._disableDelayedDrag);q(b,"touchend",this._disableDelayedDrag);q(b,"touchcancel",this._disableDelayedDrag);
q(b,"mousemove",this._delayedDragTouchMoveHandler);q(b,"touchmove",this._delayedDragTouchMoveHandler);q(b,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(b,e){e=e||"touch"==b.pointerType&&b;!this.nativeDraggable||e?this.options.supportPointer?u(document,"pointermove",this._onTouchMove):e?u(document,"touchmove",this._onTouchMove):u(document,"mousemove",this._onTouchMove):(u(v,"dragend",this),u(N,"dragstart",this._onDragStart));try{document.selection?n(function(){document.selection.empty()}):
window.getSelection().removeAllRanges()}catch(g){}},_dragStarted:function(b,e){ya=!1;if(N&&v){ea("dragStarted",this,{evt:e});this.nativeDraggable&&u(document,"dragover",Db);var a=this.options;!b&&m(v,a.dragClass,!1);m(v,a.ghostClass,!0);x.active=this;b&&this._appendGhost();W({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ja){this._lastX=ja.clientX;this._lastY=ja.clientY;qb();for(var b=document.elementFromPoint(ja.clientX,ja.clientY),e=b;b&&b.shadowRoot;){b=
b.shadowRoot.elementFromPoint(ja.clientX,ja.clientY);if(b===e)break;e=b}v.parentNode[Z]._isOutsideThisEl(b);if(e){do{if(e[Z]){var a=void 0;if((a=e[Z]._onDragOver({clientX:ja.clientX,clientY:ja.clientY,target:b,rootEl:e}))&&!this.options.dragoverBubble)break}b=e}while(e=e.parentNode)}rb()}},_onTouchMove:function(b){if(ua){var e=this.options,a=e.fallbackTolerance,d=e.fallbackOffset,e=b.touches?b.touches[0]:b,n=D&&z(D),k=D&&n&&n.a,c=D&&n&&n.d,A=Ia&&ba&&H(ba),k=(e.clientX-ua.clientX+d.x)/(k||1)+(A?A[0]-
eb[0]:0)/(k||1),d=(e.clientY-ua.clientY+d.y)/(c||1)+(A?A[1]-eb[1]:0)/(c||1);if(!x.active&&!ya){if(a&&Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))<a)return;this._onDragStart(b,!0)}D&&(n?(n.e+=k-(cb||0),n.f+=d-(db||0)):n={a:1,b:0,c:0,d:1,e:k,f:d},a="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")"),f(D,"webkitTransform",a),f(D,"mozTransform",a),f(D,"msTransform",a),f(D,"transform",a),cb=k,db=d,ja=e);b.cancelable&&b.preventDefault()}},
_appendGhost:function(){if(!D){var b=this.options.fallbackOnBody?document.body:N,e=G(v,!0,Ia,!0,b),a=this.options;if(Ia){for(ba=b;"static"===f(ba,"position")&&"none"===f(ba,"transform")&&ba!==document;)ba=ba.parentNode;ba!==document.body&&ba!==document.documentElement?(ba===document&&(ba=S()),e.top+=ba.scrollTop,e.left+=ba.scrollLeft):ba=S();eb=H(ba)}D=v.cloneNode(!0);m(D,a.ghostClass,!1);m(D,a.fallbackClass,!0);m(D,a.dragClass,!0);f(D,"transition","");f(D,"transform","");f(D,"box-sizing","border-box");
f(D,"margin",0);f(D,"top",e.top);f(D,"left",e.left);f(D,"width",e.width);f(D,"height",e.height);f(D,"opacity","0.8");f(D,"position",Ia?"absolute":"fixed");f(D,"zIndex","100000");f(D,"pointerEvents","none");x.ghost=D;b.appendChild(D);f(D,"transform-origin",sb/parseInt(D.style.width)*100+"% "+tb/parseInt(D.style.height)*100+"%")}},_onDragStart:function(b,e){var a=this,d=b.dataTransfer,k=a.options;ea("dragStart",this,{evt:b});x.eventCanceled?this._onDrop():(ea("setupClone",this),x.eventCanceled||(P=
t(v),P.draggable=!1,P.style["will-change"]="",this._hideClone(),m(P,this.options.chosenClass,!1),x.clone=P),a.cloneId=n(function(){ea("clone",a);x.eventCanceled||(a.options.removeCloneOnHide||N.insertBefore(P,v),a._hideClone(),W({sortable:a,name:"clone"}))}),!e&&m(v,k.dragClass,!0),e?(Va=!0,a._loopId=setInterval(a._emulateDragOver,50)):(q(document,"mouseup",a._onDrop),q(document,"touchend",a._onDrop),q(document,"touchcancel",a._onDrop),d&&(d.effectAllowed="move",k.setData&&k.setData.call(a,d,v)),
u(document,"drop",a),f(v,"transform","translateZ(0)")),ya=!0,a._dragStartId=n(a._dragStarted.bind(a,e,b)),u(document,"selectstart",a),Ka=!0,ab&&f(document.body,"user-select","none"))},_onDragOver:function(b){function e(e,a){ea(e,q,c({evt:b,isOwner:z,axis:da?"vertical":"horizontal",revert:r,dragRect:h,targetRect:p,canSort:u,fromSortable:aa,target:t,completed:d,onMove:function(e,a){return na(N,A,v,h,e,G(e),b,a)},changed:n},a))}function a(){e("dragOverAnimationCapture");q.captureAnimationState();q!==
aa&&aa.captureAnimationState()}function d(a){e("dragOverCompleted",{insertion:a});a&&(z?H._hideClone():H._showClone(q),q!==aa&&(m(v,Y?Y.options.ghostClass:H.options.ghostClass,!1),m(v,C.ghostClass,!0)),Y!==q&&q!==x.active?Y=q:q===x.active&&Y&&(Y=null),aa===q&&(q._ignoreWhileAnimating=t),q.animateAll(function(){e("dragOverAnimationComplete");q._ignoreWhileAnimating=null}),q!==aa&&(aa.animateAll(),aa._ignoreWhileAnimating=null));if(t===v&&!v.animated||t===A&&!t.animated)za=null;C.dragoverBubble||b.rootEl||
t===document||(v.parentNode[Z]._isOutsideThisEl(b.target),!a&&va(b));!C.dragoverBubble&&b.stopPropagation&&b.stopPropagation();return S=!0}function n(){fa=J(v);qa=J(v,C.draggable);W({sortable:q,name:"change",toEl:A,newIndex:fa,newDraggableIndex:qa,originalEvent:b})}var A=this.el,t=b.target,h,p,r,C=this.options,F=C.group,H=x.active,z=Ua===F,u=C.sort,aa=Y||H,da,q=this,S=!1;if(!$a){void 0!==b.preventDefault&&b.cancelable&&b.preventDefault();t=I(t,C.draggable,A,!0);e("dragOver");if(x.eventCanceled)return S;
if(v.contains(b.target)||t.animated&&t.animatingX&&t.animatingY||q._ignoreWhileAnimating===t)return d(!1);Va=!1;if(H&&!C.disabled&&(z?u||(r=!N.contains(v)):Y===this||(this.lastPutMode=Ua.checkPull(this,H,v,b))&&F.checkPut(this,H,v,b))){da="vertical"===this._getDirection(b,t);h=G(v);e("dragOverValid");if(x.eventCanceled)return S;if(r)return U=N,a(),this._hideClone(),e("revert"),x.eventCanceled||(ta?N.insertBefore(v,ta):N.appendChild(v)),d(!0);F=l(A,C.draggable);if(!F||oa(b,da,this)&&!F.animated){if(F===
v)return d(!1);F&&A===b.target&&(t=F);t&&(p=G(t));if(!1!==na(N,A,v,h,t,p,b,!!t))return a(),A.appendChild(v),U=A,n(),d(!0)}else if(t.parentNode===A){p=G(t);var M=0,Ha,M=v.parentNode!==A,X=!Bb(v.animated&&v.toRect||h,t.animated&&t.toRect||p,da),F=da?"top":"left",B=w(t,"top","top")||w(v,"top","top"),E=B?B.scrollTop:void 0;za!==t&&(Ha=p[F],Fa=!1,Wa=!X&&C.invertSwap||M);var M=yb(b,t,p,da,X?1:C.swapThreshold,null==C.invertedSwapThreshold?C.swapThreshold:C.invertedSwapThreshold,Wa,za===t),ca;if(0!==M){X=
J(v);do X-=M,ca=U.children[X];while(ca&&("none"===f(ca,"display")||ca===D))}if(0===M||ca===t)return d(!1);za=t;Ga=M;ca=t.nextElementSibling;X=!1;X=1===M;M=na(N,A,v,h,t,p,b,X);if(!1!==M){if(1===M||-1===M)X=1===M;$a=!0;setTimeout(Za,30);a();X&&!ca?A.appendChild(v):t.parentNode.insertBefore(v,X?ca:t);B&&k(B,0,E-B.scrollTop);U=v.parentNode;void 0===Ha||Wa||(Qa=Math.abs(Ha-G(t)[F]));n();return d(!0)}}if(A.contains(v))return d(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){q(document,
"mousemove",this._onTouchMove);q(document,"touchmove",this._onTouchMove);q(document,"pointermove",this._onTouchMove);q(document,"dragover",va);q(document,"mousemove",va);q(document,"touchmove",va)},_offUpEvents:function(){var b=this.el.ownerDocument;q(b,"mouseup",this._onDrop);q(b,"touchend",this._onDrop);q(b,"pointerup",this._onDrop);q(b,"touchcancel",this._onDrop);q(document,"selectstart",this)},_onDrop:function(b){var e=this.el,a=this.options;fa=J(v);qa=J(v,a.draggable);ea("drop",this,{evt:b});
U=v&&v.parentNode;fa=J(v);qa=J(v,a.draggable);if(!x.eventCanceled&&(Fa=Wa=ya=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),clearTimeout(this.cloneId),clearTimeout(this._dragStartId),this.nativeDraggable&&(q(document,"drop",this),q(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ab&&f(document.body,"user-select",""),b&&(Ka&&(b.cancelable&&b.preventDefault(),!a.dropBubble&&b.stopPropagation()),D&&D.parentNode&&D.parentNode.removeChild(D),(N===U||Y&&"clone"!==
Y.lastPutMode)&&P&&P.parentNode&&P.parentNode.removeChild(P),v&&(this.nativeDraggable&&q(v,"dragend",this),ra(v),v.style["will-change"]="",Ka&&!ya&&m(v,Y?Y.options.ghostClass:this.options.ghostClass,!1),m(v,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:U,newIndex:null,newDraggableIndex:null,originalEvent:b}),N!==U?(0<=fa&&(W({rootEl:U,name:"add",toEl:U,fromEl:N,originalEvent:b}),W({sortable:this,name:"remove",toEl:U,originalEvent:b}),W({rootEl:U,name:"sort",toEl:U,fromEl:N,originalEvent:b}),
W({sortable:this,name:"sort",toEl:U,originalEvent:b})),Y&&Y.save()):fa!==xa&&0<=fa&&(W({sortable:this,name:"update",toEl:U,originalEvent:b}),W({sortable:this,name:"sort",toEl:U,originalEvent:b})),x.active)))){if(null==fa||-1===fa)fa=xa,qa=Ea;W({sortable:this,name:"end",toEl:U,originalEvent:b});this.save()}this._nulling()},_nulling:function(){ea("nulling",this);N=v=U=D=ta=P=Ta=sa=ua=ja=Ka=fa=qa=xa=Ea=za=Ga=Y=Ua=x.dragged=x.ghost=x.clone=x.active=null;Ra.forEach(function(b){b.checked=!0});Ra.length=
cb=db=0},handleEvent:function(b){switch(b.type){case "drop":case "dragend":this._onDrop(b);break;case "dragenter":case "dragover":v&&(this._onDragOver(b),b.dataTransfer&&(b.dataTransfer.dropEffect="move"),b.cancelable&&b.preventDefault());break;case "selectstart":b.preventDefault()}},toArray:function(){for(var b=[],e,a=this.el.children,d=0,n=a.length,k=this.options;d<n;d++)e=a[d],I(e,k.draggable,this.el,!1)&&b.push(e.getAttribute(k.dataIdAttr)||p(e));return b},sort:function(b){var e={},a=this.el;
this.toArray().forEach(function(b,g){g=a.children[g];I(g,this.options.draggable,a,!1)&&(e[b]=g)},this);b.forEach(function(b){e[b]&&(a.removeChild(e[b]),a.appendChild(e[b]))})},save:function(){var b=this.options.store;b&&b.set&&b.set(this)},closest:function(b,e){return I(b,e||this.options.draggable,this.el,!1)},option:function(b,e){var a=this.options;if(void 0===e)return a[b];var d=Da.modifyOption(this,b,e);a[b]="undefined"!==typeof d?d:e;"group"===b&&nb(a)},destroy:function(){ea("destroy",this);var b=
this.el;b[Z]=null;q(b,"mousedown",this._onTapStart);q(b,"touchstart",this._onTapStart);q(b,"pointerdown",this._onTapStart);this.nativeDraggable&&(q(b,"dragover",this),q(b,"dragenter",this));Array.prototype.forEach.call(b.querySelectorAll("[draggable]"),function(b){b.removeAttribute("draggable")});this._onDrop();Pa.splice(Pa.indexOf(this.el),1);this.el=b=null},_hideClone:function(){sa||(ea("hideClone",this),x.eventCanceled||(f(P,"display","none"),this.options.removeCloneOnHide&&P.parentNode&&P.parentNode.removeChild(P),
sa=!0))},_showClone:function(b){"clone"!==b.lastPutMode?this._hideClone():sa&&(ea("showClone",this),x.eventCanceled||(N.contains(v)&&!this.options.group.revertClone?N.insertBefore(P,v):ta?N.insertBefore(P,ta):N.appendChild(P),this.options.group.revertClone&&this.animate(v,P),f(P,"display",""),sa=!1))}};u(document,"touchmove",function(b){(x.active||ya)&&b.cancelable&&b.preventDefault()});x.utils={on:u,off:q,css:f,find:C,is:function(b,e){return!!I(b,e,b,!1)},extend:function(b,e){if(b&&e)for(var a in e)e.hasOwnProperty(a)&&
(b[a]=e[a]);return b},throttle:d,closest:I,toggleClass:m,clone:t,index:J,nextTick:n,cancelNextTick:function(b){return clearTimeout(b)},detectDirection:mb,getChild:ma};x.get=function(b){return b[Z]};x.mount=function(){for(var b=arguments.length,e=Array(b),a=0;a<b;a++)e[a]=arguments[a];e[0].constructor===Array&&(e=e[0]);e.forEach(function(b){if(!b.prototype||!b.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(b));b.utils&&(x.utils=c({},
x.utils,b.utils));Da.mount(b)})};x.create=function(b,e){return new x(b,e)};x.version="1.10.0";var T=[],La,fb,gb=!1,hb,ib,Xa,Aa,jb=d(function(b,e,a,d){if(e.scroll){var g=(b.touches?b.touches[0]:b).clientX,n=(b.touches?b.touches[0]:b).clientY,c=e.scrollSensitivity,t=e.scrollSpeed,y=S(),h=!1,C;fb!==a&&(fb=a,A(),La=e.scroll,C=e.scrollFn,!0===La&&(La=r(a,!0)));a=0;var p=La;do{var F=p,l=G(F),H=l.top,m=l.bottom,z=l.left,q=l.right,v=l.width,l=l.height,aa=void 0,w=void 0,da=F.scrollWidth,M=F.scrollHeight,
w=f(F),u=F.scrollLeft,X=F.scrollTop;F===y?(aa=v<da&&("auto"===w.overflowX||"scroll"===w.overflowX||"visible"===w.overflowX),w=l<M&&("auto"===w.overflowY||"scroll"===w.overflowY||"visible"===w.overflowY)):(aa=v<da&&("auto"===w.overflowX||"scroll"===w.overflowX),w=l<M&&("auto"===w.overflowY||"scroll"===w.overflowY));z=aa&&(Math.abs(q-g)<=c&&u+v<da)-(Math.abs(z-g)<=c&&!!u);H=w&&(Math.abs(m-n)<=c&&X+l<M)-(Math.abs(H-n)<=c&&!!X);if(!T[a])for(m=0;m<=a;m++)T[m]||(T[m]={});if(T[a].vx!=z||T[a].vy!=H||T[a].el!==
F)if(T[a].el=F,T[a].vx=z,T[a].vy=H,clearInterval(T[a].pid),0!=z||0!=H)h=!0,T[a].pid=setInterval(function(){d&&0===this.layer&&x.active._onTouchMove(Xa);var a=T[this.layer].vy?T[this.layer].vy*t:0,e=T[this.layer].vx?T[this.layer].vx*t:0;"function"===typeof C&&"continue"!==C.call(x.dragged.parentNode[Z],e,a,b,Xa,T[this.layer].el)||k(T[this.layer].el,e,a)}.bind({layer:a}),24);a++}while(e.bubbleScroll&&p!==y&&(p=r(p,!1)));gb=h}},30),wb=function(b){var a=b.originalEvent,d=b.putSortable,n=b.dragEl,k=b.activeSortable,
c=b.dispatchSortableEvent,t=b.hideGhostForTarget;b=b.unhideGhostForTarget;k=d||k;t();a=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a;a=document.elementFromPoint(a.clientX,a.clientY);b();k&&!k.el.contains(a)&&(c("spill"),this.onSpill({dragEl:n,putSortable:d}))};aa.prototype={startIndex:null,dragStart:function(b){this.startIndex=b.oldDraggableIndex},onSpill:function(b){var a=b.dragEl;b=b.putSortable;this.sortable.captureAnimationState();b&&b.captureAnimationState();var d=ma(this.sortable.el,
this.startIndex,this.options);d?this.sortable.el.insertBefore(a,d):this.sortable.el.appendChild(a);this.sortable.animateAll();b&&b.animateAll()},drop:wb};E(aa,{pluginName:"revertOnSpill"});da.prototype={onSpill:function(b){var a=b.dragEl;b=b.putSortable||this.sortable;b.captureAnimationState();a.parentNode&&a.parentNode.removeChild(a);b.animateAll()},drop:wb};E(da,{pluginName:"removeOnSpill"});var ia,B=[],ga=[],Ma,ka,Na=!1,ha=!1,Oa=!1,K,wa,Ya;x.mount(new function(){function b(){this.defaults={scroll:!0,
scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var b in this)"_"===b.charAt(0)&&"function"===typeof this[b]&&(this[b]=this[b].bind(this))}b.prototype={dragStarted:function(b){b=b.originalEvent;this.sortable.nativeDraggable?u(document,"dragover",this._handleAutoScroll):this.options.supportPointer?u(document,"pointermove",this._handleFallbackAutoScroll):b.touches?u(document,"touchmove",this._handleFallbackAutoScroll):u(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(b){b=
b.originalEvent;this.options.dragOverBubble||b.rootEl||this._handleAutoScroll(b)},drop:function(){this.sortable.nativeDraggable?q(document,"dragover",this._handleAutoScroll):(q(document,"pointermove",this._handleFallbackAutoScroll),q(document,"touchmove",this._handleFallbackAutoScroll),q(document,"mousemove",this._handleFallbackAutoScroll));clearInterval(Aa);A();clearTimeout(Ba);Ba=void 0},nulling:function(){Xa=fb=La=gb=Aa=hb=ib=null;T.length=0},_handleFallbackAutoScroll:function(b){this._handleAutoScroll(b,
!0)},_handleAutoScroll:function(b,a){var e=this,d=(b.touches?b.touches[0]:b).clientX,g=(b.touches?b.touches[0]:b).clientY,n=document.elementFromPoint(d,g);Xa=b;if(a||Ca||la||ab){jb(b,this.options,n,a);var k=r(n,!0);!gb||Aa&&d===hb&&g===ib||(Aa&&clearInterval(Aa),Aa=setInterval(function(){var n=r(document.elementFromPoint(d,g),!0);n!==k&&(k=n,A());jb(b,e.options,n,a)},10),hb=d,ib=g)}else this.options.bubbleScroll&&r(n,!0)!==S()?jb(b,this.options,r(n,!1),!1):A()}};return E(b,{pluginName:"scroll",initializeByDefault:!0})});
x.mount(da,aa);x.mount(new function(){function b(){this.defaults={swapClass:"sortable-swap-highlight"}}b.prototype={dragStart:function(b){ia=b.dragEl},dragOverValid:function(b){var a=b.completed,e=b.target,d=b.onMove,n=b.changed,k=b.cancel;if(b.activeSortable.options.swap){var c=this.sortable.el;b=this.options;e&&e!==c&&(c=ia,!1!==d(e)?(m(e,b.swapClass,!0),ia=e):ia=null,c&&c!==ia&&m(c,b.swapClass,!1));n();a(!0);k()}},drop:function(b){var a=b.activeSortable,e=b.putSortable;b=b.dragEl;var d=e||this.sortable,
n=this.options;ia&&m(ia,n.swapClass,!1);if(ia&&(n.swap||e&&e.options.swap)&&b!==ia){d.captureAnimationState();d!==a&&a.captureAnimationState();var e=ia,n=b.parentNode,k=e.parentNode,c,t;n&&k&&!n.isEqualNode(e)&&!k.isEqualNode(b)&&(c=J(b),t=J(e),n.isEqualNode(k)&&c<t&&t++,n.insertBefore(e,n.children[c]),k.insertBefore(b,k.children[t]));d.animateAll();d!==a&&a.animateAll()}},nulling:function(){ia=null}};return E(b,{pluginName:"swap",eventProperties:function(){return{swapItem:ia}}})});x.mount(new function(){function b(b){for(var a in this)"_"===
a.charAt(0)&&"function"===typeof this[a]&&(this[a]=this[a].bind(this));b.options.supportPointer?u(document,"pointerup",this._deselectMultiDrag):(u(document,"mouseup",this._deselectMultiDrag),u(document,"touchend",this._deselectMultiDrag));u(document,"keydown",this._checkKeyDown);u(document,"keyup",this._checkKeyUp);this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,e){var d="";B.length&&ka===b?B.forEach(function(b,a){d+=(a?", ":"")+b.textContent}):d=e.textContent;
a.setData("Text",d)}}}b.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(b){K=b.dragEl},delayEnded:function(){this.isMultiDrag=~B.indexOf(K)},setupClone:function(b){var a=b.sortable;b=b.cancel;if(this.isMultiDrag){for(var e=0;e<B.length;e++)ga.push(t(B[e])),ga[e].sortableIndex=B[e].sortableIndex,ga[e].draggable=!1,ga[e].style["will-change"]="",m(ga[e],this.options.selectedClass,!1),B[e]===K&&m(ga[e],this.options.chosenClass,!1);a._hideClone();b()}},clone:function(b){var a=b.sortable,
e=b.rootEl,d=b.dispatchSortableEvent;b=b.cancel;this.isMultiDrag&&!this.options.removeCloneOnHide&&B.length&&ka===a&&(ob(!0,e),d("clone"),b())},showClone:function(b){var a=b.cloneNowShown,e=b.cancel;this.isMultiDrag&&(ob(!1,b.rootEl),ga.forEach(function(b){f(b,"display","")}),a(),Ya=!1,e())},hideClone:function(b){var a=this,e=b.cloneNowHidden;b=b.cancel;this.isMultiDrag&&(ga.forEach(function(b){f(b,"display","none");a.options.removeCloneOnHide&&b.parentNode&&b.parentNode.removeChild(b)}),e(),Ya=!0,
b())},dragStartGlobal:function(b){!this.isMultiDrag&&ka&&ka.multiDrag._deselectMultiDrag();B.forEach(function(b){b.sortableIndex=J(b)});B=B.sort(function(b,a){return b.sortableIndex-a.sortableIndex});Oa=!0},dragStarted:function(b){var a=this;b=b.sortable;if(this.isMultiDrag){if(this.options.sort&&(b.captureAnimationState(),this.options.animation)){B.forEach(function(b){b!==K&&f(b,"position","absolute")});var e=G(K,!1,!0,!0);B.forEach(function(b){b!==K&&F(b,e)});Na=ha=!0}b.animateAll(function(){Na=
ha=!1;a.options.animation&&B.forEach(function(b){M(b)});a.options.sort&&Sa()})}},dragOver:function(b){var a=b.target,e=b.completed;b=b.cancel;ha&&~B.indexOf(a)&&(e(!1),b())},revert:function(b){var a=b.fromSortable,e=b.rootEl,d=b.sortable,n=b.dragRect;1<B.length&&(B.forEach(function(b){d.addAnimationState({target:b,rect:ha?G(b):n});M(b);b.fromRect=n;a.removeAnimationState(b)}),ha=!1,Ha(!this.options.removeCloneOnHide,e))},dragOverCompleted:function(b){var a=b.sortable,e=b.isOwner,d=b.activeSortable,
n=b.parentEl,k=b.putSortable,c=this.options;if(b.insertion){e&&d._hideClone();Na=!1;if(c.animation&&1<B.length&&(ha||!e&&!d.options.sort&&!k)){var t=G(K,!1,!0,!0);B.forEach(function(b){b!==K&&(F(b,t),n.appendChild(b))});ha=!0}e||(ha||Sa(),1<B.length?(b=Ya,d._showClone(a),d.options.animation&&!Ya&&b&&ga.forEach(function(b){d.addAnimationState({target:b,rect:wa});b.fromRect=wa;b.thisAnimationDuration=null})):d._showClone(a))}},dragOverAnimationCapture:function(b){var a=b.dragRect,e=b.isOwner;b=b.activeSortable;
B.forEach(function(b){b.thisAnimationDuration=null});b.options.animation&&!e&&b.multiDrag.isMultiDrag&&(wa=E({},a),a=z(K,!0),wa.top-=a.f,wa.left-=a.e)},dragOverAnimationComplete:function(){ha&&(ha=!1,Sa())},drop:function(b){var a=b.originalEvent,e=b.rootEl,d=b.parentEl,n=b.sortable,k=b.dispatchSortableEvent,c=b.oldIndex,t=(b=b.putSortable)||this.sortable;if(a){var A=this.options,f=d.children;if(!Oa)if(A.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),m(K,A.selectedClass,!~B.indexOf(K)),
~B.indexOf(K))B.splice(B.indexOf(K),1),Ma=null,pa({sortable:n,rootEl:e,name:"deselect",targetEl:K,originalEvt:a});else{B.push(K);pa({sortable:n,rootEl:e,name:"select",targetEl:K,originalEvt:a});if(a.shiftKey&&Ma&&n.el.contains(Ma)){var h=J(Ma),C=J(K);if(~h&&~C&&h!==C){var p;C>h?(p=h,h=C):(p=C,h+=1);for(;p<h;p++)~B.indexOf(f[p])||(m(f[p],A.selectedClass,!0),B.push(f[p]),pa({sortable:n,rootEl:e,name:"select",targetEl:f[p],originalEvt:a}))}}else Ma=K;ka=t}if(Oa&&this.isMultiDrag){if((d[Z].options.sort||
d!==e)&&1<B.length){var F=G(K),l=J(K,":not(."+this.options.selectedClass+")");!Na&&A.animation&&(K.thisAnimationDuration=null);t.captureAnimationState();if(!Na&&(A.animation&&(K.fromRect=F,B.forEach(function(b){b.thisAnimationDuration=null;if(b!==K){var a=ha?G(b):F;b.fromRect=a;t.addAnimationState({target:b,rect:a})}})),Sa(),B.forEach(function(b){f[l]?d.insertBefore(b,f[l]):d.appendChild(b);l++}),c===J(K))){var r=!1;B.forEach(function(b){b.sortableIndex!==J(b)&&(r=!0)});r&&k("update")}B.forEach(function(b){M(b)});
t.animateAll()}ka=t}(e===d||b&&"clone"!==b.lastPutMode)&&ga.forEach(function(b){b.parentNode&&b.parentNode.removeChild(b)})}},nullingGlobal:function(){this.isMultiDrag=Oa=!1;ga.length=0},destroyGlobal:function(){this._deselectMultiDrag();q(document,"pointerup",this._deselectMultiDrag);q(document,"mouseup",this._deselectMultiDrag);q(document,"touchend",this._deselectMultiDrag);q(document,"keydown",this._checkKeyDown);q(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(b){if(!(Oa||ka!==
this.sortable||b&&I(b.target,this.options.draggable,this.sortable.el,!1)||b&&0!==b.button))for(;B.length;){var a=B[0];m(a,this.options.selectedClass,!1);B.shift();pa({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:a,originalEvt:b})}},_checkKeyDown:function(b){b.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(b){b.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}};return E(b,{pluginName:"multiDrag",utils:{select:function(b){var a=
b.parentNode[Z];a&&a.options.multiDrag&&!~B.indexOf(b)&&(ka&&ka!==a&&(ka.multiDrag._deselectMultiDrag(),ka=a),m(b,a.options.selectedClass,!0),B.push(b))},deselect:function(b){var a=b.parentNode[Z],e=B.indexOf(b);a&&a.options.multiDrag&&~e&&(m(b,a.options.selectedClass,!1),B.splice(e,1))}},eventProperties:function(){var b=this,a=[],d=[];B.forEach(function(e){a.push({multiDragElement:e,index:e.sortableIndex});var n;n=ha&&e!==K?-1:ha?J(e,":not(."+b.options.selectedClass+")"):J(e);d.push({multiDragElement:e,
index:n})});return{items:V(B),clones:[].concat(ga),oldIndicies:a,newIndicies:d}},optionListeners:{multiDragKey:function(b){b=b.toLowerCase();"ctrl"===b?b="Control":1<b.length&&(b=b.charAt(0).toUpperCase()+b.substr(1));return b}}})});return x})},"esri/widgets/LayerList/LayerListViewModel":function(){define("require exports tslib ../../core/Collection ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators ./ListItem ./support/layerListUtils".split(" "),function(R,
E,c,Q,V,L,u,q,h,I){var m=Q.ofType(h);return function(f){function z(c){c=f.call(this,c)||this;c._handles=new L;c.listItemCreatedFunction=null;c.operationalItems=new m;c.view=null;return c}c.__extends(z,f);z.prototype.initialize=function(){var c=this;this._handles.add(u.init(this,["view","view.ready"],function(){return c._viewHandles()}),"view")};z.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};Object.defineProperty(z.prototype,"state",
{get:function(){var c=this.get("view");return this.get("view.ready")?"ready":c?"loading":"disabled"},enumerable:!0,configurable:!0});z.prototype.triggerAction=function(c,f){c&&this.emit("trigger-action",{action:c,item:f})};z.prototype.moveListItem=function(c,f,h,m){var C,l,z=null===c||void 0===c?void 0:c.layer;if(z){var H=null===(l=null===(C=this.view)||void 0===C?void 0:C.map)||void 0===l?void 0:l.layers;C=f?I.getItemLayers(f):H;H=h?I.getItemLayers(h):H;C&&H&&(l=this.operationalItems,f=(null===f||
void 0===f?void 0:f.children)||l,l=(null===h||void 0===h?void 0:h.children)||l,m=H.length-m,c.parent=h||null,f.includes(c)&&f.remove(c),C.includes(z)&&C.remove(z),l.includes(c)||l.add(c,m),H.includes(z)||H.add(z,m))}};z.prototype._createLayerViewHandles=function(c){var f=this,h=this._handles;h.remove("layer-views");this._compileList();c&&h.add(c.on("change",function(){return f._compileList()}),"layer-views")};z.prototype._createMapLayerHandles=function(c){var f=this,h=this._handles;h.remove("map-layers");
this._compileList();c&&h.add(c.on("change",function(){return f._compileList()}),"map-layers")};z.prototype._watchItemProperties=function(c){var f=this;this._handles.add([c.children.on("change",function(){f._modifyListItemChildren(c.children)})],"children-change-"+c.uid)};z.prototype._modifyListItemChildren=function(c){var f=this;c.forEach(function(c){return f._modifyListItem(c)})};z.prototype._modifyListItem=function(c){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,
{item:c});this._modifyListItemChildren(c.children)};z.prototype._createListItem=function(c){c=new h({layer:c,view:this.view});this._watchItemProperties(c);return c};z.prototype._removeAllItems=function(){var c=this._handles,f=this.operationalItems;f.forEach(function(f){c.remove("children-change-"+f.uid)});f.removeAll()};z.prototype._getViewableLayers=function(c){if(c)return c.filter(function(c){return"hide"!==I.findLayerListMode(c)})};z.prototype._watchLayersListMode=function(c){var f=this,h=this._handles;
h.remove("layer-list-mode");c&&c.forEach(function(c){h.add(u.watch(c,"listMode",function(){return f._compileList()}),"layer-list-mode")})};z.prototype._compileList=function(){var c=this.get("view.map.layers");this._watchLayersListMode(c);(c=this._getViewableLayers(c))&&c.length?(this._createNewItems(c),this._modifyOrRemoveItems(c),this._sortItems(c)):this._removeAllItems()};z.prototype._createNewItems=function(c){var f=this,h=this.operationalItems;c.forEach(function(c){h.find(function(f){return f.layer===
c})||h.add(f._createListItem(c))})};z.prototype._modifyOrRemoveItems=function(c){var f=this,h=this._handles,m=this.operationalItems;m.forEach(function(z){z&&(c&&c.find(function(c){return z.layer===c})?f._modifyListItem(z):(h.remove("children-change-"+z.uid),m.remove(z)))})};z.prototype._sortItems=function(c){this.operationalItems.sort(function(f,h){f=c.indexOf(f.layer);h=c.indexOf(h.layer);return f>h?-1:f<h?1:0})};z.prototype._viewHandles=function(){var c=this,f=this._handles,h=this.view;f.remove(["map-layers",
"layer-views","view-layers"]);this._compileList();h&&h.ready&&f.add([u.init(this,"view.map.layers",function(f){return c._createMapLayerHandles(f)}),u.init(this,"view.layerViews",function(f){return c._createLayerViewHandles(f)}),u.init(this,"listItemCreatedFunction",function(){return c._compileList()})],"view-layers")};c.__decorate([q.property()],z.prototype,"listItemCreatedFunction",void 0);c.__decorate([q.property({type:m})],z.prototype,"operationalItems",void 0);c.__decorate([q.property({dependsOn:["view.ready"],
readOnly:!0})],z.prototype,"state",null);c.__decorate([q.property()],z.prototype,"view",void 0);return z=c.__decorate([q.subclass("esri.widgets.LayerList.LayerListViewModel")],z)}(V.EventedAccessor)})},"esri/widgets/LayerList/ListItem":function(){define("require exports tslib ../../core/Accessor ../../core/Collection ../../core/HandleOwner ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/Sublayer ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionSlider ../../support/actions/ActionToggle ./ListItemPanel ./support/layerListUtils".split(" "),
function(R,E,c,Q,V,L,u,q,h,I,m,f,z,C,S,G){R=V.ofType({key:"type",defaultKeyValue:"button",base:m,typeMap:{button:f,toggle:C,slider:z}});var w=V.ofType(R);return function(f){function l(c){c=f.call(this,c)||this;c.actionsSections=new w;c.actionsOpen=!1;c.children=new (V.ofType(m));c.childrenSortable=!0;c.error=null;c.layer=null;c.layerView=null;c.open=!1;c.panel=null;c.parent=null;c.sortable=!0;c.view=null;c.visible=null;return c}c.__extends(l,f);m=l;l.prototype.initialize=function(){var c=this;this.handles.add([q.init(this,
"layer",function(f){return c._watchLayerProperties(f)}),q.init(this,"view",function(f){return c._updateChildren(f)}),q.init(this,"panel",function(f){return c._setListItemOnPanel(f)}),q.init(this,["layer","view"],function(){return c._getLayerView()})])};l.prototype.destroy=function(){this.view=null};l.prototype.castPanel=function(c){this.get("panel.open")&&!c.hasOwnProperty("open")&&(c.open=!0);return c?new S(c):null};Object.defineProperty(l.prototype,"title",{get:function(){var c=this.get("layer.layer");
return(!c||c&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(c){void 0===c?this._clearOverride("title"):this._override("title",c)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"updating",{get:function(){var c=this.layerView;return c?c.updating:this._isLayerUpdating(this.layer)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"visibleAtCurrentScale",{get:function(){return!G.isLayerOutsideScaleRange(this.layer,this.get("view.scale"))},
enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"visibilityMode",{get:function(){return G.findLayerVisibilityMode(this.layer)},enumerable:!0,configurable:!0});l.prototype.clone=function(){return new m({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})};l.prototype._setListItemOnPanel=function(c){c&&(c.listItem=this)};l.prototype._updateChildren=
function(c){var f=this.children;f&&f.forEach(function(f){return f.view=c})};l.prototype._addChildren=function(c){var f=this;this.handles.remove("child-list-mode");this.children.removeAll();if(c){c.forEach(function(a){f.handles.add(q.watch(a,"listMode",function(){return f._addChildren(c)}),"child-list-mode")});var h=[];c.filter(function(a){return"hide"!==G.findLayerListMode(a)}).forEach(function(a){G.canDisplayLayer(a)&&(a=new m({layer:a,parent:f,view:f.view}),h.unshift(a))});this.children.addMany(h)}};
l.prototype._watchSublayerChanges=function(c){var f=this;c&&this.handles.add(c.on("change",function(){f._addChildren(c)}),"layer")};l.prototype._initializeChildLayers=function(c){this._addChildren(c);this._watchSublayerChanges(c)};l.prototype._watchLayerProperties=function(c){var f=this;if(this.handles&&(this.handles.remove("layer"),this.handles.remove("child-list-mode"),c))if(this.handles.add(q.watch(c,"listMode",function(){return f._watchLayerProperties(c)}),"layer"),"hide-children"===G.findLayerListMode(c))this.children.removeAll();
else{var h=G.getNormalizedChildLayerProperty(c);h&&this.handles.add(q.init(c,h,function(){c.hasOwnProperty(h)&&f._initializeChildLayers(c[h])}),"layer")}};l.prototype._getLayerView=function(){return c.__awaiter(this,void 0,void 0,function(){var f,h,l,a;return c.__generator(this,function(d){switch(d.label){case 0:f=this;h=f.layer;l=f.view;if(!h||!l)return[2];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,l.whenLayerView(h)];case 2:a=d.sent();if(a.layer!==this.layer)return[2];this._set("layerView",
a);return[3,4];case 3:return d.sent(),[3,4];case 4:return[2]}})})};l.prototype._isLayerUpdating=function(c){return c instanceof I?!1:c&&"loading"===c.loadStatus};var m;c.__decorate([h.property({type:w})],l.prototype,"actionsSections",void 0);c.__decorate([h.property()],l.prototype,"actionsOpen",void 0);c.__decorate([h.property({type:V})],l.prototype,"children",void 0);c.__decorate([h.property()],l.prototype,"childrenSortable",void 0);c.__decorate([h.aliasOf("layer.loadError?")],l.prototype,"error",
void 0);c.__decorate([h.property()],l.prototype,"layer",void 0);c.__decorate([h.property({readOnly:!0})],l.prototype,"layerView",void 0);c.__decorate([h.property()],l.prototype,"open",void 0);c.__decorate([h.property({type:S})],l.prototype,"panel",void 0);c.__decorate([h.cast("panel")],l.prototype,"castPanel",null);c.__decorate([h.property()],l.prototype,"parent",void 0);c.__decorate([h.property()],l.prototype,"sortable",void 0);c.__decorate([h.property({dependsOn:["layer.layer?.loaded","layer.title"]})],
l.prototype,"title",null);c.__decorate([h.property({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],l.prototype,"updating",null);c.__decorate([h.property({value:null})],l.prototype,"view",void 0);c.__decorate([h.aliasOf("layer.visible")],l.prototype,"visible",void 0);c.__decorate([h.property({dependsOn:["layer.minScale?","layer.maxScale?","view.scale"],readOnly:!0})],l.prototype,"visibleAtCurrentScale",null);c.__decorate([h.property({dependsOn:["layer.visibilityMode?","layer.capabilities?.exportMap?.supportsSublayerVisibility",
"layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],readOnly:!0})],l.prototype,"visibilityMode",null);return l=m=c.__decorate([h.subclass("esri.widgets.LayerList.ListItem")],l)}(u.IdentifiableMixin(L.HandleOwnerMixin(Q)))})},"esri/layers/support/Sublayer":function(){define("require exports tslib ../../geometry ../../PopupTemplate ../../renderers ../../request ../../symbols ../../core/Collection ../../core/Error ../../core/HandleOwner ../../core/Identifiable ../../core/lang ../../core/Loadable ../../core/Logger ../../core/MultiOriginJSONSupport ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../core/accessorSupport/PropertyOrigin ../../core/accessorSupport/utils ./FeatureType ./Field ./FieldsIndex ./fieldUtils ./LabelClass ./layerSourceUtils ../../renderers/support/jsonUtils ../../support/popupUtils ../../tasks/support/Query @dojo/framework/shim/Promise".split(" "),
function(R,E,c,Q,V,L,u,q,h,I,m,f,z,C,S,G,w,ma,l,J,H,ca,r,a,d,k,t,F,M,X,pa){function W(a){return a&&"esriSMS"===a.type}function x(a,d,c){return{ignoreOrigin:!0,enabled:c&&c.writeSublayerStructure||!1}}function na(a,d,c){return{ignoreOrigin:!0,enabled:c?c.writeSublayerStructure||this.originIdOf(d)>=H.nameToId(c.origin):!1}}var ra=S.getLogger("esri.layers.support.Sublayer"),Za=0,oa=new Set;oa.add("layer");oa.add("parent");oa.add("loaded");oa.add("loadStatus");oa.add("loadError");oa.add("loadWarnings");
return function(f){function p(a){a=f.call(this,a)||this;a.capabilities=void 0;a.fields=null;a.fullExtent=null;a.globalIdField=null;a.legendEnabled=!0;a.objectIdField=null;a.popupEnabled=!0;a.popupTemplate=null;a.sourceJSON=null;a.title=null;a.typeIdField=null;a.types=null;return a}c.__extends(p,f);m=p;p.prototype.load=function(a){return c.__awaiter(this,void 0,void 0,function(){var d=this;return c.__generator(this,function(n){this.addResolvingPromise(function(){return c.__awaiter(d,void 0,void 0,
function(){var d,n,k;return c.__generator(this,function(f){switch(f.label){case 0:if(!this.layer&&!this.url)throw new I("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:this});d=null;return!this.layer||2<this.originIdOf("url")||F.isDataLayerSource(this.source)?[4,u(this.url,c.__assign({responseType:"json",query:{f:"json"}},a))]:[3,2];case 1:return n=f.sent(),d=n.data,[3,4];case 2:return k=this.id,this.source&&null!=this.source.mapLayerId&&(k=this.source.mapLayerId),
[4,this.layer.fetchSublayerInfo(k,a)];case 3:d=f.sent(),f.label=4;case 4:return d&&(this.sourceJSON=d,this.read({layerDefinition:d},{origin:"service"})),[2]}})})}());return[2,this]})})};p.prototype.readCapabilities=function(a,d){d=d.layerDefinition||d;a=(a=d.capabilities||a)?a.toLowerCase().split(",").map(function(a){return a.trim()}):[];return{exportMap:{supportsModification:!!d.canModifyLayer},operations:{supportsQuery:-1!==a.indexOf("query")}}};Object.defineProperty(p.prototype,"definitionExpression",
{set:function(a){this._setAndNotifyLayer("definitionExpression",a)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"fieldsIndex",{get:function(){return new d(this.fields||[])},enumerable:!0,configurable:!0});p.prototype.readGlobalIdFieldFromService=function(a,d){d=d.layerDefinition||d;if(d.globalIdField)return d.globalIdField;if(d.fields)for(a=0,d=d.fields;a<d.length;a++){var c=d[a];if("esriFieldTypeGlobalID"===c.type)return c.name}};Object.defineProperty(p.prototype,"id",{get:function(){var a=
this._get("id");return null==a?Za++:a},set:function(a){this._get("id")!==a&&(!1===this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"):this._set("id",a))},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"labelingInfo",{set:function(a){this._setAndNotifyLayer("labelingInfo",a)},enumerable:!0,configurable:!0});p.prototype.writeLabelingInfo=function(a,d,c,k){a&&a.length&&
(d.layerDefinition={drawingInfo:{labelingInfo:a.map(function(a){return a.write({},k)})}})};Object.defineProperty(p.prototype,"labelsVisible",{set:function(a){this._setAndNotifyLayer("labelsVisible",a)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"layer",{set:function(a){this._set("layer",a);this.sublayers&&this.sublayers.forEach(function(d){return d.layer=a})},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"listMode",{set:function(a){this._set("listMode",a)},
enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"minScale",{set:function(a){this._setAndNotifyLayer("minScale",a)},enumerable:!0,configurable:!0});p.prototype.readMinScale=function(a,d){return d.minScale||d.layerDefinition&&d.layerDefinition.minScale||0};Object.defineProperty(p.prototype,"maxScale",{set:function(a){this._setAndNotifyLayer("maxScale",a)},enumerable:!0,configurable:!0});p.prototype.readMaxScale=function(a,d){return d.maxScale||d.layerDefinition&&d.layerDefinition.maxScale||
0};p.prototype.readObjectIdFieldFromService=function(a,d){d=d.layerDefinition||d;if(d.objectIdField)return d.objectIdField;if(d.fields)for(a=0,d=d.fields;a<d.length;a++){var c=d[a];if("esriFieldTypeOID"===c.type)return c.name}};Object.defineProperty(p.prototype,"opacity",{set:function(a){this._setAndNotifyLayer("opacity",a)},enumerable:!0,configurable:!0});p.prototype.readOpacity=function(a,d){a=d.layerDefinition;return 1-.01*(null!=a.transparency?a.transparency:a.drawingInfo.transparency)};p.prototype.writeOpacity=
function(a,d,c,k){d.layerDefinition={drawingInfo:{transparency:100-100*a}}};p.prototype.writeParent=function(a,d){d.parentLayerId=this.parent&&this.parent!==this.layer?this.parent.id:-1};Object.defineProperty(p.prototype,"defaultPopupTemplate",{get:function(){return this.createPopupTemplate()},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"renderer",{set:function(a){if(a)for(var d=0,c=a.getSymbols();d<c.length;d++)if(q.isSymbol3D(c[d])){ra.warn("Sublayer renderer should use 2D symbols");
break}this._setAndNotifyLayer("renderer",a)},enumerable:!0,configurable:!0});p.prototype.readRenderer=function(a,d,c){if(a=d.layerDefinition.drawingInfo.renderer||void 0)(a=M.read(a,d,c)||void 0)||ra.error("Failed to create renderer",{rendererDefinition:d.drawingInfo.renderer,layer:this,context:c});return a};p.prototype.writeRenderer=function(a,d,c,k){d.layerDefinition={drawingInfo:{renderer:a.write({},k)}}};p.prototype.writeWebSceneRenderer=function(a,d,c,k){d.layerDefinition={drawingInfo:{renderer:a.write({},
k)}}};Object.defineProperty(p.prototype,"source",{get:function(){return this._get("source")||{mapLayerId:this.id,type:F.MAPLAYER}},set:function(a){this._setAndNotifyLayer("source",a)},enumerable:!0,configurable:!0});p.prototype.writeSource=function(a,d){d.layerDefinition={source:F.sourceToJSON(a)}};Object.defineProperty(p.prototype,"sublayers",{set:function(a){this._handleSublayersChange(a,this._get("sublayers"));this._set("sublayers",a)},enumerable:!0,configurable:!0});p.prototype.castSublayers=
function(a){return J.default(h.ofType(m),a)};p.prototype.writeSublayers=function(a,d,c){this.get("sublayers.length")&&(d[c]=this.sublayers.map(function(a){return a.id}).toArray().reverse())};p.prototype.readTypeIdField=function(a,d){d=d.layerDefinition||d;if(a=d.typeIdField)if(d=k.getField(d.fields,a))return d.name;return null};Object.defineProperty(p.prototype,"url",{get:function(){var a,d,c=null!==(d=null===(a=this.layer)||void 0===a?void 0:a.parsedUrl)&&void 0!==d?d:this._lastParsedUrl;a=this.source;
if(!c)return null;this._lastParsedUrl=c;if(F.isMapLayerSource(a))return c.path+"/"+a.mapLayerId;a={layer:JSON.stringify({source:F.sourceToJSON(this.source)})};return c.path+"/dynamicLayer?"+ma.objectToQuery(a)},set:function(a){a?this._override("url",a):this._clearOverride("url")},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"visible",{set:function(a){this._setAndNotifyLayer("visible",a)},enumerable:!0,configurable:!0});p.prototype.writeVisible=function(a,d,c,k){d[c]=this.getAtOrigin("defaultVisibility",
"service")||a};p.prototype.clone=function(){var a=ca.getProperties(this).store,d=new m;ca.getProperties(d).store=a.clone(oa);this.url;d._lastParsedUrl=this._lastParsedUrl;return d};p.prototype.createPopupTemplate=function(a){return X.createPopupTemplate(this,a)};p.prototype.createQuery=function(){return new pa({returnGeometry:!0,where:this.definitionExpression||"1\x3d1"})};p.prototype.createFeatureLayer=function(){return c.__awaiter(this,void 0,void 0,function(){var a,d,k,f,t;return c.__generator(this,
function(c){switch(c.label){case 0:if(this.hasOwnProperty("sublayers"))return[2,null];a=this.layer&&this.layer.parsedUrl;d=this.source;k=null;a&&(k=F.isMapLayerSource(d)?a.path+"/"+d.mapLayerId:a.path+"/dynamicLayer");return[4,new Promise(function(a,d){R(["../FeatureLayer"],a,d)})];case 1:return f=c.sent(),t=new f({url:k}),null!=this.layer.refreshInterval&&(t.refreshInterval=this.layer.refreshInterval),this.definitionExpression&&(t.definitionExpression=this.definitionExpression),2<this.originIdOf("labelingInfo")&&
(t.labelingInfo=z.clone(this.labelingInfo)),0<this.originIdOf("labelsVisible")&&(t.labelsVisible=this.labelsVisible),0<this.originIdOf("legendEnabled")&&(t.legendEnabled=this.legendEnabled),0<this.originIdOf("visible")&&(t.visible=this.visible),0<this.originIdOf("minScale")&&(t.minScale=this.minScale),0<this.originIdOf("maxScale")&&(t.maxScale=this.maxScale),0<this.originIdOf("opacity")&&(t.opacity=this.opacity),0<this.originIdOf("popupTemplate")&&(t.popupTemplate=z.clone(this.popupTemplate)),2<this.originIdOf("renderer")&&
(t.renderer=z.clone(this.renderer)),F.isDataLayerSource(this.source)&&(t.dynamicDataSource=z.clone(this.source)),0<this.originIdOf("title")&&(t.title=this.title),[2,t]}})})};p.prototype.getFeatureType=function(a){var d=this.typeIdField;if(!d||!a)return null;var c=a.attributes?a.attributes[d]:void 0;if(null==c)return null;var k=null;this.types.some(function(a){var d=a.id;if(null==d)return!1;d.toString()===c.toString()&&(k=a);return!!k});return k};p.prototype.getFieldDomain=function(a,d){return(d=this.getFeatureType(d&&
d.feature))&&(d=d.domains&&d.domains[a])&&"inherited"!==d.type?d:this._getLayerDomain(a)};p.prototype.queryFeatures=function(a,d){var c=this;void 0===a&&(a=this.createQuery());return this.load().then(function(){if(!c.get("capabilities.operations.supportsQuery"))throw new I("Sublayer.queryFeatures","this layer doesn't support queries.");return w.all([new Promise(function(a,d){R(["../../tasks/operations/query"],a,d)}),new Promise(function(a,d){R(["../../tasks/support/FeatureSet"],a,d)})])}).then(function(k){var f=
k[0].executeQuery,t=k[1];return f(c.url,pa.from(a),c.layer?c.layer.spatialReference:null,d).then(function(a){return t.fromJSON(a.data)})}).then(function(a){a&&a.features&&a.features.forEach(function(a){a.sourceLayer=c});return a})};p.prototype.toExportImageJSON=function(){var a=this,d={id:this.id,source:F.sourceToJSON(this.source)};this.definitionExpression&&(d.definitionExpression=this.definitionExpression);var c=["renderer","labelingInfo","opacity","labelsVisible"].reduce(function(d,c){d[c]=a.originIdOf(c);
return d},{});if(Object.keys(c).some(function(a){return 2<=c[a]})){var k=d.drawingInfo={};2<=c.renderer&&(k.renderer=this.renderer?this.renderer.toJSON():null);2<=c.labelsVisible&&(k.showLabels=this.labelsVisible);this.labelsVisible&&2<=c.labelingInfo&&(k.labelingInfo=this.labelingInfo?this.labelingInfo.map(function(a){return a.write({},{origin:"service"})}):null,k.showLabels=!0);2<=c.opacity&&(k.transparency=100-100*this.opacity);this._assignDefaultSymbolColors(k.renderer)}return d};p.prototype._assignDefaultSymbolColors=
function(a){this._forEachSimpleMarkerSymbols(a,function(a){a.color||"esriSMSX"!==a.style&&"esriSMSCross"!==a.style||(a.color=a.outline&&a.outline.color?a.outline.color:[0,0,0,0])})};p.prototype._forEachSimpleMarkerSymbols=function(a,d){if(a){var c=0,k="uniqueValueInfos"in a?a.uniqueValueInfos:"classBreakInfos"in a?a.classBreakInfos:[];for(;c<k.length;c++){var f=k[c];W(f.symbol)&&d(f.symbol)}"symbol"in a&&W(a.symbol)&&d(a.symbol);"defaultSymbol"in a&&W(a.defaultSymbol)&&d(a.defaultSymbol)}};p.prototype._setAndNotifyLayer=
function(a,d){var c=this.layer,k=this._get(a),f,t;switch(a){case "definitionExpression":f="supportsSublayerDefinitionExpression";case "minScale":case "maxScale":case "visible":f="supportsSublayerVisibility";break;case "labelingInfo":case "labelsVisible":case "opacity":case "renderer":case "source":f="supportsDynamicLayers",t="supportsModification"}var h=ca.getProperties(this).getDefaultOrigin();if("service"!==h){if(f&&!1===this.get("layer.capabilities.exportMap."+f)){this._logLockedError(a,"capability not available 'layer.capabilities.exportMap."+
f+"'");return}if(t&&!1===this.get("capabilities.exportMap."+t)){this._logLockedError(a,"capability not available 'capabilities.exportMap."+t+"'");return}}"source"===a&&"not-loaded"!==this.loadStatus?this._logLockedError(a,"'source' can't be changed after calling sublayer.load()"):(this._set(a,d),"service"!==h&&k!==d&&c&&c.emit&&c.emit("sublayer-update",{propertyName:a}))};p.prototype._handleSublayersChange=function(a,d){var c=this;d&&(d.forEach(function(a){a.parent=null;a.layer=null}),this.handles.removeAll());
a&&(a.forEach(function(a){a.parent=c;a.layer=c.layer}),this.handles.add([a.on("after-add",function(a){a=a.item;a.parent=c;a.layer=c.layer}),a.on("after-remove",function(a){a=a.item;a.parent=null;a.layer=null}),a.on("before-changes",function(a){var d=c.get("layer.capabilities.exportMap.supportsSublayersChanges");null==d||d||(ra.error(new I("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:c,layer:c.layer})),a.preventDefault())})]))};
p.prototype._logLockedError=function(a,d){ra.error(new I("sublayer:locked","Property '"+a+"' can't be changed on Sublayer from the layer '"+this.layer.id+"'",{reason:d,sublayer:this,layer:this.layer}))};p.prototype._getLayerDomain=function(a){return(a=this.fieldsIndex.get(a))?a.domain:null};var m;c.__decorate([l.property({readOnly:!0})],p.prototype,"capabilities",void 0);c.__decorate([l.reader("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],p.prototype,
"readCapabilities",null);c.__decorate([l.property({type:String,value:null,json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression",overridePolicy:na}}})],p.prototype,"definitionExpression",null);c.__decorate([l.property({type:[a],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],p.prototype,"fields",void 0);c.__decorate([l.property({readOnly:!0,dependsOn:["fields"]})],p.prototype,"fieldsIndex",null);c.__decorate([l.property({type:Q.Extent,
json:{read:{source:"layerDefinition.extent"}}})],p.prototype,"fullExtent",void 0);c.__decorate([l.property({type:String})],p.prototype,"globalIdField",void 0);c.__decorate([l.reader("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],p.prototype,"readGlobalIdFieldFromService",null);c.__decorate([l.property({type:Number,json:{write:{ignoreOrigin:!0}}})],p.prototype,"id",null);c.__decorate([l.property({value:null,type:[t],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},
write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:x}}})],p.prototype,"labelingInfo",null);c.__decorate([l.writer("labelingInfo")],p.prototype,"writeLabelingInfo",null);c.__decorate([l.property({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:x}}})],p.prototype,"labelsVisible",null);c.__decorate([l.property({value:null})],p.prototype,"layer",null);c.__decorate([l.property({type:Boolean,
value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:na}}})],p.prototype,"legendEnabled",void 0);c.__decorate([l.property({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],p.prototype,"listMode",null);c.__decorate([l.property({type:Number,value:0,json:{write:{enabled:!1,overridePolicy:x}}})],p.prototype,"minScale",null);c.__decorate([l.reader("minScale",["minScale",
"layerDefinition.minScale"])],p.prototype,"readMinScale",null);c.__decorate([l.property({type:Number,value:0,json:{write:{enabled:!1,overridePolicy:x}}})],p.prototype,"maxScale",null);c.__decorate([l.reader("maxScale",["maxScale","layerDefinition.maxScale"])],p.prototype,"readMaxScale",null);c.__decorate([l.property({type:String})],p.prototype,"objectIdField",void 0);c.__decorate([l.reader("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],p.prototype,"readObjectIdFieldFromService",
null);c.__decorate([l.property({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:x}}})],p.prototype,"opacity",null);c.__decorate([l.reader("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],p.prototype,"readOpacity",null);c.__decorate([l.writer("opacity")],p.prototype,"writeOpacity",null);c.__decorate([l.property({json:{type:Number,write:{target:"parentLayerId",allowNull:!0,overridePolicy:x}}})],p.prototype,"parent",
void 0);c.__decorate([l.writer("parent")],p.prototype,"writeParent",null);c.__decorate([l.property({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:function(a,d){return!d.disablePopup}},write:{target:"disablePopup",overridePolicy:na,writer:function(a,d,c){d[c]=!a}}}})],p.prototype,"popupEnabled",void 0);c.__decorate([l.property({type:V,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:na}}})],p.prototype,"popupTemplate",void 0);c.__decorate([l.property({readOnly:!0,
dependsOn:["fields","title"]})],p.prototype,"defaultPopupTemplate",null);c.__decorate([l.property({types:L.rendererTypes,value:null,json:{write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:x}}})],p.prototype,"renderer",null);c.__decorate([l.reader("renderer",["layerDefinition.drawingInfo.renderer"])],p.prototype,"readRenderer",null);c.__decorate([l.writer("renderer")],p.prototype,"writeRenderer",null);c.__decorate([l.writer("web-scene","renderer",{"layerDefinition.drawingInfo.renderer":{types:L.webSceneRendererTypes}})],
p.prototype,"writeWebSceneRenderer",null);c.__decorate([l.property({cast:F.castSource,json:{read:{source:"layerDefinition.source",reader:F.sourceFromJSON},write:{target:"layerDefinition.source",overridePolicy:x}}})],p.prototype,"source",null);c.__decorate([l.writer("source")],p.prototype,"writeSource",null);c.__decorate([l.property()],p.prototype,"sourceJSON",void 0);c.__decorate([l.property({value:null,json:{type:[J.Integer],write:{target:"subLayerIds",allowNull:!0,overridePolicy:x}}})],p.prototype,
"sublayers",null);c.__decorate([l.cast("sublayers")],p.prototype,"castSublayers",null);c.__decorate([l.writer("sublayers")],p.prototype,"writeSublayers",null);c.__decorate([l.property({type:String,json:{read:{source:"name"},write:{target:"name",allowNull:!0,overridePolicy:na}}})],p.prototype,"title",void 0);c.__decorate([l.property({type:String})],p.prototype,"typeIdField",void 0);c.__decorate([l.reader("typeIdField",["layerDefinition.typeIdField"])],p.prototype,"readTypeIdField",null);c.__decorate([l.property({type:[r],
json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],p.prototype,"types",void 0);c.__decorate([l.property({type:String,dependsOn:["layer","source"],json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:function(){return{enabled:this._isOverridden("url")}}}}})],p.prototype,"url",null);c.__decorate([l.property({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:x}}})],p.prototype,"visible",null);c.__decorate([l.writer("visible")],
p.prototype,"writeVisible",null);return p=m=c.__decorate([l.subclass("esri.layers.support.Sublayer")],p)}(m.HandleOwnerMixin(G.MultiOriginJSONMixin(f.IdentifiableMixin(C))))})},"esri/support/actions/ActionSlider":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./ActionBase"],function(R,E,c,Q,V){return function(E){function u(c){c=E.call(this,c)||this;c.displayValueEnabled=!1;c.max=1;c.min=0;c.step=.1;c.type="slider";c.value=null;return c}c.__extends(u,E);q=u;
u.prototype.clone=function(){return new q({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})};var q;c.__decorate([Q.property()],u.prototype,"displayValueEnabled",void 0);c.__decorate([Q.property()],u.prototype,"max",void 0);c.__decorate([Q.property()],u.prototype,"min",void 0);c.__decorate([Q.property()],
u.prototype,"step",void 0);c.__decorate([Q.property()],u.prototype,"value",void 0);return u=q=c.__decorate([Q.subclass("esri.support.Action.ActionSlider")],u)}(V)})},"esri/widgets/LayerList/ListItemPanel":function(){define("require exports tslib ../../core/Handles ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../Widget ../support/widget @dojo/framework/shim/Promise".split(" "),function(R,E,c,Q,V,L,u,q,h){return function(q){function m(c,h){c=q.call(this,c,h)||
this;c._legend=null;c._handles=new Q;c.content=null;c.image=null;c.listItem=null;c.open=!1;c.visible=!0;return c}c.__extends(m,q);m.prototype.initialize=function(){var c=this;this.own([L.init(this,"content",function(f){return c._createLegend(f)})])};m.prototype.destroy=function(){var c=this._legend;c&&c.destroy();this._legend=null};Object.defineProperty(m.prototype,"className",{get:function(){var c=this.image,h=this._getFirstWidget();return this._get("className")||!c&&h?h.iconClass:""},set:function(c){void 0===
c?this._clearOverride("className"):this._override("className",c)},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"title",{get:function(){var c=this._getFirstWidget();return this._get("title")||c?c.label:""},set:function(c){void 0===c?this._clearOverride("title"):this._override("title",c)},enumerable:!0,configurable:!0});m.prototype.render=function(){return h.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};m.prototype._renderContent=function(c){var f=this._legend,
m=this.listItem;return c?"legend"===c?m&&m.view&&m.layer&&f?h.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--legend"),key:f},f.render()):null:"string"===typeof c?h.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:c,innerHTML:c}):h.isWidget(c)?h.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),key:c},c.render()):c instanceof HTMLElement?
h.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--html-element"),key:c,bind:c,afterCreate:this._attachToNode}):null:null};m.prototype._renderContents=function(){var c=this,h=this.content;return Array.isArray(h)?h.map(function(f){return c._renderContent(f)}):this._renderContent(h)};m.prototype._getLegendOptions=function(c){if(c){var f=c.layer;c=c.view;if(f&&c)return{view:c,layerInfos:[{layer:f,title:""}]}}};m.prototype._createLegend=function(c){var f=
this;this._hasLegend(c)&&!this._legend&&(new Promise(function(c,f){R(["../Legend"],c,f)})).then(function(c){var h=f._handles,m=new c(f._getLegendOptions(f.listItem));f._legend=m;f.notifyChange("className");f.notifyChange("title");c=L.init(f,["listItem.view","listItem.layer"],function(){return f._updateLegend(m)});h.add(c,"legends");f.scheduleRender()})};m.prototype._hasLegend=function(c){return"legend"===c?!0:Array.isArray(c)?c.some(function(c){return"legend"===c}):!1};m.prototype._attachToNode=function(c){c.appendChild(this)};
m.prototype._updateLegend=function(c){var f=this.listItem;if(f){var h=f.layer;c.view=f.view;c.layerInfos=[{layer:h,title:null}];this.scheduleRender()}};m.prototype._getWidget=function(c){return"legend"===c?this._legend:h.isWidget(c)?c:null};m.prototype._getFirstWidget=function(){var c=this,h=this.content;if(Array.isArray(h)){var m=null;h.some(function(f){(f=c._getWidget(f))&&(m=f);return!!f});return m}return this._getWidget(h)};c.__decorate([u.property({dependsOn:["content","image"]})],m.prototype,
"className",null);c.__decorate([u.property(),h.renderable()],m.prototype,"content",void 0);c.__decorate([u.property()],m.prototype,"image",void 0);c.__decorate([u.property()],m.prototype,"listItem",void 0);c.__decorate([u.property({dependsOn:["content"]})],m.prototype,"title",null);c.__decorate([u.property(),h.renderable()],m.prototype,"open",void 0);c.__decorate([u.property()],m.prototype,"visible",void 0);return m=c.__decorate([u.subclass("esri.widgets.LayerList.ListItemPanel")],m)}(V.IdentifiableMixin(q))})},
"esri/widgets/LayerList/support/layerListUtils":function(){define(["require","exports"],function(R,E){function c(c){if(c)return null!=c.listMode?c.listMode:void 0}function Q(c){if(c)return null!=c.minScale?c.minScale:void 0}function V(c){if(c)return null!=c.maxScale?c.maxScale:void 0}function L(c){if(c&&c.listMode!==q.hideChildren&&"wmts"!==c.type)return"group"===c.type?"layers":"sublayers"}function u(c,q){c&&c.sort(function(c,f){c=q.indexOf(c.uid);f=q.indexOf(f.uid);return c>f?-1:c<f?1:0})}Object.defineProperty(E,
"__esModule",{value:!0});var q={hide:"hide",hideChildren:"hide-children"};E.findLayerListMode=c;E.findLayerMinScale=Q;E.findLayerMaxScale=V;E.findLayerVisibilityMode=function(c){if(!c)return"inherited";var h=c.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"===typeof h)return h?"independent":"inherited";h=c.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"===typeof h?h?"independent":"inherited":null!=c.visibilityMode?c.visibilityMode:"independent"};
E.getNormalizedChildLayerProperty=L;E.canSortSublayers=function(c){c=c&&(c.get("layer.layer")||c.layer);if(!c)return!1;c=c.get("capabilities.exportMap.supportsSublayersChanges");return"boolean"===typeof c?c:!0};E.canDisplayLayer=function(h){return c(h)!==q.hide};E.isLayerOutsideScaleRange=function(c,q){if(!c||isNaN(q))return!1;var h=Q(c);c=V(c);h=!isNaN(h)&&0<h&&q>=h;q=!isNaN(c)&&0<c&&q<=c;return h||q};E.sortLayersToIds=u;E.sortChildLayersToIds=function(c,q){if(c=null===c||void 0===c?void 0:c.layer){var h=
L(c);h&&(c=c.get(h),u(c,q))}};E.getItemLayers=function(c){return(c=null===c||void 0===c?void 0:c.layer)&&"group"===c.type?c.layers:null};E.findSelectedItem=function(c,q){var h,f=null===(h=c.layer)||void 0===h?void 0:h.uid;return f&&q.find(function(c){var h;return(null===(h=c.layer)||void 0===h?void 0:h.uid)===f})}})},"*noref":1}});
define("require exports tslib ../core/Collection ../core/deprecate ../core/events ../core/Handles ../core/has ../core/Logger ../core/watchUtils ../core/accessorSupport/decorators ../libs/sortablejs/Sortable ./Widget ./LayerList/LayerListViewModel ./LayerList/ListItem ./LayerList/support/layerListUtils ./support/widget".split(" "),function(R,E,c,Q,V,L,u,q,h,I,m,f,z,C,S,G,w){function ma(c){var f=c.children;c.actionsOpen&&(c.actionsOpen=!1);f.forEach(function(a){return ma(a)})}var l=Q.ofType(S),J=h.getLogger("esri.widgets.LayerList"),
H={statusIndicators:!0};return function(h){function r(a,d){var k=h.call(this,a,d)||this;k._handles=new u;k._sortableNodes=new Map;k._sortableMap=new Map;k._focusSortUid=null;k._newUI=q("esri-layerlist-new-ui");k.visibleItems=null;k.iconClass="esri-icon-layers";k.label=void 0;k.listItemCreatedFunction=null;k.messages=null;k.messagesCommon=null;k.multipleSelectionEnabled=!1;k.operationalItems=null;k.selectionEnabled=!1;k.selectedItems=new l;k.view=null;k.viewModel=new C;k.visibleElements=c.__assign({},
H);k._onSortableSort=function(a){var c=a.to,d=a.from,f=a.item;a=a.newIndex;d&&c&&(d===c?k._sortLayers(k._sortableMap.get(d.dataset.group)):k._moveLayerFromChildList({to:c,from:d,item:f,newIndex:a}))};k._sortableCanPut=function(a,c,d){var k,f,t=a.el.dataset.group;c=c.el.dataset.group;a=a.el["data-item"];d=d["data-item"];d=null===(k=null===d||void 0===d?void 0:d.layer)||void 0===k?void 0:k.type;k=null===(f=null===a||void 0===a?void 0:a.layer)||void 0===f?void 0:f.type;return t&&c&&d&&!("group"===k&&
"group"===d)};k._sortableCanPull=function(a,c,d){var k;a=a.el.dataset.group;c=c.el.dataset.group;d=d["data-item"];d=null===(k=null===d||void 0===d?void 0:d.layer)||void 0===k?void 0:k.type;return a&&c&&!!d};k._onSortableEnd=function(a){var c=a.from;c!==a.to&&c.insertBefore(a.item,c.children[a.oldIndex])};return k}c.__extends(r,h);r.prototype.initialize=function(){var a=this,c=this.operationalItems;this._setVisibleItems(c);this.own(I.on(this,"operationalItems","change",function(){return a._itemsChanged(c)}),
I.init(this,"selectionEnabled",function(){return a._toggleAllSorting()}))};r.prototype.destroy=function(){this._destroySortables();this._handles.destroy();this._handles=null};Object.defineProperty(r.prototype,"statusIndicatorsVisible",{set:function(a){V.deprecatedProperty(J,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"});this.visibleElements=c.__assign(c.__assign({},this.visibleElements),{statusIndicators:a})},enumerable:!0,configurable:!0});r.prototype.castVisibleElements=
function(a){return c.__assign(c.__assign({},H),a)};r.prototype.triggerAction=function(a,c){this.viewModel.triggerAction(a,c)};r.prototype.render=function(){var a,c,k=this.visibleItems,f=this._newUI,h=null===(c=this.viewModel)||void 0===c?void 0:c.state;c=(a={},a["esri-layer-list--new-ui"]=f,a["esri-hidden"]="loading"===h,a["esri-disabled"]="disabled"===h,a);return w.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",c)},(null===k||void 0===k?0:k.length)?this.renderItems():
this.renderNoItems())};r.prototype.renderNoItems=function(){return w.tsx("div",{class:"esri-layer-list__no-items"},this.messages.noItemsToDisplay)};r.prototype.renderItems=function(){var a=this,c=this.visibleItems;return w.tsx("ul",{"aria-label":this.messages.widgetLabel,role:this.selectionEnabled?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":"root",bind:this,class:this.classes("esri-layer-list__list","esri-layer-list__list--root",
"esri-layer-list__list--independent")},null===c||void 0===c?void 0:c.map(function(c){return a.renderItem(c,null)}).toArray())};r.prototype.renderActionsMenuIcon=function(a,c){var d,f=this.messagesCommon,h=(d={},d["esri-layer-list__item-actions-menu-item--active"]=a.actionsOpen,d);d=a.actionsOpen?f.close:f.open;return w.tsx("div",{key:"actions-menu-toggle","data-item":a,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes("esri-layer-list__item-actions-menu-item",
h),tabindex:"0",role:"button","aria-controls":c,"aria-label":d,title:d},w.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"}))};r.prototype.renderActionsMenu=function(a,c,k,f){var d=a.panel,d=d&&d.visible?this.renderPanelButton(d):null,t=(c=1===k&&this._getSingleActionButton(c))?this.renderAction({item:a,action:c,singleAction:!0}):null;return(a=!c&&k?this.renderActionsMenuIcon(a,f):null)||d||c?w.tsx("div",{key:"actions-menu",class:"esri-layer-list__item-actions-menu"},d,t,a):null};
r.prototype.renderChildList=function(a,c){var d,f=this,h,l=this.selectionEnabled,m=a.visibilityMode,q=a.children,r=!!a.error,r=!!q.length&&!r,x=!r&&l&&"group"===(null===(h=a.layer)||void 0===h?void 0:h.type);h=(d={},d["esri-layer-list__list--exclusive"]="exclusive"===m,d["esri-layer-list__list--inherited"]="inherited"===m,d["esri-layer-list__list--independent"]="inherited"!==m&&"exclusive"!==m,d);return r||x?w.tsx("ul",{bind:this,key:"list-items",id:c,"data-group":a.uid,"data-item":a,afterCreate:this._sortNodeCreated,
afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes("esri-layer-list__list",h),"aria-expanded":a.open?"true":"false",role:l?"listbox":"exclusive"===m?"radiogroup":"group",hidden:a.open||x?null:!0},null===q||void 0===q?void 0:q.map(function(c){return f.renderItem(c,a)}).toArray()):null};r.prototype.renderChildrenToggle=function(a,c){var d,f=this.messagesCommon,h=!!a.error,h=!!a.children.length&&!h,l=(d={},d["esri-layer-list__child-toggle--open"]=a.open,d);d=a.open?
f.collapse:f.expand;return h?w.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":a,key:"toggle-children",class:this.classes("esri-layer-list__child-toggle",l),tabindex:"0",role:"button","aria-controls":c,"aria-label":d,title:d},w.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),w.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened",
"esri-icon-down-arrow")}),w.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null};r.prototype.renderError=function(a){return a.error?w.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},w.tsx("span",null,this.messages.layerError)):null};r.prototype.renderItemContent=function(a,c,k){var d=this.id+"_"+a.uid,f=d+"_actions",d=d+"__list",h=a.panel,l=this._filterActions(a.actionsSections),
m=this._countActions(l);return[w.tsx("div",{key:"list-item-container",class:"esri-layer-list__item-container"},this.renderChildrenToggle(a,d),this.renderLabel(a,c,k),this.renderActionsMenu(a,l,m,f)),this.renderError(a),m?this.renderActionsSections(a,l,f):null,h&&h.open?h.render():null,this.renderChildList(a,d)]};r.prototype.renderItem=function(a,d){var k,f,h,l=this._newUI,m=this.selectionEnabled,q=this.selectedItems,r=this.visibleElements,x=this.id+"_"+a.uid+"__title",u=!!a.error,z=!!a.children.length&&
!u,l=(k={},k["esri-layer-list__item--has-children"]=z,k["esri-layer-list__item--error"]=!!u,k["esri-layer-list__item--updating"]=a.updating&&!d&&r.statusIndicators,k["esri-layer-list__item--invisible"]=l&&!a.visible,k["esri-layer-list__item--invisible-at-scale"]=!a.visibleAtCurrentScale,k["esri-layer-list__item--selectable"]=m,k);return m?(k=(f={},f["data-layer-uid"]=null===(h=a.layer)||void 0===h?void 0:h.uid,f["data-sort-filter"]=(!a.sortable).toString(),f),w.tsx("li",c.__assign({key:"item-with-selection-"+
a.uid,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes("esri-layer-list__item",l),"aria-labelledby":x,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":a,"data-group":d?d.uid:"root",tabIndex:0,"aria-selected":G.findSelectedItem(a,q)?"true":"false",role:"option"},k),this.renderItemContent(a,d,x))):w.tsx("li",{key:"item-no-selection-"+a.uid,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes("esri-layer-list__item",
l),"aria-labelledby":x},this.renderItemContent(a,d,x))};r.prototype.renderItemTitle=function(a,c){var d=this.messages,f=a.title||d.untitledLayer;a=a.visibleAtCurrentScale?f:f+" ("+d.layerInvisibleAtScale+")";return w.tsx("span",{key:"layer-title-container",id:c,title:a,"aria-label":a,class:"esri-layer-list__item-title"},f)};r.prototype.renderItemToggleIcon=function(a,c){var d,f=this._newUI;c=c&&c.visibilityMode;a=(d={},d["esri-layer-list__item-toggle-icon"]=f,d["esri-layer-list__item-toggle-icon"]=
f&&"exclusive"!==c,d["esri-layer-list__item-radio-icon"]=f&&"exclusive"===c,d["esri-icon-radio-checked"]="exclusive"===c&&a.visible,d["esri-icon-radio-unchecked"]="exclusive"===c&&!a.visible,d["esri-icon-visible"]="exclusive"!==c&&a.visible,d["esri-icon-non-visible"]="exclusive"!==c&&!a.visible,d);return w.tsx("span",{key:"item-toggle-icon",class:this.classes(a),"aria-hidden":"true"})};r.prototype.renderItemToggle=function(a,c,f){var d=c&&c.visibilityMode;return this.selectionEnabled?w.tsx("span",
{key:"item-toggle-selection-enabled",class:"esri-layer-list__item-toggle",bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":a,"data-parent-visibility":d,tabIndex:0,"aria-checked":a.visible?"true":"false",role:"exclusive"===d?"radio":"switch","aria-labelledby":f},this.renderItemToggleIcon(a,c)):w.tsx("span",{key:"item-toggle",class:"esri-layer-list__item-toggle"},this.renderItemToggleIcon(a,c))};r.prototype.renderItemError=function(a){return a.error?w.tsx("span",
{key:"notice-triangle","aria-hidden":"true",class:"esri-icon-notice-triangle"}):null};r.prototype.renderLabel=function(a,c,f){var d=this.selectionEnabled,k=this._newUI,h=null===c||void 0===c?void 0:c.visibilityMode,l="exclusive"===h?"radio":"switch";c=[this.renderItemToggle(a,c,f),this.renderItemTitle(a,f)];k&&c.reverse();d=d?w.tsx("div",{key:"item-label-no-selection-"+a.uid,class:"esri-layer-list__item-label"},c):w.tsx("div",{key:"item-label-with-selection-"+a.uid,class:"esri-layer-list__item-label",
bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":a,"data-parent-visibility":h,tabIndex:0,"aria-checked":a.visible?"true":"false",role:l,"aria-labelledby":f},c);return"inherited"===h||a.error?w.tsx("div",{key:"item-label-container-"+a.uid,class:"esri-layer-list__item-label"},this.renderItemError(a),this.renderItemTitle(a,f)):d};r.prototype.renderPanelButton=function(a){var c,f,h=a.className,l=a.open,m=a.title,h=a.image||h?h:"esri-icon-default-action",q=this._getIconImageStyles(a),
l=(c={},c["esri-layer-list__item-actions-menu-item--active"]=l,c);c=(f={},f["esri-layer-list__item-action-image"]=!!q["background-image"],f);h&&(c[h]=!!h);return w.tsx("div",{key:a,bind:this,"data-panel":a,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-layer-list__item-actions-menu-item",l),role:"button",tabindex:"0",title:m,"aria-label":m},w.tsx("span",{class:this.classes(c),styles:q}))};r.prototype.renderActionsSections=function(a,c,f){var d=this;c=c.toArray().map(function(c){return w.tsx("ul",
{key:c,class:"esri-layer-list__item-actions-list"},d.renderActionSection(a,c))});return w.tsx("div",{role:"group","aria-expanded":a.actionsOpen?"true":"false",key:"actions-section",id:f,class:"esri-layer-list__item-actions",hidden:a.actionsOpen?null:!0},c)};r.prototype.renderActionSection=function(a,c){var d=this;return(c&&c.toArray()).map(function(c){return d.renderAction({item:a,action:c})})};r.prototype.renderActionIcon=function(a){var c,f=a.active,h=a.className,l=this._getIconImageStyles(a);a=
"button"!==a.type||a.image||h?h:"esri-icon-default-action";h=(c={},c["esri-layer-list__item-action-image"]=!f&&!!l["background-image"],c["esri-icon-loading-indicator"]=f,c["esri-rotating"]=f,c);a&&!f&&(h[a]=!0);return w.tsx("span",{key:"action-icon","aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",h),styles:l})};r.prototype.renderActionTitle=function(a,c){return c?null:w.tsx("span",{key:"action-title",class:"esri-layer-list__item-action-title"},a)};r.prototype.renderAction=
function(a){var c,f=a.item,h=a.action;a=a.singleAction;var l=h.active,m=h.disabled,q=h.title,l=(c={},c["esri-layer-list__item-actions-menu-item"]=a&&"button"===h.type,c["esri-layer-list__item-action"]=l||!a&&"toggle"!==h.type,c["esri-layer-list__action-toggle"]=!l&&"toggle"===h.type,c["esri-layer-list__action-toggle--on"]=!l&&"toggle"===h.type&&h.value,c["esri-disabled-element"]=m,c);c=[this.renderActionIcon(h),this.renderActionTitle(q,a)];return a?w.tsx("div",{bind:this,"data-item":f,"data-action":h,
role:"button",key:h,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",title:q,"aria-label":q},c):w.tsx("li",{bind:this,"data-item":f,"data-action":h,key:h,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",role:"button",title:q,"aria-label":q},c)};r.prototype._sortNodeRemoved=function(a){var c=this._sortableMap;a=a.dataset.group;var f=c.get(a);f&&f.destroy();c.delete(a)};r.prototype._destroySortables=function(){var a=this._sortableMap,c=
this._sortableNodes;a.forEach(function(a){return a&&a.destroy()});a.clear();c.clear()};r.prototype._moveLayerFromChildList=function(a){this.viewModel.moveListItem(a.item["data-item"],a.from["data-item"],a.to["data-item"],a.newIndex)};r.prototype._sortLayers=function(a){var c,f;if(a){var h=a.el["data-item"];a=a.toArray();h?G.sortChildLayersToIds(h,a):G.sortLayersToIds(null===(f=null===(c=this.view)||void 0===c?void 0:c.map)||void 0===f?void 0:f.layers,a)}};r.prototype._toggleSorting=function(a,c){var d=
this._sortableMap,h=this.selectionEnabled,l=d.get(c),m=a["data-item"],h=("root"===c?!0:m.childrenSortable&&G.canSortSublayers(m))&&h;l?l.option("disabled",!h):h&&(a=f.create(a,{dataIdAttr:"data-layer-uid",group:{name:c,pull:this._sortableCanPull,put:this._sortableCanPut},filter:'[data-sort-filter\x3d"true"]',fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!h,chosenClass:"esri-layer-list--chosen"}),d.set(c,a))};r.prototype._toggleAllSorting=function(){var a=this;
this._sortableNodes.forEach(function(c,f){return a._toggleSorting(c,f)})};r.prototype._sortNodeCreated=function(a){var c=a.dataset.group;c&&(this._sortableNodes.set(c,a),this._toggleSorting(a,c))};r.prototype._setVisibleItems=function(a){var c=this;this.visibleItems=null===a||void 0===a?void 0:a.filter(function(a){return c.errorsVisible||!a.error})};r.prototype._getSingleActionButton=function(a){return a.reduce(function(a){return a}).filter(function(a){return a&&"button"===a.type}).getItemAt(0)};
r.prototype._focusListItem=function(a){var c,f=this._focusSortUid;a&&f&&(null===(c=a["data-item"].layer)||void 0===c?void 0:c.uid)===f&&(a.focus(),this._focusSortUid=null)};r.prototype._watchActionSectionChanges=function(a,c){var d=this,f="action-section"+c;this._handles.add(a.on("change",this.scheduleRender.bind(this)),f);a.forEach(function(a){return d._renderOnActionChanges(a,c)})};r.prototype._renderOnActionChanges=function(a,c){var d=this;c="actions"+c;"toggle"===a.type?this._handles.add([I.init(a,
"className image id title visible value".split(" "),function(){return d.scheduleRender()})],c):"slider"===a.type?this._handles.add([I.init(a,"className id title visible value displayValueEnabled max min step".split(" "),function(){return d.scheduleRender()})],c):this._handles.add([I.init(a,["className","image","id","title","visible"],function(){return d.scheduleRender()})],c)};r.prototype._renderOnItemChanges=function(a){var c=this,f=a.uid,h="items"+f;this._handles.add([I.init(a,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className sortable childrenSortable".split(" "),
function(){return c.scheduleRender()}),a.actionsSections.on("change",function(){return c.scheduleRender()}),a.children.on("change",function(){return c.scheduleRender()})],h);a.children.forEach(function(a){return c._renderOnItemChanges(a)});a.actionsSections.forEach(function(a){return c._watchActionSectionChanges(a,f)})};r.prototype._itemsChanged=function(a){var c=this;this._handles.removeAll();a.forEach(function(a){return c._renderOnItemChanges(a)});this._setVisibleItems(a);this.scheduleRender()};
r.prototype._filterActions=function(a){return a.map(function(a){return a.filter(function(a){return a.visible})})};r.prototype._countActions=function(a){return a.reduce(function(a,c){return a+c.length},0)};r.prototype._getIconImageStyles=function(a){a="esri.widgets.LayerList.ListItemPanel"===a.declaredClass||"esri.support.Action.ActionButton"===a.declaredClass||"esri.support.Action.ActionToggle"===a.declaredClass?a.image:null;return{"background-image":a?'url("'+a+'")':null}};r.prototype._selectionKeydown=
function(a){var c,f,h,l,m=L.eventKey(a);if(-1===["ArrowDown","ArrowUp"].indexOf(m))this._toggleSelection(a);else{a.stopPropagation();var q=a.currentTarget,r=q["data-item"],u=this.selectedItems;if(q=this._sortableMap.get(q.dataset.group)){var u=G.findSelectedItem(r,u),x=q.toArray();a=x.indexOf(a.target.dataset.layerUid);if(-1!==a){if("ArrowDown"===m){var w=a+1;if(w>=x.length)return;u?(x.splice(w,0,x.splice(a,1)[0]),q.sort(x),this._sortLayers(q),this._focusSortUid=null===(c=r.layer)||void 0===c?void 0:
c.uid):(this._focusSortUid=null===(f=r.layer)||void 0===f?void 0:f.uid,this.scheduleRender())}"ArrowUp"===m&&(w=a-1,-1>=w||(u?(x.splice(w,0,x.splice(a,1)[0]),q.sort(x),this._sortLayers(q),this._focusSortUid=null===(h=r.layer)||void 0===h?void 0:h.uid):(this._focusSortUid=null===(l=r.layer)||void 0===l?void 0:l.uid,this.scheduleRender())))}}}};r.prototype._toggleActionsOpen=function(a){var c=a.currentTarget["data-item"],f=!c.actionsOpen;f&&this.operationalItems.forEach(function(a){return ma(a)});c.actionsOpen=
f;a.stopPropagation()};r.prototype._triggerPanel=function(a){var c=a.currentTarget["data-panel"];c&&(c.open=!c.open);a.stopPropagation()};r.prototype._triggerAction=function(a){var c=a.currentTarget,f=c["data-action"],c=c["data-item"];"toggle"===f.type&&(f.value=!f.value);this.triggerAction(f,c);a.stopPropagation()};r.prototype._toggleVisibility=function(a){var c=a.currentTarget,f=c.getAttribute("data-parent-visibility"),c=c["data-item"];"exclusive"===f&&c.visible||(c.visible=!c.visible);a.stopPropagation()};
r.prototype._toggleChildrenClick=function(a){var c=a.currentTarget["data-item"];c.open=!c.open;a.stopPropagation()};r.prototype._toggleSelection=function(a){a.stopPropagation();var c=this.selectedItems,f=this.multipleSelectionEnabled&&(a.metaKey||a.ctrlKey);a=a.currentTarget["data-item"];var h=G.findSelectedItem(a,c),l=c.length,m=h&&1===l;f?h?c.remove(h):c.add(a):l&&!m?(c.removeAll(),c.add(a)):h?c.remove(h):c.add(a)};c.__decorate([m.property()],r.prototype,"visibleItems",void 0);c.__decorate([m.property()],
r.prototype,"iconClass",void 0);c.__decorate([m.property(),w.renderable()],r.prototype,"errorsVisible",void 0);c.__decorate([m.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],r.prototype,"label",void 0);c.__decorate([m.aliasOf("viewModel.listItemCreatedFunction"),w.renderable()],r.prototype,"listItemCreatedFunction",void 0);c.__decorate([m.property(),w.renderable(),w.messageBundle("esri/widgets/LayerList/t9n/LayerList")],r.prototype,"messages",void 0);c.__decorate([m.property(),
w.renderable(),w.messageBundle("esri/t9n/common")],r.prototype,"messagesCommon",void 0);c.__decorate([m.property()],r.prototype,"multipleSelectionEnabled",void 0);c.__decorate([m.aliasOf("viewModel.operationalItems"),w.renderable()],r.prototype,"operationalItems",void 0);c.__decorate([m.property(),w.renderable()],r.prototype,"selectionEnabled",void 0);c.__decorate([m.property(),w.renderable()],r.prototype,"selectedItems",void 0);c.__decorate([m.property(),w.renderable()],r.prototype,"statusIndicatorsVisible",
null);c.__decorate([m.aliasOf("viewModel.view"),w.renderable()],r.prototype,"view",void 0);c.__decorate([w.vmEvent("trigger-action"),m.property({type:C}),w.renderable("viewModel.state")],r.prototype,"viewModel",void 0);c.__decorate([m.property(),w.renderable()],r.prototype,"visibleElements",void 0);c.__decorate([m.cast("visibleElements")],r.prototype,"castVisibleElements",null);c.__decorate([m.aliasOf("viewModel.triggerAction")],r.prototype,"triggerAction",null);c.__decorate([w.accessibleHandler()],
r.prototype,"_toggleActionsOpen",null);c.__decorate([w.accessibleHandler()],r.prototype,"_triggerPanel",null);c.__decorate([w.accessibleHandler()],r.prototype,"_triggerAction",null);c.__decorate([w.accessibleHandler()],r.prototype,"_toggleVisibility",null);c.__decorate([w.accessibleHandler()],r.prototype,"_toggleChildrenClick",null);c.__decorate([w.accessibleHandler()],r.prototype,"_toggleSelection",null);return r=c.__decorate([m.subclass("esri.widgets.LayerList")],r)}(z)});