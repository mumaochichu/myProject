// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.quat=d})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),function(a,b,d,n,p,m,k,h){function l(c,e,a){a*=.5;var g=Math.sin(a);c[0]=g*e[0];c[1]=g*e[1];c[2]=g*e[2];c[3]=Math.cos(a);return c}function c(c,e,a){var g=
e[0],f=e[1],r=e[2];e=e[3];var b=a[0],q=a[1],l=a[2];a=a[3];c[0]=g*a+e*b+f*l-r*q;c[1]=f*a+e*q+r*b-g*l;c[2]=r*a+e*l+g*q-f*b;c[3]=e*a-g*b-f*q-r*l;return c}function e(c,e,a,g){var f=e[0],r=e[1],b=e[2];e=e[3];var q=a[0],l=a[1],d=a[2];a=a[3];var h,t,z;t=f*q+r*l+b*d+e*a;0>t&&(t=-t,q=-q,l=-l,d=-d,a=-a);1-t>m.EPSILON?(h=Math.acos(t),z=Math.sin(h),t=Math.sin((1-g)*h)/z,g=Math.sin(g*h)/z):t=1-g;c[0]=t*f+g*q;c[1]=t*r+g*l;c[2]=t*b+g*d;c[3]=t*e+g*a;return c}function r(c,e){var a=e[0]+e[4]+e[8];if(0<a)a=Math.sqrt(a+
1),c[3]=.5*a,a=.5/a,c[0]=(e[5]-e[7])*a,c[1]=(e[6]-e[2])*a,c[2]=(e[1]-e[3])*a;else{var g=0;e[4]>e[0]&&(g=1);e[8]>e[3*g+g]&&(g=2);var f=(g+1)%3,r=(g+2)%3,a=Math.sqrt(e[3*g+g]-e[3*f+f]-e[3*r+r]+1);c[g]=.5*a;a=.5/a;c[3]=(e[3*f+r]-e[3*r+f])*a;c[f]=(e[3*f+g]+e[3*g+f])*a;c[r]=(e[3*r+g]+e[3*g+r])*a}return c}Object.defineProperty(b,"__esModule",{value:!0});b.identity=function(c){c[0]=0;c[1]=0;c[2]=0;c[3]=1;return c};b.setAxisAngle=l;b.getAxisAngle=function(c,e){var a=2*Math.acos(e[3]),g=Math.sin(a/2);g>m.EPSILON?
(c[0]=e[0]/g,c[1]=e[1]/g,c[2]=e[2]/g):(c[0]=1,c[1]=0,c[2]=0);return a};b.multiply=c;b.rotateX=function(c,e,a){a*=.5;var g=e[0],f=e[1],r=e[2];e=e[3];var b=Math.sin(a);a=Math.cos(a);c[0]=g*a+e*b;c[1]=f*a+r*b;c[2]=r*a-f*b;c[3]=e*a-g*b;return c};b.rotateY=function(c,e,a){a*=.5;var g=e[0],f=e[1],r=e[2];e=e[3];var b=Math.sin(a);a=Math.cos(a);c[0]=g*a-r*b;c[1]=f*a+e*b;c[2]=r*a+g*b;c[3]=e*a-f*b;return c};b.rotateZ=function(c,e,a){a*=.5;var g=e[0],f=e[1],r=e[2];e=e[3];var b=Math.sin(a);a=Math.cos(a);c[0]=
g*a+f*b;c[1]=f*a-g*b;c[2]=r*a+e*b;c[3]=e*a-r*b;return c};b.calculateW=function(c,e){var a=e[0],g=e[1];e=e[2];c[0]=a;c[1]=g;c[2]=e;c[3]=Math.sqrt(Math.abs(1-a*a-g*g-e*e));return c};b.slerp=e;b.random=function(c){var e=m.RANDOM(),a=m.RANDOM(),g=m.RANDOM(),f=Math.sqrt(1-e),e=Math.sqrt(e);c[0]=f*Math.sin(2*Math.PI*a);c[1]=f*Math.cos(2*Math.PI*a);c[2]=e*Math.sin(2*Math.PI*g);c[3]=e*Math.cos(2*Math.PI*g);return c};b.invert=function(c,e){var a=e[0],g=e[1],f=e[2];e=e[3];var r=a*a+g*g+f*f+e*e,r=r?1/r:0;c[0]=
-a*r;c[1]=-g*r;c[2]=-f*r;c[3]=e*r;return c};b.conjugate=function(c,e){c[0]=-e[0];c[1]=-e[1];c[2]=-e[2];c[3]=e[3];return c};b.fromMat3=r;b.fromEuler=function(c,e,a,g){var f=.5*Math.PI/180;e*=f;a*=f;g*=f;f=Math.sin(e);e=Math.cos(e);var r=Math.sin(a);a=Math.cos(a);var b=Math.sin(g);g=Math.cos(g);c[0]=f*a*g-e*r*b;c[1]=e*r*g+f*a*b;c[2]=e*a*b-f*r*g;c[3]=e*a*g+f*r*b;return c};b.str=function(c){return"quat("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};b.copy=h.copy;b.set=h.set;b.add=h.add;b.mul=c;b.scale=h.scale;
b.dot=h.dot;b.lerp=h.lerp;b.length=h.length;b.len=b.length;b.squaredLength=h.squaredLength;b.sqrLen=b.squaredLength;b.normalize=h.normalize;b.exactEquals=h.exactEquals;b.equals=h.equals;b.rotationTo=function(c,e,a){var r=k.dot(e,a);if(-.999999>r)return k.cross(g,q,e),1E-6>k.len(g)&&k.cross(g,f,e),k.normalize(g,g),l(c,g,Math.PI),c;if(.999999<r)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;k.cross(g,e,a);c[0]=g[0];c[1]=g[1];c[2]=g[2];c[3]=1+r;return b.normalize(c,c)};var g=p.create(),q=p.fromValues(1,0,0),f=
p.fromValues(0,1,0);b.sqlerp=function(c,a,g,f,r,b){e(t,a,r,b);e(u,g,f,b);e(c,t,u,2*b*(1-b));return c};var t=n.create(),u=n.create();b.setAxes=function(c,e,a,g){var f=z;f[0]=a[0];f[3]=a[1];f[6]=a[2];f[1]=g[0];f[4]=g[1];f[7]=g[2];f[2]=-e[0];f[5]=-e[1];f[8]=-e[2];return b.normalize(c,r(c,f))};var z=d.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[1,0,0,0,1,0,0,
0,1]};b.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]};b.fromValues=function(a,b,p,m,k,h,l,c,e){return[a,b,p,m,k,h,l,c,e]};b.createView=function(a,b){return new Float64Array(a,b,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(a,b){function d(){return[0,0,0,1]}Object.defineProperty(b,"__esModule",{value:!0});b.create=d;b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=function(a,b,d,k){return[a,b,d,k]};b.createView=
function(a,b){return new Float64Array(a,b,4)};b.IDENTITY=d()})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(a,b){function d(){return[0,0,0]}function n(){return[1,1,1]}function p(){return[1,0,0]}function m(){return[0,1,0]}function k(){return[0,0,1]}Object.defineProperty(b,"__esModule",{value:!0});b.create=d;b.clone=function(a){return[a[0],a[1],a[2]]};b.fromValues=function(a,b,c){return[a,b,c]};b.fromArray=function(a){for(var b=d(),c=Math.min(3,a.length),
e=0;e<c;++e)b[e]=a[e];return b};b.createView=function(a,b){return new Float64Array(a,b,3)};b.zeros=function(){return d()};b.ones=n;b.unitX=p;b.unitY=m;b.unitZ=k;b.ZEROS=d();b.ONES=n();b.UNIT_X=p();b.UNIT_Y=m();b.UNIT_Z=k()})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.EPSILON=1E-6;b.RANDOM=Math.random;var d=Math.PI/180,n=180/Math.PI;b.toRadian=function(a){return a*d};b.toDegree=function(a){return a*
n};b.equals=function(a,d){return Math.abs(a-d)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))}})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64","./common"],function(a,b,d,n){function p(c){var e=c[0],a=c[1];c=c[2];return Math.sqrt(e*e+a*a+c*c)}function m(c,e){c[0]=e[0];c[1]=e[1];c[2]=e[2];return c}function k(c,e,a){c[0]=e[0]-a[0];c[1]=e[1]-a[1];c[2]=e[2]-a[2];return c}function h(c,e,a){c[0]=e[0]*a[0];c[1]=e[1]*a[1];c[2]=e[2]*a[2];return c}function l(c,
e,a){c[0]=e[0]/a[0];c[1]=e[1]/a[1];c[2]=e[2]/a[2];return c}function c(c,e){var a=e[0]-c[0],g=e[1]-c[1];c=e[2]-c[2];return Math.sqrt(a*a+g*g+c*c)}function e(c,e){var a=e[0]-c[0],g=e[1]-c[1];c=e[2]-c[2];return a*a+g*g+c*c}function r(c){var e=c[0],a=c[1];c=c[2];return e*e+a*a+c*c}function g(c,e){var a=e[0],g=e[1],f=e[2],a=a*a+g*g+f*f;0<a&&(a=1/Math.sqrt(a),c[0]=e[0]*a,c[1]=e[1]*a,c[2]=e[2]*a);return c}function q(c,e){return c[0]*e[0]+c[1]*e[1]+c[2]*e[2]}Object.defineProperty(b,"__esModule",{value:!0});
b.length=p;b.copy=m;b.set=function(c,e,a,g){c[0]=e;c[1]=a;c[2]=g;return c};b.add=function(c,e,a){c[0]=e[0]+a[0];c[1]=e[1]+a[1];c[2]=e[2]+a[2];return c};b.subtract=k;b.multiply=h;b.divide=l;b.ceil=function(c,e){c[0]=Math.ceil(e[0]);c[1]=Math.ceil(e[1]);c[2]=Math.ceil(e[2]);return c};b.floor=function(c,e){c[0]=Math.floor(e[0]);c[1]=Math.floor(e[1]);c[2]=Math.floor(e[2]);return c};b.min=function(c,e,a){c[0]=Math.min(e[0],a[0]);c[1]=Math.min(e[1],a[1]);c[2]=Math.min(e[2],a[2]);return c};b.max=function(c,
e,a){c[0]=Math.max(e[0],a[0]);c[1]=Math.max(e[1],a[1]);c[2]=Math.max(e[2],a[2]);return c};b.round=function(c,e){c[0]=Math.round(e[0]);c[1]=Math.round(e[1]);c[2]=Math.round(e[2]);return c};b.scale=function(c,e,a){c[0]=e[0]*a;c[1]=e[1]*a;c[2]=e[2]*a;return c};b.scaleAndAdd=function(c,e,a,g){c[0]=e[0]+a[0]*g;c[1]=e[1]+a[1]*g;c[2]=e[2]+a[2]*g;return c};b.distance=c;b.squaredDistance=e;b.squaredLength=r;b.negate=function(c,e){c[0]=-e[0];c[1]=-e[1];c[2]=-e[2];return c};b.inverse=function(c,e){c[0]=1/e[0];
c[1]=1/e[1];c[2]=1/e[2];return c};b.normalize=g;b.dot=q;b.cross=function(c,e,a){var g=e[0],f=e[1];e=e[2];var r=a[0],b=a[1];a=a[2];c[0]=f*a-e*b;c[1]=e*r-g*a;c[2]=g*b-f*r;return c};b.lerp=function(c,e,a,g){var f=e[0],r=e[1];e=e[2];c[0]=f+g*(a[0]-f);c[1]=r+g*(a[1]-r);c[2]=e+g*(a[2]-e);return c};b.hermite=function(c,e,a,g,f,r){var b=r*r,q=b*(2*r-3)+1,l=b*(r-2)+r,d=b*(r-1);r=b*(3-2*r);c[0]=e[0]*q+a[0]*l+g[0]*d+f[0]*r;c[1]=e[1]*q+a[1]*l+g[1]*d+f[1]*r;c[2]=e[2]*q+a[2]*l+g[2]*d+f[2]*r;return c};b.bezier=
function(c,e,a,g,f,r){var b=1-r,q=b*b,l=r*r,d=q*b,q=3*r*q,b=3*l*b;r*=l;c[0]=e[0]*d+a[0]*q+g[0]*b+f[0]*r;c[1]=e[1]*d+a[1]*q+g[1]*b+f[1]*r;c[2]=e[2]*d+a[2]*q+g[2]*b+f[2]*r;return c};b.random=function(c,e){e=e||1;var a=2*n.RANDOM()*Math.PI,g=2*n.RANDOM()-1,f=Math.sqrt(1-g*g)*e;c[0]=Math.cos(a)*f;c[1]=Math.sin(a)*f;c[2]=g*e;return c};b.transformMat4=function(c,e,a){var g=e[0],f=e[1];e=e[2];c[0]=a[0]*g+a[4]*f+a[8]*e+a[12];c[1]=a[1]*g+a[5]*f+a[9]*e+a[13];c[2]=a[2]*g+a[6]*f+a[10]*e+a[14];return c};b.transformMat3=
function(c,e,a){var g=e[0],f=e[1];e=e[2];c[0]=g*a[0]+f*a[3]+e*a[6];c[1]=g*a[1]+f*a[4]+e*a[7];c[2]=g*a[2]+f*a[5]+e*a[8];return c};b.transformQuat=function(c,e,a){var g=a[0],f=a[1],r=a[2],b=e[0],q=e[1];e=e[2];var l=f*e-r*q,d=r*b-g*e,h=g*q-f*b;a=2*a[3];c[0]=b+l*a+2*(f*h-r*d);c[1]=q+d*a+2*(r*l-g*h);c[2]=e+h*a+2*(g*d-f*l);return c};b.rotateX=function(c,e,a,g){var f=[],r=[];f[0]=e[0]-a[0];f[1]=e[1]-a[1];f[2]=e[2]-a[2];r[0]=f[0];r[1]=f[1]*Math.cos(g)-f[2]*Math.sin(g);r[2]=f[1]*Math.sin(g)+f[2]*Math.cos(g);
c[0]=r[0]+a[0];c[1]=r[1]+a[1];c[2]=r[2]+a[2];return c};b.rotateY=function(c,e,a,g){var f=[],r=[];f[0]=e[0]-a[0];f[1]=e[1]-a[1];f[2]=e[2]-a[2];r[0]=f[2]*Math.sin(g)+f[0]*Math.cos(g);r[1]=f[1];r[2]=f[2]*Math.cos(g)-f[0]*Math.sin(g);c[0]=r[0]+a[0];c[1]=r[1]+a[1];c[2]=r[2]+a[2];return c};b.rotateZ=function(c,e,a,g){var f=[],r=[];f[0]=e[0]-a[0];f[1]=e[1]-a[1];f[2]=e[2]-a[2];r[0]=f[0]*Math.cos(g)-f[1]*Math.sin(g);r[1]=f[0]*Math.sin(g)+f[1]*Math.cos(g);r[2]=f[2];c[0]=r[0]+a[0];c[1]=r[1]+a[1];c[2]=r[2]+a[2];
return c};b.angle=function(c,e){m(f,c);m(t,e);g(f,f);g(t,t);c=q(f,t);return 1<c?0:-1>c?Math.PI:Math.acos(c)};var f=d.create(),t=d.create();b.str=function(c){return"vec3("+c[0]+", "+c[1]+", "+c[2]+")"};b.exactEquals=function(c,e){return c[0]===e[0]&&c[1]===e[1]&&c[2]===e[2]};b.equals=function(c,e){var a=c[0],g=c[1];c=c[2];var f=e[0],r=e[1];e=e[2];return Math.abs(a-f)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(g-r)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(r))&&Math.abs(c-e)<=n.EPSILON*
Math.max(1,Math.abs(c),Math.abs(e))};b.sub=k;b.mul=h;b.div=l;b.dist=c;b.sqrDist=e;b.len=p;b.sqrLen=r})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(a,b,d){function n(c,a,g){c[0]=a[0]-g[0];c[1]=a[1]-g[1];c[2]=a[2]-g[2];c[3]=a[3]-g[3];return c}function p(c,a,g){c[0]=a[0]*g[0];c[1]=a[1]*g[1];c[2]=a[2]*g[2];c[3]=a[3]*g[3];return c}function m(c,a,g){c[0]=a[0]/g[0];c[1]=a[1]/g[1];c[2]=a[2]/g[2];c[3]=a[3]/g[3];return c}function k(c,a){var e=a[0]-c[0],
r=a[1]-c[1],f=a[2]-c[2];c=a[3]-c[3];return Math.sqrt(e*e+r*r+f*f+c*c)}function h(c,a){var e=a[0]-c[0],r=a[1]-c[1],f=a[2]-c[2];c=a[3]-c[3];return e*e+r*r+f*f+c*c}function l(c){var e=c[0],a=c[1],b=c[2];c=c[3];return Math.sqrt(e*e+a*a+b*b+c*c)}function c(c){var e=c[0],a=c[1],b=c[2];c=c[3];return e*e+a*a+b*b+c*c}Object.defineProperty(b,"__esModule",{value:!0});b.copy=function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c};b.set=function(c,a,g,b,f){c[0]=a;c[1]=g;c[2]=b;c[3]=f;return c};b.add=function(c,
a,g){c[0]=a[0]+g[0];c[1]=a[1]+g[1];c[2]=a[2]+g[2];c[3]=a[3]+g[3];return c};b.subtract=n;b.multiply=p;b.divide=m;b.ceil=function(c,a){c[0]=Math.ceil(a[0]);c[1]=Math.ceil(a[1]);c[2]=Math.ceil(a[2]);c[3]=Math.ceil(a[3]);return c};b.floor=function(c,a){c[0]=Math.floor(a[0]);c[1]=Math.floor(a[1]);c[2]=Math.floor(a[2]);c[3]=Math.floor(a[3]);return c};b.min=function(c,a,g){c[0]=Math.min(a[0],g[0]);c[1]=Math.min(a[1],g[1]);c[2]=Math.min(a[2],g[2]);c[3]=Math.min(a[3],g[3]);return c};b.max=function(c,a,g){c[0]=
Math.max(a[0],g[0]);c[1]=Math.max(a[1],g[1]);c[2]=Math.max(a[2],g[2]);c[3]=Math.max(a[3],g[3]);return c};b.round=function(c,a){c[0]=Math.round(a[0]);c[1]=Math.round(a[1]);c[2]=Math.round(a[2]);c[3]=Math.round(a[3]);return c};b.scale=function(c,a,g){c[0]=a[0]*g;c[1]=a[1]*g;c[2]=a[2]*g;c[3]=a[3]*g;return c};b.scaleAndAdd=function(c,a,g,b){c[0]=a[0]+g[0]*b;c[1]=a[1]+g[1]*b;c[2]=a[2]+g[2]*b;c[3]=a[3]+g[3]*b;return c};b.distance=k;b.squaredDistance=h;b.length=l;b.squaredLength=c;b.negate=function(c,a){c[0]=
-a[0];c[1]=-a[1];c[2]=-a[2];c[3]=-a[3];return c};b.inverse=function(c,a){c[0]=1/a[0];c[1]=1/a[1];c[2]=1/a[2];c[3]=1/a[3];return c};b.normalize=function(c,a){var e=a[0],b=a[1],f=a[2];a=a[3];var r=e*e+b*b+f*f+a*a;0<r&&(r=1/Math.sqrt(r),c[0]=e*r,c[1]=b*r,c[2]=f*r,c[3]=a*r);return c};b.dot=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]};b.lerp=function(c,a,g,b){var e=a[0],r=a[1],q=a[2];a=a[3];c[0]=e+b*(g[0]-e);c[1]=r+b*(g[1]-r);c[2]=q+b*(g[2]-q);c[3]=a+b*(g[3]-a);return c};b.random=function(c,
a){a=a||1;var e,b,f,r,l,h;do e=2*d.RANDOM()-1,b=2*d.RANDOM()-1,l=e*e+b*b;while(1<=l);do f=2*d.RANDOM()-1,r=2*d.RANDOM()-1,h=f*f+r*r;while(1<=h);l=Math.sqrt((1-l)/h);c[0]=a*e;c[1]=a*b;c[2]=a*f*l;c[3]=a*r*l;return c};b.transformMat4=function(c,a,g){var e=a[0],f=a[1],b=a[2];a=a[3];c[0]=g[0]*e+g[4]*f+g[8]*b+g[12]*a;c[1]=g[1]*e+g[5]*f+g[9]*b+g[13]*a;c[2]=g[2]*e+g[6]*f+g[10]*b+g[14]*a;c[3]=g[3]*e+g[7]*f+g[11]*b+g[15]*a;return c};b.transformQuat=function(c,a,g){var e=a[0],f=a[1],b=a[2],r=g[0],l=g[1],d=g[2];
g=g[3];var h=g*e+l*b-d*f,k=g*f+d*e-r*b,n=g*b+r*f-l*e,e=-r*e-l*f-d*b;c[0]=h*g+e*-r+k*-d-n*-l;c[1]=k*g+e*-l+n*-r-h*-d;c[2]=n*g+e*-d+h*-l-k*-r;c[3]=a[3];return c};b.str=function(c){return"vec4("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};b.exactEquals=function(c,a){return c[0]===a[0]&&c[1]===a[1]&&c[2]===a[2]&&c[3]===a[3]};b.equals=function(c,a){var e=c[0],b=c[1],f=c[2];c=c[3];var r=a[0],l=a[1],h=a[2];a=a[3];return Math.abs(e-r)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(r))&&Math.abs(b-l)<=d.EPSILON*Math.max(1,
Math.abs(b),Math.abs(l))&&Math.abs(f-h)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(h))&&Math.abs(c-a)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(a))};b.sub=n;b.mul=p;b.div=m;b.dist=k;b.sqrDist=h;b.len=l;b.sqrLen=c})},"esri/core/libs/gl-matrix-2/quatf32":function(){define(["require","exports","./factories/quatf32"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.quatf32=d})},"esri/core/libs/gl-matrix-2/factories/quatf32":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,
"__esModule",{value:!0});b.create=function(){var a=new Float32Array(4);a[3]=1;return a};b.clone=function(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};b.fromValues=function(a,b,p,m){var d=new Float32Array(4);d[0]=a;d[1]=b;d[2]=p;d[3]=m;return d};b.createView=function(a,b){return new Float32Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require","exports","./math/vec3"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.vec3=
d})},"esri/core/libs/gl-matrix-2/vec3f32":function(){define(["require","exports","./factories/vec3f32"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.vec3f32=d})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["require","exports"],function(a,b){function d(){return new Float32Array(3)}function n(a,c,e){var b=new Float32Array(3);b[0]=a;b[1]=c;b[2]=e;return b}function p(){return n(1,1,1)}function m(){return n(1,0,0)}function k(){return n(0,1,0)}function h(){return n(0,
0,1)}Object.defineProperty(b,"__esModule",{value:!0});b.create=d;b.clone=function(a){var c=new Float32Array(3);c[0]=a[0];c[1]=a[1];c[2]=a[2];return c};b.fromValues=n;b.createView=function(a,c){return new Float32Array(a,c,3)};b.zeros=function(){return d()};b.ones=p;b.unitX=m;b.unitY=k;b.unitZ=h;b.ZEROS=d();b.ONES=p();b.UNIT_X=m();b.UNIT_Y=k();b.UNIT_Z=h()})},"esri/geometry/SpatialReference":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),
function(a,b,d,n,p,m,k){a=function(a){function b(c){c=a.call(this,c)||this;c.latestWkid=null;c.wkid=null;c.wkt=null;c.imageCoordinateSystem=null;return c}d.__extends(b,a);c=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return c.WebMercator;if(4326===a.wkid)return c.WGS84}var e=new c;e.read(a);return e};b.prototype.normalizeCtorArgs=function(c){var a;return c&&"object"===typeof c?c:(a={},a["string"===typeof c?"wkt":"wkid"]=c,a)};Object.defineProperty(b.prototype,"isWGS84",
{get:function(){return k.isWGS84(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return k.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return k.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return k.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(c,a){this.wkid||(a.wkt=
c)};b.prototype.clone=function(){if(this===c.WGS84)return c.WGS84;if(this===c.WebMercator)return c.WebMercator;var a=new c;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);this.imageCoordinateSystem&&(a.imageCoordinateSystem=p.clone(this.imageCoordinateSystem));return a};b.prototype.equals=function(c){if(null==c)return!1;
if(this.imageCoordinateSystem||c.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==c.imageCoordinateSystem)return!1;var a=c.imageCoordinateSystem,e=a.id,a=a.referenceServiceName,b=c.imageCoordinateSystem.geodataXform,f=this.imageCoordinateSystem;return null==e||b?JSON.stringify(f)===JSON.stringify(c.imageCoordinateSystem):a?f.id===e&&f.referenceServiceName===a:f.id===e}return k.equals(this,c)};b.prototype.toJSON=function(c){return this.write(null,c)};var c;b.GCS_NAD_1927=null;b.WGS84=
null;b.WebMercator=null;d.__decorate([m.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWGS84",null);d.__decorate([m.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);d.__decorate([m.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);d.__decorate([m.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);d.__decorate([m.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);d.__decorate([m.property({type:Number,
json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],b.prototype,"wkid",void 0);d.__decorate([m.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);d.__decorate([m.writer("wkt"),m.writer("web-scene","wkt")],b.prototype,"writeWkt",null);d.__decorate([m.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);d.__decorate([m.property({type:Number,
json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);d.__decorate([m.property()],b.prototype,"imageCoordinateSystem",void 0);return b=c=d.__decorate([m.subclass("esri.geometry.SpatialReference")],b)}(n.JSONSupport);a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});a.WGS84=new a(k.WGS84);a.WebMercator=
new a(k.WebMercator);Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/core/JSONSupport":function(){define("require exports tslib ./Accessor ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),function(a,b,d,n,p,m,k){Object.defineProperty(b,"__esModule",{value:!0});b.JSONSupportMixin=function(a){a=function(a){function c(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];return a.apply(this,
c)||this}d.__extends(c,a);c.prototype.read=function(c,a){m.default(this,c,a)};c.prototype.write=function(c,a){return k.default(this,c||{},a)};c.prototype.toJSON=function(c){return this.write(null,c)};c.fromJSON=function(c,a){if(c){if(c.declaredClass)throw Error("JSON object is already hydrated");var e=new this;e.read(c,a);c=e}else c=null;return c};return c=d.__decorate([p.subclass("esri.core.JSONSupport")],c)}(a);a.prototype.toJSON.isDefaultToJSON=!0;return a};b.isJSONSupport=function(a){return a&&
"read"in a&&"write"in a&&"toJSON"in a};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}d.__extends(b,a);return b=d.__decorate([p.subclass("esri.core.JSONSupport")],b)}(b.JSONSupportMixin(n));b.JSONSupport=a})},"esri/core/accessorSupport/read":function(){define("require exports tslib ./get ./utils ./extensions/serializableProperty".split(" "),function(a,b,d,n,p,m){function k(a,c,e){void 0===e&&(e=h);if(c&&"object"===typeof c){for(var b=p.getProperties(a),g=b.metadatas,q={},
f=0,l=Object.getOwnPropertyNames(c);f<l.length;f++){var d=q,k=g,v=l[f],B=c,y=e,x=m.originSpecificReadPropertyDefinition(k[v],y);x&&(!x.read||!1!==x.read.enabled&&!x.read.source)&&(d[v]=!0);for(var w=0,A=Object.getOwnPropertyNames(k);w<A.length;w++){var D=A[w],x=m.originSpecificReadPropertyDefinition(k[D],y),C;a:{C=v;var F=B;if(x&&x.read&&!1!==x.read.enabled&&x.read.source)if(x=x.read.source,"string"===typeof x){if(x===C||-1<x.indexOf(".")&&0===x.indexOf(C)&&n.exists(x,F)){C=!0;break a}}else for(var E=
0;E<x.length;E++){var G=x[E];if(G===C||-1<G.indexOf(".")&&0===G.indexOf(C)&&n.exists(G,F)){C=!0;break a}}C=!1}C&&(d[D]=!0)}}b.setDefaultOrigin(e.origin);l=0;for(d=Object.getOwnPropertyNames(q);l<d.length;l++)f=d[l],v=(k=m.originSpecificReadPropertyDefinition(g[f],e).read)&&k.source,B=void 0,B=v&&"string"===typeof v?n.valueOf(c,v):c[f],k&&k.reader&&(B=k.reader.call(a,B,c,e)),void 0!==B&&b.set(f,B);if(!e||!e.ignoreDefaults)for(c=0,g=Object.getOwnPropertyNames(g);c<g.length;c++)f=g[c],q[f]||(l=a,d=b,
k=e,v=(v=m.originSpecificPropertyDefinition(d.metadatas[f],"any",k))&&v.default,void 0!==v&&(l="function"===typeof v?v.call(l,f,k):v,void 0!==l&&d.set(f,l)));b.setDefaultOrigin("user")}}Object.defineProperty(b,"__esModule",{value:!0});var h={origin:"service"};b.read=k;b.readLoadable=function(a,c,e,b){void 0===b&&(b=h);c=d.__assign(d.__assign({},b),{messages:[]});e(c);c.messages.forEach(function(c){"warning"!==c.type||a.loaded?b&&b.messages.push(c):a.loadWarnings.push(c)})};b.default=k})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ../promiseUtils ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(a,b,d,n,p,m,k,h,l){function c(c,a,e,g,b){var f={};a.write.writer.call(c,g,f,e,b);return f}function e(c,a,e,b,r,l){if(!b||!b.write)return!1;var f=c.get(e);if(!r&&b.write.overridePolicy){var q=b.write.overridePolicy.call(c,f,e,l);void 0!==q&&(r=q)}r||(r=b.write);if(!r||!1===r.enabled)return!1;if((null===f&&!r.allowNull||void 0===f)&&r.isRequired)return(a=new n("web-document-write:property-required","Missing value for required property '"+e+"' on '"+c.declaredClass+"'",{propertyName:e,target:c}),
l)&&l.messages?l.messages.push(a):a&&!l&&g.error(a.name,a.message),!1;if(void 0===f||null===f&&!r.allowNull)return!1;q=b.default;void 0===q?f=!1:null!=b.defaultEquals?f=b.defaultEquals(f):"function"===typeof q?Array.isArray(f)?(c=q.call(c,e,l),f=d.equals(c,f)):f=!1:f=q===f;return f?!1:void 0!==b.default?!0:!r.ignoreOrigin&&l&&l.origin&&a.store.originOf(e)<k.nameToId(l.origin)?!1:!0}function r(a,f,g){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return h.merge(f,a.toJSON());
var b=h.getProperties(a),r=b.metadatas,q=function(q){var d=l.originSpecificWritePropertyDefinition(r[q],g);if(!e(a,b,q,d,null,g))return"continue";var t=a.get(q),z=c(a,d,"string"===typeof d.write.target?d.write.target:q,t,g);0<Object.keys(z).length&&(f=h.merge(f,z),g&&g.resources&&g.resources.pendingOperations&&g.resources.pendingOperations.length&&m.all(g.resources.pendingOperations).then(function(){return h.merge(f,z)}),g&&g.writtenProperties&&g.writtenProperties.push({target:a,propName:q,oldOrigin:k.idToReadableName(b.store.originOf(q)),
newOrigin:g.origin}))},d;for(d in r)q(d);return f}Object.defineProperty(b,"__esModule",{value:!0});var g=p.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(c,a,g,b){var f=h.getProperties(c),r=l.originSpecificWritePropertyDefinition(f.metadatas[a],b);return r?e(c,f,a,r,g,b):!1};b.write=r;b.default=r})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","../../core/string","./WKIDUnitConversion"],function(a,b,d,n){function p(c){return k(c)&&
c.wkid?e[c.wkid]:null}function m(c){return k(c)&&!0===h[c.wkid]}function k(c){return null!=c&&(null!=c.wkid&&2E3<=c.wkid||null!=c.wkt)}Object.defineProperty(b,"__esModule",{value:!0});var h={102113:!0,102100:!0,3857:!0,3785:!0},l={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var c=[-2.0037508342787E7,2.0037508342787E7],e={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:c,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:c,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:c,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:a,origin:c,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(c,a){return c&&a?c===a?!0:null!=c.wkid||null!=a.wkid?c.wkid===a.wkid||m(c)&&m(a)||null!=a.latestWkid&&c.wkid===a.latestWkid||null!=c.latestWkid&&a.wkid===c.latestWkid:c.wkt&&a.wkt?c.wkt.toUpperCase()===a.wkt.toUpperCase():!1:!1};b.getInfo=p;b.isGeographic=function(c){return k(c)?c.wkid?null==n[c.wkid]:c.wkt?!!/^\s*GEOGCS/i.test(c.wkt):!1:!1};b.isWGS84=function(c){return k(c)&&4326===c.wkid};b.isWebMercator=m;b.isWrappable=function(c){return k(c)&&
!0===l[c.wkid]};b.isValid=k;b.WGS84={wkid:4326,wkt:d.replace(p({wkid:4326}).wkTemplate,{Central_Meridian:"0.0"})};b.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(a)})(function(){var a,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,
20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,
2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,
3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,
3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,
3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,
5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,
6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,
6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,
6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,
6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,
7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,
7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,
8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,
8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,
9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,
27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,
65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,
103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,
103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,
103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,
103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=
a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=
a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=
a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=
a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=
a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=
a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=
a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=
a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=
a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=
a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=
a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=
a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=
a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=
a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=
a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=
a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;
for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=
0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=
2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=
0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=
0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=
0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103598>=a;a++)b[a]=0;for(a=103600;103694>=a;a++)b[a]=
0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/views/3d/layers/i3s/PointCloudWorkerUtil":function(){define("require exports ../../../../core/maybe ../../../../renderers/PointCloudClassBreaksRenderer ../../../../renderers/PointCloudStretchRenderer ../../../../renderers/PointCloudUniqueValueRenderer ./I3SBinaryReader ./LEPCC".split(" "),function(a,b,d,n,p,m,k,h){function l(c,a){for(var e=new Float64Array(a),
f=0;f<a;f++)e[f]=c[3*f+2];return e}function c(c){return null==c||"none"===c?null:"low-four-bit"===c?function(c){return c&15}:"high-four-bit"===c?function(c){return(c&240)>>4}:"absolute-value"===c?function(c){return Math.abs(c)}:"modulo-ten"===c?function(c){return c%10}:null}function e(c){var a=0,e=0;for(c=c?c:[];e<c.length;e++)a|=1<<c[e];return a}Object.defineProperty(b,"__esModule",{value:!0});b.evaluateRenderer=function(a,e,b,f){var g=a.rendererJSON,r=a.isRGBRenderer,q=a=null;if(e&&r)a=e;else if(e&&
"pointCloudUniqueValueRenderer"===g.type){var q=m.fromJSON(g),l=q.colorUniqueValueInfos;a=new Uint8Array(3*f);r=c(q.fieldTransformType);for(g=0;g<f;g++)for(var d=r?r(e[g]):e[g],d=d+"",h=0;h<l.length;h++)if(0<=l[h].values.indexOf(d)){a[3*g]=l[h].color.r;a[3*g+1]=l[h].color.g;a[3*g+2]=l[h].color.b;break}}else if(e&&"pointCloudStretchRenderer"===g.type)for(q=p.fromJSON(g),l=q.stops,a=new Uint8Array(3*f),r=c(q.fieldTransformType),g=0;g<f;g++)if(d=r?r(e[g]):e[g],h=l.length-1,d<l[0].value)a[3*g]=l[0].color.r,
a[3*g+1]=l[0].color.g,a[3*g+2]=l[0].color.b;else if(d>=l[h].value)a[3*g]=l[h].color.r,a[3*g+1]=l[h].color.g,a[3*g+2]=l[h].color.b;else for(h=1;h<l.length;h++){if(d<l[h].value){d=(d-l[h-1].value)/(l[h].value-l[h-1].value);a[3*g]=l[h].color.r*d+l[h-1].color.r*(1-d);a[3*g+1]=l[h].color.g*d+l[h-1].color.g*(1-d);a[3*g+2]=l[h].color.b*d+l[h-1].color.b*(1-d);break}}else if(e&&"pointCloudClassBreaksRenderer"===g.type)for(q=n.fromJSON(g),l=q.colorClassBreakInfos,a=new Uint8Array(3*f),r=c(q.fieldTransformType),
g=0;g<f;g++)for(d=r?r(e[g]):e[g],h=0;h<l.length;h++){if(d>=l[h].minValue&&d<=l[h].maxValue){a[3*g]=l[h].color.r;a[3*g+1]=l[h].color.g;a[3*g+2]=l[h].color.b;break}}else for(a=new Uint8Array(3*f),g=0;g<a.length;g++)a[g]=255;if(b&&q&&q.colorModulation)for(e=q.colorModulation.minValue,q=q.colorModulation.maxValue,g=0;g<f;g++)d=b[g],r=d>=q?1:d<=e?.3:.3+.7*(d-e)/(q-e),a[3*g]*=r,a[3*g+1]*=r,a[3*g+2]*=r;return a};b.readGeometry=function(c,a){if(null==c.encoding||""===c.encoding){c=k.createGeometryIndexFromSchema(a,
c);if(d.isNone(c.vertexAttributes.position))return;a=k.createTypedView(a,c.vertexAttributes.position);var e=c.header.fields;c=[e.offsetX,e.offsetY,e.offsetZ];for(var e=[e.scaleX,e.scaleY,e.scaleZ],g=a.length/3,b=new Float64Array(3*g),r=0;r<g;r++)b[3*r]=a[3*r]*e[0]+c[0],b[3*r+1]=a[3*r+1]*e[1]+c[1],b[3*r+2]=a[3*r+2]*e[2]+c[2];return b}if("lepcc-xyz"===c.encoding)return h.decodeXYZ(a).result};b.getAttributeValues=function(c,a,e){return d.isSome(c)&&c.attributeInfo.useElevation?l(a,e):d.isSome(c)?k.readBinaryAttribute(c.attributeInfo.storageInfo,
c.buffer,e):null};b.elevationFromPositions=l;b.filterInPlace=function(c,a,b,f,l){for(var g=c.length/3,r=0,q=0;q<g;q++){for(var d=!0,h=0;h<f.length&&d;h++){var t=f[h].filterJSON,k=l[h].values[q];switch(t.type){case "pointCloudValueFilter":var n="exclude"===t.mode;-1!==t.values.indexOf(k)===n&&(d=!1);break;case "pointCloudBitfieldFilter":n=e(t.requiredSetBits);t=e(t.requiredClearBits);if((k&n)!==n||0!==(k&t))d=!1;break;case "pointCloudReturnFilter":for(var m=k&15,p=k>>>4&15,k=1<p,n=1===m,m=m===p,p=
!1,F=0,t=t.includedReturns;F<t.length;F++){var E=t[F];if("last"===E&&m||"firstOfMany"===E&&n&&k||"lastOfMany"===E&&m&&k||"single"===E&&!k){p=!0;break}}p||(d=!1)}}d&&(b[r]=q,c[3*r]=c[3*q],c[3*r+1]=c[3*q+1],c[3*r+2]=c[3*q+2],a[3*r]=a[3*q],a[3*r+1]=a[3*q+1],a[3*r+2]=a[3*q+2],r++)}return r}})},"esri/renderers/PointCloudClassBreaksRenderer":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorClassBreakInfo".split(" "),
function(a,b,d,n,p,m,k,h){return function(a){function c(c){c=a.call(this,c)||this;c.type="point-cloud-class-breaks";c.field=null;c.legendOptions=null;c.fieldTransformType=null;c.colorClassBreakInfos=null;return c}d.__extends(c,a);e=c;c.prototype.clone=function(){return new e(d.__assign(d.__assign({},this.cloneProperties()),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:n.clone(this.colorClassBreakInfos),legendOptions:n.clone(this.legendOptions)}))};var e;d.__decorate([p.enumeration({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],
c.prototype,"type",void 0);d.__decorate([p.property({json:{write:!0},type:String})],c.prototype,"field",void 0);d.__decorate([p.property({type:k.default,json:{write:!0}})],c.prototype,"legendOptions",void 0);d.__decorate([p.property({type:m.fieldTransformTypeKebabDict.apiValues,json:{type:m.fieldTransformTypeKebabDict.jsonValues,read:m.fieldTransformTypeKebabDict.read,write:m.fieldTransformTypeKebabDict.write}})],c.prototype,"fieldTransformType",void 0);d.__decorate([p.property({type:[h.default],
json:{write:!0}})],c.prototype,"colorClassBreakInfos",void 0);return c=e=d.__decorate([p.subclass("esri.renderers.PointCloudClassBreaksRenderer")],c)}(m)})},"esri/renderers/PointCloudRenderer":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/pointCloud/ColorModulation ./support/pointCloud/pointSizeAlgorithmJSONUtils ./support/pointCloud/pointSizeAlgorithmTypeUtils".split(" "),function(a,b,d,n,p,m,k,h,l,c){var e=
n.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});a=function(a){function g(c){c=a.call(this,c)||this;c.type=void 0;c.pointSizeAlgorithm=null;c.colorModulation=null;c.pointsPerInch=10;return c}d.__extends(g,a);g.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};g.prototype.cloneProperties=
function(){return{pointSizeAlgorithm:m.clone(this.pointSizeAlgorithm),colorModulation:m.clone(this.colorModulation),pointsPerInch:m.clone(this.pointsPerInch)}};d.__decorate([k.property({type:e.apiValues,readOnly:!0,nonNullable:!0,json:{type:e.jsonValues,read:!1,write:e.write}})],g.prototype,"type",void 0);d.__decorate([k.property({types:c.pointSizeAlgorithmTypes,json:{read:l.read,write:!0}})],g.prototype,"pointSizeAlgorithm",void 0);d.__decorate([k.property({type:h.default,json:{write:!0}})],g.prototype,
"colorModulation",void 0);d.__decorate([k.property({json:{write:!0},nonNullable:!0,type:Number})],g.prototype,"pointsPerInch",void 0);return g=d.__decorate([k.subclass("esri.renderers.PointCloudRenderer")],g)}(p.JSONSupport);(a||(a={})).fieldTransformTypeKebabDict=new n.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});return a})},"esri/renderers/support/pointCloud/ColorModulation":function(){define(["require","exports",
"tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.field=null;b.minValue=0;b.maxValue=255;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({field:this.field,minValue:this.minValue,maxValue:this.maxValue})};var h;d.__decorate([p.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);d.__decorate([p.property({type:Number,
nonNullable:!0,json:{write:!0}})],b.prototype,"minValue",void 0);d.__decorate([p.property({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"maxValue",void 0);return b=h=d.__decorate([p.subclass("esri.renderers.support.pointCloud.ColorModulation")],b)}(n.JSONSupport);b.ColorModulation=a;b.default=a})},"esri/renderers/support/pointCloud/pointSizeAlgorithmJSONUtils":function(){define(["require","exports","../../../core/Warning","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(a,
b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});var m={pointCloudFixedSizeAlgorithm:n.default,pointCloudSplatAlgorithm:p.default};b.read=function(a,b,l){if(b=a?m[a.type]||null:null)return b=new b,b.read(a,l),b;l&&l.messages&&a&&l.messages.push(new d("pointsizealgorithm:unsupported","Point size algorithms of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:l}));return null};b.fromJSON=function(a){var b=a?m[a.type]||null:null;return b?b.fromJSON(a):null}})},"esri/core/Warning":function(){define(["require",
"exports","tslib","./Message"],function(a,b,d,n){a=function(a){function b(d,h,l){var c=a.call(this,d,h,l)||this;return c instanceof b?c:new b(d,h,l)}d.__extends(b,a);return b}(n);a.prototype.type="warning";return a})},"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":function(){define(["require","exports","tslib","../../../core/accessorSupport/decorators","./PointSizeAlgorithm"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==
a&&a.apply(this,arguments)||this;b.type="fixed-size";b.size=0;b.useRealWorldSymbolSizes=null;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})};var h;d.__decorate([n.enumeration({pointCloudFixedSizeAlgorithm:"fixed-size"})],b.prototype,"type",void 0);d.__decorate([n.property({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"size",void 0);d.__decorate([n.property({type:Boolean,json:{write:!0}})],
b.prototype,"useRealWorldSymbolSizes",void 0);return b=h=d.__decorate([n.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],b)}(p.default);b.PointSizeFixedSizeAlgorithm=a;b.default=a})},"esri/renderers/support/pointCloud/PointSizeAlgorithm":function(){define("require exports tslib ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(a,b,d,n,p,m){Object.defineProperty(b,"__esModule",{value:!0});b.typeKebabDictionary=new n.default({pointCloudFixedSizeAlgorithm:"fixed-size",
pointCloudSplatAlgorithm:"splat"});a=function(a){function h(){return null!==a&&a.apply(this,arguments)||this}d.__extends(h,a);d.__decorate([m.property({type:b.typeKebabDictionary.apiValues,readOnly:!0,nonNullable:!0,json:{type:b.typeKebabDictionary.jsonValues,read:!1,write:b.typeKebabDictionary.write}})],h.prototype,"type",void 0);return h=d.__decorate([m.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],h)}(p.JSONSupport);b.PointSizeAlgorithm=a;b.default=a})},"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":function(){define(["require",
"exports","tslib","../../../core/accessorSupport/decorators","./PointSizeAlgorithm"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.type="splat";b.scaleFactor=1;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({scaleFactor:this.scaleFactor})};var h;d.__decorate([n.enumeration({pointCloudSplatAlgorithm:"splat"})],b.prototype,"type",void 0);d.__decorate([n.property({type:Number,value:1,
nonNullable:!0,json:{write:!0}})],b.prototype,"scaleFactor",void 0);return b=h=d.__decorate([n.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],b)}(p.default);b.PointSizeSplatAlgorithm=a;b.default=a})},"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":function(){define(["require","exports","./PointSizeAlgorithm","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});b.pointSizeAlgorithmTypes=
{key:"type",base:d.default,typeMap:{"fixed-size":n.default,splat:p.default}}})},"esri/renderers/support/LegendOptions":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.title=null;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({title:this.title})};var h;d.__decorate([p.property({type:String,
json:{write:!0}})],b.prototype,"title",void 0);return b=h=d.__decorate([p.subclass("esri.renderers.support.LegendOptions")],b)}(n.JSONSupport);b.LegendOptions=a;b.default=a})},"esri/renderers/support/pointCloud/ColorClassBreakInfo":function(){define("require exports tslib ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(a,b,d,n,p,m,k,h){Object.defineProperty(b,"__esModule",{value:!0});
a=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c.description=null;c.label=null;c.minValue=0;c.maxValue=0;c.color=null;return c}d.__extends(c,a);e=c;c.prototype.clone=function(){return new e({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:m.clone(this.color)})};var e;d.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,
"label",void 0);d.__decorate([k.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0);d.__decorate([k.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0);d.__decorate([k.property({type:n,json:{type:[h.Integer],write:!0}})],c.prototype,"color",void 0);return c=e=d.__decorate([k.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],c)}(p.JSONSupport);
b.ColorClassBreakInfo=a;b.default=a})},"esri/renderers/PointCloudStretchRenderer":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/StopInfo".split(" "),function(a,b,d,n,p,m,k,h){return function(a){function c(c){c=a.call(this,c)||this;c.type="point-cloud-stretch";c.field=null;c.legendOptions=null;c.fieldTransformType=null;c.stops=null;return c}d.__extends(c,a);e=c;c.prototype.clone=function(){return new e(d.__assign(d.__assign({},
this.cloneProperties()),{field:n.clone(this.field),fieldTransformType:n.clone(this.fieldTransformType),stops:n.clone(this.stops),legendOptions:n.clone(this.legendOptions)}))};var e;d.__decorate([p.enumeration({pointCloudStretchRenderer:"point-cloud-stretch"})],c.prototype,"type",void 0);d.__decorate([p.property({json:{write:!0},type:String})],c.prototype,"field",void 0);d.__decorate([p.property({type:k.default,json:{write:!0}})],c.prototype,"legendOptions",void 0);d.__decorate([p.property({type:m.fieldTransformTypeKebabDict.apiValues,
json:{type:m.fieldTransformTypeKebabDict.jsonValues,read:m.fieldTransformTypeKebabDict.read,write:m.fieldTransformTypeKebabDict.write}})],c.prototype,"fieldTransformType",void 0);d.__decorate([p.property({type:[h.default],json:{write:!0}})],c.prototype,"stops",void 0);return c=e=d.__decorate([p.subclass("esri.renderers.PointCloudStretchRenderer")],c)}(m)})},"esri/renderers/support/pointCloud/StopInfo":function(){define("require exports tslib ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(a,b,d,n,p,m,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c.label=null;c.value=0;c.color=null;return c}d.__extends(c,a);e=c;c.prototype.clone=function(){return new e({label:this.label,value:this.value,color:m.clone(this.color)})};var e;d.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);d.__decorate([k.property({type:Number,nonNullable:!0,json:{write:!0}})],c.prototype,"value",
void 0);d.__decorate([k.property({type:n,json:{type:[h.Integer],write:!0}})],c.prototype,"color",void 0);return c=e=d.__decorate([k.subclass("esri.renderers.support.pointCloud.StopInfo")],c)}(p.JSONSupport);b.StopInfo=a;b.default=a})},"esri/renderers/PointCloudUniqueValueRenderer":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorUniqueValueInfo".split(" "),function(a,b,d,n,p,m,k,h){return function(a){function c(c){c=
a.call(this,c)||this;c.type="point-cloud-unique-value";c.field=null;c.fieldTransformType=null;c.colorUniqueValueInfos=null;c.legendOptions=null;return c}d.__extends(c,a);e=c;c.prototype.clone=function(){return new e(d.__assign(d.__assign({},this.cloneProperties()),{field:n.clone(this.field),fieldTransformType:n.clone(this.fieldTransformType),colorUniqueValueInfos:n.clone(this.colorUniqueValueInfos),legendOptions:n.clone(this.legendOptions)}))};var e;d.__decorate([p.enumeration({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],
c.prototype,"type",void 0);d.__decorate([p.property({json:{write:!0},type:String})],c.prototype,"field",void 0);d.__decorate([p.property({type:m.fieldTransformTypeKebabDict.apiValues,json:{type:m.fieldTransformTypeKebabDict.jsonValues,read:m.fieldTransformTypeKebabDict.read,write:m.fieldTransformTypeKebabDict.write}})],c.prototype,"fieldTransformType",void 0);d.__decorate([p.property({type:[h.default],json:{write:!0}})],c.prototype,"colorUniqueValueInfos",void 0);d.__decorate([p.property({type:k.default,
json:{write:!0}})],c.prototype,"legendOptions",void 0);return c=e=d.__decorate([p.subclass("esri.renderers.PointCloudUniqueValueRenderer")],c)}(m)})},"esri/renderers/support/pointCloud/ColorUniqueValueInfo":function(){define("require exports tslib ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(a,b,d,n,p,m,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function c(){var c=
null!==a&&a.apply(this,arguments)||this;c.description=null;c.label=null;c.values=null;c.color=null;return c}d.__extends(c,a);e=c;c.prototype.clone=function(){return new e({description:this.description,label:this.label,values:m.clone(this.values),color:m.clone(this.color)})};var e;d.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);d.__decorate([k.property({type:[String],json:{write:!0}})],
c.prototype,"values",void 0);d.__decorate([k.property({type:n,json:{type:[h.Integer],write:!0}})],c.prototype,"color",void 0);return c=e=d.__decorate([k.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],c)}(p.JSONSupport);b.ColorUniqueValueInfo=a;b.default=a})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports tslib ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC".split(" "),function(a,b,d,n,p,m,k){function h(c,a,e){for(var b=
"",f=0;f<e;){var g=c[a+f];if(128>g)b+=String.fromCharCode(g),f++;else if(192<=g&&224>g){if(f+1>=e)throw new n("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var q=c[a+f+1],g=(g&31)<<6|q&63,b=b+String.fromCharCode(g),f=f+2}else if(224<=g&&240>g){if(f+2>=e)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var q=c[a+f+1],r=c[a+f+2],g=(g&15)<<12|(q&63)<<6|r&63,b=b+String.fromCharCode(g),f=f+3}else if(240<=g&&248>g){if(f+3>=e)throw new n("utf8-decode-error",
"UTF-8 Decode failed. Multi byte character was truncated.");q=c[a+f+1];r=c[a+f+2];g=(g&7)<<18|(q&63)<<12|(r&63)<<6|c[a+f+3]&63;b=65536<=g?b+String.fromCharCode((g-65536>>10)+55296,(g&1023)+56320):b+String.fromCharCode(g);f+=4}else throw new n("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return b}function l(c,a){for(var e={byteOffset:0,byteCount:0,fields:Object.create(null)},g=0,f=0;f<a.length;f++){var q=a[f],r=q.valueType||q.type;e.fields[q.property]=(0,b.valueType2ArrayBufferReader[r])(c,
g);g+=b.valueType2TypedArrayClassMap[r].BYTES_PER_ELEMENT}e.byteCount=g;return e}function c(c,a,e){var b=[],g,f=0,q;for(q=0;q<c;q+=1){g=a[q];if(0<g){if(b.push(h(e,f,g-1)),0!==e[f+g-1])throw new n("string-array-error","Invalid string array: missing null termination.");}else b.push(null);f+=g}return b}function e(c,a){return new b.valueType2TypedArrayClassMap[a.valueType](c,a.byteOffset,a.count*a.valuesPerElement)}function r(c,a){return new Uint8Array(c,a.byteOffset,a.byteCount)}function g(c,a,e){c=
null!=a.header?l(c,a.header):{byteOffset:0,byteCount:0,fields:{count:e}};e={header:c,byteOffset:c.byteCount,byteCount:0,entries:Object.create(null)};for(var b=c.byteCount,g=0;g<a.ordering.length;g++){var f=a.ordering[g],q=p.clone(a[f]);q.count=c.fields.count;if("String"===q.valueType){if(q.byteOffset=b,q.byteCount=c.fields[f+"ByteCount"],"UTF-8"!==q.encoding)throw new n("unsupported-encoding","Unsupported String encoding.",{encoding:q.encoding});}else if(z(q.valueType)){var r=v(q.valueType),b=b+(0!==
b%r?r-b%r:0);q.byteOffset=b;q.byteCount=r*q.valuesPerElement*q.count}else throw new n("unsupported-value-type","Unsupported binary valueType",{valueType:q.valueType});b+=q.byteCount;e.entries[f]=q}e.byteCount=b-e.byteOffset;return e}function q(c,a,e){a!==c&&B.error("Invalid "+e+" buffer size\n expected: "+c+", actual: "+a+")");if(a<c)throw new n("buffer-too-small","Binary buffer is too small",{expectedSize:c,actualSize:a});}function f(c){return{isDraco:!1,isLegacy:!1,color:null!=c.color,normal:null!=
c.normal,uv0:null!=c.uv0,uvRegion:null!=c.uvRegion,featureIndex:null!=c.faceRange&&null!=c.featureId}}function t(c){for(var a={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},e=0,b=c.ordering;e<b.length;e++){var g=b[e];if(c.vertexAttributes[g])switch(g){case "normal":a.normal=!0;break;case "color":a.color=!0;break;case "uv0":a.uv0=!0;break;case "region":a.uvRegion=!0}}c.featureAttributes&&c.featureAttributeOrder&&(a.featureIndex=!0);return a}function u(c){for(var a={isDraco:!0,
isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},e=0;e<c.length;e++)switch(c[e]){case "normal":a.normal=!0;break;case "uv0":a.uv0=!0;break;case "color":a.color=!0;break;case "uv-region":a.uvRegion=!0;break;case "feature-index":a.featureIndex=!0}return a}function z(c){return b.valueType2TypedArrayClassMap.hasOwnProperty(c)}function v(c){return z(c)?b.valueType2TypedArrayClassMap[c].BYTES_PER_ELEMENT:0}Object.defineProperty(b,"__esModule",{value:!0});var B=m.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");
b.readHeader=l;b.readStringArray=c;b.createTypedView=e;b.createRawView=r;b.createAttributeDataIndex=g;b.createGeometryDescriptorFromDefinition=f;b.createGeometryIndexFromSchema=function(c,a){for(var e=l(c,a&&a.header),b=e.byteCount,g={isDraco:!1,header:e,byteOffset:e.byteCount,byteCount:0,vertexAttributes:{}},f=e.fields,r=null!=f.vertexCount?f.vertexCount:f.count,h=0,t=a.ordering;h<t.length;h++){var k=t[h];a.vertexAttributes[k]&&(e=d.__assign(d.__assign({},a.vertexAttributes[k]),{byteOffset:b,count:r}),
g.vertexAttributes[y[k]?y[k]:"_"+k]=e,b+=v(e.valueType)*e.valuesPerElement*r)}r=f.faceCount;if(a.faces&&r)for(g.faces={},h=0,t=a.ordering;h<t.length;h++)k=t[h],a.faces[k]&&(e=d.__assign(d.__assign({},a.faces[k]),{byteOffset:b,count:r}),g.faces[k]=e,b+=v(e.valueType)*e.valuesPerElement*r);f=f.featureCount;if(a.featureAttributes&&a.featureAttributeOrder&&f)for(g.featureAttributes={},r=0,h=a.featureAttributeOrder;r<h.length;r++)t=h[r],a.featureAttributes[t]&&(e=d.__assign(d.__assign({},a.featureAttributes[t]),
{byteOffset:b,count:f}),g.featureAttributes[t]=e,t="UInt64"===e.valueType?8:v(e.valueType),b+=t*e.valuesPerElement*f);q(b,c.byteLength,"geometry");g.byteCount=b-g.byteOffset;return g};b.createGeometryDescriptor=function(c,a){return c&&c.compressedAttributes&&"draco"===c.compressedAttributes.encoding?u(c.compressedAttributes.attributes):c?f(c):t(a)};b.createGeometryDescriptorFromSchema=t;b.createGeometryDescriptorForDraco=u;var y={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};
b.readBinaryAttribute=function(a,b,f){if("lepcc-rgb"===a.encoding)return k.decodeRGB(b);if("lepcc-intensity"===a.encoding)return k.decodeIntensity(b);if(null!=a.encoding&&""!==a.encoding)throw new n("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");a["attributeByteCounts "]&&!a.attributeByteCounts&&(B.warn("Warning: Trailing space in 'attributeByteCounts '."),a.attributeByteCounts=a["attributeByteCounts "]);"ObjectIds"===a.ordering[0]&&a.hasOwnProperty("objectIds")&&
(B.warn("Warning: Case error in objectIds"),a.ordering[0]="objectIds");f=g(b,a,f);q(f.byteOffset+f.byteCount,b.byteLength,"attribute");if(a=f.entries.attributeValues||f.entries.objectIds){if("String"===a.valueType){f=f.entries.attributeByteCounts;var l=e(b,f);b=r(b,a);return c(f.count,l,b)}return e(b,a)}throw new n("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};b.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,
Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};b.valueType2ArrayBufferReader={Float32:function(c,a){return(new DataView(c,0)).getFloat32(a,!0)},Float64:function(c,a){return(new DataView(c,0)).getFloat64(a,!0)},UInt8:function(c,a){return(new DataView(c,0)).getUint8(a)},Int8:function(c,a){return(new DataView(c,0)).getInt8(a)},UInt16:function(c,a){return(new DataView(c,0)).getUint16(a,!0)},Int16:function(c,a){return(new DataView(c,0)).getInt16(a,!0)},UInt32:function(c,a){return(new DataView(c,
0)).getUint32(a,!0)},Int32:function(c,a){return(new DataView(c,0)).getInt32(a,!0)}};b.isValueType=z;b.getBytesPerValue=v})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(a,b,d){function n(a,b,c){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,c+k.identifierOffset,k.identifierLength)),version:b.getUint16(c+k.versionOffset,!0),checksum:b.getUint32(c+k.checksumOffset,!0)}}function p(a,b,c){var e=[];b=m(a,b,e);for(var r=[],
g=0;g<e.length;g++){r.length=0;b=m(a,b,r);for(var q=0;q<r.length;q++)c.push(r[q]+e[g])}return b}function m(a,b,c){var e=new DataView(a,b),r=e.getUint8(0),g=r&31,q=!!(r&32),f=(r&192)>>6,r=0;if(0===f)r=e.getUint32(1,!0),b+=5;else if(1===f)r=e.getUint16(1,!0),b+=3;else if(2===f)r=e.getUint8(1),b+=2;else throw new d("lepcc-decode-error","Bad count type");if(q)throw new d("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,b,Math.ceil(r*g/8));for(var f=q=e=0,l=-1>>>32-g,h=0;h<r;h++){for(;q<
g;)e|=a[f]<<q,q+=8,f+=1;c[h]=e&l;e>>>=g;q-=g;32<q+g&&(e|=a[f-1]>>8-q)}return b+f}Object.defineProperty(b,"__esModule",{value:!0});var k={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};b.decodeXYZ=function(a){var b,c,e,r,g,q,f,h,u,z,m,B,y=new DataView(a,0),x=0;r=n(a,y,x);e=r.identifier;r=r.version;x+=k.byteCount;if("LEPCC     "!==e)throw new d("lepcc-decode-error","Bad identifier");if(1<r)throw new d("lepcc-decode-error","Unknown version");var w=x;b=y.getUint32(w+
0,!0);c=y.getUint32(w+4,!0);e=y.getFloat64(w+8,!0);r=y.getFloat64(w+16,!0);g=y.getFloat64(w+24,!0);q=y.getFloat64(w+32,!0);f=y.getFloat64(w+40,!0);h=y.getFloat64(w+48,!0);u=y.getFloat64(w+56,!0);z=y.getFloat64(w+64,!0);m=y.getFloat64(w+72,!0);B=y.getUint32(w+80,!0);y.getUint32(w+84,!0);x+=88;if(c*Math.pow(2,32)+b!==a.byteLength)throw new d("lepcc-decode-error","Bad size");y=new Float64Array(3*B);b=[];c=[];B=[];w=[];x=p(a,x,b);x=p(a,x,c);x=p(a,x,B);x=p(a,x,w);if(x!==a.byteLength)throw new d("lepcc-decode-error",
"Bad length");for(var A=x=a=0;A<b.length;A++)for(var x=x+b[A],D=0,C=0;C<c[A];C++){var D=D+B[a],F=w[a];y[3*a]=Math.min(q,e+2*u*D);y[3*a+1]=Math.min(f,r+2*z*x);y[3*a+2]=Math.min(h,g+2*m*F);a++}return{errorX:u,errorY:z,errorZ:m,result:y}};b.decodeRGB=function(a){var b,c,e,r,g,q,f=new DataView(a,0),h=0;r=n(a,f,h);e=r.identifier;r=r.version;h+=k.byteCount;if("ClusterRGB"!==e)throw new d("lepcc-decode-error","Bad identifier");if(1<r)throw new d("lepcc-decode-error","Unknown version");q=h;b=f.getUint32(q+
0,!0);c=f.getUint32(q+4,!0);e=f.getUint32(q+8,!0);r=f.getUint16(q+12,!0);g=f.getUint8(q+14);q=f.getUint8(q+15);h+=16;if(c*Math.pow(2,32)+b!==a.byteLength)throw new d("lepcc-decode-error","Bad size");if((2===g||1===g)&&0===q){if(3*r+e+h!==a.byteLength||256<r)throw new d("lepcc-decode-error","Bad count");f=new Uint8Array(a,h,3*r);r=new Uint8Array(a,h+3*r,e);h=new Uint8Array(3*e);for(a=0;a<e;a++)b=r[a],h[3*a]=f[3*b],h[3*a+1]=f[3*b+1],h[3*a+2]=f[3*b+2];return h}if(0===g&&0===q){if(3*e+h!==a.byteLength||
0!==r)throw new d("lepcc-decode-error","Bad count");return(new Uint8Array(a,h)).slice()}if(2>=g&&1===q){if(h+3!==a.byteLength||1!==r)throw new d("lepcc-decode-error","Bad count");r=f.getUint8(h);b=f.getUint8(h+1);f=f.getUint8(h+2);h=new Uint8Array(3*e);for(a=0;a<e;a++)h[3*a]=r,h[3*a+1]=b,h[3*a+2]=f;return h}throw new d("lepcc-decode-error","Bad method "+g+","+q);};b.decodeIntensity=function(a){var b,c,e,r,g,q=new DataView(a,0),f=0;r=n(a,q,f);e=r.identifier;r=r.version;f+=k.byteCount;if("Intensity "!==
e)throw new d("lepcc-decode-error","Bad identifier");if(1<r)throw new d("lepcc-decode-error","Unknown version");var h=f;b=q.getUint32(h+0,!0);c=q.getUint32(h+4,!0);e=q.getUint32(h+8,!0);r=q.getUint16(h+12,!0);g=q.getUint8(h+14);q.getUint8(h+15);f+=16;if(c*Math.pow(2,32)+b!==a.byteLength)throw new d("lepcc-decode-error","Bad size");q=new Uint16Array(e);if(8===g){if(e+f!==a.byteLength)throw new d("lepcc-decode-error","Bad size");g=new Uint8Array(a,f,e)}else if(16===g){if(2*e+f!==a.byteLength)throw new d("lepcc-decode-error",
"Bad size");g=new Uint16Array(a,f,e)}else if(g=[],m(a,f,g)!==a.byteLength)throw new d("lepcc-decode-error","Bad size");for(a=0;a<e;a++)q[a]=g[a]*r;return q}})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../core/mathUtils ../../../core/maybe ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../../../layers/graphics/dehydratedFeatures ./earthUtils ../webgl-engine/lib/BufferVectorMath".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g,q){function f(c,a,e,b){if(2>c.length)return!1;2===c.length&&(K[0]=c[0],K[1]=c[1],K[2]=0,c=K);return u(c,a,0,e,b,0,1)}function t(c,a,e,b,f,g,q){void 0===q&&(q=0);for(var r=[],d=0;d<c.length;d++)for(var l=c[d],h=0,t=l;h<t.length;h++)l=t[h],r.push(l[0],l[1],a?l[2]:q);if(!u(r,b,0,r,g,0,r.length/3))return!1;b=0;for(g=f.length=0;g<c.length;g++){l=c[g];q=[];d=0;for(h=l;d<h.length;d++)l=h[d],a&&e?q.push([r[b++],r[b++],r[b++],l[3]]):a?q.push([r[b++],r[b++],r[b++]]):(e?q.push([r[b++],
r[b++],l[2]]):q.push([r[b++],r[b++]]),b++);f.push(q)}return!0}function u(c,a,e,b,f,g,q){void 0===q&&(q=1);a=I(a,f,Y);if(n.isNone(a))return!1;if(a===v){if(c===b&&e===g)return!0;for(a=e+3*q;e<a;e++,g++)b[g]=c[e];return!0}for(q=e+3*q;e<q;e+=3,g+=3)a(c,e,b,g);return!0}function z(c,a){if(a.spatialReference===c)return a.spatialReferenceId;a.spatialReference=c;"metersPerUnit"in a&&(a.metersPerUnit=p.getMetersPerUnitForSR(c,1));return c.wkt===b.SphericalECEFSpatialReference.wkt?a.spatialReferenceId=1:c.isWGS84?
a.spatialReferenceId=2:c.isWebMercator?a.spatialReferenceId=3:c.wkt===b.WGS84ECEFSpatialReference.wkt?a.spatialReferenceId=4:4490===c.wkid?a.spatialReferenceId=5:a.spatialReferenceId=0}function v(c,a,e,b){c!==e&&(e[b++]=c[a++],e[b++]=c[a++],e[b]=c[a])}function B(c,a,e,b){e[b++]=ba*(c[a++]/g.earthRadius);e[b++]=ba*(Math.PI/2-2*Math.atan(Math.exp(-1*c[a++]/g.earthRadius)));e[b]=c[a]}function y(c,a,e,b){B(c,a,e,b);C(e,b,e,b)}function x(c,a,e,b){B(c,a,e,b);J(e,b,e,b)}function w(c,a,e,b){var f=.4999999*
Math.PI,f=d.clamp(Z*c[a+1],-f,f),f=Math.sin(f);e[b++]=Z*c[a]*g.earthRadius;e[b++]=g.halfEarthRadius*Math.log((1+f)/(1-f));e[b]=c[a+2]}function A(c,a,e){a=z(a,ca);a=X[a][6];if(n.isNone(a))return!1;a(c,0,K,0);e!==K&&(e[0]=K[0],e[1]=K[1],2<e.length&&(e[2]=K[2]));return!0}function D(c,a){K[0]=c.x;K[1]=c.y;K[2]=c.hasZ?c.z:0;return A(K,c.spatialReference,a)}function C(c,a,e,b){var f=g.earthRadius+c[a+2],q=Z*c[a+1];c=Z*c[a];a=Math.cos(q);e[b++]=Math.cos(c)*a*f;e[b++]=Math.sin(c)*a*f;e[b]=Math.sin(q)*f}function F(c,
a,e,b){var f=q.Vec3Compact.length(c,a),r=d.asinClamped(c[a+2]/(0===f?1:f));c=Math.atan2(c[a+1],c[a]);e[b++]=ba*c;e[b++]=ba*r;e[b]=f-g.earthRadius}function E(c,a,e,b){F(c,a,e,b);w(e,b,e,b)}function G(c,a,e,b){F(c,a,e,b);J(e,b,e,b)}function J(c,a,e,b){var f=ia,g=Z*c[a],q=Z*c[a+1];c=c[a+2];a=Math.sin(q);var q=Math.cos(q),r=f.a/Math.sqrt(1-f.e2*a*a);e[b++]=(r+c)*q*Math.cos(g);e[b++]=(r+c)*q*Math.sin(g);e[b++]=(r*(1-f.e2)+c)*a}function H(c,a,e,b){var f=ia,g=c[a],q=c[a+1];c=c[a+2];var r,d,l,h,t,k;a=Math.abs(c);
r=g*g+q*q;d=Math.sqrt(r);l=r+c*c;h=Math.sqrt(l);g=Math.atan2(q,g);t=c*c/l;l=r/l;q=f.a2/h;r=f.a3-f.a4/h;.3<l?(t=a/h*(1+l*(f.a1+q+t*r)/h),h=Math.asin(t),q=t*t,l=Math.sqrt(1-q)):(l=d/h*(1-t*(f.a5-q-l*r)/h),h=Math.acos(l),q=1-l*l,t=Math.sqrt(q));k=1-f.e2*q;q=f.a/Math.sqrt(k);f=f.a6*q;q=d-q*l;r=a-f*t;a=l*q+t*r;d=l*r-t*q;f=d/(f/k+a);h+=f;0>c&&(h=-h);e[b++]=ba*g;e[b++]=ba*h;e[b]=a+d*f/2}function N(c,a,e,b){H(c,a,e,b);C(e,b,e,b)}function M(c,a,e,b){H(c,a,e,b);w(e,b,e,b)}function I(c,a,e){void 0===e&&(e=Q());
return R(c,a,e).projector}function R(c,a,e){if(e.source.spatialReference===c&&e.dest.spatialReference===a)return e;var b=z(c,e.source),f=z(a,e.dest);0===b&&0===f?c.equals(a)?e.projector=v:e.projector=null:e.projector=X[b][f];return e}function Q(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:v}}var O,P,L,U,V,S,W,T;Object.defineProperty(b,"__esModule",{value:!0});b.SphericalECEFSpatialReference=
new c({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});b.WGS84ECEFSpatialReference=new c({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});
b.canProject=function(c,a){return!!I(c,a,Y)};b.getProjectorName=function(c,a){c=I(c,a,Y);return c===v?"copy3":c===C?"wgs84ToSphericalECEF":c===w?"wgs84ToWebMercator":c===J?"wgs84ToWGS84ECEF":c===B?"webMercatorToWGS84":c===y?"webMercatorToSphericalECEF":c===x?"webMercatorToWGS84ECEF":c===H?"wgs84ECEFToWGS84":c===N?"wgs84ECEFToSphericalECEF":c===M?"wgs84ECEFToWebMercator":c===F?"sphericalECEFToWGS84":c===E?"sphericalECEFToWebMercator":c===G?"sphericalECEFToWGS84ECEF":null};b.vectorToVector=f;b.polygonToPolygon=
function(c,a,e,b){void 0===e&&(e=a.spatialReference);void 0===b&&(b=0);var f=[];if(!t(c.rings,c.hasZ,c.hasM,c.spatialReference,f,e,b))return!1;a.rings=f;a.spatialReference=e;a.hasZ=c.hasZ;a.hasM=c.hasM;return!0};b.polylineToPolyline=function(c,a,e,b){void 0===e&&(e=a.spatialReference);void 0===b&&(b=0);var f=[];if(!t(c.paths,c.hasZ,c.hasM,c.spatialReference,f,e,b))return!1;a.paths=f;a.spatialReference=e;a.hasZ=c.hasZ;a.hasM=c.hasM;return!0};b.multipointToMultipoint=function(c,a,e,b){void 0===e&&(e=
a.spatialReference);void 0===b&&(b=0);var f=[];if(!t([c.points],c.hasZ,c.hasM,c.spatialReference,f,e,b))return!1;a.points=f[0];a.spatialReference=e;a.hasZ=c.hasZ;a.hasM=c.hasM;return!0};b.pointToPoint=function(c,a,e,b){void 0===e&&(e=a.spatialReference);void 0===b&&(b=0);K[0]=c.x;K[1]=c.y;var f=c.z;K[2]=void 0!==f?f:b;if(!u(K,c.spatialReference,0,K,e,0,1))return!1;a.x=K[0];a.y=K[1];a.spatialReference=e;void 0!==f?(a.z=K[2],a.hasZ=!0):(a.z=void 0,a.hasZ=!1);return!0};b.pointToVector=function(c,a,e,
b){void 0===b&&(b=0);K[0]=c.x;K[1]=c.y;var f=c.z;K[2]=void 0!==f?f:b;return u(K,c.spatialReference,0,a,e,0,1)};b.vectorToPoint=function(c,a,e,b){e instanceof l?b=b||e.spatialReference:r.isPoint(e)?(e.hasZ=!0,b=b||e.spatialReference):(b=e,e=new l({spatialReference:b}));return u(c,a,0,K,b,0,1)?(e.x=K[0],e.y=K[1],e.z=K[2],e.spatialReference=b,e):null};b.xyzToVector=function(c,a,e,b,f,g){K[0]=c;K[1]=a;K[2]=e;return u(K,b,0,f,g,0,1)};b.bufferToBuffer=u;b.localLinearScaleFactors=function(c,a,e,b){var f=
z(a,ca),q=z(b,da);if(f===q&&0!==f||a.equals(b))return e[0]=1,e[1]=1,e[2]=1,!0;if(1===f){a=k.vec3.length(c);c=a/Math.sqrt(c[0]*c[0]+c[1]*c[1]);a/=g.earthRadius;if(3===q)return e[0]=c*a,e[1]=c*a,e[2]=1,!0;if(2===q||5===q)return q=180/(g.earthRadius*Math.PI),e[0]=q*c*a,e[1]=q*a,e[2]=1,!0}return!1};b.computeLinearTransformation=function(c,a,e,b){var f=z(c,ca),g=z(b,da);if(f===g&&1!==g&&(0!==f||c.equals(b)))return m.mat4.identity(e),m.mat4.translate(e,e,a),!0;if(1===g){c=X[f][6];g=X[6][g];if(n.isNone(c)||
n.isNone(g))return!1;c(a,0,aa,0);g(aa,0,ea,0);c=Z*aa[0];g=Z*aa[1];a=Math.sin(c);c=Math.cos(c);b=Math.sin(g);g=Math.cos(g);e[0]=-a;e[4]=-b*c;e[8]=g*c;e[12]=ea[0];e[1]=c;e[5]=-b*a;e[9]=g*a;e[13]=ea[1];e[2]=0;e[6]=g;e[10]=b;e[14]=ea[2];e[3]=0;e[7]=0;e[11]=0;e[15]=1;return!0}if(3===g&&(2===f||1===f)){c=X[f][6];if(n.isNone(c))return!1;c(a,0,aa,0);a=Z*aa[1];w(aa,0,ea,0);m.mat4.identity(e);m.mat4.translate(e,e,ea);a=1/Math.cos(a);m.mat4.scale(e,e,[a,a,1]);return!0}return!1};b.transformDirection=function(c,
a,e,b,g){k.vec3.copy(fa,c);k.vec3.add(ga,c,a);f(fa,e,fa,g);f(ga,e,ga,g);k.vec3.subtract(b,ga,fa);k.vec3.normalize(b,b)};b.mbsToMbs=function(c,a,e,b){a=R(a,b,ha);if(a.projector===v)return e[0]=c[0],e[1]=c[1],e[2]=c[2],e[3]=c[3],!0;if(n.isNone(a.projector))return!1;b=a.source;var f=a.dest;if(3===f.spatialReferenceId){a=X[b.spatialReferenceId][2];if(n.isNone(a))return!1;a(c,0,aa,0);a=Math.abs(Z*aa[1])+Math.asin(c[3]/(g.earthRadius+c[2]));w(aa,0,e,0);e[3]=a>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(a)*
c[3];return!0}a.projector(c,0,e,0);e[3]=c[3]*b.metersPerUnit/f.metersPerUnit;return!0};b.extentToBoundingBox=function(c,a,e){if(null==c)return!1;var b;K[0]=null!=c.xmin?c.xmin:0;K[1]=null!=c.ymin?c.ymin:0;K[2]=null!=c.zmin?c.zmin:0;b=u(K,c.spatialReference,0,a,e,0,1);K[0]=null!=c.xmax?c.xmax:0;K[1]=null!=c.ymax?c.ymax:0;K[2]=null!=c.zmax?c.zmax:0;b=b&&u(K,c.spatialReference,0,a,e,3,1);null==c.xmin&&(a[0]=-Infinity);null==c.ymin&&(a[1]=-Infinity);null==c.zmin&&(a[2]=-Infinity);null==c.xmax&&(a[3]=
Infinity);null==c.ymax&&(a[4]=Infinity);null==c.zmax&&(a[5]=Infinity);return b};b.extentToBoundingRect=function(c,a,e){if(null==c)return!1;var b;K[0]=null!=c.xmin?c.xmin:0;K[1]=null!=c.ymin?c.ymin:0;K[2]=null!=c.zmin?c.zmin:0;b=u(K,c.spatialReference,0,K,e,0,1);a[0]=K[0];a[1]=K[1];K[0]=null!=c.xmax?c.xmax:0;K[1]=null!=c.ymax?c.ymax:0;K[2]=null!=c.zmax?c.zmax:0;b=b&&u(K,c.spatialReference,0,K,e,0,1);a[2]=K[0];a[3]=K[1];null==c.xmin&&(a[0]=-Infinity);null==c.ymin&&(a[1]=-Infinity);null==c.xmax&&(a[2]=
Infinity);null==c.ymax&&(a[3]=Infinity);return b};b.boundingRectToBoundingRect=function(c,a,b,f){if(null==c)return!1;if(a.equals(f))return e.set(b,c),!0;K[0]=c[0];K[1]=c[1];K[2]=0;if(!u(K,a,0,K,f,0,1))return!1;b[0]=K[0];b[1]=K[1];K[0]=c[2];K[1]=c[3];K[2]=0;if(!u(K,a,0,K,f,0,1))return!1;b[2]=K[0];b[3]=K[1];return!0};(function(c){c.x2lon=function(c){return c/g.earthRadius};c.y2lat=function(c){return Math.PI/2-2*Math.atan(Math.exp(-1*c/g.earthRadius))};c.lon2x=function(c){return c*g.earthRadius};c.lat2y=
function(c){c=Math.sin(c);return g.earthRadius/2*Math.log((1+c)/(1-c))}})(b.webMercator||(b.webMercator={}));b.canProjectToWGS84ComparableLonLat=function(c){c=z(c,ca);return!!X[c][6]};b.vectorToWGS84ComparableLonLat=A;b.pointToWGS84ComparableLonLat=D;b.pointToWGS84ComparableLonLatPoint=function(c,a){var e=z(a.spatialReference,da);return n.isNone(X[6][e])?!1:D(c,K)?(a.x=K[0],a.y=K[1],a.z=K[2],!0):!1};b.wgs84ComparableLonLatToECEF=function(c,a,e,b){void 0===b&&(b=0);b=g.earthRadius+b;var f=Math.cos(e);
c[0]=Math.cos(a)*f*b;c[1]=Math.sin(a)*f*b;c[2]=Math.sin(e)*b};var X=(O={},O[2]=(P={},P[5]=null,P[6]=v,P[1]=C,P[0]=null,P[3]=w,P[2]=v,P[4]=J,P),O[5]=(L={},L[5]=v,L[6]=v,L[1]=C,L[0]=null,L[3]=null,L[2]=null,L[4]=J,L),O[3]=(U={},U[5]=null,U[6]=B,U[1]=y,U[0]=null,U[3]=v,U[2]=B,U[4]=x,U),O[4]=(V={},V[5]=H,V[6]=H,V[1]=N,V[0]=null,V[3]=M,V[2]=H,V[4]=v,V),O[1]=(S={},S[5]=F,S[6]=F,S[1]=v,S[0]=null,S[3]=E,S[2]=F,S[4]=G,S),O[0]=(W={},W[5]=null,W[6]=null,W[1]=null,W[0]=v,W[3]=null,W[2]=null,W[4]=null,W),O[6]=
(T={},T[5]=null,T[6]=v,T[1]=C,T[0]=null,T[3]=null,T[2]=v,T[4]=J,T),O);b.getProjector=I;var ca={spatialReference:null,spatialReferenceId:0},da={spatialReference:null,spatialReferenceId:0},Y=Q(),ha=Q(),Z=d.deg2rad(1),ba=d.rad2deg(1),ia={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},K=h.vec3f64.create(),aa=h.vec3f64.create(),ea=h.vec3f64.create(),fa=h.vec3f64.create(),ga=h.vec3f64.create()})},
"esri/core/unitUtils":function(){define("require exports ./compilerUtils ./jsonMap ./SetUtils ./wgs84Constants ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,d,n,p,m,k){function h(c){if(c=w[c])return c;throw Error("unknown measure");}function l(c){return x[c].baseUnit}function c(c,a){void 0===a&&(a=null);a=a||h(c);return x[a].baseUnit===c}function e(a,e,b){if(e===b)return a;var f=h(e);if(f!==h(b))throw Error("incompatible units");a=c(e,f)?a:a*x[f].units[e].inBaseUnits;return c(b,
f)?a:a/x[f].units[b].inBaseUnits}function r(c){return y.fromJSON(c.toLowerCase())||null}function g(c,a){void 0===a&&(a=t);return q(c,!0)||a}function q(c,a){void 0===a&&(a=!1);var e,b,f;null!=c&&("object"===typeof c?(e=c.wkid,b=c.wkt):"number"===typeof c?e=c:"string"===typeof c&&(b=c));e?(f=v.values[v[e]],!f&&a&&B.has(e)&&(f=u)):b&&-1!==b.search(/^PROJCS/i)&&(c=z.exec(b))&&c[1]&&(f=parseFloat(c[1].split(",")[1]));return f}function f(c){var a,e,b;null!=c&&("object"===typeof c?(a=c.wkid,e=c.wkt):"number"===
typeof c?a=c:"string"===typeof c&&(e=c));a?b=v.units[v[a]]:e&&-1!==e.search(/^PROJCS/i)&&(c=z.exec(e))&&c[1]&&(b=(c=/[\\"\\']{1}([^\\"\\']+)/.exec(c[1]))&&c[1]);return b?r(b):null}Object.defineProperty(b,"__esModule",{value:!0});b.inchesPerMeter=39.37;var t=m.wgs84Radius*Math.PI/180,u=m.wgs84Radius*Math.PI/200,z=/UNIT\[([^\]]+)\]\]$/i,v=k,B=p.SetFromValues([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),y=n.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",
yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});a={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},
kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};n={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},
"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(c){return c*c}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};var x={length:{baseUnit:"meters",units:a},area:{baseUnit:"square-meters",units:n},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},
"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},w=function(){var c={},a;for(a in x)for(var e in x[a].units)c[e]=a;return c}();b.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");
b.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");b.measureForUnit=h;b.baseUnitForMeasure=l;b.baseUnitForUnit=function(c){return l(h(c))};b.isBaseUnit=c;b.convertUnit=e;b.preferredMetricLengthUnit=function(c,a){return 3E3>e(c,a,"meters")?"meters":"kilometers"};b.preferredMetricVerticalLengthUnit=function(c,a){return 1E5>e(c,a,"meters")?"meters":"kilometers"};b.preferredImperialLengthUnit=function(c,a){return 1E3>e(c,a,"feet")?"feet":
"miles"};b.preferredImperialVerticalLengthUnit=function(c,a){return 1E5>e(c,a,"feet")?"feet":"miles"};b.preferredMetricAreaUnit=function(c,a){return 3E6>e(c,a,"square-meters")?"square-meters":"square-kilometers"};b.preferredImperialAreaUnit=function(c,a){return 1E6>e(c,a,"square-feet")?"square-feet":"square-miles"};b.lengthToDegrees=function(c,a,b){void 0===b&&(b=m.wgs84Radius);return e(c,a,"meters")/(b*Math.PI/180)};b.unitFromRESTJSON=r;b.unitToRESTJSON=function(c){return y.toJSON(c)||null};b.getMetersPerVerticalUnitForSR=
function(c){c=g(c);return 1E5<c?1:c};b.getVerticalUnitStringForSR=function(c){return 1E5<g(c)?"meters":f(c)};b.getMetersPerUnitForSR=g;b.getMetersPerUnit=q;b.getUnitString=f;b.getDefaultUnitSystem=function(c){if(!c)return null;c=f(c);switch(c){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;default:d.neverReached(c)}return null}})},"esri/core/SetUtils":function(){define(["require","exports"],function(a,b){function d(a){if(0===a.size)throw Error("Set is empty");return a.values().next().value}function n(a){if(0===a.size)throw Error("Set is empty");var b,d=!1;a.forEach(function(a){d||(b=a,d=!0)});return b}Object.defineProperty(b,"__esModule",{value:!0});b.someSet=Set.prototype.entries?function(a,
b){a=a.entries();for(var d=a.next();!d.done;d=a.next())if(b(d.value[0]))return!0;return!1}:function(a,b){var d=!0;a.forEach(function(a){d&&(d=!b(a))});return!d};a=!!Set.prototype.values;var p=!!Array.from;b.valuesOfSet=a&&p?function(a){return Array.from(a.values())}:function(a){var b=Array(a.size),d=0;a.forEach(function(a){return b[d++]=a});return b};b.SetFromValues=a?function(a){return new Set(a)}:function(a){for(var b=new Set,d=0;d<a.length;d++)b.add(a[d]);return b};b.firstOfSet=a?d:n;b.reduceSet=
function(a,b,d){var l=d;a.forEach(function(c){return l=b(c,l)});return l}})},"esri/core/wgs84Constants":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.wgs84Radius=6378137;b.wgs84InverseFlattening=298.257223563;b.wgs84Flattening=1/b.wgs84InverseFlattening;b.wgs84PolarRadius=b.wgs84Radius*(1-b.wgs84Flattening);b.wgs84Eccentricity=.0818191908426215})},"esri/core/libs/gl-matrix-2/mat4":function(){define(["require","exports","./math/mat4"],function(a,
b,d){Object.defineProperty(b,"__esModule",{value:!0});b.mat4=d})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["require","exports","../factories/vec3f64","./common"],function(a,b,d,n){function p(c){c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c}function m(c,a,b){var e=a[0],q=a[1],f=a[2],r=a[3],d=a[4],l=a[5],h=a[6],k=a[7],n=a[8],p=a[9],m=a[10],A=a[11],D=a[12],C=a[13],F=a[14];a=a[15];var E=b[0],G=b[1],J=b[2],
H=b[3];c[0]=E*e+G*d+J*n+H*D;c[1]=E*q+G*l+J*p+H*C;c[2]=E*f+G*h+J*m+H*F;c[3]=E*r+G*k+J*A+H*a;E=b[4];G=b[5];J=b[6];H=b[7];c[4]=E*e+G*d+J*n+H*D;c[5]=E*q+G*l+J*p+H*C;c[6]=E*f+G*h+J*m+H*F;c[7]=E*r+G*k+J*A+H*a;E=b[8];G=b[9];J=b[10];H=b[11];c[8]=E*e+G*d+J*n+H*D;c[9]=E*q+G*l+J*p+H*C;c[10]=E*f+G*h+J*m+H*F;c[11]=E*r+G*k+J*A+H*a;E=b[12];G=b[13];J=b[14];H=b[15];c[12]=E*e+G*d+J*n+H*D;c[13]=E*q+G*l+J*p+H*C;c[14]=E*f+G*h+J*m+H*F;c[15]=E*r+G*k+J*A+H*a;return c}function k(c,a,b){var e=a[0],q=a[1],f=a[2],r=a[3],d=e+
e,l=q+q,h=f+f;a=e*d;var k=e*l,e=e*h,n=q*l,q=q*h,f=f*h,d=r*d,l=r*l,r=r*h;c[0]=1-(n+f);c[1]=k+r;c[2]=e-l;c[3]=0;c[4]=k-r;c[5]=1-(a+f);c[6]=q+d;c[7]=0;c[8]=e+l;c[9]=q-d;c[10]=1-(a+n);c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c}function h(c,a,b){c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];c[4]=a[4]-b[4];c[5]=a[5]-b[5];c[6]=a[6]-b[6];c[7]=a[7]-b[7];c[8]=a[8]-b[8];c[9]=a[9]-b[9];c[10]=a[10]-b[10];c[11]=a[11]-b[11];c[12]=a[12]-b[12];c[13]=a[13]-b[13];c[14]=a[14]-b[14];c[15]=
a[15]-b[15];return c}Object.defineProperty(b,"__esModule",{value:!0});b.copy=function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c};b.set=function(c,a,b,g,q,f,d,l,h,k,n,p,m,w,A,D,C){c[0]=a;c[1]=b;c[2]=g;c[3]=q;c[4]=f;c[5]=d;c[6]=l;c[7]=h;c[8]=k;c[9]=n;c[10]=p;c[11]=m;c[12]=w;c[13]=A;c[14]=D;c[15]=C;return c};b.identity=p;b.transpose=function(c,a){if(c===a){var e=
a[1],b=a[2],q=a[3],f=a[6],d=a[7],l=a[11];c[1]=a[4];c[2]=a[8];c[3]=a[12];c[4]=e;c[6]=a[9];c[7]=a[13];c[8]=b;c[9]=f;c[11]=a[14];c[12]=q;c[13]=d;c[14]=l}else c[0]=a[0],c[1]=a[4],c[2]=a[8],c[3]=a[12],c[4]=a[1],c[5]=a[5],c[6]=a[9],c[7]=a[13],c[8]=a[2],c[9]=a[6],c[10]=a[10],c[11]=a[14],c[12]=a[3],c[13]=a[7],c[14]=a[11],c[15]=a[15];return c};b.invert=function(c,a){var e=a[0],b=a[1],q=a[2],f=a[3],d=a[4],l=a[5],h=a[6],k=a[7],n=a[8],p=a[9],m=a[10],w=a[11],A=a[12],D=a[13],C=a[14];a=a[15];var F=e*l-b*d,E=e*h-
q*d,G=e*k-f*d,J=b*h-q*l,H=b*k-f*l,N=q*k-f*h,M=n*D-p*A,I=n*C-m*A,R=n*a-w*A,Q=p*C-m*D,O=p*a-w*D,P=m*a-w*C,L=F*P-E*O+G*Q+J*R-H*I+N*M;if(!L)return null;L=1/L;c[0]=(l*P-h*O+k*Q)*L;c[1]=(q*O-b*P-f*Q)*L;c[2]=(D*N-C*H+a*J)*L;c[3]=(m*H-p*N-w*J)*L;c[4]=(h*R-d*P-k*I)*L;c[5]=(e*P-q*R+f*I)*L;c[6]=(C*G-A*N-a*E)*L;c[7]=(n*N-m*G+w*E)*L;c[8]=(d*O-l*R+k*M)*L;c[9]=(b*R-e*O-f*M)*L;c[10]=(A*H-D*G+a*F)*L;c[11]=(p*G-n*H-w*F)*L;c[12]=(l*I-d*Q-h*M)*L;c[13]=(e*Q-b*I+q*M)*L;c[14]=(D*E-A*J-C*F)*L;c[15]=(n*J-p*E+m*F)*L;return c};
b.adjoint=function(c,a){var e=a[0],b=a[1],q=a[2],f=a[3],d=a[4],l=a[5],h=a[6],k=a[7],n=a[8],p=a[9],m=a[10],w=a[11],A=a[12],D=a[13],C=a[14];a=a[15];c[0]=l*(m*a-w*C)-p*(h*a-k*C)+D*(h*w-k*m);c[1]=-(b*(m*a-w*C)-p*(q*a-f*C)+D*(q*w-f*m));c[2]=b*(h*a-k*C)-l*(q*a-f*C)+D*(q*k-f*h);c[3]=-(b*(h*w-k*m)-l*(q*w-f*m)+p*(q*k-f*h));c[4]=-(d*(m*a-w*C)-n*(h*a-k*C)+A*(h*w-k*m));c[5]=e*(m*a-w*C)-n*(q*a-f*C)+A*(q*w-f*m);c[6]=-(e*(h*a-k*C)-d*(q*a-f*C)+A*(q*k-f*h));c[7]=e*(h*w-k*m)-d*(q*w-f*m)+n*(q*k-f*h);c[8]=d*(p*a-w*D)-
n*(l*a-k*D)+A*(l*w-k*p);c[9]=-(e*(p*a-w*D)-n*(b*a-f*D)+A*(b*w-f*p));c[10]=e*(l*a-k*D)-d*(b*a-f*D)+A*(b*k-f*l);c[11]=-(e*(l*w-k*p)-d*(b*w-f*p)+n*(b*k-f*l));c[12]=-(d*(p*C-m*D)-n*(l*C-h*D)+A*(l*m-h*p));c[13]=e*(p*C-m*D)-n*(b*C-q*D)+A*(b*m-q*p);c[14]=-(e*(l*C-h*D)-d*(b*C-q*D)+A*(b*h-q*l));c[15]=e*(l*m-h*p)-d*(b*m-q*p)+n*(b*h-q*l);return c};b.determinant=function(c){var a=c[0],b=c[1],g=c[2],q=c[3],f=c[4],d=c[5],l=c[6],h=c[7],k=c[8],n=c[9],m=c[10],p=c[11],w=c[12],A=c[13],D=c[14];c=c[15];return(a*d-b*f)*
(m*c-p*D)-(a*l-g*f)*(n*c-p*A)+(a*h-q*f)*(n*D-m*A)+(b*l-g*d)*(k*c-p*w)-(b*h-q*d)*(k*D-m*w)+(g*h-q*l)*(k*A-n*w)};b.multiply=m;b.translate=function(c,a,b){var e=b[0],q=b[1];b=b[2];var f=void 0,d=void 0,l=void 0,r=void 0,h=void 0,k=void 0,n=void 0,m=void 0,p=void 0,A=void 0,D=void 0,C=void 0;a===c?(c[12]=a[0]*e+a[4]*q+a[8]*b+a[12],c[13]=a[1]*e+a[5]*q+a[9]*b+a[13],c[14]=a[2]*e+a[6]*q+a[10]*b+a[14],c[15]=a[3]*e+a[7]*q+a[11]*b+a[15]):(f=a[0],d=a[1],l=a[2],r=a[3],h=a[4],k=a[5],n=a[6],m=a[7],p=a[8],A=a[9],
D=a[10],C=a[11],c[0]=f,c[1]=d,c[2]=l,c[3]=r,c[4]=h,c[5]=k,c[6]=n,c[7]=m,c[8]=p,c[9]=A,c[10]=D,c[11]=C,c[12]=f*e+h*q+p*b+a[12],c[13]=d*e+k*q+A*b+a[13],c[14]=l*e+n*q+D*b+a[14],c[15]=r*e+m*q+C*b+a[15]);return c};b.scale=function(c,a,b){var e=b[0],q=b[1];b=b[2];c[0]=a[0]*e;c[1]=a[1]*e;c[2]=a[2]*e;c[3]=a[3]*e;c[4]=a[4]*q;c[5]=a[5]*q;c[6]=a[6]*q;c[7]=a[7]*q;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c};b.rotate=function(c,a,b,g){var e=g[0],
f=g[1];g=g[2];var d=Math.sqrt(e*e+f*f+g*g),l=void 0,r=void 0,h=void 0,k=void 0,m=void 0,p=void 0,w=void 0,A=void 0,D=void 0,C=void 0,F=void 0,E=void 0,G=void 0,J=void 0,H=void 0,N=void 0,M=void 0,I=void 0,R=void 0,Q=void 0,O=void 0,P=void 0,r=l=void 0;if(d<n.EPSILON)return null;d=1/d;e*=d;f*=d;g*=d;l=Math.sin(b);r=Math.cos(b);h=1-r;k=a[0];m=a[1];p=a[2];w=a[3];A=a[4];D=a[5];C=a[6];F=a[7];E=a[8];G=a[9];J=a[10];H=a[11];N=e*e*h+r;M=f*e*h+g*l;I=g*e*h-f*l;R=e*f*h-g*l;Q=f*f*h+r;O=g*f*h+e*l;P=e*g*h+f*l;l=
f*g*h-e*l;r=g*g*h+r;c[0]=k*N+A*M+E*I;c[1]=m*N+D*M+G*I;c[2]=p*N+C*M+J*I;c[3]=w*N+F*M+H*I;c[4]=k*R+A*Q+E*O;c[5]=m*R+D*Q+G*O;c[6]=p*R+C*Q+J*O;c[7]=w*R+F*Q+H*O;c[8]=k*P+A*l+E*r;c[9]=m*P+D*l+G*r;c[10]=p*P+C*l+J*r;c[11]=w*P+F*l+H*r;a!==c&&(c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c};b.rotateX=function(c,a,b){var e=Math.sin(b);b=Math.cos(b);var q=a[4],f=a[5],d=a[6],l=a[7],r=a[8],h=a[9],k=a[10],n=a[11];a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=
a[15]);c[4]=q*b+r*e;c[5]=f*b+h*e;c[6]=d*b+k*e;c[7]=l*b+n*e;c[8]=r*b-q*e;c[9]=h*b-f*e;c[10]=k*b-d*e;c[11]=n*b-l*e;return c};b.rotateY=function(c,a,b){var e=Math.sin(b);b=Math.cos(b);var q=a[0],f=a[1],d=a[2],l=a[3],r=a[8],h=a[9],k=a[10],n=a[11];a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=q*b-r*e;c[1]=f*b-h*e;c[2]=d*b-k*e;c[3]=l*b-n*e;c[8]=q*e+r*b;c[9]=f*e+h*b;c[10]=d*e+k*b;c[11]=l*e+n*b;return c};b.rotateZ=function(c,a,b){var e=Math.sin(b);b=
Math.cos(b);var q=a[0],f=a[1],d=a[2],l=a[3],r=a[4],h=a[5],k=a[6],n=a[7];a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=q*b+r*e;c[1]=f*b+h*e;c[2]=d*b+k*e;c[3]=l*b+n*e;c[4]=r*b-q*e;c[5]=h*b-f*e;c[6]=k*b-d*e;c[7]=n*b-l*e;return c};b.fromTranslation=function(c,a){c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=a[0];c[13]=a[1];c[14]=a[2];c[15]=1;return c};b.fromScaling=function(c,a){c[0]=a[0];c[1]=0;
c[2]=0;c[3]=0;c[4]=0;c[5]=a[1];c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=a[2];c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.fromRotation=function(c,a,b){var e=b[0],q=b[1];b=b[2];var f=Math.sqrt(e*e+q*q+b*b),d=void 0,l=void 0,r=void 0;if(f<n.EPSILON)return null;f=1/f;e*=f;q*=f;b*=f;d=Math.sin(a);l=Math.cos(a);r=1-l;c[0]=e*e*r+l;c[1]=q*e*r+b*d;c[2]=b*e*r-q*d;c[3]=0;c[4]=e*q*r-b*d;c[5]=q*q*r+l;c[6]=b*q*r+e*d;c[7]=0;c[8]=e*b*r+q*d;c[9]=q*b*r-e*d;c[10]=b*b*r+l;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};
b.fromXRotation=function(c,a){var b=Math.sin(a);a=Math.cos(a);c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=a;c[6]=b;c[7]=0;c[8]=0;c[9]=-b;c[10]=a;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.fromYRotation=function(c,a){var b=Math.sin(a);a=Math.cos(a);c[0]=a;c[1]=0;c[2]=-b;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=b;c[9]=0;c[10]=a;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.fromZRotation=function(c,a){var b=Math.sin(a);a=Math.cos(a);c[0]=a;c[1]=b;c[2]=0;c[3]=0;c[4]=-b;c[5]=a;c[6]=0;c[7]=0;
c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.fromRotationTranslation=k;b.fromQuat2=function(c,a){var b=l,e=-a[0],q=-a[1],f=-a[2],d=a[3],h=a[4],z=a[5],n=a[6],m=a[7],p=e*e+q*q+f*f+d*d;0<p?(b[0]=2*(h*d+m*e+z*f-n*q)/p,b[1]=2*(z*d+m*q+n*e-h*f)/p,b[2]=2*(n*d+m*f+h*q-z*e)/p):(b[0]=2*(h*d+m*e+z*f-n*q),b[1]=2*(z*d+m*q+n*e-h*f),b[2]=2*(n*d+m*f+h*q-z*e));k(c,a,b);return c};var l=d.create();b.getTranslation=function(c,a){c[0]=a[12];c[1]=a[13];c[2]=a[14];return c};b.getScaling=function(c,
a){var b=a[0],e=a[1],q=a[2],f=a[4],d=a[5],l=a[6],h=a[8],k=a[9];a=a[10];c[0]=Math.sqrt(b*b+e*e+q*q);c[1]=Math.sqrt(f*f+d*d+l*l);c[2]=Math.sqrt(h*h+k*k+a*a);return c};b.getRotation=function(c,a){var b=a[0]+a[5]+a[10],e=0;0<b?(e=2*Math.sqrt(b+1),c[3]=.25*e,c[0]=(a[6]-a[9])/e,c[1]=(a[8]-a[2])/e,c[2]=(a[1]-a[4])/e):a[0]>a[5]&&a[0]>a[10]?(e=2*Math.sqrt(1+a[0]-a[5]-a[10]),c[3]=(a[6]-a[9])/e,c[0]=.25*e,c[1]=(a[1]+a[4])/e,c[2]=(a[8]+a[2])/e):a[5]>a[10]?(e=2*Math.sqrt(1+a[5]-a[0]-a[10]),c[3]=(a[8]-a[2])/e,
c[0]=(a[1]+a[4])/e,c[1]=.25*e,c[2]=(a[6]+a[9])/e):(e=2*Math.sqrt(1+a[10]-a[0]-a[5]),c[3]=(a[1]-a[4])/e,c[0]=(a[8]+a[2])/e,c[1]=(a[6]+a[9])/e,c[2]=.25*e);return c};b.fromRotationTranslationScale=function(c,a,b,g){var e=a[0],f=a[1],d=a[2],l=a[3],h=e+e,r=f+f,k=d+d;a=e*h;var n=e*r,e=e*k,m=f*r,f=f*k,d=d*k,h=l*h,r=l*r,l=l*k,k=g[0],p=g[1];g=g[2];c[0]=(1-(m+d))*k;c[1]=(n+l)*k;c[2]=(e-r)*k;c[3]=0;c[4]=(n-l)*p;c[5]=(1-(a+d))*p;c[6]=(f+h)*p;c[7]=0;c[8]=(e+r)*g;c[9]=(f-h)*g;c[10]=(1-(a+m))*g;c[11]=0;c[12]=b[0];
c[13]=b[1];c[14]=b[2];c[15]=1;return c};b.fromRotationTranslationScaleOrigin=function(c,a,b,g,d){var e=a[0],q=a[1],l=a[2],h=a[3],r=e+e,k=q+q,n=l+l;a=e*r;var m=e*k,p=e*n,e=q*k,q=q*n,A=l*n,l=h*r,k=h*k,D=h*n,C=g[0],F=g[1],n=g[2];g=d[0];h=d[1];d=d[2];var r=(1-(e+A))*C,E=(m+D)*C,C=(p-k)*C,m=(m-D)*F,A=(1-(a+A))*F,F=(q+l)*F,p=(p+k)*n,q=(q-l)*n;a=(1-(a+e))*n;c[0]=r;c[1]=E;c[2]=C;c[3]=0;c[4]=m;c[5]=A;c[6]=F;c[7]=0;c[8]=p;c[9]=q;c[10]=a;c[11]=0;c[12]=b[0]+g-(r*g+m*h+p*d);c[13]=b[1]+h-(E*g+A*h+q*d);c[14]=b[2]+
d-(C*g+F*h+a*d);c[15]=1;return c};b.fromQuat=function(c,a){var b=a[0],e=a[1],d=a[2];a=a[3];var f=b+b,l=e+e,h=d+d,b=b*f,k=e*f,e=e*l,n=d*f,m=d*l,d=d*h,f=a*f,l=a*l;a*=h;c[0]=1-e-d;c[1]=k+a;c[2]=n-l;c[3]=0;c[4]=k-a;c[5]=1-b-d;c[6]=m+f;c[7]=0;c[8]=n+l;c[9]=m-f;c[10]=1-b-e;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.frustum=function(c,a,b,g,d,f,l){var e=1/(b-a),q=1/(d-g),h=1/(f-l);c[0]=2*f*e;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2*f*q;c[6]=0;c[7]=0;c[8]=(b+a)*e;c[9]=(d+g)*q;c[10]=(l+f)*h;c[11]=-1;c[12]=
0;c[13]=0;c[14]=l*f*2*h;c[15]=0;return c};b.perspective=function(c,a,b,g,d){a=1/Math.tan(a/2);var e=void 0;c[0]=a/b;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=a;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[11]=-1;c[12]=0;c[13]=0;c[15]=0;null!=d&&Infinity!==d?(e=1/(g-d),c[10]=(d+g)*e,c[14]=2*d*g*e):(c[10]=-1,c[14]=-2*g);return c};b.perspectiveFromFieldOfView=function(c,a,b,g){var e=Math.tan(a.upDegrees*Math.PI/180),f=Math.tan(a.downDegrees*Math.PI/180),d=Math.tan(a.leftDegrees*Math.PI/180);a=Math.tan(a.rightDegrees*Math.PI/
180);var l=2/(d+a),h=2/(e+f);c[0]=l;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=h;c[6]=0;c[7]=0;c[8]=-((d-a)*l*.5);c[9]=(e-f)*h*.5;c[10]=g/(b-g);c[11]=-1;c[12]=0;c[13]=0;c[14]=g*b/(b-g);c[15]=0;return c};b.ortho=function(c,a,b,g,d,f,l){var e=1/(a-b),q=1/(g-d),h=1/(f-l);c[0]=-2*e;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=-2*q;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=2*h;c[11]=0;c[12]=(a+b)*e;c[13]=(d+g)*q;c[14]=(l+f)*h;c[15]=1;return c};b.lookAt=function(c,a,b,g){var e=void 0,f=void 0,d=void 0,l=void 0,h=void 0,r=void 0,k=void 0,
m=void 0,x=void 0,w=void 0,A=a[0],D=a[1];a=a[2];d=g[0];l=g[1];g=g[2];k=b[0];m=b[1];b=b[2];if(Math.abs(A-k)<n.EPSILON&&Math.abs(D-m)<n.EPSILON&&Math.abs(a-b)<n.EPSILON)return p(c);k=A-k;m=D-m;x=a-b;w=1/Math.sqrt(k*k+m*m+x*x);k*=w;m*=w;x*=w;e=l*x-g*m;f=g*k-d*x;d=d*m-l*k;(w=Math.sqrt(e*e+f*f+d*d))?(w=1/w,e*=w,f*=w,d*=w):d=f=e=0;l=m*d-x*f;h=x*e-k*d;r=k*f-m*e;(w=Math.sqrt(l*l+h*h+r*r))?(w=1/w,l*=w,h*=w,r*=w):r=h=l=0;c[0]=e;c[1]=l;c[2]=k;c[3]=0;c[4]=f;c[5]=h;c[6]=m;c[7]=0;c[8]=d;c[9]=r;c[10]=x;c[11]=0;
c[12]=-(e*A+f*D+d*a);c[13]=-(l*A+h*D+r*a);c[14]=-(k*A+m*D+x*a);c[15]=1;return c};b.targetTo=function(c,a,b,g){var e=a[0],f=a[1];a=a[2];var d=g[0],l=g[1],h=g[2];g=e-b[0];var r=f-b[1];b=a-b[2];var k=g*g+r*r+b*b;0<k&&(k=1/Math.sqrt(k),g*=k,r*=k,b*=k);var n=l*b-h*r,h=h*g-d*b,d=d*r-l*g,k=n*n+h*h+d*d;0<k&&(k=1/Math.sqrt(k),n*=k,h*=k,d*=k);c[0]=n;c[1]=h;c[2]=d;c[3]=0;c[4]=r*d-b*h;c[5]=b*n-g*d;c[6]=g*h-r*n;c[7]=0;c[8]=g;c[9]=r;c[10]=b;c[11]=0;c[12]=e;c[13]=f;c[14]=a;c[15]=1;return c};b.str=function(c){return"mat4("+
c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+", "+c[6]+", "+c[7]+", "+c[8]+", "+c[9]+", "+c[10]+", "+c[11]+", "+c[12]+", "+c[13]+", "+c[14]+", "+c[15]+")"};b.frob=function(c){return Math.sqrt(Math.pow(c[0],2)+Math.pow(c[1],2)+Math.pow(c[2],2)+Math.pow(c[3],2)+Math.pow(c[4],2)+Math.pow(c[5],2)+Math.pow(c[6],2)+Math.pow(c[7],2)+Math.pow(c[8],2)+Math.pow(c[9],2)+Math.pow(c[10],2)+Math.pow(c[11],2)+Math.pow(c[12],2)+Math.pow(c[13],2)+Math.pow(c[14],2)+Math.pow(c[15],2))};b.add=function(c,a,
b){c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];c[4]=a[4]+b[4];c[5]=a[5]+b[5];c[6]=a[6]+b[6];c[7]=a[7]+b[7];c[8]=a[8]+b[8];c[9]=a[9]+b[9];c[10]=a[10]+b[10];c[11]=a[11]+b[11];c[12]=a[12]+b[12];c[13]=a[13]+b[13];c[14]=a[14]+b[14];c[15]=a[15]+b[15];return c};b.subtract=h;b.multiplyScalar=function(c,a,b){c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;c[4]=a[4]*b;c[5]=a[5]*b;c[6]=a[6]*b;c[7]=a[7]*b;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12]*b;c[13]=a[13]*b;c[14]=a[14]*
b;c[15]=a[15]*b;return c};b.multiplyScalarAndAdd=function(c,a,b,g){c[0]=a[0]+b[0]*g;c[1]=a[1]+b[1]*g;c[2]=a[2]+b[2]*g;c[3]=a[3]+b[3]*g;c[4]=a[4]+b[4]*g;c[5]=a[5]+b[5]*g;c[6]=a[6]+b[6]*g;c[7]=a[7]+b[7]*g;c[8]=a[8]+b[8]*g;c[9]=a[9]+b[9]*g;c[10]=a[10]+b[10]*g;c[11]=a[11]+b[11]*g;c[12]=a[12]+b[12]*g;c[13]=a[13]+b[13]*g;c[14]=a[14]+b[14]*g;c[15]=a[15]+b[15]*g;return c};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&
a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]};b.equals=function(a,b){var c=a[0],e=a[1],d=a[2],f=a[3],l=a[4],h=a[5],k=a[6],m=a[7],p=a[8],y=a[9],x=a[10],w=a[11],A=a[12],D=a[13],C=a[14];a=a[15];var F=b[0],E=b[1],G=b[2],J=b[3],H=b[4],N=b[5],M=b[6],I=b[7],R=b[8],Q=b[9],O=b[10],P=b[11],L=b[12],U=b[13],V=b[14];b=b[15];return Math.abs(c-F)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(F))&&Math.abs(e-E)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(E))&&
Math.abs(d-G)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(G))&&Math.abs(f-J)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(J))&&Math.abs(l-H)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(H))&&Math.abs(h-N)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(k-M)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs(M))&&Math.abs(m-I)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(p-R)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(y-Q)<=n.EPSILON*Math.max(1,Math.abs(y),Math.abs(Q))&&Math.abs(x-
O)<=n.EPSILON*Math.max(1,Math.abs(x),Math.abs(O))&&Math.abs(w-P)<=n.EPSILON*Math.max(1,Math.abs(w),Math.abs(P))&&Math.abs(A-L)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(L))&&Math.abs(D-U)<=n.EPSILON*Math.max(1,Math.abs(D),Math.abs(U))&&Math.abs(C-V)<=n.EPSILON*Math.max(1,Math.abs(C),Math.abs(V))&&Math.abs(a-b)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};b.mul=m;b.sub=h})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(a,b,d){Object.defineProperty(b,
"__esModule",{value:!0});b.vec3f64=d})},"esri/geometry/Point":function(){define("require exports tslib ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,d,n,p,m,k,h,l,c,e){function r(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var g=[0,0],q=n.getLogger("esri.geometry.Point");a=function(a){function b(){for(var c=
[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.x=0;c.y=0;c.z=void 0;c.m=void 0;c.type="point";return c}d.__extends(b,a);f=b;b.copy=function(a,c){c._set("x",a._get("x"));c._set("y",a._get("y"));c._set("z",a._get("z"));c._set("m",a._get("m"));a=a._get("spatialReference");c._set("spatialReference",Object.isFrozen(a)?a:a.clone())};b.distance=function(a,c){var b=a.x-c.x,e=a.y-c.y;a=a.hasZ&&c.hasZ?a.z-c.z:0;return Math.sqrt(b*b+e*e+a*a)};b.prototype.normalizeCtorArgs=function(a,
c,b,f,d){var l;if(Array.isArray(a))l=a,d=c,a=l[0],c=l[1],b=l[2],f=l[3];else if(a&&"object"===typeof a){if(l=a,a=null!=l.x?l.x:l.longitude,c=null!=l.y?l.y:l.latitude,b=null!=l.z?l.z:l.altitude,f=l.m,(d=l.spatialReference)&&"esri.geometry.SpatialReference"!==d.declaredClass&&(d=new h(d)),null!=l.longitude||null!=l.latitude)null==l.longitude?q.warn(".longitude\x3d","Latitude was defined without longitude"):null==l.latitude?q.warn(".latitude\x3d","Longitude was defined without latitude"):!l.declaredClass&&
d&&d.isWebMercator&&(c=e.lngLatToXY(l.longitude,l.latitude,g),a=c[0],c=c[1])}else r(b)?(d=b,b=null):r(f)&&(d=f,f=null);a={x:a,y:c};null==a.x&&null!=a.y?q.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&q.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=d&&(a.spatialReference=d);null!=b&&(a.z=b);null!=f&&(a.m=f);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",
a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return e.xyToLngLat(this.x,this.y,g)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var c=this._get("spatialReference");
c&&(c.isWebMercator?this._set("y",e.lngLatToXY(this.x,a,g)[1]):c.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return e.xyToLngLat(this._get("x"),this._get("y"),g)[0];if(a.isGeographic)return this._get("x")}return null},set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("x",e.lngLatToXY(a,this._get("y"),
g)[0]):c.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.writeX=function(a,c,b){c[b]=isNaN(a)?"NaN":a};b.prototype.readX=function(a){return"string"===typeof a?NaN:a};b.prototype.clone=function(){var a=new f;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};b.prototype.copy=function(a){f.copy(a,this);return this};b.prototype.equals=function(a){var c;if(!a)return!1;var b=this.x,f=this.y,g=this.z,d=this.m,
l=this.spatialReference,q=a.z,h=a.m,r=a.x;c=a.y;a=a.spatialReference;if(!l.equals(a))if(l.isWebMercator&&a.isWGS84)c=e.lngLatToXY(r,c),r=c[0],c=c[1],a=l;else if(l.isWGS84&&a.isWebMercator)c=e.xyToLngLat(r,c),r=c[0],c=c[1],a=l;else return!1;return b===r&&f===c&&g===q&&d===h&&l.wkid===a.wkid};b.prototype.offset=function(a,c,b){return l.offsetPoint(this,a,c,b)};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=c.getInfo(this.spatialReference);if(!a)return this;var b=this.x,
e=a.valid,a=e[0],f=e[1],e=2*f;b>f?(a=Math.ceil(Math.abs(b-f)/e),b-=a*e):b<a&&(a=Math.ceil(Math.abs(b-a)/e),b+=a*e);this._set("x",b);return this};b.prototype.distance=function(a){return f.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,c=this.hasM;return a&&c?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:c?[this.x,this.y,this.m]:[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var f;d.__decorate([p.property({dependsOn:["x","y","z","m","spatialReference"]})],
b.prototype,"cache",void 0);d.__decorate([p.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);d.__decorate([p.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);d.__decorate([p.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);d.__decorate([p.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);d.__decorate([p.property({type:Number,
json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),p.cast(function(a){return isNaN(a)?a:m.ensureNumber(a)})],b.prototype,"x",void 0);d.__decorate([p.writer("x")],b.prototype,"writeX",null);d.__decorate([p.reader("x")],b.prototype,"readX",null);d.__decorate([p.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);d.__decorate([p.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0);d.__decorate([p.property({type:Number,
json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=f=d.__decorate([p.subclass("esri.geometry.Point")],b)}(k);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports tslib ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,b,d,n,p,m){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.type=
null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=m.WGS84;return b}d.__extends(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,c){if(a instanceof m)return a;if(null!=a){var b=new m;b.read(a,c);return b}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=
function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,c){this.cache[a]=c};d.__decorate([p.property()],b.prototype,"type",void 0);d.__decorate([p.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);d.__decorate([p.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);d.__decorate([p.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);d.__decorate([p.property({type:Boolean,
json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);d.__decorate([p.property({type:m,json:{write:!0}})],b.prototype,"spatialReference",void 0);d.__decorate([p.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=d.__decorate([p.subclass("esri.geometry.Geometry")],b)}(n.JSONSupport)})},"esri/geometry/support/offset":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.offsetPoint=function(a,
b,p,m){a.x+=b;a.y+=p;null!=m&&null!=a.z&&(a.z+=m);return a};b.offsetCoordsX=function(a,b){a[0]+=b;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(a,b,d,n,p,m){function k(a,c,b,e,d){var f;if("x"in a&&"x"in d)c=c(a.x,a.y,g,e),d.x=c[0],d.y=c[1];else if("xmin"in a&&"xmin"in d)f=c(a.xmin,a.ymin,g,e),d.xmin=f[0],d.ymin=f[1],c=c(a.xmax,a.ymax,g,e),d.xmax=c[0],
d.ymax=c[1];else if("paths"in a&&"paths"in d||"rings"in a&&"rings"in d){f="paths"in a?a.paths:a.rings;var l=[],q=void 0;for(a=0;a<f.length;a++){var h=f[a],q=[];l.push(q);for(var r=0;r<h.length;r++)q.push(c(h[r][0],h[r][1],[0,0],e)),2<h[r].length&&q[r].push(h[r][2]),3<h[r].length&&q[r].push(h[r][3])}"paths"in d?d.paths=l:d.rings=l}else if("points"in a&&"points"in d){f=a.points;l=[];for(a=0;a<f.length;a++)l[a]=c(f[a][0],f[a][1],[0,0],e),2<f[a].length&&l[a].push(f[a][2]),3<f[a].length&&l[a].push(f[a][3]);
d.points=l}else if("type"in a&&"mesh"===a.type&&"type"in d&&"mesh"===d.type&&(f=a.vertexAttributes&&a.vertexAttributes.position,l=d.vertexAttributes&&d.vertexAttributes.position,f))for(q=[0,0],a=0;a<f.length;a+=3)c(f[a],f[a+1],q,e),l[a]=q[0],l[a+1]=q[1];d.spatialReference=b;return d}function h(a,c){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);c=c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);return a&&c?m.equals(c,a)?!0:m.isWebMercator(c)&&m.isWGS84(a)||m.isWebMercator(a)&&m.isWGS84(c):
!1}function l(a,c,b){void 0===b&&(b=[0,0]);89.99999<c?c=89.99999:-89.99999>c&&(c=-89.99999);c*=.017453292519943;b[0]=.017453292519943*a*e;b[1]=r*Math.log((1+Math.sin(c))/(1-Math.sin(c)));return b}function c(a,c,b,g){void 0===b&&(b=[0,0]);void 0===g&&(g=!1);a=a/e*57.29577951308232;b[0]=g?a:a-360*Math.floor((a+180)/360);b[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*c/e)));return b}Object.defineProperty(b,"__esModule",{value:!0});var e=n.wgs84Radius,r=e/2,g=[0,0];b.canProject=h;b.project=
function(a,b){var e=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return h(e,b)?m.equals(e,b)?d.clone(a):m.isWebMercator(b)?k(a,l,p.WebMercator,!1,d.clone(a)):m.isWGS84(b)?k(a,c,p.WGS84,!1,d.clone(a)):null:null};b.lngLatToXY=l;b.xyToLngLat=c;b.geographicToWebMercator=function(a,c,b){void 0===c&&(c=!1);void 0===b&&(b=d.clone(a));return k(a,l,p.WebMercator,c,b)};b.webMercatorToGeographic=function(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=d.clone(a));return k(a,c,p.WGS84,
b,e)}})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../core/compilerUtils","../Extent"],function(a,b,d,n){function p(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3]]}function m(a){return a[0]>=a[2]?0:a[2]-a[0]}function k(a){return a[1]>=a[3]?0:a[3]-a[1]}function h(a,c,b){return c>=a[0]&&b>=a[1]&&c<=a[2]&&b<=a[3]}function l(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a}function c(a){return 4===a.length}function e(a,c,b){return a<c?c:a>b?b:a}Object.defineProperty(b,
"__esModule",{value:!0});b.create=p;b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=function(a,c,b,e,d){void 0===d&&(d=p());d[0]=a;d[1]=c;d[2]=b;d[3]=e;return d};b.fromExtent=function(a,c){void 0===c&&(c=p());c[0]=a.xmin;c[1]=a.ymin;c[2]=a.xmax;c[3]=a.ymax;return c};b.toExtent=function(a,c){return new n({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:c})};b.expandPointInPlace=function(a,c){c[0]<a[0]&&(a[0]=c[0]);c[0]>a[2]&&(a[2]=c[0]);c[1]<a[1]&&(a[1]=c[1]);c[1]>a[3]&&(a[3]=
c[1])};b.expand=function(a,b,e){void 0===e&&(e=a);if("length"in b)if(c(b))e[0]=Math.min(a[0],b[0]),e[1]=Math.min(a[1],b[1]),e[2]=Math.max(a[2],b[2]),e[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)e[0]=Math.min(a[0],b[0]),e[1]=Math.min(a[1],b[1]),e[2]=Math.max(a[2],b[0]),e[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":e[0]=Math.min(a[0],b.xmin);e[1]=Math.min(a[1],b.ymin);e[2]=Math.max(a[2],b.xmax);e[3]=Math.max(a[3],b.ymax);break;case "point":e[0]=Math.min(a[0],b.x);e[1]=Math.min(a[1],
b.y);e[2]=Math.max(a[2],b.x);e[3]=Math.max(a[3],b.y);break;default:d.neverReached(b)}return e};b.expandWithNestedArray=function(a,c,b){void 0===b&&(b=a);var e=c.length,g=a[0],d=a[1],l=a[2];a=a[3];for(var h=0;h<e;h++){var q=c[h],g=Math.min(g,q[0]),d=Math.min(d,q[1]),l=Math.max(l,q[0]);a=Math.max(a,q[1])}b[0]=g;b[1]=d;b[2]=l;b[3]=a;return b};b.allFinite=function(a){for(var c=0;4>c;c++)if(!isFinite(a[c]))return!1;return!0};b.width=m;b.height=k;b.diameter=function(a){var c=m(a);a=k(a);return Math.sqrt(c*
c+a*a)};b.area=function(a){return m(a)*k(a)};b.center=function(a,c){void 0===c&&(c=[0,0]);c[0]=(a[0]+a[2])/2;c[1]=(a[1]+a[3])/2;return c};b.containsPoint=function(a,c){return h(a,c[0],c[1])};b.containsPointObject=function(a,c){return h(a,c.x,c.y)};b.containsXY=h;b.containsPointWithMargin=function(a,c,b){return c[0]>=a[0]-b&&c[1]>=a[1]-b&&c[0]<=a[2]+b&&c[1]<=a[3]+b};b.intersects=function(a,c){return Math.max(c[0],a[0])<=Math.min(c[2],a[2])&&Math.max(c[1],a[1])<=Math.min(c[3],a[3])};b.contains=function(a,
c){return c[0]>=a[0]&&c[2]<=a[2]&&c[1]>=a[1]&&c[3]<=a[3]};b.intersection=function(a,c,b){void 0===b&&(b=a);var f=c[0],g=c[1],d=c[2];c=c[3];b[0]=e(a[0],f,d);b[1]=e(a[1],g,c);b[2]=e(a[2],f,d);b[3]=e(a[3],g,c);return b};b.distance=function(a,c){var b=(a[1]+a[3])/2,e=Math.max(Math.abs(c[0]-(a[0]+a[2])/2)-m(a)/2,0);a=Math.max(Math.abs(c[1]-b)-k(a)/2,0);return Math.sqrt(e*e+a*a)};b.size=function(a,c){c[0]=a[2]-a[0];c[1]=a[3]-a[1]};b.offset=function(a,c,b,e){void 0===e&&(e=a);e[0]=a[0]+c;e[1]=a[1]+b;e[2]=
a[2]+c;e[3]=a[3]+b;return e};b.pad=function(a,c,b){void 0===b&&(b=a);b[0]=a[0]-c;b[1]=a[1]-c;b[2]=a[2]+c;b[3]=a[3]+c;return b};b.setMin=function(a,c,b){void 0===b&&(b=a);b[0]=c[0];b[1]=c[1];b!==a&&(b[2]=a[2],b[3]=a[3]);return b};b.setMax=function(a,c,b){void 0===b&&(b=a);b[2]=c[0];b[3]=c[1];b!==a&&(b[0]=a[0],b[1]=a[1]);return a};b.set=l;b.empty=function(a){return a?l(a,b.NEGATIVE_INFINITY):p(b.NEGATIVE_INFINITY)};b.is=c;b.isPoint=function(a){return(0===m(a)||!isFinite(a[0]))&&(0===k(a)||!isFinite(a[1]))};
b.equals=function(a,b,e){if(null==a||null==b)return a===b;if(!c(a)||!c(b))return!1;if(e)for(var f=0;f<a.length;f++){if(!e(a[f],b[f]))return!1}else for(f=0;f<a.length;f++)if(a[f]!==b[f])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0];b.UNIT=[0,0,1,1]})},"esri/geometry/Extent":function(){define("require exports tslib ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g){function q(a,c,b){return null==c?b:null==b?c:a(c,b)}a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.type="extent";c.xmin=0;c.ymin=0;c.mmin=void 0;c.zmin=void 0;c.xmax=0;c.ymax=0;c.mmax=void 0;c.zmax=void 0;return c}d.__extends(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,c,b,e,f){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==
a.spatialReference?l.WGS84:a.spatialReference,a):{xmin:a,ymin:c,xmax:b,ymax:e,spatialReference:null==f?l.WGS84:f}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};b.fromBounds=function(a,c){return new f({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:c})};Object.defineProperty(b.prototype,"center",{get:function(){var a=new h({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+
this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-
this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var c=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-c.x,a.y-c.y,a.z-c.z):this.offset(a.x-c.x,a.y-c.y)};b.prototype.clone=function(){var a=new f;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,
a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,e=a.spatialReference;b&&e&&!b.equals(e)&&g.canProject(b,e)&&(a=b.isWebMercator?g.geographicToWebMercator(a):g.webMercatorToGeographic(a,!0));return"point"===a.type?c.extentContainsPoint(this,a):"extent"===a.type?c.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var c=this.spatialReference,b=a.spatialReference;c&&
b&&!c.equals(b)&&g.canProject(c,b)&&(a=c.isWebMercator?g.geographicToWebMercator(a):g.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var c=this.width*a,b=this.height*a;this.xmin+=c;this.ymin+=b;this.xmax-=c;this.ymax-=b;this.hasZ&&(c=(this.zmax-this.zmin)*a,this.zmin+=c,this.zmax-=c);this.hasM&&(a*=this.mmax-
this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(n.isNone(a))return!1;var c=this.spatialReference,b=a.spatialReference;c&&b&&!c.equals(b)&&g.canProject(c,b)&&(a=c.isWebMercator?g.geographicToWebMercator(a):g.webMercatorToGeographic(a,!0));c=e.getExtentIntersector(a.type);return"mesh"!==a.type?c(this,a):c(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,c,b){this.xmin+=a;
this.ymin+=c;this.xmax+=a;this.ymax+=c;null!=b&&(this.zmin+=b,this.zmax+=b);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=q(Math.min,this.zmin,a.zmin),this.zmax=q(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=q(Math.min,this.mmin,a.mmin),this.mmax=
q(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=q(Math.max,this.zmin,a.zmin),this.zmax=q(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=q(Math.max,this.mmin,a.mmin),this.mmax=q(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,
a)};b.prototype._shiftCM=function(a){void 0===a&&(a=r.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var c=this.spatialReference,b=this._getCM(a);if(b){var e=c.isWebMercator?g.webMercatorToGeographic(b):b;this.xmin-=b.x;this.xmax-=b.x;c.isWebMercator||(e.x=this._normalizeX(e.x,a).x);this.spatialReference=new l(p.replace(c.isWGS84?a.altTemplate:a.wkTemplate,{Central_Meridian:e.x}))}return this};b.prototype._getCM=function(a){var c=null,b=a.valid;a=b[0];var b=b[1],e=this.xmin,
f=this.xmax;e>=a&&e<=b&&f>=a&&f<=b||(c=this.center);return c};b.prototype._normalize=function(a,c,b){var e=this.spatialReference;if(!e)return this;b=b||r.getInfo(e);if(!b)return this;var f=this._getParts(b).map(function(a){return a.extent});if(2>f.length)return f[0]||this;if(2<f.length)return a?this._shiftCM(b):this.set({xmin:b.valid[0],xmax:b.valid[1]});if(a)return this._shiftCM(b);if(c)return f;var d=!0,g=!0;f.forEach(function(a){a.hasZ||(d=!1);a.hasM||(g=!1)});return{rings:f.map(function(a){var c=
[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(d)for(var b=(a.zmax-a.zmin)/2,e=0;e<c.length;e++)c[e].push(b);if(g)for(a=(a.mmax-a.mmin)/2,e=0;e<c.length;e++)c[e].push(a);return c}),hasZ:d,hasM:g,spatialReference:e}};b.prototype._getParts=function(a){var c=this.cache._parts;if(!c){var c=[],b=this.ymin,e=this.ymax,d=this.spatialReference,g=this.width,l=this.xmin,h=this.xmax,q=void 0;a=a||r.getInfo(d);var k=a.valid,t=k[0],n=k[1],q=this._normalizeX(this.xmin,a),m=
q.x,k=q.frameId,q=this._normalizeX(this.xmax,a),p=q.x;a=q.frameId;q=m===p&&0<g;if(g>2*n){g=new f(l<h?m:p,b,n,e,d);l=new f(t,b,l<h?p:m,e,d);h=new f(0,b,n,e,d);b=new f(t,b,0,e,d);e=[];d=[];g.contains(h)&&e.push(k);g.contains(b)&&d.push(k);l.contains(h)&&e.push(a);l.contains(b)&&d.push(a);for(t=k+1;t<a;t++)e.push(t),d.push(t);c.push({extent:g,frameIds:[k]},{extent:l,frameIds:[a]},{extent:h,frameIds:e},{extent:b,frameIds:d})}else m>p||q?c.push({extent:new f(m,b,n,e,d),frameIds:[k]},{extent:new f(t,b,
p,e,d),frameIds:[a]}):c.push({extent:new f(m,b,p,e,d),frameIds:[k]});this.cache._parts=c}a=this.hasZ;b=this.hasM;if(a||b)for(k={},a&&(k.zmin=this.zmin,k.zmax=this.zmax),b&&(k.mmin=this.mmin,k.mmax=this.mmax),a=0;a<c.length;a++)c[a].extent.set(k);return c};b.prototype._normalizeX=function(a,c){var b=c.valid;c=b[0];var e=b[1],b=2*e,f=0;a>e?(c=Math.ceil(Math.abs(a-e)/b),a-=c*b,f=c):a<c&&(c=Math.ceil(Math.abs(a-c)/b),a+=c*b,f=-c);return{x:a,frameId:f}};var f;d.__decorate([m.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],
b.prototype,"cache",void 0);d.__decorate([m.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);d.__decorate([m.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);d.__decorate([m.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);d.__decorate([m.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);d.__decorate([m.property({readOnly:!0,
dependsOn:["ymin","ymax"]})],b.prototype,"height",null);d.__decorate([m.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);d.__decorate([m.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);d.__decorate([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],
b.prototype,"mmin",void 0);d.__decorate([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);d.__decorate([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],
b.prototype,"mmax",void 0);d.__decorate([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);return b=f=d.__decorate([m.subclass("esri.geometry.Extent")],b)}(k);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,b){function d(a,b){return n(a,b[0],b[1])}function n(a,b,c,e){return b>=a.xmin&&b<=a.xmax&&c>=a.ymin&&c<=
a.ymax?null!=e&&a.hasZ?e>=a.zmin&&e<=a.zmax:!0:!1}function p(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var c=!1,e=0,d=a.length;e<d;e++)c=m(c,a[e],b);b=c}else b=m(!1,a,b);else b=!1;return b}function m(a,b,c){var e=c[0];c=c[1];for(var d=0,g=0,l=b.length;g<l;g++){d++;d===l&&(d=0);var f=b[g],h=f[0],f=f[1],k=b[d],n=k[0],k=k[1];(f<c&&k>=c||k<c&&f>=c)&&h+(c-f)/(k-f)*(n-h)<e&&(a=!a)}return a}Object.defineProperty(b,"__esModule",{value:!0});var k=[0,0];b.extentContainsPoint=function(a,b){return n(a,
b.x,b.y,b.z)};b.extentContainsMultipoint=function(a,b){if(!b.points||b.points.length)return!1;var c=0;for(b=b.points;c<b.length;c++)if(!d(a,b[c]))return!1;return!0};b.extentContainsExtent=function(a,b){var c=b.xmin,e=b.ymin,d=b.zmin,g=b.xmax,l=b.ymax,f=b.zmax;return a.hasZ&&b.hasZ?n(a,c,e,d)&&n(a,c,l,d)&&n(a,g,l,d)&&n(a,g,e,d)&&n(a,c,e,f)&&n(a,c,l,f)&&n(a,g,l,f)&&n(a,g,e,f):n(a,c,e)&&n(a,c,l)&&n(a,g,l)&&n(a,g,e)};b.extentContainsCoords2D=d;b.extentContainsCoords3D=function(a,b){return n(a,b[0],b[1],
b[2])};b.polygonContainsPoint=function(a,b){k[1]=b.y;k[0]=b.x;return p(a,k)};b.polygonContainsCoords=p})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(a,b,d){function n(a,c){return d.extentContainsPoint(a,c)}function p(a,c){var b=a.hasZ&&c.hasZ,e;if(a.xmin<=c.xmin){if(e=c.xmin,a.xmax<e)return!1}else if(e=a.xmin,c.xmax<e)return!1;if(a.ymin<=c.ymin){if(e=c.ymin,a.ymax<e)return!1}else if(e=a.ymin,c.ymax<e)return!1;if(b&&c.hasZ)if(a.zmin<=c.zmin){if(b=
c.zmin,a.zmax<b)return!1}else if(b=a.zmin,c.zmax<b)return!1;return!0}function m(a,c){var b=c.hasZ?d.extentContainsCoords3D:d.extentContainsCoords2D,e=0;for(c=c.points;e<c.length;e++)if(b(a,c[e]))return!0;return!1}function k(a,c){e[0]=a.xmin;e[1]=a.ymax;r[0]=a.xmax;r[1]=a.ymax;g[0]=a.xmin;g[1]=a.ymin;q[0]=a.xmax;q[1]=a.ymin;for(var b=0,h=f;b<h.length;b++)if(d.polygonContainsCoords(c,h[b]))return!0;b=0;for(c=c.rings;b<c.length;b++)if(h=c[b],h.length){var k=h[0];if(d.extentContainsCoords2D(a,k))return!0;
for(var n=1;n<h.length;n++){var m=h[n];if(d.extentContainsCoords2D(a,m)||l(k,m,t))return!0;k=m}}return!1}function h(a,c){e[0]=a.xmin;e[1]=a.ymax;r[0]=a.xmax;r[1]=a.ymax;g[0]=a.xmin;g[1]=a.ymin;q[0]=a.xmax;q[1]=a.ymin;c=c.paths;for(var b=0;b<c.length;b++){var f=c[b];if(c.length){var h=f[0];if(d.extentContainsCoords2D(a,h))return!0;for(var k=1;k<f.length;k++){var n=f[k];if(d.extentContainsCoords2D(a,n)||l(h,n,t))return!0;h=n}}}return!1}function l(a,b,e){for(var f=0;f<e.length;f++)if(c(a,b,e[f][0],e[f][1]))return!0;
return!1}function c(a,c,b,e,f){var d=a[0];a=a[1];var g=c[0];c=c[1];var l=b[0],h=b[1];b=e[0]-l;var l=d-l,q=g-d;e=e[1]-h;var h=a-h,k=c-a,r=e*q-b*k;if(0===r)return!1;b=(b*h-e*l)/r;l=(q*h-k*l)/r;return 0<=b&&1>=b&&0<=l&&1>=l?(f&&(f[0]=d+b*(g-d),f[1]=a+b*(c-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=n;b.extentIntersectsExtent=p;b.extentIntersectsMultipoint=m;var e=[0,0],r=[0,0],g=[0,0],q=[0,0],f=[e,r,g,q],t=[[g,e],[e,r],[r,q],[q,g]];b.extentIntersectsPolygon=k;
b.extentIntersectsPolyline=h;var u=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var e=a[b],f=0;f<e.length-1;f++)for(var d=e[f],g=e[f+1],l=b+1;l<a.length;l++)for(var h=0;h<a[l].length-1;h++){var q=a[l][h],k=a[l][h+1],r=c(d,g,q,k,u);if(r&&!(u[0]===d[0]&&u[1]===d[1]||u[0]===q[0]&&u[1]===q[1]||u[0]===g[0]&&u[1]===g[1]||u[0]===k[0]&&u[1]===k[1]))return!0}h=e.length;if(!(4>=h))for(f=0;f<h-3;f++){var t=h-1;0===f&&(t=h-2);d=e[f];g=e[f+1];for(l=f+2;l<t;l++)if(q=e[l],k=e[l+1],(r=c(d,
g,q,k,u))&&!(u[0]===d[0]&&u[1]===d[1]||u[0]===q[0]&&u[1]===q[1]||u[0]===g[0]&&u[1]===g[1]||u[0]===k[0]&&u[1]===k[1]))return!0}}return!1};b.segmentIntersects=c;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return p;case "esriGeometryMultipoint":case "multipoint":return m;case "esriGeometryPoint":case "point":return n;case "esriGeometryPolygon":case "polygon":return k;case "esriGeometryPolyline":case "polyline":return h;case "mesh":return p}}})},"esri/layers/graphics/dehydratedFeatures":function(){define("require exports ../../geometry ../../Graphic ../../core/compilerUtils ../../core/has ../../core/lang ../../core/maybe ../../core/typedArrayUtil ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ../../geometry/support/quantizationUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g,q,f,t){function u(a,c,b){if(!a)return null;switch(c){case "point":return a={x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:b};case "polyline":return a={paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:b};case "polygon":return a={rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:b};case "multipoint":return a={points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:b}}}
function z(a,c,b,e){return{x:a,y:c,z:b,hasZ:null!=b,hasM:!1,spatialReference:e,type:"point"}}function v(a){return"declaredClass"in a}function B(a){return"declaredClass"in a}function y(a){return"declaredClass"in a}function x(a){return h.isNone(a)?null:v(a)?a:g.fromJSON(D(a))}function w(a){if(!a)return 0;var c=32,b;for(b in a)if(a.hasOwnProperty(b)){var e=a[b];switch(typeof e){case "string":c+=N(e);break;default:case "number":c+=16}}return c}function A(a){if(h.isNone(a))return 0;var c=32;switch(a.type){case "point":c+=
42;break;case "polyline":case "polygon":var b=0,e=2+(a.hasZ?1:0)+(a.hasM?1:0);a="polyline"===a.type?a.paths:a.rings;for(var f=0;f<a.length;f++)b+=a[f].length;c=c+(8*b*e+64)+128*b+34;c+=32*(a.length+1);break;case "multipoint":b=a.points.length;c+=8*b*(2+(a.hasZ?1:0)+(a.hasM?1:0))+64;c+=128*b;c+=34;c+=32;break;case "extent":c+=98;a.hasM&&(c+=32);a.hasZ&&(c+=32);break;case "mesh":c+=l.estimateSize(a.vertexAttributes.position);c+=l.estimateSize(a.vertexAttributes.normal);c+=l.estimateSize(a.vertexAttributes.uv);
c+=l.estimateSize(a.vertexAttributes.tangent);break;default:p.neverReached(a)}return c}function D(a){var c=a.spatialReference.toJSON();switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,spatialReference:c};case "polygon":var b=a.hasZ,e=a.hasM;return{rings:C(a.rings),hasZ:b,hasM:e,spatialReference:c};case "polyline":var f=a.paths,b=a.hasZ,e=a.hasM;return{paths:C(f),hasZ:b,hasM:e,spatialReference:c};case "extent":var f=a.xmin,d=a.xmax,g=a.ymin,l=a.ymax,h=a.zmin,q=a.zmax,k=a.mmin,r=a.mmax,b=
a.hasZ,e=a.hasM;return{xmin:f,xmax:d,ymin:g,ymax:l,zmin:h,zmax:q,mmin:k,mmax:r,hasZ:b,hasM:e,spatialReference:c};case "multipoint":return f=a.points,b=a.hasZ,e=a.hasM,{points:G(f)?F(f):f,hasZ:b,hasM:e,spatialReference:c};default:p.neverReached(a)}}function C(a){return E(a)?a.map(function(a){return F(a)}):a}function F(a){return a.map(function(a){return l.toArray(a)})}function E(a){for(var c=0;c<a.length;c++){var b=a[c];if(0!==b.length)return G(b)}return!1}function G(a){return a.length&&(l.isFloat32Array(a[0])||
l.isFloat64Array(a[0]))}function J(a,c){e.empty(c);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":c[0]=c[3]=a.x;c[1]=c[4]=a.y;a.hasZ&&(c[2]=c[5]=a.z);break;case "polyline":for(var b=0;b<a.paths.length;b++)e.expandWithNestedArray(c,a.paths[b],a.hasZ);break;case "polygon":for(b=0;b<a.rings.length;b++)e.expandWithNestedArray(c,a.rings[b],a.hasZ);break;case "multipoint":e.expandWithNestedArray(c,a.points,a.hasZ);break;case "extent":c[0]=a.xmin;c[1]=a.ymin;c[3]=a.xmax;c[4]=a.ymax;null!=a.zmin&&
(c[2]=a.zmin);null!=a.zmax&&(c[5]=a.zmax);break;default:p.neverReached(a)}}function H(a,c){r.empty(c);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":c[0]=c[2]=a.x;c[1]=c[3]=a.y;break;case "polyline":for(var b=0;b<a.paths.length;b++)r.expandWithNestedArray(c,a.paths[b]);break;case "polygon":for(b=0;b<a.rings.length;b++)r.expandWithNestedArray(c,a.rings[b]);break;case "multipoint":r.expandWithNestedArray(c,a.points);break;case "extent":c[0]=a.xmin;c[1]=a.ymin;c[2]=a.xmax;c[3]=a.ymax;break;
default:p.neverReached(a)}}Object.defineProperty(b,"__esModule",{value:!0});b.equals=t.equals;a=function(){return function(a,c,b){this.uid=a;this.geometry=c;this.attributes=b;this.visible=!0;this.centroid=this.objectId=null}}();b.DehydratedFeatureClass=a;b.hasGeometry=function(a){return h.isSome(a.geometry)};b.isFeatureGeometry=function(a){return d.isFeatureGeometryType(a.type)};a=function(){return function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=
this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}();b.DehydratedFeatureSetClass=a;b.isPoint=function(a){return"point"===a.type};b.fromFeatureSetJSON=function(a){var b=d.featureGeometryTypeKebabDictionary.fromJSON(a.geometryType),e=c.fromJSON(a.spatialReference),g=a.transform,l=a.features.map(function(c){var f=a.objectIdFieldName;c={uid:n.generateUID(),objectId:f&&c.attributes?c.attributes[f]:null,attributes:c.attributes,
geometry:u(c.geometry,b,e),visible:!0};if((f=c.geometry)&&g)switch(f.type){case "point":c.geometry=q.hydratePoint(g,f,f,f.hasZ,f.hasM);break;case "multipoint":c.geometry=q.hydrateMultipoint(g,f,f,f.hasZ,f.hasM);break;case "polygon":c.geometry=q.hydratePolygon(g,f,f,f.hasZ,f.hasM);break;case "polyline":c.geometry=q.hydratePolyline(g,f,f,f.hasZ,f.hasM);break;default:p.neverReached(f)}return c});return{geometryType:b,features:l,spatialReference:e,fields:a.fields?a.fields.map(function(a){return f.fromJSON(a)}):
null,objectIdFieldName:a.objectIdFieldName,globalIdFieldName:a.globalIdFieldName,geohashFieldName:a.geohashFieldName,geometryProperties:a.geometryProperties,hasZ:a.hasZ,hasM:a.hasM,exceededTransferLimit:a.exceededTransferLimit,transform:null}};b.fromJSONGeometry=u;b.makeDehydratedPoint=z;b.isHydratedGeometry=v;b.isHydratedPoint=B;b.isHydratedGraphic=y;b.hydrateGraphic=function(a,c){if(!a)return null;if(y(a))return a;c=new n({layer:c,sourceLayer:c});c.visible=a.visible;c.symbol=k.clone(a.symbol);c.attributes=
k.clone(a.attributes);c.geometry=x(a.geometry);return c};b.hydrateGeometry=x;b.clonePoint=function(a,c){if(!a)return null;if(B(a)){if(null==c)return a.clone();if(B(c))return c.copy(a)}null!=c?(c.x=a.x,c.y=a.y,c.spatialReference=a.spatialReference,a.hasZ?(c.z=a.z,c.hasZ=a.hasZ):(c.z=null,c.hasZ=!1),a.hasM?(c.m=a.m,c.hasM=!0):(c.m=null,c.hasM=!1)):(c=z(a.x,a.y,a.z,a.spatialReference),a.hasM&&(c.m=a.m,c.hasM=!0));return c};var N=m("esri-text-decoder")?function(a){return 32+a.length}:function(a){return 32*
a.length};b.estimateAttributesObjectSize=w;b.estimateGeometryObjectSize=A;b.estimateSize=function(a){var c;c=32+w(a.attributes);return c=c+3+(8+A(a.geometry))};b.numVertices=function(a){if(h.isNone(a))return 0;switch(a.type){case "point":return 1;case "polyline":var c=0,b=0;for(a=a.paths;b<a.length;b++)c+=a[b].length;return c;case "polygon":b=c=0;for(a=a.rings;b<a.length;b++)c+=a[b].length;return c;case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(c=a.vertexAttributes&&
a.vertexAttributes.position)?c.length/3:0;default:p.neverReached(a)}};b.hasVertices=function(a){if(!a)return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":var c=0;for(a=a.paths;c<a.length;c++)if(0<a[c].length)return!0;return!1;case "polygon":c=0;for(a=a.rings;c<a.length;c++)if(0<a[c].length)return!0;return!1;case "multipoint":return 0<a.points.length;case "mesh":return a.vertexAttributes&&a.vertexAttributes.position&&0<a.vertexAttributes.position.length;default:p.neverReached(a)}};
b.computeAABB=J;b.expandAABB=function(a,c){J(a,M);e.expand(c,M)};b.computeAABR=H;b.expandAABR=function(a,c){H(a,I);r.expand(c,I)};b.getObjectId=function(a,c){return null!=a.objectId?a.objectId:a.attributes&&c?a.attributes[c]:null};var M=e.create(),I=r.create()})},"esri/geometry":function(){define("require exports ./core/jsonMap ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r){Object.defineProperty(b,"__esModule",{value:!0});b.Extent=p;b.BaseGeometry=m;b.Multipoint=k;b.Point=h;b.Polygon=l;b.Polyline=c;b.SpatialReference=e;b.isGeometry=function(a){return a instanceof m};b.fromJSON=r.fromJSON;b.typeKebabDictionary=d.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});b.isFeatureGeometryType=function(a){return"point"===
a||"multipoint"===a||"polyline"===a||"polygon"===a};b.featureGeometryTypeKebabDictionary=d.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b.geometryTypes={base:m,key:"type",typeMap:{extent:p,multipoint:k,point:h,polyline:c,polygon:l}};b.ensureType=n.ensureOneOfType(b.geometryTypes)})},"esri/geometry/Multipoint":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,d,n,p,m,k,h,l){function c(a){return function(c,b){return null==c?b:null==b?c:a(c,b)}}a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.points=[];c.type="multipoint";return c}d.__extends(b,a);e=b;b.prototype.normalizeCtorArgs=function(a,c){if(!a&&!c)return null;var b={};Array.isArray(a)?(b.points=a,b.spatialReference=c):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(b.points=a.points),a.spatialReference&&
(b.spatialReference=a.spatialReference),a.hasZ&&(b.hasZ=a.hasZ),a.hasM&&(b.hasM=a.hasM)):b.spatialReference=a;if(a=b.points&&b.points[0])void 0===b.hasZ&&void 0===b.hasM?(b.hasZ=2<a.length,b.hasM=!1):void 0===b.hasZ?b.hasZ=3<a.length:void 0===b.hasM&&(b.hasM=3<a.length);return b};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new m,e=this.hasZ,d=this.hasM,g=e?3:2,l=a[0],h=c(Math.min),k=c(Math.max),r=l[0],n=l[1],p=l[0],l=l[1],D,C,F,E,
G=0,J=a.length;G<J;G++){var H=a[G],N=H[0],M=H[1],r=h(r,N),n=h(n,M),p=k(p,N),l=k(l,M);e&&2<H.length&&(N=H[2],D=h(D,N),F=k(F,N));d&&H.length>g&&(H=H[g],C=h(C,H),E=k(E,H))}b.xmin=r;b.ymin=n;b.xmax=p;b.ymax=l;b.spatialReference=this.spatialReference;e?(b.zmin=D,b.zmax=F):(b.zmin=null,b.zmax=null);d?(b.mmin=C,b.mmax=E):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,c){c.points=n.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();
l.updateSupportFromPoint(this,a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:n.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new e(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var c={x:a[0],y:a[1],spatialReference:this.spatialReference},b=2;this.hasZ&&(c.z=a[2],b=3);this.hasM&&(c.m=a[b]);return new h(c)};b.prototype.removePoint=
function(a){if(!this._validateInputs(a))return null;this.clearCache();return new h(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,c){if(!this._validateInputs(a))return this;this.clearCache();l.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.points[a]=c;return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var e;d.__decorate([p.property({dependsOn:["points",
"hasZ","hasM","spatialReference"]})],b.prototype,"cache",void 0);d.__decorate([p.property({dependsOn:["cache"]})],b.prototype,"extent",null);d.__decorate([p.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);d.__decorate([p.writer("points")],b.prototype,"writePoints",null);return b=e=d.__decorate([p.subclass("esri.geometry.Multipoint")],b)}(k);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],
function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.updateSupportFromPoint=function(a,b,p){void 0===p&&(p=!1);var d=a.hasM,k=a.hasZ;Array.isArray(b)?4!==b.length||d||k?3===b.length&&p&&!d?(k=!0,d=!1):3===b.length&&d&&k&&(k=d=!1):k=d=!0:(k=!k&&b.hasZ&&(!d||b.hasM),d=!d&&b.hasM&&(!k||b.hasZ));a.hasZ=k;a.hasM=d}})},"esri/geometry/Polygon":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g,q,f,t){a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.rings=[];c.type="polygon";return c}d.__extends(b,a);k=b;b.fromExtent=function(a){var c=a.clone().normalize();a=a.spatialReference;var b=!1,e=!1;c.map(function(a){a.hasZ&&(b=!0);a.hasM&&(e=!0)});c={rings:c.map(function(a){var c=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(b&&a.hasZ)for(var f=a.zmin+.5*(a.zmax-
a.zmin),d=0;d<c.length;d++)c[d].push(f);if(e&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),d=0;d<c.length;d++)c[d].push(a);return c}),spatialReference:a};b&&(c.hasZ=!0);e&&(c.hasM=!0);return new k(c)};b.prototype.normalizeCtorArgs=function(a,c){var b=null,e,f,d=null;a&&!Array.isArray(a)?(b=a.rings?a.rings:null,c||(a.spatialReference?c=a.spatialReference:a.rings||(c=a)),e=a.hasZ,f=a.hasM):b=a;b=b||[];c=c||l.WGS84;b.length&&b[0]&&null!=b[0][0]&&"number"===typeof b[0][0]&&(b=[b]);if(d=b[0]&&b[0][0])void 0===
e&&void 0===f?(e=2<d.length,f=!1):void 0===e?e=!f&&3<d.length:void 0===f&&(f=!e&&3<d.length);return{rings:b,spatialReference:c,hasZ:e,hasM:f}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=c.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new h;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=
this.spatialReference,c=g.getPolygonExtent(this);if(!c)return null;c=new m(c);c.spatialReference=a;return c},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return q.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,c){c.rings=n.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var c=this.rings,b=c.length;if(Array.isArray(a[0]))c[b]=a.concat();else{for(var e=[],f=0,d=a.length;f<
d;f++)e[f]=a[f].toArray();c[b]=e}return this}};b.prototype.clone=function(){var a=new k;a.spatialReference=this.spatialReference;a.rings=n.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;f.canProject(a,this.spatialReference)&&(a=f.project(a,this.spatialReference));return e.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var c=this;a=Array.isArray(a[0])?a:a.map(function(a){return c.hasZ?c.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,
a.z]:[a.x,a.y]});return r.isClockwise(a,this.hasM,this.hasZ)};b.prototype.getPoint=function(a,c){if(!this._validateInputs(a,c))return null;a=this.rings[a][c];c=this.hasZ;var b=this.hasM;return c&&!b?new h(a[0],a[1],a[2],void 0,this.spatialReference):b&&!c?new h(a[0],a[1],void 0,a[2],this.spatialReference):c&&b?new h(a[0],a[1],a[2],a[3],this.spatialReference):new h(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,c,b){if(!this._validateInputs(a,c,!0))return this;this.clearCache();
t.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.rings[a].splice(c,0,b);return this};b.prototype.removePoint=function(a,c){if(!this._validateInputs(a,c))return null;this.clearCache();return new h(this.rings[a].splice(c,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var c=this.spatialReference;return a.map(function(a){return new h(a,c)})};b.prototype.setPoint=function(a,
c,b){if(!this._validateInputs(a,c))return this;this.clearCache();t.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.rings[a][c]=b;return this};b.prototype._validateInputs=function(a,c,b){void 0===b&&(b=!1);return null==a||0>a||a>=this.rings.length||null!=c&&(a=this.rings[a],b&&(0>c||c>a.length)||!b&&(0>c||c>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var k;d.__decorate([p.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);
d.__decorate([p.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"centroid",null);d.__decorate([p.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);d.__decorate([p.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);d.__decorate([p.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);d.__decorate([p.writer("rings")],b.prototype,"writePaths",null);return b=k=d.__decorate([p.subclass("esri.geometry.Polygon")],
b)}(k);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/centroid":function(){define(["require","exports","./coordsUtils"],function(a,b,d){function n(a,b){if(!a||!a.length)return null;for(var d=[],c=[],e=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],h=0,g=a.length;h<g;h++){var q=p(a[h],b,e);q&&c.push(q)}c.sort(function(a,c){var e=a[2]-c[2];0===e&&b&&(e=a[4]-c[4]);return e});c.length&&(h=6*c[0][2],d[0]=c[0][0]/h,d[1]=c[0][1]/
h,b&&(h=6*c[0][4],d[2]=0!==h?c[0][3]/h:0),d[0]<e[0]||d[0]>e[1]||d[1]<e[2]||d[1]>e[3]||b&&(d[2]<e[4]||d[2]>e[5]))&&(d.length=0);if(!d.length)if(a=a[0]&&a[0].length?m(a[0],b):null)d[0]=a[0],d[1]=a[1],b&&2<a.length&&(d[2]=a[2]);else return null;return d}function p(a,b,d){for(var c=0,e=0,l=0,g=0,h=0,f=0;f<a.length;f++){var k=a[f],n=k[0],m=k[1],p=k[2],B=a[(f+1)%a.length],y=B[0],x=B[1],w=B[2],A=n*x-y*m,g=g+A,c=c+(n+y)*A,e=e+(m+x)*A;b&&2<k.length&&2<B.length&&(A=n*w-y*p,l+=(p+w)*A,h+=A);n<d[0]&&(d[0]=n);
n>d[1]&&(d[1]=n);m<d[2]&&(d[2]=m);m>d[3]&&(d[3]=m);b&&(p<d[4]&&(d[4]=p),p>d[5]&&(d[5]=p))}0<g&&(g*=-1);0<h&&(h*=-1);if(!g)return null;a=[c,e,.5*g];b&&(a[3]=l,a[4]=.5*h);return a}function m(a,b){for(var l=b?[0,0,0]:[0,0],c=b?[0,0,0]:[0,0],e=0,h=0,g=0,q=0,f=0,k=a.length;f<k-1;f++){var n=a[f],m=a[f+1];if(n&&m){l[0]=n[0];l[1]=n[1];c[0]=m[0];c[1]=m[1];b&&2<n.length&&2<m.length&&(l[2]=n[2],c[2]=m[2]);var p=d.getLength(l,c);p&&(e+=p,n=d.getMidpoint(n,m),h+=p*n[0],g+=p*n[1],b&&2<n.length&&(q+=p*n[2]))}}return 0<
e?b?[h/e,g/e,q/e]:[h/e,g/e]:a.length?a[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};b.polygonCentroid=function(a){return a?n(a.rings,a.hasZ):null};b.ringsCentroid=n;b.lineCentroid=m})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(a,b,d){function n(a,b){var c=b[0]-a[0],e=b[1]-a[1];return 2<
a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(c*c+e*e+a*a)):Math.sqrt(c*c+e*e)}function p(a,b,c){var e=a[0]+c*(b[0]-a[0]),d=a[1]+c*(b[1]-a[1]);return 2<a.length&&2<b.length?[e,d,a[2]+c*(b[2]-a[2])]:[e,d]}function m(a,b,c){for(var e=a.length,d=0,g=0,l=0,f=0;f<e;f++){var h=a[f],k=a[(f+1)%e],n=2,d=d+(h[0]*k[1]-k[0]*h[1]);2<h.length&&2<k.length&&c&&(g+=h[0]*k[2]-k[0]*h[2],n=3);h.length>n&&k.length>n&&b&&(l+=h[0]*k[n]-k[0]*h[n])}return 0>=d&&0>=g&&0>=l}function k(a,b){if(b=d.getInfo(b)){var c=b.valid[0],
e=b.valid[1],l=e-c;b=function(a){var b=Infinity,d=-Infinity;a.forEach(function(a){for(var f=a[0];f<c;)f+=l;for(;f>e;)f-=l;b=Math.min(b,f);d=Math.max(d,f);a[0]=f});var g=d-b;l-g<g&&a.forEach(function(a){0>a[0]&&(a[0]+=l)})};for(var g=0;g<a.length;g++)b(a[g])}}Object.defineProperty(b,"__esModule",{value:!0});b.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var b=a.hasZ,c=a.hasM;if("point"===a.type)return c&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:c?[a.x,a.y,a.m]:[a.x,a.y];
if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var e=!1,d=!1;a.forEach(function(a){a.hasZ&&(e=!0);a.hasM&&(d=!0)});return a.map(function(a){var c=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(e&&a.hasZ)for(var b=.5*(a.zmax-a.zmin),g=0;g<c.length;g++)c[g].push(b);if(d&&a.hasM)for(a=.5*(a.mmax-a.mmin),g=
0;g<c.length;g++)c[g].push(a);return c})}return null};b.getLength=n;b.getMidpoint=function(a,b){return p(a,b,.5)};b.getPathLength=function(a){for(var b=a.length,c=0,e=0;e<b-1;++e)c+=n(a[e],a[e+1]);return c};b.getPointOnPath=function(a,b){if(0>=b)return a[0];for(var c=a.length,e=0,d=0;d<c-1;++d){var g=n(a[d],a[d+1]);if(b-e<g)return p(a[d],a[d+1],(b-e)/g);e+=g}return a[c-1]};b.isClockwise=m;b.closeRingsAndFixWinding=function(a){if("rings"in a){for(var b=0,c=a.rings;b<c.length;b++){var e=c[b];3>e.length||
e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push([e[0][0],e[0][1]])}if(0<a.rings.length&&!m(a.rings[0],a.hasM,a.hasZ))for(b=0;b<a.rings.length;++b)a.rings[b]=a.rings[b].reverse()}};b.closeRings=function(a){if("rings"in a){var b=0;for(a=a.rings;b<a.length;b++){var c=a[b];3>c.length||c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]||c.push([c[0][0],c[0][1]])}}};b.getRingArea=function(a){for(var b=a.length,c=0,e=0;e<b;e++)var d=a[e],g=a[(e+1)%b],c=c+(d[0]*g[1]-g[0]*d[1]);return c};
b.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==a.type)return a;k("polygon"===a.type?a.rings:a.paths,a.spatialReference);return a};b.unnormalizeVerticesOnDatelineCrossing=k;b.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,b,c,e){var d=Infinity,g=-Infinity;a.forEach(function(a){for(var f=a.pos[0];f<b;)f+=e;for(;f>c;)f-=e;d=Math.min(d,f);g=Math.max(g,f);a.unnormalizedPos[0]=f;a.unnormalizedPos[1]=a.pos[1];2<a.pos.length&&(a.unnormalizedPos[2]=
a.pos[2]);3<a.pos.length&&(a.unnormalizedPos[3]=a.pos[3])});var l=g-d;e-l<l&&a.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=e)})}})},"esri/geometry/support/extentUtils":function(){define(["require","exports","./boundsUtils"],function(a,b,d){function n(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=!1);return b?d?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:d?{xmin:a[0],ymin:a[1],mmin:a[2],
xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function p(a){var c=a.hasZ,b=a.hasM;return n(d.getPointsBounds(l,a.points,c,b),c,b)}function m(a){var c=a.x,b=a.y,d=a.z;a=a.m;var l=null!=a;return null!=d?l?{xmin:c,ymin:b,zmin:d,mmin:a,xmax:c,ymax:b,zmax:d,mmax:a}:{xmin:c,ymin:b,zmin:d,xmax:c,ymax:b,zmax:d}:l?{xmin:c,ymin:b,mmin:a,xmax:c,ymax:b,mmax:a}:{xmin:c,ymin:b,xmax:c,ymax:b}}function k(a){var c=a.hasZ,b=a.hasM;return(a=d.getRingsOrPathsBounds(l,a.rings,c,b))?n(a,c,b):
null}function h(a){var c=a.hasZ,b=a.hasM;return(a=d.getRingsOrPathsBounds(l,a.paths,c,b))?n(a,c,b):null}Object.defineProperty(b,"__esModule",{value:!0});var l=[];b.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?m(a):void 0!==a.rings?k(a):void 0!==a.paths?h(a):void 0!==a.points?p(a):null:null};b.getMultipointExtent=p;b.getPointExtent=m;b.getPolygonExtent=k;b.getPolylineExtent=h})},"esri/geometry/support/boundsUtils":function(){define(["require",
"exports"],function(a,b){function d(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function n(a){return function(c,b){return null==c?b:null==b?c:a(c,b)}}function p(a,b,d,g){var c=d?3:2;if(!b.length||!b[0].length)return null;for(var e=b[0][0],k=e[0],e=e[1],r=b[0][0],n=r[0],r=r[1],m=void 0,p=void 0,y=void 0,x=void 0,w=0;w<b.length;w++)for(var A=b[w],D=0;D<A.length;D++){var C=A[D],F=C[0],E=C[1],k=h(k,F),e=h(e,E),n=l(n,F),r=l(r,E);d&&2<C.length&&(F=C[2],m=h(m,F),p=l(p,F));
g&&C.length>c&&(x=C[c],y=h(m,x),x=l(p,x))}if(d){if(g)return a[0]=k,a[1]=e,a[2]=m,a[3]=y,a[4]=n,a[5]=r,a[6]=p,a[7]=x,a.length=8,a;a[0]=k;a[1]=e;a[2]=m;a[3]=n;a[4]=r;a[5]=p;a.length=6;return a}if(g)return a[0]=k,a[1]=e,a[2]=y,a[3]=n,a[4]=r,a[5]=x,a.length=6,a;a[0]=k;a[1]=e;a[2]=n;a[3]=r;a.length=4;return a}function m(a,b,d,g,l,f){d=b.xmin;g=b.xmax;var c=b.ymin,e=b.ymax,h=b.zmin,q=b.zmax,k=b.mmin;b=b.mmax;if(l){h=h||0;q=q||0;if(f)return a[0]=d,a[1]=c,a[2]=h,a[3]=k||0,a[4]=g,a[5]=e,a[6]=q,a[7]=b||0,a;
a[0]=d;a[1]=c;a[2]=h;a[3]=g;a[4]=e;a[5]=q;return a}if(f)return a[0]=d,a[1]=c,a[2]=k||0,a[3]=g,a[4]=e,a[5]=b||0,a;a[0]=d;a[1]=c;a[2]=g;a[3]=e;return a}function k(a,b,d,g,q,f){var c=d?3:2;g=g&&f;d=d&&q;if(!b.length||!b[0].length)return null;for(var e=b[0],k=e[0],e=e[1],r=b[0],n=r[0],r=r[1],m=void 0,p=void 0,w=void 0,A=void 0,D=0;D<b.length;D++){var C=b[D],F=C[0],E=C[1],k=h(k,F),e=h(e,E),n=l(n,F),r=l(r,E);d&&2<C.length&&(F=C[2],m=h(m,F),p=l(p,F));g&&C.length>c&&(A=C[c],w=h(m,A),A=l(p,A))}if(q){m=m||
0;p=p||0;if(f)return a[0]=k,a[1]=e,a[2]=m,a[3]=w||0,a[4]=n,a[5]=r,a[6]=p,a[7]=A||0,a;a[0]=k;a[1]=e;a[2]=m;a[3]=n;a[4]=r;a[5]=p;return a}if(f)return a[0]=k,a[1]=e,a[2]=w||0,a[3]=n,a[4]=r,a[5]=A||0,a;a[0]=k;a[1]=e;a[2]=n;a[3]=r;return a}Object.defineProperty(b,"__esModule",{value:!0});var h=n(Math.min),l=n(Math.max);b.getBoundsXY=function(a,b){if(void 0!==b.paths)return p(a,b.paths,!1,!1);if(void 0!==b.rings)return p(a,b.rings,!1,!1);if(void 0!==b.points)return k(a,b.points,!1,!1,!1,!1);if(d(b))return m(a,
b);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.x,a[3]=b.y);return a};b.getBoundsXYZ=function(a,b){if(void 0!==b.paths)return p(a,b.paths,!0,!1);if(void 0!==b.rings)return p(a,b.rings,!0,!1);if(void 0!==b.points)return k(a,b.points,!0,!1,!0,!1);if(d(b))return m(a,b,!0,!1,!0,!1);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.z,a[3]=b.x,a[4]=b.y,a[5]=b.z);return a};b.getRingsOrPathsBounds=p;b.getExtentBounds=m;b.getPointsBounds=k;b.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;
for(var c=a[0][0],b=a[0][0],d=0;d<a.length;d++)var q=a[d][0],c=h(c,q),b=l(b,q);return b-c};b.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var c=a[0][0],b=a[0][0],d=0;d<a.length;d++)var q=a[d][0],c=h(c,q),b=l(b,q);return c+.5*(b-c)}})},"esri/geometry/Polyline":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(a,b,d,n,p,m,
k,h,l,c,e){a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.paths=[];c.type="polyline";return c}d.__extends(b,a);q=b;b.prototype.normalizeCtorArgs=function(a,c){var b=null,e,f,d=null;a&&!Array.isArray(a)?(b=a.paths?a.paths:null,c||(a.spatialReference?c=a.spatialReference:a.paths||(c=a)),e=a.hasZ,f=a.hasM):b=a;b=b||[];c=c||l.WGS84;b.length&&b[0]&&null!=b[0][0]&&"number"===typeof b[0][0]&&(b=[b]);if(d=b[0]&&b[0][0])void 0===e&&void 0===f?
(e=2<d.length,f=!1):void 0===e?e=!f&&3<d.length:void 0===f&&(f=!e&&3<d.length);return{paths:b,spatialReference:c,hasZ:e,hasM:f}};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,b=c.getPolylineExtent(this);if(!b)return null;b=new m(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,c){c.paths=n.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();var c=this.paths,b=c.length;if(Array.isArray(a[0]))c[b]=
a.concat();else{for(var e=[],f=0,d=a.length;f<d;f++)e[f]=a[f].toArray();c[b]=e}return this}};b.prototype.clone=function(){var a=new q;a.spatialReference=this.spatialReference;a.paths=n.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,c){if(!this._validateInputs(a,c))return null;a=this.paths[a][c];c=this.hasZ;var b=this.hasM;return c&&!b?new h(a[0],a[1],a[2],void 0,this.spatialReference):b&&!c?new h(a[0],a[1],void 0,a[2],this.spatialReference):c&&b?new h(a[0],
a[1],a[2],a[3],this.spatialReference):new h(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,c,b){if(!this._validateInputs(a,c,!0))return this;this.clearCache();e.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.paths[a].splice(c,0,b);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var c=this.spatialReference;return a.map(function(a){return new h(a,c)})};b.prototype.removePoint=
function(a,c){if(!this._validateInputs(a,c))return null;this.clearCache();return new h(this.paths[a].splice(c,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,c,b){if(!this._validateInputs(a,c))return this;this.clearCache();e.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.paths[a][c]=b;return this};b.prototype._validateInputs=function(a,c,b){void 0===b&&(b=!1);return null==a||0>a||a>=this.paths.length||null!=c&&(a=this.paths[a],b&&(0>c||c>a.length)||!b&&(0>c||c>=
a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var q;d.__decorate([p.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,"cache",void 0);d.__decorate([p.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);d.__decorate([p.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);d.__decorate([p.writer("paths")],b.prototype,"writePaths",null);return b=q=d.__decorate([p.subclass("esri.geometry.Polyline")],b)}(k);a.prototype.toJSON.isDefaultToJSON=
!0;return a})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,d,n,p,m,k,h){function l(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function c(a){return void 0!==a.points}function e(a){return void 0!==a.x&&void 0!==a.y}function r(a){return void 0!==a.paths}function g(a){return void 0!==a.rings}function q(a){return a?a instanceof n?a:e(a)?m.fromJSON(a):r(a)?
h.fromJSON(a):g(a)?k.fromJSON(a):c(a)?p.fromJSON(a):l(a)?d.fromJSON(a):null:null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(u){console.warn(u.stack)}return q(a)};b.isExtent=l;b.isMultipoint=c;b.isPoint=e;b.isPolyline=r;b.isPolygon=g;b.isMesh=function(a){return void 0!==a.vertexAttributes};b.fromJSON=q;b.getJsonType=function(a){return a?e(a)?"esriGeometryPoint":r(a)?"esriGeometryPolyline":g(a)?"esriGeometryPolygon":
l(a)?"esriGeometryEnvelope":c(a)?"esriGeometryMultipoint":null:null};var f={esriGeometryPoint:m,esriGeometryPolyline:h,esriGeometryPolygon:k,esriGeometryEnvelope:d,esriGeometryMultipoint:p};b.getGeometryType=function(a){return a&&f[a]||null}})},"esri/Graphic":function(){define("require exports tslib ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),function(a,b,d,n,
p,m,k,h,l,c,e,r){a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.layer=null;c.popupTemplate=null;c.sourceLayer=null;Object.defineProperty(c,"uid",{value:g.generateUID()});return c}d.__extends(b,a);g=b;b.prototype.normalizeCtorArgs=function(a,c,b,e){return a&&!a.declaredClass?a:{geometry:a,symbol:c,attributes:b,popupTemplate:e}};Object.defineProperty(b.prototype,"attributes",{set:function(a){var c=this._get("attributes");c!==a&&(this._set("attributes",
a),this._notifyLayer("attributes",c,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"geometry",{set:function(a){var c=this._get("geometry");c!==a&&(this._set("geometry",a),this._notifyLayer("geometry",c,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbol",{set:function(a){var c=this._get("symbol");c!==a&&(this._set("symbol",a),this._notifyLayer("symbol",c,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visible",{set:function(a){var c=
this._get("visible");c!==a&&(this._set("visible",a),this._notifyLayer("visible",c,a))},enumerable:!0,configurable:!0});b.prototype.getEffectivePopupTemplate=function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&l.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};b.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};b.prototype.setAttribute=
function(a,c){var b;this.attributes?(b=this.getAttribute(a),this.attributes[a]=c,this._notifyLayer("attributes",b,c,a)):(this.attributes=(b={},b[a]=c,b),this._notifyLayer("attributes",void 0,c,a))};b.prototype.getObjectId=function(){return this.sourceLayer?this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};b.prototype.toJSON=function(){return{geometry:l.isSome(this.geometry)?this.geometry.toJSON():null,symbol:l.isSome(this.symbol)?this.symbol.toJSON():null,
attributes:d.__assign({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};b.prototype.clone=function(){return new g(this.cloneProperties())};b.prototype.cloneProperties=function(){return{attributes:h.clone(this.attributes),geometry:h.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:h.clone(this.symbol),visible:this.visible}};b.prototype._notifyLayer=function(a,c,b,e){this.layer&&this.layer.graphicChanged&&
(c={graphic:this,property:a,oldValue:c,newValue:b},"attributes"===a&&(c.attributeName=e),this.layer.graphicChanged(c))};var g;d.__decorate([c.property({value:null})],b.prototype,"attributes",null);d.__decorate([c.property({value:null,types:n.geometryTypes,json:{read:e.fromJSON}})],b.prototype,"geometry",null);d.__decorate([c.property()],b.prototype,"layer",void 0);d.__decorate([c.property({type:p})],b.prototype,"popupTemplate",void 0);d.__decorate([c.property()],b.prototype,"sourceLayer",void 0);
d.__decorate([c.property({value:null,types:m.symbolTypes,json:{read:r.read}})],b.prototype,"symbol",null);d.__decorate([c.property({type:Boolean,value:!0})],b.prototype,"visible",null);return b=g=d.__decorate([c.subclass("esri.Graphic")],b)}(k.JSONSupport);var g=0;(function(a){a.generateUID=function(){return g++}})(a||(a={}));return a})},"esri/PopupTemplate":function(){define("require exports tslib ./core/arrayUtils ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/SetUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/CustomContent ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g,q,f,t,u,z,v,B,y,x,w,A,D,C,F,E){var G=p.ofType({key:"type",defaultKeyValue:"button",base:C,typeMap:{button:F,toggle:E}}),J={base:B,key:"type",typeMap:{media:w,custom:y,text:A,attachments:v,fields:x}},H=h.getLogger("esri.PopupTemplate"),N=["attachments","fields","media","text"];return function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;c.actions=null;c.content="";c.expressionInfos=null;c.fieldInfos=null;c.layerOptions=null;c.lastEditInfoEnabled=
!0;c.outFields=null;c.overwriteActions=!1;c.title="";c.relatedRecordsInfo=null;return c}d.__extends(b,a);h=b;b.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return r.ensureOneOfType(J,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||l.isPromiseLike(a))return a;H.error("content error","unsupported content value",{value:a});return null};b.prototype.readContent=function(a,c){a=c.popupElements;return Array.isArray(a)&&0<a.length?this._readPopupInfoElements(c):
this._readPopupInfo(c)};b.prototype.writeContent=function(a,c){var b=this;"string"===typeof a?c.description=a:Array.isArray(a)&&(c.popupElements=a.filter(function(a){return-1!==N.indexOf(a.type)}).map(function(a){return a&&a.toJSON()}),c.popupElements.forEach(function(a){"attachments"===a.type?b._writeAttachmentContent(c):"media"===a.type?b._writeMediaContent(a,c):"text"===a.type&&b._writeTextContent(a,c)}))};b.prototype.writeFieldInfos=function(a,c){var b=this.content,b=Array.isArray(b)?b:null;if(a){var e=
b?b.some(function(a){return"fields"===a.type&&(!a.fieldInfos||0===a.fieldInfos.length)}):!1;c.fieldInfos=a.filter(Boolean).map(function(a){a=a.toJSON();e||(a.visible=!1);return a})}if(b)for(a=0;a<b.length;a++){var f=b[a];"fields"===f.type&&this._writeFieldsContent(f,c)}};b.prototype.writeLayerOptions=function(a,c){c.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};b.prototype.writeTitle=function(a,c){c.title=a||""};b.prototype.clone=function(){var a=this.actions,
a=a?k.clone(a.toArray()):[];return new h({actions:a,content:Array.isArray(this.content)?k.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?k.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?k.clone(this.fieldInfos):null,layerOptions:this.layerOptions?k.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?k.clone(this.outFields):null,overwriteActions:this.overwriteActions,title:this.title,
relatedRecordsInfo:this.relatedRecordsInfo?k.clone(this.relatedRecordsInfo):null})};b.prototype.collectRequiredFields=function(a,c){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(b){switch(b.label){case 0:return[4,this._collectExpressionInfoFields(a,c,this.expressionInfos)];case 1:return b.sent(),g.collectFields(a,c,d.__spreadArrays(this.outFields||[],this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),[2]}})})};
b.prototype.getRequiredFields=function(a){return d.__awaiter(this,void 0,void 0,function(){var b;return d.__generator(this,function(e){switch(e.label){case 0:return b=new Set,[4,this.collectRequiredFields(b,a)];case 1:return e.sent(),[2,c.valuesOfSet(b).sort()]}})})};b.prototype._writeFieldsContent=function(a,c){Array.isArray(a.fieldInfos)&&a.fieldInfos.length&&(a=k.clone(a.fieldInfos),Array.isArray(c.fieldInfos)?a.forEach(function(a){var b=n.find(c.fieldInfos,function(c){return c.fieldName.toLowerCase()===
a.fieldName.toLowerCase()});b?b.visible=!0:c.fieldInfos.push(a)}):c.fieldInfos=a)};b.prototype._writeAttachmentContent=function(a){a.showAttachments||(a.showAttachments=!0)};b.prototype._writeTextContent=function(a,c){!c.description&&a.text&&(c.description=a.text)};b.prototype._writeMediaContent=function(a,c){Array.isArray(a.mediaInfos)&&a.mediaInfos.length&&(a=k.clone(a.mediaInfos),Array.isArray(c.mediaInfos)?c.mediaInfos=d.__spreadArrays(c.mediaInfos,a):c.mediaInfos=a)};b.prototype._readPopupInfoElements=
function(a){var c=a.description,b=a.mediaInfos,e=!1,f=!1;return a.popupElements.map(function(a){if("media"===a.type)return a.mediaInfos||!b||f||(a.mediaInfos=b,f=!0),w.fromJSON(a);if("text"===a.type)return a.text||!c||e||(a.text=c,e=!0),A.fromJSON(a);if("attachments"===a.type)return v.fromJSON(a);if("fields"===a.type)return x.fromJSON(a)}).filter(Boolean)};b.prototype._readPopupInfo=function(a){var c=a.description,b=a.mediaInfos;a=a.showAttachments;var e=[];c?e.push(new A({text:c})):e.push(new x);
Array.isArray(b)&&b.length&&e.push(w.fromJSON({mediaInfos:b}));a&&e.push(v.fromJSON({displayType:"list"}));return e.length?e:c};b.prototype._getContentElementFields=function(a){var c=this;if(!a||"attachments"===a.type)return[];if("custom"===a.type)return a.outFields||[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,b){return d.__spreadArrays(a,c._getMediaInfoFields(b))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};
b.prototype._getMediaInfoFields=function(a){var c=a.caption,b=a.value||{},e=b.fields,f=void 0===e?[]:e,e=b.normalizeField,g=b.tooltipField,l=b.sourceURL,b=b.linkURL;a=d.__spreadArrays(this._extractFieldNames(a.title),this._extractFieldNames(c),this._extractFieldNames(l),this._extractFieldNames(b),f);e&&a.push(e);g&&a.push(g);return a};b.prototype._getContentFields=function(a){var c=this;return"string"===typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,b){return d.__spreadArrays(a,
c._getContentElementFields(b))},[]):[]};b.prototype._collectExpressionInfoFields=function(a,c,b){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(e){switch(e.label){case 0:return b?[4,l.all(b.map(function(b){return g.collectArcadeFieldNames(a,c,b.expression)}))]:[2];case 1:return e.sent(),[2]}})})};b.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===
a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};b.prototype._getActionsFields=function(a){var c=this;return a?a.toArray().reduce(function(a,b){return d.__spreadArrays(a,c._getActionFields(b))},[]):[]};b.prototype._getActionFields=function(a){var c=a.className,b=a.type,b="button"===b||"toggle"===b?a.image:"";return d.__spreadArrays(this._extractFieldNames(a.title),this._extractFieldNames(c),this._extractFieldNames(b))};b.prototype._getTitleFields=function(a){return"string"===typeof a?
this._extractFieldNames(a):[]};b.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var c=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(c,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var h;d.__decorate([e.property({type:G})],b.prototype,"actions",void 0);d.__decorate([e.property()],b.prototype,"content",void 0);d.__decorate([e.cast("content")],
b.prototype,"castContent",null);d.__decorate([e.reader("content",["description","popupElements","mediaInfos","showAttachments"])],b.prototype,"readContent",null);d.__decorate([e.writer("content",{popupElements:{type:p.ofType(q.types)},showAttachments:{type:Boolean},mediaInfos:{type:p.ofType(D.types)},description:{type:String}})],b.prototype,"writeContent",null);d.__decorate([e.property({type:[f],json:{write:!0}})],b.prototype,"expressionInfos",void 0);d.__decorate([e.property({type:[t]})],b.prototype,
"fieldInfos",void 0);d.__decorate([e.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);d.__decorate([e.property({type:u})],b.prototype,"layerOptions",void 0);d.__decorate([e.writer("layerOptions")],b.prototype,"writeLayerOptions",null);d.__decorate([e.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",void 0);d.__decorate([e.property()],b.prototype,"outFields",void 0);d.__decorate([e.property()],
b.prototype,"overwriteActions",void 0);d.__decorate([e.property({json:{type:String}})],b.prototype,"title",void 0);d.__decorate([e.writer("title")],b.prototype,"writeTitle",null);d.__decorate([e.property({type:z,json:{write:!0}})],b.prototype,"relatedRecordsInfo",void 0);return b=h=d.__decorate([e.subclass("esri.PopupTemplate")],b)}(m.JSONSupport)})},"esri/core/Collection":function(){define("require exports tslib ./ArrayPool ./arrayUtils ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e){function r(a){return a?a instanceof x?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function g(a){if(a&&a.length)return a[0]}function q(a,c,b,e){c&&c.forEach(function(c,f,d){a.push(c);q(a,b.call(e,c,f,d),b,e)})}a=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();
var f=new h(a,null,function(a){a.item=null;a.target=null;a.defaultPrevented=!1;a.cancellable=!1}),t=function(){},u=new Set,z=new Set,v=new Set,B=new Map,y=0,x=function(a){function b(c){c=a.call(this,c)||this;c._chgListeners=[];c._notifications=null;c._timer=null;c.length=0;c._items=[];Object.defineProperty(c,"uid",{value:y++});return c}d.__extends(b,a);h=b;b.isCollection=function(a){return null!=a&&a instanceof h};b.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||a instanceof h?
{items:a}:a:{}};Object.defineProperty(b.prototype,"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges(1)||(this._splice.apply(this,d.__spreadArrays([0,this.length],r(a))),this._emitAfterChanges(1))},enumerable:!0,configurable:!0});b.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};b.prototype.on=function(a,c){if("change"===a){var b=this._chgListeners,e={removed:!1,callback:c};b.push(e);this._notifications&&
this._notifications.push({listeners:b.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=t;e.removed=!0;b.splice(b.indexOf(e),1)}}}return this._emitter.on(a,c)};b.prototype.once=function(a,c){var b=this.on(a,c);return{remove:function(){b.remove()}}};b.prototype.add=function(a,c){if(this._emitBeforeChanges(1))return this;c=this.getNextIndex(c);this._splice(c,0,a);this._emitAfterChanges(1);return this};b.prototype.addMany=function(a,c){void 0===c&&(c=this._items.length);
if(!a||!a.length||this._emitBeforeChanges(1))return this;c=this.getNextIndex(c);this._splice.apply(this,d.__spreadArrays([c,0],r(a)));this._emitAfterChanges(1);return this};b.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges(2))return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges(2);return a};b.prototype.clone=function(){return this._createNewInstance({items:this._items.map(k.clone)})};b.prototype.concat=function(){for(var a,c=[],b=0;b<arguments.length;b++)c[b]=
arguments[b];c=c.map(r);return this._createNewInstance({items:(a=this._items).concat.apply(a,c)})};b.prototype.drain=function(a,c){if(this.length&&!this._emitBeforeChanges(2)){for(var b=this._splice(0,this.length),e=b.length,f=0;f<e;f++)a.call(c,b[f],f,b);this._emitAfterChanges(2)}};b.prototype.every=function(a,c){return this._items.every(a,c)};b.prototype.filter=function(a,c){var b;b=2===arguments.length?this._items.filter(a,c):this._items.filter(a);return this._createNewInstance({items:b})};b.prototype.find=
function(a,c){return p.find(this._items,a,c)};b.prototype.findIndex=function(a,c){return p.findIndex(this._items,a,c)};b.prototype.flatten=function(a,c){var b=[];q(b,this,a,c);return new h(b)};b.prototype.forEach=function(a,c){return this._items.forEach(a,c)};b.prototype.getItemAt=function(a){return this._items[a]};b.prototype.getNextIndex=function(a){var c=this.length;a=null==a?c:a;0>a?a=0:a>c&&(a=c);return a};b.prototype.includes=function(a,c){void 0===c&&(c=0);return arguments.length?-1!==this._items.indexOf(a,
c):!1};b.prototype.indexOf=function(a,c){void 0===c&&(c=0);return this._items.indexOf(a,c)};b.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};b.prototype.lastIndexOf=function(a,c){void 0===c&&(c=this.length-1);return this._items.lastIndexOf(a,c)};b.prototype.map=function(a,c){a=this._items.map(a,c);return new h({items:a})};b.prototype.reorder=function(a,c){void 0===c&&(c=this.length-1);var b=this.indexOf(a);if(-1!==b){0>c?c=0:c>=this.length&&(c=this.length-1);if(b!==c){if(this._emitBeforeChanges(4))return a;
this._splice(b,1);this._splice(c,0,a);this._emitAfterChanges(4)}return a}};b.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=g(this._splice(this.length-1,1));this._emitAfterChanges(2);return a}};b.prototype.push=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(this._emitBeforeChanges(1))return this.length;this._splice.apply(this,d.__spreadArrays([this.length,0],a));this._emitAfterChanges(1);return this.length};b.prototype.reduce=function(a,c){var b=
this._items;return 2===arguments.length?b.reduce(a,c):b.reduce(a)};b.prototype.reduceRight=function(a,c){var b=this._items;return 2===arguments.length?b.reduceRight(a,c):b.reduceRight(a)};b.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};b.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges(2)))return a=g(this._splice(a,1)),this._emitAfterChanges(2),a};b.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges(2))return[];a=a instanceof
h?a.toArray():a;for(var c=this._items,b=[],e=a.length,f=0;f<e;f++){var d=c.indexOf(a[f]);if(-1<d){for(var g=f+1,l=d+1,q=Math.min(a.length-g,c.length-l),k=0;k<q&&a[g+k]===c[l+k];)k++;g=1+k;(d=this._splice(d,g))&&0<d.length&&b.push.apply(b,d);f+=g-1}}this._emitAfterChanges(2);return b};b.prototype.reverse=function(){if(this._emitBeforeChanges(4))return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,d.__spreadArrays([0,0],a)));this._emitAfterChanges(4);return this};b.prototype.shift=
function(){if(this.length&&!this._emitBeforeChanges(2)){var a=g(this._splice(0,1));this._emitAfterChanges(2);return a}};b.prototype.slice=function(a,c){void 0===a&&(a=0);void 0===c&&(c=this.length);return this._createNewInstance({items:this._items.slice(a,c)})};b.prototype.some=function(a,c){return this._items.some(a,c)};b.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges(4))return this;var c=this._splice(0,this.length);arguments.length?c.sort(a):c.sort();this._splice.apply(this,
d.__spreadArrays([0,0],c));this._emitAfterChanges(4);return this};b.prototype.splice=function(a,c){for(var b=[],e=2;e<arguments.length;e++)b[e-2]=arguments[e];e=(c?2:0)|(b.length?1:0);if(this._emitBeforeChanges(e))return[];b=this._splice.apply(this,d.__spreadArrays([a,c],b))||[];this._emitAfterChanges(e);return b};b.prototype.toArray=function(){return this._items.slice()};b.prototype.toJSON=function(){return this.toArray()};b.prototype.toLocaleString=function(){return this._items.toLocaleString()};
b.prototype.toString=function(){return this._items.toString()};b.prototype.unshift=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(!a.length||this._emitBeforeChanges(1))return this.length;this._splice.apply(this,d.__spreadArrays([0,0],a));this._emitAfterChanges(1);return this.length};b.prototype._createNewInstance=function(a){return new this.constructor(a)};b.prototype._splice=function(a,c){for(var b=this,e=[],g=2;g<arguments.length;g++)e[g-2]=arguments[g];var g=this._items,
h=this.constructor.prototype.itemType,q,k;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=l.schedule(function(){return b._dispatchChange()}));if(c){k=g.splice(a,c);if(this.hasEventListener("before-remove")){var r=f.acquire();r.target=this;r.cancellable=!0;for(var n=0,m=k.length;n<m;n++)q=k[n],r.reset(q),this.emit("before-remove",r),r.defaultPrevented&&
(k.splice(n,1),g.splice(a,0,q),a+=1,--n,--m);f.release(r)}this.length=this._items.length;if(this.hasEventListener("after-remove")){q=f.acquire();q.target=this;q.cancellable=!1;m=k.length;for(n=0;n<m;n++)q.reset(k[n]),this.emit("after-remove",q);f.release(q)}}if(e&&e.length){if(h){n=[];for(m=0;m<e.length;m++)q=e[m],r=h.ensureType(q),null==r&&null!=q||n.push(r);e=n}h=this.hasEventListener("before-add");n=this.hasEventListener("after-add");m=a===this.length;if(h||n){q=f.acquire();q.target=this;q.cancellable=
!0;r=f.acquire();r.target=this;r.cancellable=!1;for(var p=0,t=e;p<t.length;p++){var u=t[p];h?(q.reset(u),this.emit("before-add",q),q.defaultPrevented||(m?g.push(u):g.splice(a++,0,u),this._set("length",g.length),n&&(r.reset(u),this.emit("after-add",r)))):(m?g.push(u):g.splice(a++,0,u),this._set("length",g.length),r.reset(u),this.emit("after-add",r))}f.release(r);f.release(q)}else{if(m)for(h=0,n=e;h<n.length;h++)g.push(n[h]);else g.splice.apply(g,d.__spreadArrays([a,0],e));this._set("length",g.length)}}(e&&
e.length||k&&k.length)&&this._notifyChangeEvent(e,k);return k};b.prototype._emitBeforeChanges=function(a){var c=!1;if(this.hasEventListener("before-changes")){var b=f.acquire();b.target=this;b.cancellable=!0;b.type=a;this.emit("before-changes",b);c=b.defaultPrevented;f.release(b)}return c};b.prototype._emitAfterChanges=function(a){if(this.hasEventListener("after-changes")){var c=f.acquire();c.target=this;c.cancellable=!1;c.type=a;this.emit("after-changes",c);f.release(c)}};b.prototype._notifyChangeEvent=
function(a,c){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:c})};b.prototype._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var c=function(a){var c=a.changes;u.clear();z.clear();v.clear();for(var e=0;e<c.length;e++){var f=c[e],d=f.added,f=f.removed;if(d)if(0===v.size&&0===z.size)for(var g=0,l=d;g<l.length;g++)d=l[g],u.add(d);
else for(g=0,l=d;g<l.length;g++)d=l[g],z.has(d)?(v.add(d),z.delete(d)):v.has(d)||u.add(d);if(f)if(0===v.size&&0===u.size)for(g=0;g<f.length;g++)d=f[g],z.add(d);else for(g=0;g<f.length;g++)d=f[g],u.has(d)?u.delete(d):(v.delete(d),z.add(d))}var h=n.acquire();u.forEach(function(a){h.push(a)});var q=n.acquire();z.forEach(function(a){q.push(a)});var k=b._items,r=a.items,m=n.acquire();v.forEach(function(a){r.indexOf(a)!==k.indexOf(a)&&m.push(a)});if(a.listeners&&(h.length||q.length||m.length))for(c={target:b,
added:h,removed:q,moved:m},e=a.listeners.length,d=0;d<e;d++)f=a.listeners[d],f.removed||f.callback.call(b,c);n.release(h);n.release(q);n.release(m)},b=this,e=0;e<a.length;e++)c(a[e]);u.clear();z.clear();v.clear()}};var h;b.ofType=function(a){if(!a)return h;if(B.has(a))return B.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;else if(a.base)b=a.base.prototype.declaredClass;else for(var f in a.typeMap){var g=a.typeMap[f].prototype.declaredClass;b=b?b+(" | "+g):g}f=function(a){function e(){return null!==
a&&a.apply(this,arguments)||this}d.__extends(e,a);return e=d.__decorate([c.subclass("esri.core.Collection\x3c"+b+"\x3e")],e)}(h);g={Type:a,ensureType:"function"===typeof a?e.ensureType(a):e.ensureOneOfType(a)};Object.defineProperty(f.prototype,"itemType",{value:g});B.set(a,f);return f};d.__decorate([c.property()],b.prototype,"length",void 0);d.__decorate([c.property()],b.prototype,"items",null);return b=h=d.__decorate([c.subclass("esri.core.Collection")],b)}(m.EventedAccessor);return x})},"esri/core/Evented":function(){define("require exports tslib ./Accessor ./handleUtils ./accessorSupport/decorators".split(" "),
function(a,b,d,n,p,m){var k=function(){function a(){this._emitter=new a.EventEmitter}a.prototype.emit=function(a,c){return this._emitter.emit(a,c)};a.prototype.on=function(a,c){return this._emitter.on(a,c)};a.prototype.once=function(a,c){return this._emitter.once(a,c)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}();(function(a){var b=function(){function a(){}a.prototype.clear=function(){this._listenersMap&&this._listenersMap.clear()};a.prototype.emit=
function(a,c){a=this._listenersMap&&this._listenersMap.get(a);if(!a)return!1;d.__spreadArrays(a).forEach(function(a){a.call(null,c)});return 0<a.length};a.prototype.on=function(a,c){var b=this;if(Array.isArray(a)){var e=a.map(function(a){return b.on(a,c)});return p.handlesGroup(e)}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);e=this._listenersMap.get(a)||[];e.push(c);this._listenersMap.set(a,
e);return{remove:function(){var e=b._listenersMap&&b._listenersMap.get(a)||[];0<=e.indexOf(c)&&e.splice(e.indexOf(c),1)}}};a.prototype.once=function(a,c){var b;return b=this.on(a,function(a){b.remove();c.call(null,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();a.EventEmitter=b;a.EventedMixin=function(a){return function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c._emitter=new b;return c}d.__extends(c,
a);c.prototype.emit=function(a,c){return this._emitter.emit(a,c)};c.prototype.on=function(a,c){return this._emitter.on(a,c)};c.prototype.once=function(a,c){return this._emitter.once(a,c)};c.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return c=d.__decorate([m.subclass("esri.core.Evented")],c)}(a)};var c=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c._emitter=new k.EventEmitter;return c}d.__extends(c,a);c.prototype.emit=function(a,c){return this._emitter.emit(a,
c)};c.prototype.on=function(a,c){return this._emitter.on(a,c)};c.prototype.once=function(a,c){return this._emitter.once(a,c)};c.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return c=d.__decorate([m.subclass("esri.core.Evented")],c)}(n);a.EventedAccessor=c})(k||(k={}));return k})},"esri/layers/support/fieldUtils":function(){define("require exports tslib @dojo/framework/shim/array ../../core/Error ../../core/maybe ../../core/object ../../core/promiseUtils ../../core/SetUtils ./domains ../../support/arcadeOnDemand @dojo/framework/shim/Promise".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e){function r(a,c,b){if(a)for(var e=0;e<a.length;e++){var f=a[e],d=k.getDeepValue(f,c);(d=d&&"function"!==typeof d&&t(b,d))&&k.setDeepValue(f,d.name,c)}}function g(a,c){if(!a||!c)return[];R.clear();q(R,a,c);return l.valuesOfSet(R).sort()}function q(a,c,b){if(b)if(c&&c.length)if(n.includes(b,"*"))for(b=0;b<c.length;b++)a.add(c[b].name);else for(var e=0;e<b.length;e++)d=b[e],f(a,c,d);else if(n.includes(b,"*"))a.clear(),a.add("*");else for(c=0;c<b.length;c++){var d=b[c];
a.add(d)}}function f(a,c,b){c&&c.length?(c=t(c,b))&&a.add(c.name):"string"===typeof b&&a.add(b)}function t(a,c){if("string"!==typeof c)return null;if(null!=a){c=c.toLowerCase();for(var b=0;b<a.length;b++){var e=a[b];if(e&&e.name.toLowerCase()===c)return e}}return null}function u(a,c,b){return d.__awaiter(this,void 0,void 0,function(){var g,l,h,q,k;return d.__generator(this,function(d){switch(d.label){case 0:return b?[4,e.loadArcade()]:[2];case 1:g=d.sent().arcadeUtils;l=g.extractFieldNames(b);h=0;
for(q=l;h<q.length;h++)k=q[h],f(a,c,k);return[2]}})})}function z(a,c){for(var b=0;b<a.length;b++){var e=a[b];if(e&&e.valueType&&e.valueType===c)return e.name}return null}function v(a,c){return d.__awaiter(this,void 0,void 0,function(){var b,e;return d.__generator(this,function(f){if(!c)return[2];b=c.fields;return(e=k.getDeepValue("elevationInfo.featureExpressionInfo",c))?[2,e.collectRequiredFields(a,b)]:[2]})})}function B(a,c,b){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,
function(e){b.outStatistic.onStatisticValueExpression?u(a,c,b.outStatistic.onStatisticValueExpression):a.add(b.outStatistic.onStatisticField);return[2]})})}function y(a,c){return d.__awaiter(this,void 0,void 0,function(){var b,e;return d.__generator(this,function(f){switch(f.label){case 0:return b=c.labelingInfo,e=c.fields,b&&b.length?[4,h.all(b.map(function(c){return x(a,e,c)}))]:[2];case 1:return f.sent(),[2]}})})}function x(a,c,b){return d.__awaiter(this,void 0,void 0,function(){var e,g,l,h,q;
return d.__generator(this,function(d){switch(d.label){case 0:if(!b)return[2];e=b.getLabelExpression();g=b.where;return"arcade"!==e.type?[3,2]:[4,u(a,c,e.expression)];case 1:return d.sent(),[3,3];case 2:(l=e.expression.match(/{[^}]*}/g))&&l.forEach(function(b){f(a,c,b.slice(1,-1))}),d.label=3;case 3:return h=/['"]+/g,g&&(q=g.split(" "),3===q.length&&f(a,c,q[0].replace(h,"")),7===q.length&&(f(a,c,q[0].replace(h,"")),f(a,c,q[4].replace(h,"")))),[2]}})})}function w(a){return"number"===typeof a&&!isNaN(a)&&
isFinite(a)}function A(a){return null===a||w(a)}function D(a){return null===a||Q(a)}function C(a){return null!=a&&"string"===typeof a}function F(a){return null===a||C(a)}function E(){return!0}function G(a,c){var b;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":b=a.nullable?D:Q;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":b=
a.nullable?A:w;break;case "string":case "esriFieldTypeString":b=a.nullable?F:C;break;default:b=E}return 1===arguments.length?b:b(c)}function J(a){return null!=a&&O.has(a.type)}function H(a,b){return a.nullable&&null===b?null:J(a)&&!N(a.type,Number(b))?P.OUT_OF_RANGE:G(a,b)?a.domain?c.validateDomainValue(a.domain,b):null:L.INVALID_TYPE}function N(a,c){return(a="string"===typeof a?M(a):a)?a.isInteger?Q(c)&&c>=a.min&&c<=a.max:c>=a.min&&c<=a.max:!1}function M(a){switch(a){case "esriFieldTypeSmallInteger":case "small-integer":return b.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return b.integerRange;case "esriFieldTypeSingle":case "single":return b.singleRange;case "esriFieldTypeDouble":case "double":return b.doubleRange}}function I(a,c,b){if(!c||!c.attributes||!a){if(m.isSome(b))for(var e=0;e<a.length;e++)c=a[e],b.add(c);return!0}for(var e=c.attributes,f=!1,d=0;d<a.length;d++)if(c=a[d],!(c in e))if(f=!0,m.isSome(b))b.add(c);else break;return f}Object.defineProperty(b,"__esModule",{value:!0});b.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");
b.visualVariableFields=["field","normalizationField"];b.fixRendererFields=function(a,c){if(null!=a&&null!=c){var e=0;for(a=Array.isArray(a)?a:[a];e<a.length;e++){var f=a[e];r(b.rendererFields,f,c);if("visualVariables"in f&&f.visualVariables)for(var d=0,f=f.visualVariables;d<f.length;d++)r(b.visualVariableFields,f[d],c)}}};b.fixTimeInfoFields=function(a,c){if(null!=a&&null!=c)if("startField"in a){var b=t(c,a.startField);c=t(c,a.endField);a.startField=b&&b.name||null;a.endField=c&&c.name||null}else b=
t(c,a.startTimeField),c=t(c,a.endTimeField),a.startTimeField=b&&b.name||null,a.endTimeField=c&&c.name||null};var R=new Set;b.fixFields=g;b.collectFields=q;b.collectField=f;b.unpackFieldNames=function(a,c){return c&&a?n.includes(c,"*")?a.map(function(a){return a.name}):c:[]};b.packFields=function(a,c,b){void 0===b&&(b=1);if(!c||!a)return[];if(n.includes(c,"*"))return["*"];c=g(a,c);return c.length/a.length>=b?["*"]:c};b.getField=t;b.hasField=function(a,c){if(!a||!c||"string"!==typeof c)return!1;c=c.toLowerCase();
for(var b=0;b<a.length;b++){var e=a[b];if(e&&e.name.toLowerCase()===c)return!0}return!1};b.collectArcadeFieldNames=u;b.getDisplayFieldName=function(a){var c=a.displayField;a=a.fields;if(c)return c;if(!a||!a.length)return null;if(!(c=z(a,"name-or-title")||z(a,"unique-identifier")||z(a,"type-or-category")))a:{for(c=0;c<a.length;c++){var b=a[c];if(b&&b.name){var e=b.name.toLowerCase();if(-1<e.indexOf("name")||-1<e.indexOf("title")){c=b.name;break a}}}c=null}return c};b.getElevationFields=function(a){return d.__awaiter(this,
void 0,void 0,function(){var c;return d.__generator(this,function(b){switch(b.label){case 0:if(!a)return[2,[]];c=new Set;return[4,v(c,a)];case 1:return b.sent(),[2,l.valuesOfSet(c).sort()]}})})};b.collectElevationFields=v;b.collectFeatureReductionFields=function(a,c,b){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(e){switch(e.label){case 0:return c&&b&&"cluster"===b.type&&b.fields?[4,h.all(b.fields.map(function(b){return B(a,c.fields,b)}))]:[2];case 1:return e.sent(),
[2]}})})};b.collectFilterFields=function(c,b,e){return d.__awaiter(this,void 0,void 0,function(){var f,g;return d.__generator(this,function(d){switch(d.label){case 0:if(!b||!e||!(e.where&&"1\x3d1"!==e.where||e.timeExtent))return[2];b.timeInfo&&e.timeExtent&&q(c,b.fields,[b.timeInfo.startField,b.timeInfo.endField]);return e.where?[4,new Promise(function(c,b){a(["../../core/sql/WhereClause"],c,b)})]:[3,2];case 1:f=d.sent();g=f.WhereClause.create(e.where,b.fieldsIndex);if(!g.isStandardized)throw new p("fieldUtils:collectFilterFields",
"Where clause is not standardized");q(c,b.fields,g.fieldNames);d.label=2;case 2:return[2]}})})};b.getTimeFields=function(a){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(b){return a?(c="timeInfo"in a&&a.timeInfo)?[2,g(a.fields,[a.trackIdField,c.startField,c.endField])]:[2,[]]:[2,[]]})})};b.getFeatureEditFields=function(a){if(!a)return[];var c="editFieldsInfo"in a&&a.editFieldsInfo;return c?g(a.fields,[c&&c.creatorField,c&&c.creationDateField,c&&c.editorField,
c&&c.editDateField]):[]};b.getFeatureGeometryFields=function(a){if(!a)return[];var c="geometryProperties"in a&&a.geometryProperties;return c?g(a.fields,[c&&c.shapeAreaFieldName,c&&c.shapeLengthFieldName]):[]};b.getLabelingFields=function(a){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(b){switch(b.label){case 0:if(!a)return[2,[]];c=new Set;return[4,y(c,a)];case 1:return b.sent(),[2,l.valuesOfSet(c).sort()]}})})};b.collectLabelingFields=y;b.getFieldDefaultValue=
function(a){var c=a.defaultValue;if(void 0!==c&&G(a,c))return c;if(a.nullable)return null};var Q=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();b.isValueMatchingFieldType=G;b.numericTypes=["integer","small-integer","single","double"];var O=l.SetFromValues(d.__spreadArrays(b.numericTypes,["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));b.isNumericField=J;b.isStringField=
function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};b.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};b.isValidFieldValue=function(a,c){return null===H(a,c)};var P;(P=b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var L;(L=b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";b.sanitizeNullFieldValue=function(a){return null==
a||"number"===typeof a&&isNaN(a)?null:a};b.validateFieldValue=H;b.isNumberInRange=N;b.getFieldRange=function(a){var b=c.getDomainRange(a.domain);if(b)return b;if(J(a))return M(a.type)};b.getNumericTypeForValue=function(a){if(!w(a))return null;if(Q(a)){if(a>=b.smallIntegerRange.min&&a<=b.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(a>=b.integerRange.min&&a<=b.integerRange.max)return"esriFieldTypeInteger"}return a>=b.singleRange.min&&a<=b.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};
b.smallIntegerRange={min:-32768,max:32767,isInteger:!0};b.integerRange={min:-2147483648,max:2147483647,isInteger:!0};b.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};b.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.validationErrorToString=function(a,b,e){switch(a){case c.DomainValidationError.INVALID_CODED_VALUE:return"Value "+e+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case c.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+
e+" is out of the range of valid values - field: "+b.name+", domain: "+JSON.stringify(b.domain);case L.INVALID_TYPE:return"Value "+e+" is not a valid value for the field type - field: "+b.name+", type: "+b.type+", nullable: "+b.nullable;case P.OUT_OF_RANGE:return a=M(b.type),"Value "+e+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};b.featureHasFields=function(a,c){return!I(a,c,null)};b.populateMissingFields=I;b.getExpressionFields=
function(a,c){return d.__awaiter(this,void 0,void 0,function(){var b,e,f,g;return d.__generator(this,function(d){switch(d.label){case 0:b=new Set,e=0,f=c,d.label=1;case 1:if(!(e<f.length))return[3,4];g=f[e];return[4,u(b,a.fields,g)];case 2:d.sent(),d.label=3;case 3:return e++,[3,1];case 4:return[2,l.valuesOfSet(b).sort()]}})})}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(a,
b,d,n,p,m,k){function h(a,b){switch(a.type){case "range":var c="range"in a?a.range[1]:a.maxValue;if(+b<("range"in a?a.range[0]:a.minValue)||+b>c)return l.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return l.INVALID_CODED_VALUE}return null}Object.defineProperty(b,"__esModule",{value:!0});b.CodedValueDomain=n;b.DomainBase=p;b.InheritedDomain=m;b.RangeDomain=k;var l;(function(a){a.VALUE_OUT_OF_RANGE=
"domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(l=b.DomainValidationError||(b.DomainValidationError={}));b.isValidDomainValue=function(a,b){return null===h(a,b)};b.validateDomainValue=h;b.types={key:"type",base:p,typeMap:{range:k,"coded-value":n,inherited:m}};b.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};b.fromJSON=function(a){if(!a||!a.type)return null;
switch(a.type){case "range":return k.fromJSON(a);case "codedValue":return n.fromJSON(a);case "inherited":return m.fromJSON(a);default:d.neverReached(a)}return null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),function(a,b,d,n,p,m,k){return function(a){function b(c){c=a.call(this,c)||this;c.codedValues=null;c.type="coded-value";return c}d.__extends(b,a);c=b;b.prototype.getName=
function(a){var c=null;if(this.codedValues){var b=String(a);this.codedValues.some(function(a){String(a.code)===b&&(c=a.name);return!!c})}return c};b.prototype.clone=function(){return new c({codedValues:n.clone(this.codedValues),name:this.name})};var c;d.__decorate([p.property({type:[m.default],json:{write:!0}})],b.prototype,"codedValues",void 0);d.__decorate([p.enumeration({codedValue:"coded-value"})],b.prototype,"type",void 0);return b=c=d.__decorate([p.subclass("esri.layers.support.CodedValueDomain")],
b)}(k)})},"esri/layers/support/CodedValue":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.code=null;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({name:this.name,code:this.code})};var h;d.__decorate([p.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);d.__decorate([p.property({type:[String,
Number],json:{write:!0}})],b.prototype,"code",void 0);return b=h=d.__decorate([p.subclass("esri.layers.support.CodedValue")],b)}(n.JSONSupport);b.CodedValue=a;b.default=a})},"esri/layers/support/Domain":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,d,n,p,m){var k=new n.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function b(c){c=a.call(this,c)||this;c.name=
null;c.type=null;return c}d.__extends(b,a);d.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);d.__decorate([m.enumeration(k)],b.prototype,"type",void 0);return b=d.__decorate([m.subclass("esri.layers.support.Domain")],b)}(p.JSONSupport)})},"esri/layers/support/InheritedDomain":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Domain"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.type="inherited";
return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h};var h;d.__decorate([n.enumeration({inherited:"inherited"})],b.prototype,"type",void 0);return b=h=d.__decorate([n.subclass("esri.layers.support.InheritedDomain")],b)}(p)})},"esri/layers/support/RangeDomain":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Domain"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.maxValue=null;b.minValue=null;b.type="range";
return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var h;d.__decorate([n.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,c){return c.range&&c.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(a,c,b){c[b]=[this.minValue||0,a]}}}})],b.prototype,"maxValue",void 0);d.__decorate([n.property({type:Number,
json:{type:[Number],read:{source:"range",reader:function(a,c){return c.range&&c.range[0]}},write:{target:"range",writer:function(a,c,b){c[b]=[a,this.maxValue||0]}}}})],b.prototype,"minValue",void 0);d.__decorate([n.enumeration({range:"range"})],b.prototype,"type",void 0);return b=h=d.__decorate([n.subclass("esri.layers.support.RangeDomain")],b)}(p)})},"esri/support/arcadeOnDemand":function(){define("require exports tslib ../geometry ../core/maybe ../core/promiseUtils @dojo/framework/shim/Promise".split(" "),
function(a,b,d,n,p,m){function k(){return d.__awaiter(this,void 0,void 0,function(){var c=this;return d.__generator(this,function(b){h||(h=function(){return d.__awaiter(c,void 0,void 0,function(){var c;return d.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(c,b){a(["./arcadeUtils"],c,b)})];case 1:return c=b.sent(),[4,c.arcade.load()];case 2:return b.sent(),[2,{arcade:c.arcade,arcadeUtils:c,Dictionary:c.Dictionary,Feature:c.arcadeFeature}]}})})}());return[2,h]})})}
Object.defineProperty(b,"__esModule",{value:!0});var h;b.loadArcade=k;b.createLabelExpression=function(a,b,d){return l.create(a,b,d,null,["$feature"])};b.createVVExpression=function(a,b,d){return l.create(a,b,d,null,["$feature","$view"])};b.createRendererExpression=function(a,b,d){return l.create(a,b,d,null,["$feature","$view"])};b.createDictionaryExpression=function(a,b,d,g){return l.create(a,b,d,g,["$feature","$view"])};var l=function(){function a(a,c,b,d,f,l,h){this.evaluate=d;this._syntaxTree=
b;this._arcade=a;this._arcadeDictionary=c;this._arcadeFeature=f;this._fields=l;this._spatialReference=h;this._referencesGeometry=a.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}a.create=function(c,b,g,l,f,h){return d.__awaiter(this,void 0,void 0,function(){var e,q,r,t,y,x,w,A,D,C,F,E,G,J,H;return d.__generator(this,function(u){switch(u.label){case 0:return[4,k()];case 1:return e=u.sent(),q=e.arcade,r=e.Feature,t=e.Dictionary,
y=n.SpatialReference.fromJSON(b),x=q.parseScript(c,h),w=f.reduce(function(a,c){var b;return d.__assign(d.__assign({},a),(b={},b[c]=null,b))},{}),A=null,p.isSome(l)&&(A=new t(l),A.immutable=!0,w.$config=null),D=q.scriptUsesGeometryEngine(x)&&q.enableGeometrySupport(),C=q.scriptUsesFeatureSet(x)&&q.enableFeatureSetSupport(),F=q.scriptIsAsync(x)&&q.enableAsyncSupport(),E={vars:w,spatialReference:y,useAsync:!!F},G=new t,G.immutable=!1,G.setField("scale",0),J=q.compileScript(x,E),H=function(a){"$view"in
a&&a.$view&&(G.setField("scale",a.$view.scale),a.$view=G);A&&(a.$config=A);return J({vars:a,spatialReference:y})},[4,m.all([D,C,F])];case 2:return u.sent(),[2,new a(q,t,x,H,new r,g,y)]}})})};a.prototype.repurposeFeature=function(a){a.geometry&&!a.geometry.spatialReference&&(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,{fields:this._fields});return this._arcadeFeature};a.prototype.createDictionary=function(){return new this._arcadeDictionary};
a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,a)};a.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,a)};return a}();b.ArcadeExpression=l;b.default=l})},
"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),function(a,b,d,n,p,m,k,h){Object.defineProperty(b,"__esModule",{value:!0});b.AttachmentsContent=d;b.BaseContent=n;b.CustomContent=p;b.FieldsContent=m;b.MediaContent=k;b.TextContent=h;b.isContent=function(a){return a instanceof n};b.types={base:null,key:"type",typeMap:{attachment:d,custom:p,fields:m,
media:k,text:h}}})},"esri/popup/content/AttachmentsContent":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Content"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.displayType=null;b.type="attachments";return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({displayType:this.displayType})};var h;d.__decorate([n.property({type:["preview","list"],json:{write:!0}})],b.prototype,"displayType",void 0);d.__decorate([n.property({type:["attachments"],
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=h=d.__decorate([n.subclass("esri.popup.content.AttachmentsContent")],b)}(p)})},"esri/popup/content/Content":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.type=null;return b}d.__extends(b,a);d.__decorate([p.property({type:["attachments","custom","fields","media","text"],readOnly:!0,
json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=d.__decorate([p.subclass("esri.popup.content.Content")],b)}(n.JSONSupport)})},"esri/popup/content/CustomContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./Content".split(" "),function(a,b,d,n,p,m){return function(a){function b(c){c=a.call(this,c)||this;c.creator=null;c.destroyer=null;c.outFields=null;c.type="custom";return c}d.__extends(b,a);l=b;b.prototype.clone=function(){return new l({creator:this.creator,
destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?n.clone(this.outFields):null})};var l;d.__decorate([p.property()],b.prototype,"creator",void 0);d.__decorate([p.property()],b.prototype,"destroyer",void 0);d.__decorate([p.property()],b.prototype,"outFields",void 0);d.__decorate([p.property({type:["custom"],readOnly:!0})],b.prototype,"type",void 0);return b=l=d.__decorate([p.subclass("esri.popup.content.CustomContent")],b)}(m)})},"esri/popup/content/FieldsContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),
function(a,b,d,n,p,m,k){return function(a){function b(c){c=a.call(this,c)||this;c.fieldInfos=null;c.type="fields";return c}d.__extends(b,a);c=b;b.prototype.writeFieldInfos=function(a,c){c.fieldInfos=a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new c({fieldInfos:Array.isArray(this.fieldInfos)?n.clone(this.fieldInfos):null})};var c;d.__decorate([p.property({type:[m]})],b.prototype,"fieldInfos",void 0);d.__decorate([p.writer("fieldInfos")],b.prototype,"writeFieldInfos",
null);d.__decorate([p.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c=d.__decorate([p.subclass("esri.popup.content.FieldsContent")],b)}(k)})},"esri/popup/FieldInfo":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(a,b,d,n,p,m,k,h){var l=new n.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});return function(a){function c(c){c=
a.call(this,c)||this;c.fieldName=null;c.format=null;c.isEditable=!1;c.label=null;c.stringFieldOption="text-box";c.statisticType=null;c.tooltip=null;c.visible=!0;return c}d.__extends(c,a);b=c;c.prototype.writeStringFieldOption=function(a,c){c.stringFieldOption=l.toJSON(a)};c.prototype.readStringFieldOption=function(a){if(a)return l.fromJSON(a)};c.prototype.clone=function(){return new b({fieldName:this.fieldName,format:this.format?m.clone(this.format):null,isEditable:this.isEditable,label:this.label,
stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var b;d.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0);d.__decorate([k.property({type:h,json:{write:!0}})],c.prototype,"format",void 0);d.__decorate([k.property({type:Boolean,json:{write:!0,default:!1}})],c.prototype,"isEditable",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);d.__decorate([k.property({type:l.apiValues,
json:{write:!0,default:"text-box",type:l.jsonValues}})],c.prototype,"stringFieldOption",void 0);d.__decorate([k.writer("stringFieldOption")],c.prototype,"writeStringFieldOption",null);d.__decorate([k.reader("stringFieldOption")],c.prototype,"readStringFieldOption",null);d.__decorate([k.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],c.prototype,"statisticType",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"tooltip",void 0);d.__decorate([k.property({type:Boolean,
json:{write:!0}})],c.prototype,"visible",void 0);return c=b=d.__decorate([k.subclass("esri.popup.FieldInfo")],c)}(p.JSONSupport)})},"esri/popup/support/FieldInfoFormat":function(){define("require exports tslib ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),function(a,b,d,n,p,m,k,h,l){return function(a){function c(c){c=a.call(this,c)||this;c.dateFormat=null;c.digitSeparator=!1;c.places=
null;return c}d.__extends(c,a);b=c;c.prototype.clone=function(){return new b({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};c.prototype.format=function(a){return this.dateFormat?h.formatDate(a,h.convertDateFormatToIntlOptions(this.dateFormat)):l.formatNumber(a,l.convertNumberFormatToIntlOptions(this))};var b;d.__decorate([m.enumeration(n.dictionary)],c.prototype,"dateFormat",void 0);d.__decorate([m.property({type:Boolean,json:{write:!0}})],c.prototype,"digitSeparator",
void 0);d.__decorate([m.property({type:k.Integer,json:{write:!0}})],c.prototype,"places",void 0);return c=b=d.__decorate([m.subclass("esri.popup.support.FieldInfoFormat")],c)}(p.JSONSupport)})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};b.dictionary=d.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",
shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",
dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",
shortMonthYear:"short-month-year",year:"year"});b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);b.getFormat=function(a){return b.formats[a]}})},"esri/intl/date":function(){define("require exports tslib @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(a,b,d,n,p,m){function k(a){a=a||t;if(!f.has(a)){var c=m.getLocale(),c=q[m.getLocale()]||c;f.set(a,new Intl.DateTimeFormat(c,a))}return f.get(a)}Object.defineProperty(b,"__esModule",
{value:!0});a={year:"numeric",month:"numeric",day:"numeric"};var h={year:"numeric",month:"long",day:"numeric"},l={year:"numeric",month:"short",day:"numeric"},c={year:"numeric",month:"long",weekday:"long",day:"numeric"},e={hour:"numeric",minute:"numeric"},r=d.__assign(d.__assign({},e),{second:"numeric"}),g={"short-date":a,"short-date-short-time":d.__assign(d.__assign({},a),e),"short-date-short-time-24":d.__assign(d.__assign(d.__assign({},a),e),{hour12:!1}),"short-date-long-time":d.__assign(d.__assign({},
a),r),"short-date-long-time-24":d.__assign(d.__assign(d.__assign({},a),r),{hour12:!1}),"short-date-le":a,"short-date-le-short-time":d.__assign(d.__assign({},a),e),"short-date-le-short-time-24":d.__assign(d.__assign(d.__assign({},a),e),{hour12:!1}),"short-date-le-long-time":d.__assign(d.__assign({},a),r),"short-date-le-long-time-24":d.__assign(d.__assign(d.__assign({},a),r),{hour12:!1}),"long-month-day-year":h,"long-month-day-year-short-time":d.__assign(d.__assign({},h),e),"long-month-day-year-short-time-24":d.__assign(d.__assign(d.__assign({},
h),e),{hour12:!1}),"long-month-day-year-long-time":d.__assign(d.__assign({},h),r),"long-month-day-year-long-time-24":d.__assign(d.__assign(d.__assign({},h),r),{hour12:!1}),"day-short-month-year":l,"day-short-month-year-short-time":d.__assign(d.__assign({},l),e),"day-short-month-year-short-time-24":d.__assign(d.__assign(d.__assign({},l),e),{hour12:!1}),"day-short-month-year-long-time":d.__assign(d.__assign({},l),r),"day-short-month-year-long-time-24":d.__assign(d.__assign(d.__assign({},l),r),{hour12:!1}),
"long-date":c,"long-date-short-time":d.__assign(d.__assign({},c),e),"long-date-short-time-24":d.__assign(d.__assign(d.__assign({},c),e),{hour12:!1}),"long-date-long-time":d.__assign(d.__assign({},c),r),"long-date-long-time-24":d.__assign(d.__assign(d.__assign({},c),r),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":e,"long-time":r};b.dictionary=p.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",
shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",
longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",
longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.dateFormats=b.dictionary.apiValues;b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);var q={ar:"ar-u-nu-latn-ca-gregory"},f=new n.default,t=g["short-date-short-time"];m.beforeLocaleChange(function(){f=new n.default;t=g["short-date-short-time"]});b.getDateTimeFormatter=k;b.convertDateFormatToIntlOptions=
function(a){return g[a]||null};b.formatDate=function(a,c){return k(c).format(a)}})},"@dojo/framework/shim/WeakMap":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var d=a("tslib"),n=a("./global"),p=a("./iterator"),m=a("../has/has");
a("./Symbol");b.WeakMap=n.default.WeakMap;if(!m.default("es6-weakmap")){var k={},h=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();b.WeakMap=function(){function a(a){this[Symbol.toStringTag]="WeakMap";this._name=h();this._frozenEntries=[];if(a)if(p.isArrayLike(a))for(var c=0;c<a.length;c++){var b=a[c];this.set(b[0],b[1])}else try{for(c=d.__values(a),b=c.next();!b.done;b=c.next()){var g=d.__read(b.value,2);this.set(g[0],g[1])}}catch(t){l=
{error:t}}finally{try{b&&!b.done&&(f=c.return)&&f.call(c)}finally{if(l)throw l.error;}}var l,f}a.prototype._getFrozenEntryIndex=function(a){for(var c=0;c<this._frozenEntries.length;c++)if(this._frozenEntries[c].key===a)return c;return-1};a.prototype.delete=function(a){if(void 0===a||null===a)return!1;var c=a[this._name];if(c&&c.key===a&&c.value!==k)return c.value=k,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,1),!0):!1};a.prototype.get=function(a){if(void 0!==a&&null!==
a){var c=a[this._name];if(c&&c.key===a&&c.value!==k)return c.value;a=this._getFrozenEntryIndex(a);if(0<=a)return this._frozenEntries[a].value}};a.prototype.has=function(a){if(void 0===a||null===a)return!1;var c=a[this._name];return c&&c.key===a&&c.value!==k||0<=this._getFrozenEntryIndex(a)?!0:!1};a.prototype.set=function(a,b){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var c=a[this._name];c&&c.key===a||(c=Object.create(null,{key:{value:a}}),
Object.isFrozen(a)?this._frozenEntries.push(c):Object.defineProperty(a,this._name,{value:c}));c.value=b;return this};return a}()}b.default=b.WeakMap})},"esri/intl/locale":function(){define(["require","exports","tslib","../core/global"],function(a,b,d,n){function p(){var a,c;return null!==(c=null!==q&&void 0!==q?q:null===(a=n.navigator)||void 0===a?void 0:a.language)&&void 0!==c?c:"en"}function m(){void 0===g&&(g=p());return g}function k(){var a=null!==r&&void 0!==r?r:p();g!==a&&(g=a,d.__spreadArrays(u).forEach(function(c){c.call(null,
a)}),d.__spreadArrays(t).forEach(function(c){c.call(null,a)}))}var h,l,c,e;Object.defineProperty(b,"__esModule",{value:!0});var r=void 0,g=void 0,q=null!==(l=null===(h=n.esriConfig)||void 0===h?void 0:h.locale)&&void 0!==l?l:null===(c=n.dojoConfig)||void 0===c?void 0:c.locale;b.getDefaultLocale=p;b.getLocale=m;b.setLocale=function(a){r=a?a:void 0;k()};var f={he:!0,ar:!0};b.prefersRTL=function(a){void 0===a&&(a=m());a=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(a);a=null===a||void 0===a?void 0:a[1].toLowerCase();
return f[a]||!1};var t=[];b.onLocaleChange=function(a){t.push(a);return{remove:function(){t.splice(t.indexOf(a),1)}}};var u=[];b.beforeLocaleChange=function(a){u.push(a);return{remove:function(){t.splice(u.indexOf(a),1)}}};null===(e=n.addEventListener)||void 0===e?void 0:e.call(n,"languagechange",k)})},"esri/intl/number":function(){define(["require","exports","@dojo/framework/shim/WeakMap","./locale"],function(a,b,d,n){function p(a){var c=a||h;if(!k.has(c)){var b=n.getLocale(),b=m[n.getLocale()]||
b;k.set(c,new Intl.NumberFormat(b,a))}return k.get(c)}Object.defineProperty(b,"__esModule",{value:!0});var m={ar:"ar-u-nu-latn"},k=new d.default,h={};n.beforeLocaleChange(function(){k=new d.default;h={}});b.getFormatter=p;b.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var c={};null!=a.digitSeparator&&(c.useGrouping=a.digitSeparator);null!=a.places&&(c.minimumFractionDigits=c.maximumFractionDigits=a.places);return c};b.formatNumber=function(a,c){return p(c).format(a)}})},"esri/popup/content/MediaContent":function(){define("require exports tslib ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r){return function(a){function b(c){c=a.call(this,c)||this;c.mediaInfos=null;c.type="media";return c}d.__extends(b,a);f=b;b.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return l.fromJSON(a);if("barchart"===a.type)return m.fromJSON(a);if("columnchart"===a.type)return k.fromJSON(a);if("linechart"===a.type)return c.fromJSON(a);if("piechart"===a.type)return e.fromJSON(a)}).filter(Boolean)};b.prototype.writeMediaInfos=function(a,c){c.mediaInfos=
a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new f({mediaInfos:this.mediaInfos?n.clone(this.mediaInfos):null})};var f;d.__decorate([p.property({types:[r.types]})],b.prototype,"mediaInfos",void 0);d.__decorate([p.reader("mediaInfos")],b.prototype,"readMediaInfos",null);d.__decorate([p.writer("mediaInfos")],b.prototype,"writeMediaInfos",null);d.__decorate([p.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=f=d.__decorate([p.subclass("esri.popup.content.MediaContent")],
b)}(h)})},"esri/popup/content/BarChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,d,n,p,m){return function(a){function b(c){c=a.call(this,c)||this;c.type="bar-chart";return c}d.__extends(b,a);l=b;b.prototype.clone=function(){return new l({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var l;d.__decorate([n.property({type:["bar-chart"],readOnly:!0,
json:{type:["barchart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=l=d.__decorate([n.subclass("esri.popup.content.BarChartMediaInfo")],b)}(p)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports tslib ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(a,b,d,n,p,m){return function(a){function b(b){b=a.call(this,b)||this;b.type=null;b.value=null;return b}d.__extends(b,a);d.__decorate([n.property({type:["bar-chart",
"column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);d.__decorate([n.property({type:m,json:{write:!0}})],b.prototype,"value",void 0);return b=d.__decorate([n.subclass("esri.popup.content.mixins.ChartMediaInfo")],b)}(p)})},"esri/popup/content/mixins/MediaInfo":function(){define(["require","exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||
this;b.altText=null;b.caption="";b.title="";b.type=null;return b}d.__extends(b,a);d.__decorate([p.property({type:String,json:{write:!0}})],b.prototype,"altText",void 0);d.__decorate([p.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);d.__decorate([p.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);d.__decorate([p.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=
d.__decorate([p.subclass("esri.popup.content.mixins.MediaInfo")],b)}(n.JSONSupport)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports tslib ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(a,b,d,n,p,m,k){return function(a){function b(c){c=a.call(this,c)||this;c.fields=[];c.normalizeField=null;c.series=[];c.tooltipField=null;return c}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({fields:p.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var c;d.__decorate([m.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"normalizeField",void 0);d.__decorate([m.property({type:[k],json:{read:!1}})],b.prototype,"series",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=c=d.__decorate([m.subclass("esri.popup.content.support.ChartMediaInfoValue")],
b)}(n.JSONSupport)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define(["require","exports","tslib","../../../core/Accessor","../../../core/accessorSupport/decorators"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.tooltip=null;b.x=null;b.y=null;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({tooltip:this.tooltip,x:this.x,y:this.y})};var h;d.__decorate([p.property()],b.prototype,"tooltip",void 0);d.__decorate([p.property()],
b.prototype,"x",void 0);d.__decorate([p.property()],b.prototype,"y",void 0);return b=h=d.__decorate([p.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],b)}(n)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require","exports","../../../core/jsonMap"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.chartTypeKebabDict=d.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,d,n,p,m){return function(a){function b(c){c=a.call(this,c)||this;c.type="column-chart";return c}d.__extends(b,a);l=b;b.prototype.clone=function(){return new l({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var l;d.__decorate([n.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=l=d.__decorate([n.subclass("esri.popup.content.ColumnChartMediaInfo")],b)}(p)})},
"esri/popup/content/ImageMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),function(a,b,d,n,p,m){return function(a){function b(c){c=a.call(this,c)||this;c.refreshInterval=null;c.type="image";c.value=null;return c}d.__extends(b,a);l=b;b.prototype.clone=function(){return new l({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var l;
d.__decorate([n.property({type:Number,json:{write:!0}})],b.prototype,"refreshInterval",void 0);d.__decorate([n.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);d.__decorate([n.property({type:m,json:{write:!0}})],b.prototype,"value",void 0);return b=l=d.__decorate([n.subclass("esri.popup.content.ImageMediaInfo")],b)}(p)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define(["require","exports","tslib","../../../core/JSONSupport","../../../core/accessorSupport/decorators"],
function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.linkURL=null;b.sourceURL=null;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({linkURL:this.linkURL,sourceURL:this.sourceURL})};var h;d.__decorate([p.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);d.__decorate([p.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=h=d.__decorate([p.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)}(n.JSONSupport)})},
"esri/popup/content/LineChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,d,n,p,m){return function(a){function b(c){c=a.call(this,c)||this;c.type="line-chart";return c}d.__extends(b,a);l=b;b.prototype.clone=function(){return new l({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var l;d.__decorate([n.property({type:["line-chart"],readOnly:!0,
json:{type:["linechart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=l=d.__decorate([n.subclass("esri.popup.content.LineChartMediaInfo")],b)}(p)})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports tslib ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,d,n,p,m){return function(a){function b(c){c=a.call(this,c)||this;c.type="pie-chart";return c}d.__extends(b,a);l=b;b.prototype.clone=
function(){return new l({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var l;d.__decorate([n.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=l=d.__decorate([n.subclass("esri.popup.content.PieChartMediaInfo")],b)}(p)})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,d,n,p,m,k,h){Object.defineProperty(b,"__esModule",{value:!0});b.types={base:h,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":d,"column-chart":n,"line-chart":m,"pie-chart":k,image:p}};b.default=b.types})},"esri/popup/content/TextContent":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Content"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.text=null;b.type="text";return b}d.__extends(b,a);h=b;b.prototype.clone=
function(){return new h({text:this.text})};var h;d.__decorate([n.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);d.__decorate([n.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=h=d.__decorate([n.subclass("esri.popup.content.TextContent")],b)}(p)})},"esri/popup/ExpressionInfo":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(a,b,d,n,p){return function(a){function b(b){b=
a.call(this,b)||this;b.name=null;b.title=null;b.expression=null;b.returnType=null;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var h;d.__decorate([p.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);d.__decorate([p.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);d.__decorate([p.property({type:String,json:{write:!0}})],b.prototype,"expression",
void 0);d.__decorate([p.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=h=d.__decorate([p.subclass("esri.popup.ExpressionInfo")],b)}(n.JSONSupport)})},"esri/popup/LayerOptions":function(){define(["require","exports","tslib","../core/JSONSupport","../core/accessorSupport/decorators"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.returnTopmostRaster=null;b.showNoDataRecords=null;return b}d.__extends(b,a);h=b;b.prototype.clone=
function(){return new h({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};var h;d.__decorate([p.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);d.__decorate([p.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=h=d.__decorate([p.subclass("esri.popup.LayerOptions")],b)}(n.JSONSupport)})},"esri/popup/RelatedRecordsInfo":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,d,n,p,m,k){return function(a){function b(c){c=a.call(this,c)||this;c.showRelatedRecords=null;c.orderByFields=null;return c}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?p.clone(this.orderByFields):null})};var c;d.__decorate([m.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);d.__decorate([m.property({type:[k],json:{write:!0}})],b.prototype,"orderByFields",void 0);
return b=c=d.__decorate([m.subclass("esri.popup.RelatedRecordsInfo")],b)}(n.JSONSupport)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.field=null;b.order=null;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({field:this.field,order:this.order})};var h;d.__decorate([p.property({type:String,
json:{write:!0}})],b.prototype,"field",void 0);d.__decorate([p.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=h=d.__decorate([p.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)}(n.JSONSupport)})},"esri/support/actions/ActionBase":function(){define("require exports tslib ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(a,b,d,n,p,m){return function(a){function b(c){c=a.call(this,c)||this;c.active=
!1;c.className=null;c.disabled=!1;c.id=null;c.indicator=!1;c.title=null;c.type=null;c.visible=!0;return c}d.__extends(b,a);l=b;b.prototype.clone=function(){return new l({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var l;d.__decorate([m.property()],b.prototype,"active",void 0);d.__decorate([m.property()],b.prototype,"className",void 0);d.__decorate([m.property()],b.prototype,"disabled",void 0);d.__decorate([m.property()],
b.prototype,"id",void 0);d.__decorate([m.property()],b.prototype,"indicator",void 0);d.__decorate([m.property()],b.prototype,"title",void 0);d.__decorate([m.property()],b.prototype,"type",void 0);d.__decorate([m.property()],b.prototype,"visible",void 0);return b=l=d.__decorate([m.subclass("esri.support.actions.ActionBase")],b)}(p.IdentifiableMixin(n))})},"esri/core/Identifiable":function(){define(["require","exports","tslib","./accessorSupport/decorators"],function(a,b,d,n){Object.defineProperty(b,
"__esModule",{value:!0});var p=0;b.IdentifiableMixin=function(a){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;Object.defineProperty(b,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+p++});return b}d.__extends(b,a);return b=d.__decorate([n.subclass("esri.core.Identifiable")],b)}(a)};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}d.__extends(b,a);return b=d.__decorate([n.subclass("esri.core.Identifiable")],
b)}(b.IdentifiableMixin(function(){return function(){}}()));b.Identifiable=a})},"esri/support/actions/ActionButton":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./ActionBase"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.image=null;b.type="button";return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,
visible:this.visible,image:this.image})};var h;d.__decorate([n.property()],b.prototype,"image",void 0);return b=h=d.__decorate([n.subclass("esri.support.Action.ActionButton")],b)}(p)})},"esri/support/actions/ActionToggle":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./ActionBase"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.image=null;b.type="toggle";b.value=!1;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({active:this.active,
className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var h;d.__decorate([n.property()],b.prototype,"image",void 0);d.__decorate([n.property()],b.prototype,"value",void 0);return b=h=d.__decorate([n.subclass("esri.support.Action.ActionToggle")],b)}(p)})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g,q,f,t,u,z,v,B,y,x,w,A,D,C,F,E,G,J,H,N,M,I){Object.defineProperty(b,"__esModule",{value:!0});b.CIMSymbol=n;b.ExtrudeSymbol3DLayer=p;b.BaseFillSymbol=m;b.FillSymbol3DLayer=k;b.Font=h;b.IconSymbol3DLayer=l;b.LabelSymbol3D=c;b.LineSymbol3D=e;b.LineSymbol3DLayer=r;b.BaseMarkerSymbol=g;b.MeshSymbol3D=q;b.ObjectSymbol3DLayer=f;b.PathSymbol3DLayer=t;b.PictureFillSymbol=u;b.PictureMarkerSymbol=z;b.PointSymbol3D=v;b.PolygonSymbol3D=B;b.SimpleFillSymbol=y;b.SimpleLineSymbol=
x;b.SimpleMarkerSymbol=w;b.BaseSymbol=A;b.BaseSymbol3D=D;b.BaseSymbol3DLayer=C;b.TextSymbol=F;b.TextSymbol3DLayer=E;b.WaterSymbol3DLayer=G;b.WebStyleSymbol=J;b.LineCallout3D=H;b.LineCallout3DBorder=N;b.Symbol3DVerticalOffset=M.Symbol3DVerticalOffset;b.fromJSON=I.fromJSON;b.isSymbol=function(a){return a instanceof A};b.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};b.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};b.symbolTypes={base:A,key:"type",typeMap:{"simple-fill":y,"picture-fill":u,"picture-marker":z,"simple-line":x,"simple-marker":w,text:F,"label-3d":c,"line-3d":e,"mesh-3d":q,"point-3d":v,"polygon-3d":B,"web-style":J,cim:n}};b.symbolTypesRenderer={base:A,key:"type",typeMap:{"simple-fill":y,"picture-fill":u,"picture-marker":z,
"simple-line":x,"simple-marker":w,text:F,"line-3d":e,"mesh-3d":q,"point-3d":v,"polygon-3d":B,"web-style":J,cim:n}};b.symbolTypesLabel={base:A,key:"type",typeMap:{text:F,"label-3d":c}};b.symbolTypes3D={base:A,key:"type",typeMap:{"label-3d":c,"line-3d":e,"mesh-3d":q,"point-3d":v,"polygon-3d":B,"web-style":J}};b.symbolTypesRenderer3D={base:A,key:"type",typeMap:{"line-3d":e,"mesh-3d":q,"point-3d":v,"polygon-3d":B,"web-style":J}};b.symbolTypesLabel3D={base:A,key:"type",typeMap:{"label-3d":c}};b.ensureType=
d.ensureOneOfType(b.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports tslib ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ../portal/Portal ./Symbol ./cim/cimSymbolUtils".split(" "),function(a,b,d,n,p,m,k,h,l,c){return function(a){function b(c){c=a.call(this,c)||this;c.data=null;c.portal=null;c.styleUrl="";c.type="cim";return c}d.__extends(b,a);e=b;b.prototype.readData=function(a,c){return c};b.prototype.writeData=function(a,
c){if(a)for(var b in a)c[b]=a[b]};b.prototype.readStyleUrl=function(a,c){return c.symbolUrl?c.symbolUrl:a};b.prototype.writeStyleUrl=function(a,c){a&&(c.symbolUrl=a)};b.prototype.collectRequiredFields=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var e,f,g;return d.__generator(this,function(d){switch(d.label){case 0:return[4,c.fetchSymbol(this)];case 1:d.sent();if("CIMSymbolReference"!==this.data.type)return[3,3];e=this.data;f=e.primitiveOverrides;if(!f)return[3,3];g=f.map(function(c){return k.collectArcadeFieldNames(a,
b,c.valueExpressionInfo.expression)});return[4,p.all(g)];case 2:d.sent(),d.label=3;case 3:return[2]}})})};b.prototype.clone=function(){return new e({color:this.color.clone(),data:n.clone(this.data),portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};b.prototype.hash=function(){return this.color.hash()+"."+this.data+"."+this.portal+"."+this.styleName+"."+this.styleUrl};var e;d.__decorate([m.property({json:{write:!1}})],b.prototype,"color",void 0);d.__decorate([m.property({json:{write:!0}})],
b.prototype,"data",void 0);d.__decorate([m.reader("data",["symbol"])],b.prototype,"readData",null);d.__decorate([m.writer("data")],b.prototype,"writeData",null);d.__decorate([m.property({type:h,json:{write:!1}})],b.prototype,"portal",void 0);d.__decorate([m.property({json:{write:!0}})],b.prototype,"styleName",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"styleUrl",void 0);d.__decorate([m.reader("styleUrl",["styleUrl","symbolUrl"])],b.prototype,"readStyleUrl",null);
d.__decorate([m.writer("styleUrl")],b.prototype,"writeStyleUrl",null);d.__decorate([m.enumeration({CIMSymbolReference:"cim"})],b.prototype,"type",void 0);return b=e=d.__decorate([m.subclass("esri.symbols.CIMSymbol")],b)}(l)})},"esri/portal/Portal":function(){define("require exports tslib ../config ../intl ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g,q,f,t,u,z,v){var B,y={PortalGroup:function(){return new Promise(function(c,b){a(["./PortalGroup"],c,b)})},PortalItem:function(){return new Promise(function(c,b){a(["./PortalItem"],c,b)})},PortalUser:function(){return new Promise(function(c,b){a(["./PortalUser"],c,b)})}};return function(b){function e(a){a=b.call(this,a)||this;a.access=null;a.allSSL=!1;a.authMode="auto";a.authorizedCrossOriginDomains=null;a.basemapGalleryGroupQuery=null;a.bingKey=null;a.canListApps=
!1;a.canListData=!1;a.canListPreProvisionedItems=!1;a.canProvisionDirectPurchase=!1;a.canSearchPublic=!0;a.canShareBingPublic=!1;a.canSharePublic=!1;a.canSignInArcGIS=!1;a.canSignInIDP=!1;a.colorSetsGroupQuery=null;a.commentsEnabled=!1;a.created=null;a.culture=null;a.customBaseUrl=null;a.defaultBasemap=null;a.defaultExtent=null;a.defaultVectorBasemap=null;a.description=null;a.eueiEnabled=null;a.featuredGroups=null;a.featuredItemsGroupQuery=null;a.galleryTemplatesGroupQuery=null;a.livingAtlasGroupQuery=
null;a.hasCategorySchema=!1;a.helperServices=null;a.homePageFeaturedContent=null;a.homePageFeaturedContentCount=null;a.httpPort=null;a.httpsPort=null;a.id=null;a.ipCntryCode=null;a.isPortal=!1;a.isReadOnly=!1;a.layerTemplatesGroupQuery=null;a.maxTokenExpirationMinutes=null;a.modified=null;a.name=null;a.portalHostname=null;a.portalMode=null;a.portalProperties=null;a.region=null;a.rotatorPanels=null;a.showHomePageDescription=!1;a.sourceJSON=null;a.supportsHostedServices=!1;a.symbolSetsGroupQuery=null;
a.templatesGroupQuery=null;a.units=null;a.url=n.portalUrl;a.urlKey=null;a.user=null;a.useStandardizedQuery=!1;a.useVectorBasemaps=!1;a.vectorBasemapGalleryGroupQuery=null;return a}d.__extends(e,b);l=e;e.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};e.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};e.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var c=
0;c<a.length;c++){var b=a[c];-1===n.request.trustedServers.indexOf(b)&&n.request.trustedServers.push(b)}return a};e.prototype.readDefaultBasemap=function(a){return a?(a=B.fromJSON(a),a.portalItem={portal:this},a):null};e.prototype.readDefaultVectorBasemap=function(a){return a?(a=B.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(e.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,
configurable:!0});Object.defineProperty(e.prototype,"isOrganization",{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"restUrl",{get:function(){var a=this.url;if(a)var c=a.indexOf("/sharing"),a=0<c?a.substring(0,c):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,c=this.thumbnail;return a&&c?this._normalizeSSL(a+"/portals/self/resources/"+
c):null},enumerable:!0,configurable:!0});e.prototype.readUrlKey=function(a){return a?a.toLowerCase():a};e.prototype.readUser=function(a){var c=null;a&&(c=v.fromJSON(a),c.portal=this);return c};e.prototype.load=function(c){var b=this,e=(new Promise(function(c,b){a(["../Basemap"],c,b)})).then(function(a){g.throwIfAborted(c);B=a}).then(function(){return b.sourceJSON?b.sourceJSON:b._fetchSelf(b.authMode,!1,c)}).then(function(a){if(m.id){var c=m.id;b.credential=c.findCredential(b.restUrl);b.credential||
b.authMode!==l.AUTH_MODE_AUTO||(b._esriId_credentialCreateHandle=c.on("credential-create",function(){c.findCredential(b.restUrl)&&b._signIn()}))}b.sourceJSON=a;b.read(a)});this.addResolvingPromise(e);return g.resolve(this)};e.prototype.createClosestFacilityTask=function(){return d.__awaiter(this,void 0,void 0,function(){var c,b;return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),c=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(c,
b){a(["../tasks/ClosestFacilityTask"],c,b)})];case 2:return b=e.sent(),[2,new b(c)]}})})};e.prototype.createElevationLayers=function(){return d.__awaiter(this,void 0,void 0,function(){var c,b;return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),c=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(c,b){a(["../layers/ElevationLayer"],c,b)})];case 2:return b=e.sent(),[2,c?c.map(function(a){return new b({id:a.id,url:a.url})}):
[]]}})})};e.prototype.createGeometryService=function(){return d.__awaiter(this,void 0,void 0,function(){var c,b;return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),c=this._getHelperServiceUrl("geometry"),[4,new Promise(function(c,b){a(["../tasks/GeometryService"],c,b)})];case 2:return b=e.sent(),[2,new b({url:c})]}})})};e.prototype.createPrintTask=function(){return d.__awaiter(this,void 0,void 0,function(){var c,b;return d.__generator(this,function(e){switch(e.label){case 0:return[4,
this.load()];case 1:return e.sent(),c=this._getHelperServiceUrl("printTask"),[4,new Promise(function(c,b){a(["../tasks/PrintTask"],c,b)})];case 2:return b=e.sent(),[2,new b(c)]}})})};e.prototype.createRouteTask=function(){return d.__awaiter(this,void 0,void 0,function(){var c,b;return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),c=this._getHelperServiceUrl("route"),[4,new Promise(function(c,b){a(["../tasks/RouteTask"],c,b)})];case 2:return b=e.sent(),
[2,new b(c)]}})})};e.prototype.createServiceAreaTask=function(){return d.__awaiter(this,void 0,void 0,function(){var c,b;return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),c=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(c,b){a(["../tasks/ServiceAreaTask"],c,b)})];case 2:return b=e.sent(),[2,new b(c)]}})})};e.prototype.fetchBasemaps=function(a,c){var b=new u;b.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:
this.basemapGalleryGroupQuery);b.disableExtraQuery=!0;return this.queryGroups(b,c).then(function(a){b.num=100;b.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],b.sortField=a.sortField||"name",b.sortOrder=a.sortOrder||"desc",a.queryItems(b,c)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new B({portalItem:a})}):[]})};e.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+
"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):g.isAborted(a)?g.reject(g.createAbortError()):g.resolve([])};e.prototype.fetchFeaturedGroups=function(a){var c=this.featuredGroups,b=new u;b.num=100;b.sortField="title";if(c&&c.length){for(var e=[],d=0;d<c.length;d++){var f=c[d];e.push('(title:"'+f.title+'" AND owner:'+f.owner+")")}b.query=e.join(" OR ");return this.queryGroups(b,a).then(function(a){return a.results})}return g.isAborted(a)?g.reject(g.createAbortError()):
g.resolve([])};e.prototype.fetchRegions=function(a){var c=this.user&&this.user.culture||this.culture||p.getLocale();return this._request(this.restUrl+"/portals/regions",d.__assign(d.__assign({},a),{query:{culture:c}}))};e.getDefault=function(){if(!l._default||l._default.destroyed)l._default=new l;return l._default};e.prototype.queryGroups=function(a,c){return this._queryPortal("/community/groups",a,"PortalGroup",c)};e.prototype.queryItems=function(a,c){return this._queryPortal("/search",a,"PortalItem",
c)};e.prototype.queryUsers=function(a,c){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",c)};e.prototype.toJSON=function(){throw new h("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};e.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new l({sourceJSON:a})};e.prototype._getHelperService=function(a){var c=this.helperServices&&this.helperServices[a];if(!c)throw new h("portal:service-not-found",
'The `helperServices` do not include an entry named "'+a+'"');return c};e.prototype._getHelperServiceUrl=function(a){var c=this._getHelperService(a);if(!c.url)throw new h("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return c.url};e.prototype._fetchSelf=function(a,c,b){void 0===a&&(a=this.authMode);void 0===c&&(c=!1);var e=this.restUrl+"/portals/self";a=d.__assign({authMode:a,query:{culture:p.getLocale().toLowerCase()}},b);"auto"===a.authMode&&
(a.authMode="no-prompt");c&&(a.query.default=!0);return this._request(e,a)};e.prototype._queryPortal=function(a,c,b,e){var h=this,q=f.ensureType(u,c),k=function(c){return h._request(h.restUrl+a,d.__assign(d.__assign({},q.toRequestOptions(h)),e)).then(function(a){var b=q.clone();b.start=a.nextStart;return new z({nextQueryParams:b,queryParams:q,total:a.total,results:l._resultsToTypedArray(c,{portal:h},a,e)})}).then(function(a){return g.all(a.results.map(function(c){return"function"===typeof c.when?
c.when():a})).then(function(){return a},function(c){g.throwIfAbortError(c);return a})})};return b&&y[b]?y[b]().then(function(a){g.throwIfAborted(e);return k(a)}):k()};e.prototype._signIn=function(){var a=this;if(this.authMode===l.AUTH_MODE_ANONYMOUS)return g.reject(new h("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return g.reject(this.loadError);var c=function(c){return g.resolve().then(function(){if("not-loaded"===a.loadStatus)return c||
(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=c;return a._fetchSelf("immediate")});if(a.user&&a.credential===c)return null;a.credential=c;return a._fetchSelf("immediate")}).then(function(c){c&&(a.sourceJSON=c,a.read(c))})};return m.id?m.id.getCredential(this.restUrl).then(function(a){return c(a)}):c(this.credential)};e.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,
"https:").replace(":7080",":7443")};e.prototype._normalizeUrl=function(a){var c=this.credential&&this.credential.token;return this._normalizeSSL(c?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+c:a)};e.prototype._requestToTypedArray=function(c,b,e){var d=this,f=function(a){return d._request(c,b).then(function(c){var b=l._resultsToTypedArray(a,{portal:d},c);return g.all(b.map(function(a){return"function"===typeof a.when?a.when():c})).then(function(){return b},function(){return b})})};return e?(new Promise(function(c,
b){a(["./"+e],c,b)})).then(function(a){return f(a)}):f()};e.prototype._request=function(a,c){void 0===c&&(c={});var b=d.__assign({f:"json"},c.query),e=c.authMode,f=c.body,g=c.cacheBust,h=c.method,q=c.responseType;c={authMode:void 0===e?this.authMode===l.AUTH_MODE_ANONYMOUS?"anonymous":"auto":e,body:void 0===f?null:f,cacheBust:void 0===g?!1:g,method:void 0===h?"auto":h,query:b,responseType:void 0===q?"json":q,timeout:0,signal:c.signal};return k(this._normalizeSSL(a),c).then(function(a){return a.data})};
e._resultsToTypedArray=function(a,b,e,d){if(e){var f=r.isSome(d)?d.signal:null;e=e.listings||e.notifications||e.userInvitations||e.tags||e.items||e.groups||e.comments||e.provisions||e.results||e.relatedItems||e;if(a||b)e=e.map(function(e){e=c.mixin(a?a.fromJSON(e):e,b);"function"===typeof e.load&&e.load(f);return e})}else e=[];return e};var l;e.AUTH_MODE_ANONYMOUS="anonymous";e.AUTH_MODE_AUTO="auto";e.AUTH_MODE_IMMEDIATE="immediate";d.__decorate([q.property()],e.prototype,"access",void 0);d.__decorate([q.property()],
e.prototype,"allSSL",void 0);d.__decorate([q.property()],e.prototype,"authMode",void 0);d.__decorate([q.property()],e.prototype,"authorizedCrossOriginDomains",void 0);d.__decorate([q.reader("authorizedCrossOriginDomains")],e.prototype,"readAuthorizedCrossOriginDomains",null);d.__decorate([q.property()],e.prototype,"basemapGalleryGroupQuery",void 0);d.__decorate([q.property()],e.prototype,"bingKey",void 0);d.__decorate([q.property()],e.prototype,"canListApps",void 0);d.__decorate([q.property()],e.prototype,
"canListData",void 0);d.__decorate([q.property()],e.prototype,"canListPreProvisionedItems",void 0);d.__decorate([q.property()],e.prototype,"canProvisionDirectPurchase",void 0);d.__decorate([q.property()],e.prototype,"canSearchPublic",void 0);d.__decorate([q.property()],e.prototype,"canShareBingPublic",void 0);d.__decorate([q.property()],e.prototype,"canSharePublic",void 0);d.__decorate([q.property()],e.prototype,"canSignInArcGIS",void 0);d.__decorate([q.property()],e.prototype,"canSignInIDP",void 0);
d.__decorate([q.property()],e.prototype,"colorSetsGroupQuery",void 0);d.__decorate([q.property()],e.prototype,"commentsEnabled",void 0);d.__decorate([q.property({type:Date})],e.prototype,"created",void 0);d.__decorate([q.property()],e.prototype,"credential",void 0);d.__decorate([q.property()],e.prototype,"culture",void 0);d.__decorate([q.property()],e.prototype,"currentVersion",void 0);d.__decorate([q.property()],e.prototype,"customBaseUrl",void 0);d.__decorate([q.property()],e.prototype,"defaultBasemap",
void 0);d.__decorate([q.reader("defaultBasemap")],e.prototype,"readDefaultBasemap",null);d.__decorate([q.property({type:t})],e.prototype,"defaultExtent",void 0);d.__decorate([q.property()],e.prototype,"defaultVectorBasemap",void 0);d.__decorate([q.reader("defaultVectorBasemap")],e.prototype,"readDefaultVectorBasemap",null);d.__decorate([q.property()],e.prototype,"description",void 0);d.__decorate([q.property()],e.prototype,"eueiEnabled",void 0);d.__decorate([q.property({dependsOn:["user","id","canSearchPublic"],
readOnly:!0})],e.prototype,"extraQuery",null);d.__decorate([q.property()],e.prototype,"featuredGroups",void 0);d.__decorate([q.property()],e.prototype,"featuredItemsGroupQuery",void 0);d.__decorate([q.property()],e.prototype,"galleryTemplatesGroupQuery",void 0);d.__decorate([q.property()],e.prototype,"livingAtlasGroupQuery",void 0);d.__decorate([q.property()],e.prototype,"hasCategorySchema",void 0);d.__decorate([q.property()],e.prototype,"helpBase",void 0);d.__decorate([q.property()],e.prototype,
"helperServices",void 0);d.__decorate([q.property()],e.prototype,"helpMap",void 0);d.__decorate([q.property()],e.prototype,"homePageFeaturedContent",void 0);d.__decorate([q.property()],e.prototype,"homePageFeaturedContentCount",void 0);d.__decorate([q.property()],e.prototype,"httpPort",void 0);d.__decorate([q.property()],e.prototype,"httpsPort",void 0);d.__decorate([q.property()],e.prototype,"id",void 0);d.__decorate([q.property()],e.prototype,"ipCntryCode",void 0);d.__decorate([q.property({dependsOn:["access"],
readOnly:!0})],e.prototype,"isOrganization",null);d.__decorate([q.property()],e.prototype,"isPortal",void 0);d.__decorate([q.property()],e.prototype,"isReadOnly",void 0);d.__decorate([q.property()],e.prototype,"layerTemplatesGroupQuery",void 0);d.__decorate([q.property()],e.prototype,"maxTokenExpirationMinutes",void 0);d.__decorate([q.property({type:Date})],e.prototype,"modified",void 0);d.__decorate([q.property()],e.prototype,"name",void 0);d.__decorate([q.property()],e.prototype,"portalHostname",
void 0);d.__decorate([q.property()],e.prototype,"portalMode",void 0);d.__decorate([q.property()],e.prototype,"portalProperties",void 0);d.__decorate([q.property()],e.prototype,"region",void 0);d.__decorate([q.property({dependsOn:["url"],readOnly:!0})],e.prototype,"restUrl",null);d.__decorate([q.property()],e.prototype,"rotatorPanels",void 0);d.__decorate([q.property()],e.prototype,"showHomePageDescription",void 0);d.__decorate([q.property()],e.prototype,"sourceJSON",void 0);d.__decorate([q.property()],
e.prototype,"staticImagesUrl",void 0);d.__decorate([q.property()],e.prototype,"stylesGroupQuery",void 0);d.__decorate([q.property()],e.prototype,"supportsHostedServices",void 0);d.__decorate([q.property()],e.prototype,"symbolSetsGroupQuery",void 0);d.__decorate([q.property()],e.prototype,"templatesGroupQuery",void 0);d.__decorate([q.property()],e.prototype,"thumbnail",void 0);d.__decorate([q.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],e.prototype,"thumbnailUrl",null);d.__decorate([q.property()],
e.prototype,"units",void 0);d.__decorate([q.property()],e.prototype,"url",void 0);d.__decorate([q.property()],e.prototype,"urlKey",void 0);d.__decorate([q.reader("urlKey")],e.prototype,"readUrlKey",null);d.__decorate([q.property()],e.prototype,"user",void 0);d.__decorate([q.reader("user")],e.prototype,"readUser",null);d.__decorate([q.property()],e.prototype,"useStandardizedQuery",void 0);d.__decorate([q.property()],e.prototype,"useVectorBasemaps",void 0);d.__decorate([q.property()],e.prototype,"vectorBasemapGalleryGroupQuery",
void 0);return e=l=d.__decorate([q.subclass("esri.portal.Portal")],e)}(l.JSONSupportMixin(e))})},"esri/intl":function(){define("require exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages".split(" "),function(a,b,d,n,p,m,k){Object.defineProperty(b,"__esModule",{value:!0});b.formatDate=d.formatDate;b.convertDateFormatToIntlOptions=d.convertDateFormatToIntlOptions;b.formatNumber=n.formatNumber;b.convertNumberFormatToIntlOptions=n.convertNumberFormatToIntlOptions;b.substitute=
p.substitute;b.getLocale=m.getLocale;b.setLocale=m.setLocale;b.onLocaleChange=m.onLocaleChange;b.prefersRTL=m.prefersRTL;b.loadMessageBundle=k.loadMessageBundle;b.getKnownMessageBundleLocale=k.getKnownMessageBundleLocale})},"esri/intl/substitute":function(){define("require exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(a,b,d,n,p,m,k){function h(a){switch(typeof a){case "string":return a;case "number":return k.formatNumber(a);case "boolean":return""+a;default:return a instanceof
Date?m.formatDate(a):""}}Object.defineProperty(b,"__esModule",{value:!0});var l=d.getLogger("esri.intl");b.substitute=function(a,b,d){void 0===d&&(d={});d=d.format;var c=void 0===d?{}:d;return p.replace(a,function(a){var e;var d,g=a.indexOf(":");-1===g?d=a.trim():(d=a.slice(0,g).trim(),e=a.slice(g+1).trim());if(d)if(a=n.getDeepValue(d,b),null==a)e="";else if(d=c[e]||c[d])b:switch(d.type){case "date":e=m.formatDate(a,d.intlOptions);break b;case "number":e=k.formatNumber(a,d.intlOptions);break b;default:l.warn("missing format descriptor for key {key}"),
e=h(a)}else if(e)b:switch(e.toLowerCase()){case "dateformat":e=m.formatDate(a);break b;case "numberformat":e=k.formatNumber(a);break b;default:l.warn("inline format is unsupported since 4.12: "+e),e=/^(dateformat|datestring)/i.test(e)?m.formatDate(a):/^numberformat/i.test(e)?k.formatNumber(a):h(a)}else e=h(a);else e="";return e})}})},"esri/intl/messages":function(){define("require exports tslib ../assets ../core/Error ../core/maybe ../core/promiseUtils ../core/SetUtils ./locale @dojo/framework/shim/Promise".split(" "),
function(a,b,d,n,p,m,k,h,l){function c(a){if(!g.test(a))return null;var c=g.exec(a);a=c[1];c=c[2];c=a+(c?"-"+c.toUpperCase():"");return q.has(c)?c:q.has(a)?a:null}function e(a){return d.__awaiter(this,void 0,void 0,function(){var b,e,f,g,h,q,k,n,m;return d.__generator(this,function(d){switch(d.label){case 0:b=/^(.*)\/t9n\/(.*)$/g.exec(a);if(!b)throw new p("esri-intl:invalid-bundle",'Missing "t9n" folder in locale bundle path "'+a+'"');e=b[1]+"/t9n/";f=b[2];g=l.getLocale();h=c(g);q=""+e+f+".json";
k=h?""+e+f+"_"+h+".json":q;d.label=1;case 1:return d.trys.push([1,3,,8]),[4,r(k)];case 2:return n=d.sent(),[3,8];case 3:m=d.sent();if(k===q)throw m;d.label=4;case 4:return d.trys.push([4,6,,7]),[4,r(q)];case 5:return n=d.sent(),[3,7];case 6:throw d.sent(),new p("esri-intl:unknown-bundle",'Bundle "'+a+'" cannot be loaded',{error:m});case 7:return[3,8];case 8:return[2,n]}})})}function r(a){return d.__awaiter(this,void 0,void 0,function(){var c;return d.__generator(this,function(e){switch(e.label){case 0:return m.isSome(b.test.fetchBundleAsset)?
[2,b.test.fetchBundleAsset(a)]:[4,n.fetchAsset(a,{responseType:"json"})];case 1:return c=e.sent(),[2,c.data]}})})}Object.defineProperty(b,"__esModule",{value:!0});var g=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,q=h.SetFromValues("ar bs ca cs da de el en es et fi fr he hi hr hu id it ja ko lt lv nb nl pl pt-BR pt-PT ro ru sl sr sv th tr uk vi zh-CN zh-HK zh-TW".split(" ")),f=new Map;l.beforeLocaleChange(function(){f.clear()});b.loadMessageBundle=function(a){return d.__awaiter(this,void 0,void 0,function(){var c;
return d.__generator(this,function(b){switch(b.label){case 0:return f.has(a)||f.set(a,e(a)),c=f.get(a),[4,t.add(c)];case 1:return b.sent(),[2,c]}})})};b.getKnownMessageBundleLocale=c;var t=new (function(){function a(){this._numLoading=0}a.prototype.waitForAll=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(a){switch(a.label){case 0:return this._dfd?[4,this._dfd.promise]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})};a.prototype.add=function(a){var c=
this;this._increase();a.then(function(){return c._decrease()},function(){return c._decrease()});return this.waitForAll()};a.prototype._increase=function(){this._numLoading++;this._dfd||(this._dfd=k.createDeferred())};a.prototype._decrease=function(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return a}());b.test={cache:f}})},"esri/assets":function(){define(["require","exports","./request","./core/urlUtils"],function(a,b,d,
n){function p(b){return n.join(a.toUrl("."),"../",b)}Object.defineProperty(b,"__esModule",{value:!0});b.fetchAsset=function(a,b){return d(p(a),b)};b.getAssetUrl=p})},"esri/core/Loadable":function(){define("require exports tslib ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),function(a,b,d,n,p,m,k,h){var l=function(a){return function(a){function c(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];var e=a.apply(this,c)||this;e.loadError=null;e.loadStatus=
"not-loaded";e.loadWarnings=null;e._set("loadWarnings",[]);e.addResolvingPromise(m.create(function(a){var c=e.load.bind(e);e.load=function(b){var d=m.create(function(a,c){m.onAbortOrThrow(b,c);e.destroyed&&c(new n("load:instance-destroyed","Instance is destroyed",{instance:e}));e._promiseProps.when(a,c)});if("not-loaded"===e.loadStatus){e._set("loadStatus","loading");var f=e._loadController=m.createAbortController();c({signal:f.signal});m.onAbort(f.signal,function(){e._promiseProps.abort()})}a();
return d}}));e.when(function(){e._set("loadStatus","loaded");e._loadController=null},function(a){e._set("loadStatus","failed");e._set("loadError",a);e._loadController=null});return e}d.__extends(c,a);Object.defineProperty(c.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});c.prototype.load=function(){return null};c.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new n("load:cancelled","Cancelled"));this._loadController.abort();
return this};d.__decorate([h.property({readOnly:!0,dependsOn:["loadStatus"]})],c.prototype,"loaded",null);d.__decorate([h.property({readOnly:!0})],c.prototype,"loadError",void 0);d.__decorate([h.property()],c.prototype,"loadStatus",void 0);d.__decorate([h.property({type:[k],readOnly:!0})],c.prototype,"loadWarnings",void 0);return c=d.__decorate([h.subclass("esri.core.Loadable")],c)}(a)};a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}d.__extends(c,a);return c=d.__decorate([h.subclass("esri.core.Loadable")],
c)}(l(p.EsriPromise));(function(a){a.LoadableMixin=l;a.isLoadable=function(a){return!(!a||!a.load)}})(a||(a={}));return a})},"esri/core/Promise":function(){define("require exports tslib ./Accessor ./promiseUtils ./accessorSupport/decorators".split(" "),function(a,b,d,n,p,m){Object.defineProperty(b,"__esModule",{value:!0});var k=function(){function a(a){var c=this;this.instance=a;this._resolver=p.createDeferred();this._status=void 0;this._resolvingPromises=[];this._resolver.promise.then(function(){c._status=
0;c._cleanUp()},function(){c._status=1;c._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 0===this._status};a.prototype.isRejected=function(){return 1===this._status};a.prototype.isFulfilled=function(){return null!=this._status};a.prototype.abort=function(){this._resolver.reject(p.createAbortError())};a.prototype.when=function(a,c){return this._resolver.promise.then(a,c)};a.prototype._cleanUp=function(){this._allPromise=
this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var c=p.createDeferred(),b=d.__spreadArrays(this._resolvingPromises,[c.promise]),h=this._allPromise=p.all(b);h.then(function(){a.isFulfilled()||a._allPromise!==h||a._resolver.resolve(a.instance)},function(c){a.isFulfilled()||a._allPromise!==h||p.isAbortError(c)||a._resolver.reject(c)});c.resolve()}};return a}();b.EsriPromiseMixin=function(a){return function(a){function c(){for(var c=
[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c._promiseProps=new k(c);c.addResolvingPromise(p.resolve());return c}d.__extends(c,a);c.prototype.isResolved=function(){return this._promiseProps.isResolved()};c.prototype.isRejected=function(){return this._promiseProps.isRejected()};c.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};c.prototype.when=function(a,c){var b=this;return p.create(function(a,c){b._promiseProps.when(a,c)}).then(a,c)};c.prototype.catch=
function(a){return this.when(null,a)};c.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in a?a.when():a)};return c=d.__decorate([m.subclass("esri.core.Promise")],c)}(a)};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}d.__extends(b,a);return b=d.__decorate([m.subclass("esri.core.Promise")],b)}(b.EsriPromiseMixin(n));b.EsriPromise=a})},"esri/portal/PortalQueryParams":function(){define("require exports tslib ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(a,b,d,n,p,m,k,h,l,c){var e=new p.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function b(c){c=a.call(this,c)||this;c.categories=null;c.disableExtraQuery=!1;c.extent=null;c.num=10;c.query=null;c.sortField=null;c.start=1;return c}d.__extends(b,a);q=b;Object.defineProperty(b.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},
enumerable:!0,configurable:!0});b.prototype.clone=function(){return new q({categories:this.categories?m.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};b.prototype.toRequestOptions=function(a,b){var f;this.categories&&(f=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var g;if(this.extent){var h=c.project(this.extent,
l.WGS84);h&&(g=h.xmin+","+h.ymin+","+h.xmax+","+h.ymax)}h=this.query;!this.disableExtraQuery&&a.extraQuery&&(h="("+h+")"+a.extraQuery);a={categories:f,bbox:g,q:h,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=this.sortField.split(",").map(function(a){return e.toJSON(a.trim())}).join(","),a.sortOrder=this.sortOrder);return{query:d.__assign(d.__assign({},b),a)}};var q;d.__decorate([k.property()],b.prototype,"categories",void 0);d.__decorate([k.property()],
b.prototype,"disableExtraQuery",void 0);d.__decorate([k.property({type:h})],b.prototype,"extent",void 0);d.__decorate([k.property()],b.prototype,"num",void 0);d.__decorate([k.property()],b.prototype,"query",void 0);d.__decorate([k.property()],b.prototype,"sortField",void 0);d.__decorate([k.property()],b.prototype,"sortOrder",null);d.__decorate([k.property()],b.prototype,"start",void 0);return b=q=d.__decorate([k.subclass("esri.portal.PortalQueryParams")],b)}(n)})},"esri/portal/PortalQueryResult":function(){define(["require",
"exports","tslib","../core/Accessor","../core/accessorSupport/decorators"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.nextQueryParams=null;b.queryParams=null;b.results=null;b.total=null;return b}d.__extends(b,a);d.__decorate([p.property()],b.prototype,"nextQueryParams",void 0);d.__decorate([p.property()],b.prototype,"queryParams",void 0);d.__decorate([p.property()],b.prototype,"results",void 0);d.__decorate([p.property()],b.prototype,"total",void 0);return b=d.__decorate([p.subclass("esri.portal.PortalQueryResult")],
b)}(n)})},"esri/portal/PortalUser":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup @dojo/framework/shim/Promise".split(" "),function(a,b,d,n,p,m,k,h,l){return function(c){function b(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=c.apply(this,a)||this;a.access=null;a.created=null;a.culture=null;a.description=null;a.email=null;a.fullName=null;a.modified=null;a.orgId=null;a.portal=
null;a.preferredView=null;a.privileges=null;a.region=null;a.role=null;a.roleId=null;a.sourceJSON=null;a.units=null;a.username=null;a.userType=null;return a}d.__extends(b,c);r=b;Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,c=this.thumbnail;return a&&c?this.portal._normalizeUrl(a+"/info/"+c+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+
this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});b.prototype.addItem=function(a){var c=this,b=a&&a.item,e=a&&a.data;a=a&&a.folder;var d={method:"post"};b&&(d.query=b.createPostQuery(),null!=e&&("string"===typeof e?d.query.text=e:"object"===typeof e&&(d.query.text=JSON.stringify(e))));e=this.userContentUrl;a&&(e+="/"+("string"===
typeof a?a:a.id));return this.portal._request(e+"/addItem",d).then(function(a){b.id=a.id;b.portal=c.portal;return b.loaded?b.reload():b.load()})};b.prototype.deleteItem=function(a){var c=this.userContentUrl;a.ownerFolder&&(c+="/"+a.ownerFolder);return this.portal._request(c+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=null;a.portal=null})};b.prototype.deleteItems=function(a){var c=this.userContentUrl+"/deleteItems",b=a.map(function(a){return a.id});return b.length?(b={method:"post",
query:{items:b.join(",")}},this.portal._request(c,b).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):m.resolve(void 0)};b.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(c){return c&&c.folders?c.folders.map(function(c){c=h.fromJSON(c);c.portal=a.portal;return c}):[]})};b.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(c){return c&&c.groups?c.groups.map(function(c){c=
l.fromJSON(c);c.portal=a.portal;return c}):[]})};b.prototype.fetchItems=function(c){var b=this;c||(c={});var e=this.userContentUrl;c.folder&&(e+="/"+c.folder.id);var d;return(new Promise(function(c,b){a(["./PortalItem"],c,b)})).then(function(a){d=a;return b.portal._request(e,{query:{folders:!1,num:c.num||10,start:c.start||1,sortField:c.sortField||"created",sortOrder:c.sortOrder||"asc"}})}).then(function(a){var c;return a&&a.items?(c=a.items.map(function(a){a=d.fromJSON(a);a.portal=b.portal;return a}),
m.all(c.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:c,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};b.prototype.fetchTags=function(){return this.portal._request(this.url+"/tags").then(function(a){return a.tags})};b.prototype.getThumbnailUrl=function(a){var c=this.thumbnailUrl;c&&a&&(c+="\x26w\x3d"+a);return c};b.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new l({id:this.favGroupId,
portal:this.portal})),this._favGroup.queryItems(a)):m.reject(new n("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};b.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};b.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var c=new r;c.sourceJSON=a;c.read(a);return c};var r;d.__decorate([k.property()],b.prototype,"access",void 0);d.__decorate([k.property({type:Date})],
b.prototype,"created",void 0);d.__decorate([k.property()],b.prototype,"culture",void 0);d.__decorate([k.property()],b.prototype,"description",void 0);d.__decorate([k.property()],b.prototype,"email",void 0);d.__decorate([k.property()],b.prototype,"favGroupId",void 0);d.__decorate([k.property()],b.prototype,"fullName",void 0);d.__decorate([k.property({type:Date})],b.prototype,"modified",void 0);d.__decorate([k.property()],b.prototype,"orgId",void 0);d.__decorate([k.property()],b.prototype,"portal",
void 0);d.__decorate([k.property()],b.prototype,"preferredView",void 0);d.__decorate([k.property()],b.prototype,"privileges",void 0);d.__decorate([k.property()],b.prototype,"region",void 0);d.__decorate([k.property()],b.prototype,"role",void 0);d.__decorate([k.property()],b.prototype,"roleId",void 0);d.__decorate([k.property()],b.prototype,"sourceJSON",void 0);d.__decorate([k.property()],b.prototype,"thumbnail",void 0);d.__decorate([k.property({dependsOn:["url","thumbnail","portal.credential.token"],
readOnly:!0})],b.prototype,"thumbnailUrl",null);d.__decorate([k.property()],b.prototype,"units",void 0);d.__decorate([k.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"userContentUrl",null);d.__decorate([k.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);d.__decorate([k.property()],b.prototype,"username",void 0);d.__decorate([k.property()],b.prototype,"userType",void 0);return b=r=d.__decorate([k.subclass("esri.portal.PortalUser")],b)}(p.JSONSupport)})},
"esri/portal/PortalFolder":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,b,d,n,p,m){return function(a){function b(b){b=a.call(this,b)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}d.__extends(b,a);Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!0,configurable:!0});
b.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};d.__decorate([m.property({type:Date})],b.prototype,"created",void 0);d.__decorate([m.property()],b.prototype,"id",void 0);d.__decorate([m.property()],b.prototype,"portal",void 0);d.__decorate([m.property()],b.prototype,"title",void 0);d.__decorate([m.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);d.__decorate([m.property()],b.prototype,"username",
void 0);return b=d.__decorate([m.subclass("esri.portal.PortalFolder")],b)}(p.JSONSupport)})},"esri/portal/PortalGroup":function(){define("require exports tslib ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./PortalQueryParams".split(" "),function(a,b,d,n,p,m,k,h){return function(a){function c(c){c=a.call(this,c)||this;c.access=null;c.created=null;c.description=null;c.id=null;c.isInvitationOnly=!1;c.modified=null;c.owner=null;c.portal=null;
c.snippet=null;c.sortField=null;c.sortOrder=null;c.tags=null;c.title=null;return c}d.__extends(c,a);Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){var a=this.url,c=this.thumbnail;return a&&c?this.portal._normalizeUrl(a+"/info/"+c+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});c.prototype.fetchCategorySchema=function(a){var c=
this;return this.portal._request(this.url+"/categorySchema",a).then(function(b){b=b.categorySchema||[];return b.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?c._fetchCategorySchemaSet("LivingAtlas",a):b})};c.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",a)};c.prototype.getThumbnailUrl=function(a){var c=this.thumbnailUrl;c&&a&&(c+="\x26w\x3d"+a);return c};c.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");
};c.prototype.queryItems=function(a,c){a=k.ensureType(h,a);if(5<parseFloat(this.portal.currentVersion))return a=a||new h,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",c);a=a?a.clone():new h;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a,c)};c.prototype._fetchCategorySchemaSet=function(a,c){var b=this;return this.portal._fetchSelf(this.portal.authMode,!0,c).then(function(a){if(a=a.contentCategorySetsGroupQuery){var e=new h;e.disableExtraQuery=
!0;e.num=1;e.query=a;return b.portal.queryGroups(e,c)}throw new n("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(b){if(b.total){b=b.results[0];var e=new h;e.num=1;e.query='typekeywords:"'+a+'"';return b.queryItems(e,c)}throw new n("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",c).then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):
[]})};d.__decorate([m.property()],c.prototype,"access",void 0);d.__decorate([m.property({type:Date})],c.prototype,"created",void 0);d.__decorate([m.property()],c.prototype,"description",void 0);d.__decorate([m.property()],c.prototype,"id",void 0);d.__decorate([m.property()],c.prototype,"isInvitationOnly",void 0);d.__decorate([m.property({type:Date})],c.prototype,"modified",void 0);d.__decorate([m.property()],c.prototype,"owner",void 0);d.__decorate([m.property()],c.prototype,"portal",void 0);d.__decorate([m.property()],
c.prototype,"snippet",void 0);d.__decorate([m.property()],c.prototype,"sortField",void 0);d.__decorate([m.property()],c.prototype,"sortOrder",void 0);d.__decorate([m.property()],c.prototype,"tags",void 0);d.__decorate([m.property()],c.prototype,"thumbnail",void 0);d.__decorate([m.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],c.prototype,"thumbnailUrl",null);d.__decorate([m.property()],c.prototype,"title",void 0);d.__decorate([m.property({dependsOn:["portal.restUrl"],
readOnly:!0})],c.prototype,"url",null);return c=d.__decorate([m.subclass("esri.portal.PortalGroup")],c)}(p.JSONSupport)})},"esri/symbols/Symbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,b,d,n,p,m,k){var h=new p.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",
LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),l=0;return function(a){function c(c){c=a.call(this,c)||this;c.id="sym"+l++;c.type=null;return c}d.__extends(c,a);Object.defineProperty(c.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});c.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};c.prototype.collectRequiredFields=function(a,
c){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(a){return[2]})})};c.prototype.hash=function(){return JSON.stringify(this.toJSON())};c.prototype.clone=function(){};d.__decorate([k.property({type:h.apiValues,json:{read:h.read,write:{ignoreOrigin:!0,writer:h.write}}})],c.prototype,"type",void 0);d.__decorate([k.property({type:n,value:new n([0,0,0,1]),json:{write:{allowNull:!0}}})],c.prototype,"color",null);d.__decorate([k.reader("color")],c.prototype,"readColor",
null);return c=d.__decorate([k.subclass("esri.symbols.Symbol")],c)}(m.JSONSupport)})},"esri/symbols/cim/cimSymbolUtils":function(){define("require exports tslib ../../request ../../core/Logger ../../core/promiseUtils ./cimAnalyzer".split(" "),function(a,b,d,n,p,m,k){function h(a,c){return d.__awaiter(this,void 0,void 0,function(){var b,e;return d.__generator(this,function(d){switch(d.label){case 0:if(a.data||!a.styleUrl||!a.styleName)return[2,a];b=a.styleName;e=a;return[4,l(b,a.styleUrl,c)];case 1:return e.data=
d.sent(),[2,a]}})})}function l(a,c,g){return d.__awaiter(this,void 0,void 0,function(){var f,l;return d.__generator(this,function(h){if(q.has(a))return[2,q.get(a).then(function(a){return b.makeSymbolRef(a.data)})];try{return f=c+"/resources/styles/cim/"+a+".json",l=n(f,d.__assign({responseType:"json",query:{f:"json"}},g)),q.set(a,l),[2,l.then(function(a){return b.makeSymbolRef(a.data)})]}catch(y){return e.error("error requesting "+a+", reason is "+y.message),q.has(a)&&q.delete(a),[2,null]}})})}var c=
this;Object.defineProperty(b,"__esModule",{value:!0});var e=p.getLogger("esri/symbols/support/cimSymbolUtils"),r=function(){function a(a,c){this.layers=a;this.data=c}Object.defineProperty(a.prototype,"type",{get:function(){return"expanded-cim"},enumerable:!0,configurable:!0});a.prototype.hash=function(){for(var a="",c=0,b=this.layers;c<b.length;c++)a+=b[c].templateHash;return a};return a}();b.expandSymbols=function(a,e,g){return d.__awaiter(c,void 0,void 0,function(){return d.__generator(this,function(c){return[2,
m.all(a.map(function(a){return b.expandSymbol(a,e,g)}))]})})};var g=function(a,b){return d.__awaiter(c,void 0,void 0,function(){var c;return d.__generator(this,function(e){switch(e.label){case 0:return c=r.bind,[4,k.analyzeCIMSymbol(a.data,b)];case 1:return[2,new (c.apply(r,[void 0,e.sent(),a.data]))]}})})};b.expandSymbol=function(a,b,e){return d.__awaiter(c,void 0,void 0,function(){var c,f;return d.__generator(this,function(d){switch(d.label){case 0:if(!a)return[2,null];if("cim"!==a.type)return[3,
2];c=g;return[4,h(a,e)];case 1:return[2,c.apply(void 0,[d.sent(),b])];case 2:if("web-style"!==a.type)return[3,4];f=g;return[4,a.fetchCIMSymbol(e)];case 3:return[2,f.apply(void 0,[d.sent(),b])];case 4:return[2,a]}})})};b.fetchSymbol=function(a,c){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(b){return a?"cim"===a.type?[2,h(a,c)]:"web-style"===a.type?[2,a.fetchCIMSymbol(c)]:[2,a]:[2,null]})})};b.fetchCIMData=h;b.makeSymbolRef=function(a,c){return null===a?null:
"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a,primitiveOverrides:c}};var q=new Map})},"esri/symbols/cim/cimAnalyzer":function(){define("require exports tslib ../../Color ../../core/Logger ../../core/promiseUtils ../../core/screenUtils ../../core/string ../../support/arcadeOnDemand ./CIMSymbolHelper ./SDFHelper ./utils ../../views/2d/arcade/utils".split(" "),function(a,b,d,n,p,m,k,h,l,c,e,r,g){function q(a){switch(a){case "Butt":return 0;case "Square":return 2;default:return 1}}
function f(a){switch(a){case "Bevel":return 0;case "Miter":return 2;default:return 1}}function t(a){switch(a){default:return"left";case "Right":return"right";case "Center":return"center";case "Justify":return"justify"}}function u(a){switch(a){default:return"top";case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}}function z(a){var c="normal",b="normal";a&&(a=a.toLowerCase(),-1!==a.indexOf("italic")?c="italic":-1!==a.indexOf("oblique")&&(c="oblique"),-1!==a.indexOf("bold")?
b="bold":-1!==a.indexOf("light")&&(b="lighter"));return{style:c,weight:b}}function v(a,c,b,e){var d;a[c]?d=a[c]:(d={},a[c]=d);d[b]=e}function B(a){return(a=a.markerPlacement)&&a.angleToLine?1:0}function y(a,b,e,d,g,l){if(a){var k=a.symbolLayers;if(k){var r,n=c.CIMSymbolHelper.getSize(a);"CIMPointSymbol"===a.type&&"Map"===a.angleAlignment&&(r=1);for(var p=k.length;p--;){var m=k[p];if(m&&!1!==m.enable){var t=[];c.OverrideHelper.findApplicableOverrides(m,b,t);switch(m.type){case "CIMSolidFill":x(m,e,
t,d,g);break;case "CIMPictureFill":w(m,e,t,d,g);break;case "CIMHatchFill":A(m,e,t,d,g);break;case "CIMGradientFill":var u=e,v=d,z=g,O=h.numericHash(JSON.stringify(m)).toString();z.push({type:"fill",templateHash:O,materialHash:0===t.length?O:R(O,u,t,v),cim:m,materialOverrides:null,colorLocked:m.colorLocked,effects:m.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1});break;case "CIMSolidStroke":D(m,e,t,d,g,"CIMPolygonSymbol"===a.type,n);break;case "CIMPictureStroke":C(m,
e,t,d,g,"CIMPolygonSymbol"===a.type,n);break;case "CIMGradientStroke":var u=e,v=d,z=g,O="CIMPolygonSymbol"===a.type,y=n,H=m.primitiveName,P=void 0!==m.width?m.width:4,L=q(m.capStyle),U=f(m.joinStyle),M=m.miterLimit,S=h.numericHash(JSON.stringify(m)).toString();z.push({type:"line",templateHash:S,materialHash:0===t.length?S:R(S,u,t,v),cim:m,materialOverrides:null,isOutline:O,colorLocked:m.colorLocked,effects:m.effects,color:{r:128,g:128,b:128,a:1},width:I(H,u,"Width",v,P),cap:I(H,u,"CapStyle",v,L),
join:I(H,u,"JoinStyle",v,U),miterLimit:I(H,u,"MiterLimit",v,M),referenceWidth:y,zOrder:N(m.name),isDashed:!1});break;case "CIMCharacterMarker":F(m,e,t,d,g);break;case "CIMPictureMarker":if(F(m,e,t,d,g))break;"CIMLineSymbol"===a.type&&(r=B(m));E(m,e,t,d,g,r,n);break;case "CIMVectorMarker":if(F(m,e,t,d,g))break;"CIMLineSymbol"===a.type&&(r=B(m));u=t;t=e;v=d;z=g;O=r;y=n;H=l;if(U=m.markerGraphics)for(P=0,m.scaleSymbolsProportionally&&(L=m.frame)&&(P=L.ymax-L.ymin),L=0;L<U.length;L++)if(M=U[L])if(S=M.symbol)switch(S.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":J(m,
M,u,t,v,z,O,y,P,H);break;case "CIMTextSymbol":G(m,M,t,u,v,z,O,y,P)}break;default:Q.error("Cannot analyze CIM layer",m.type)}}}}}}function x(a,c,b,e,d){var f=a.primitiveName,g=r.fromCIMColor(a.color),l=h.numericHash(JSON.stringify(a)).toString();d.push({type:"fill",templateHash:l,materialHash:0===b.length?l:function(){return l},cim:a,materialOverrides:null,colorLocked:a.colorLocked,color:I(f,c,"Color",e,g,M),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:a.effects})}function w(a,c,b,e,d){var f=
a.primitiveName,g=a.tintColor?r.fromCIMColor(a.tintColor):{r:255,g:255,b:255,a:1},l=h.numericHash(JSON.stringify(a)).toString(),q=h.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString();d.push({type:"fill",templateHash:l,materialHash:0===b.length?q:function(){return q},cim:a,materialOverrides:null,colorLocked:a.colorLocked,effects:a.effects,color:I(f,c,"TintColor",e,g,M),height:I(f,c,"Height",e,a.height),scaleX:I(f,c,"ScaleX",e,a.scaleX),angle:I(f,c,"Rotation",e,a.rotation),offsetX:I(f,
c,"OffsetX",e,a.offsetX),offsetY:I(f,c,"OffsetY",e,a.offsetY)})}function A(a,c,b,e,d){var f=["Rotation","OffsetX","OffsetY"],g=b.filter(function(c){return c.primitiveName!==a.primitiveName&&-1===f.indexOf(c.propertyName)}),l=a.primitiveName,q=h.numericHash(JSON.stringify(a)).toString(),k=h.numericHash(""+a.separation+JSON.stringify(a.lineSymbol)).toString();d.push({type:"fill",templateHash:q,materialHash:0===b.length?k:R(k,c,g,e),cim:a,materialOverrides:g,colorLocked:a.colorLocked,effects:a.effects,
color:{r:255,g:255,b:255,a:1},height:I(l,c,"Separation",e,a.separation),scaleX:1,angle:I(l,c,"Rotation",e,a.rotation),offsetX:I(l,c,"OffsetX",e,a.offsetX),offsetY:I(l,c,"OffsetY",e,a.offsetY)})}function D(a,c,b,e,d,g,l){var k=h.numericHash(JSON.stringify(a)).toString(),n=a.primitiveName,m=r.fromCIMColor(a.color),p=void 0!==a.width?a.width:4,t=q(a.capStyle),u=f(a.joinStyle),v=a.miterLimit;d.push({type:"line",templateHash:k,materialHash:0===b.length?k:function(){return k},cim:a,materialOverrides:null,
isOutline:g,colorLocked:a.colorLocked,effects:a.effects,color:I(n,c,"Color",e,m,M),width:I(n,c,"Width",e,p),cap:I(n,c,"CapStyle",e,t),join:I(n,c,"JoinStyle",e,u),miterLimit:I(n,c,"MiterLimit",e,v),referenceWidth:l,zOrder:N(a.name),isDashed:!1})}function C(a,c,b,e,d,g,l){var k=h.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),n=a.primitiveName,m=r.fromCIMColor(a.tintColor),p=void 0!==a.width?a.width:4,t=q(a.capStyle),u=f(a.joinStyle),v=a.miterLimit,z=h.numericHash(JSON.stringify(a)).toString();
d.push({type:"line",templateHash:z,materialHash:0===b.length?k:function(){return k},cim:a,materialOverrides:null,isOutline:g,colorLocked:a.colorLocked,effects:a.effects,color:I(n,c,"TintColor",e,m,M),width:I(n,c,"Width",e,p),cap:I(n,c,"CapStyle",e,t),join:I(n,c,"JoinStyle",e,u),miterLimit:I(n,c,"MiterLimit",e,v),referenceWidth:l,zOrder:N(a.name),isDashed:!1})}function F(a,c,b,e,d){var f=a.markerPlacement;if(!f||"CIMMarkerPlacementInsidePolygon"!==f.type)return!1;var g=["Rotation","OffsetX","OffsetY"],
l=b.filter(function(c){return c.primitiveName!==a.primitiveName&&-1===g.indexOf(c.propertyName)}),q=h.numericHash(JSON.stringify(a)).toString();d.push({type:"fill",templateHash:q,materialHash:0===b.length?q:R(q,c,l,e),cim:a,materialOverrides:l,colorLocked:a.colorLocked,effects:a.effects,color:{r:255,g:255,b:255,a:1},height:I(f.primitiveName,c,"StepY",e,f.stepY),scaleX:1,angle:I(f.primitiveName,c,"GridAngle",e,f.gridAngle),offsetX:I(f.primitiveName,c,"OffsetX",e,f.offsetX),offsetY:I(f.primitiveName,
c,"OffsetY",e,f.offsetY)});return!0}function E(a,c,b,e,d,f,g){for(var l=a.primitiveName,q=a.size,k=a.scaleX,n=a.rotation,m=a.offsetX,p=a.offsetY,t=r.fromCIMColor(a.tintColor),u=h.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),v=!1,z="",F=0;F<b.length;F++){var E=b[F];E.primitiveName===l&&(void 0!==E.value?z+="-"+E.primitiveName+"-"+E.propertyName+"-"+JSON.stringify(E.value):E.valueExpressionInfo&&(v=!0))}d.push({type:"marker",templateHash:h.numericHash(JSON.stringify(a)+z).toString(),
materialHash:v?function(){return u}:u,cim:a,materialOverrides:null,colorLocked:a.colorLocked,effects:a.effects,scaleSymbolsProportionally:!1,alignment:f,size:I(l,c,"Size",e,q),scaleX:I(l,c,"ScaleX",e,k),rotation:I(l,c,"Rotation",e,n),offsetX:I(l,c,"OffsetX",e,m),offsetY:I(l,c,"OffsetY",e,p),color:I(l,c,"TintColor",e,t,M),anchorPoint:a.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:a.rotateClockwise,referenceSize:g,
sizeRatio:1,markerPlacement:a.markerPlacement})}function G(a,b,e,f,g,l,q,k,n){c.OverrideHelper.findApplicableOverrides(b,f,[]);var m=b.geometry;if("x"in m&&"y"in m){var p=b.symbol,v;v=p.underline?"underline":p.strikethrough?"line-through":"none";var T=z(p.fontStyleName);p.font=d.__assign({family:p.fontFamilyName,decoration:v},T);var F=a.frame,E=a.size/n;n=a.primitiveName;v=(p.height||0)*E;var T=p.angle||0,x=((p.offsetX||0)+(m.x-.5*(F.xmin+F.xmax)))*E,m=((p.offsetY||0)+(m.y-.5*(F.ymin+F.ymax)))*E,
F=r.fromCIMColor(c.CIMSymbolHelper.getFillColor(p)),B=r.fromCIMColor(c.CIMSymbolHelper.getStrokeColor(p)),X=c.CIMSymbolHelper.getStrokeWidth(p);X||(B=r.fromCIMColor(c.CIMSymbolHelper.getFillColor(p.haloSymbol)),X=p.haloSize*E);for(var E="",w=0;w<f.length;w++){var y=f[w];y.primitiveName===n&&void 0!==y.value&&(E+="-"+y.primitiveName+"-"+y.propertyName+"-"+JSON.stringify(y.value))}f=Number(a.colorLocked)+JSON.stringify(a.anchorPoint)+a.anchorPointUnits;l.push({type:"text",templateHash:h.numericHash(JSON.stringify(b)+
f+E).toString(),materialHash:function(){return h.numericHash(JSON.stringify(p.font)).toString()},cim:p,materialOverrides:null,colorLocked:a.colorLocked,effects:a.effects,alignment:q,anchorPoint:{x:a.anchorPoint?a.anchorPoint.x:0,y:a.anchorPoint?a.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits,fontName:p.fontFamilyName,decoration:"none",weight:"normal",style:"normal",size:I(n,e,"Size",g,v),angle:I(n,e,"Rotation",g,T),offsetX:I(n,e,"OffsetX",g,x),offsetY:I(n,e,"OffsetY",g,m),
horizontalAlignment:t(p.horizontalAlignment),verticalAlignment:u(p.verticalAlignment),text:I(b.primitiveName,e,"TextString",g,b.textString,r._adjustTextCase,p.textCase),color:F,outlineColor:B,outlineSize:X,referenceSize:k,sizeRatio:1,markerPlacement:a.markerPlacement})}}function J(a,b,f,g,l,q,k,n,p,m){var t=b.geometry;if(t){var u=b.symbol.symbolLayers;if(u)if(m)H(a,b,g,f,l,q,k,n,p);else{var v=u.length;for(m=function(){var m=u[v];if(!m||!1===m.enable)return"continue";switch(m.type){case "CIMSolidFill":case "CIMSolidStroke":var z=
e.getExtent(t),T=e.getSDFMetrics(z,a.frame,a.size,a.anchorPoint,"Relative"!==a.anchorPointUnits),z=T[0],F=T[1],T=T[2],E="CIMSolidFill"===m.type,x={type:"sdf",geom:t,asFill:E},B=a.primitiveName,X=a.size,w=a.rotation||0,y=a.offsetX,ca=a.offsetY,G=m.primitiveName,C=E?r.fromCIMColor(c.CIMSymbolHelper.getFillColor(m)):r.fromCIMColor(c.CIMSymbolHelper.getStrokeColor(m)),D=E?{r:0,g:0,b:0,a:0}:r.fromCIMColor(c.CIMSymbolHelper.getStrokeColor(m)),A=c.CIMSymbolHelper.getStrokeWidth(m);if(!E&&!A)break;for(var E=
!1,da="",J=0;J<f.length;J++){var Y=f[J];if(Y.primitiveName===G||Y.primitiveName===B)void 0!==Y.value?da+="-"+Y.primitiveName+"-"+Y.propertyName+"-"+JSON.stringify(Y.value):Y.valueExpressionInfo&&(E=!0)}var B=JSON.stringify(d.__assign(d.__assign({},a),{markerGraphics:null})),ha=h.numericHash(JSON.stringify(x)).toString(),m={type:"marker",templateHash:h.numericHash(JSON.stringify(b)+JSON.stringify(m)+B+da).toString(),materialHash:E?function(){return ha}:ha,cim:x,materialOverrides:null,colorLocked:a.colorLocked,
effects:a.effects,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:k,anchorPoint:{x:F,y:T},isAbsoluteAnchorPoint:!1,size:I(a.primitiveName,g,"Size",l,X),rotation:I(a.primitiveName,g,"Rotation",l,w),offsetX:I(a.primitiveName,g,"OffsetX",l,y),offsetY:I(a.primitiveName,g,"OffsetY",l,ca),scaleX:1,frameHeight:p,rotateClockwise:a.rotateClockwise,referenceSize:n,sizeRatio:z,color:I(G,g,"Color",l,C,M),outlineColor:I(G,g,"Color",l,D,M),outlineWidth:I(G,g,"Width",l,A),markerPlacement:a.markerPlacement};
q.push(m);break;default:H(a,b,g,f,l,q,k,n,p)}};v--;)m()}}}function H(a,b,e,d,f,g,l,q,n){b={type:a.type,enable:!0,name:a.name,colorLocked:a.colorLocked,primitiveName:a.primitiveName,anchorPoint:a.anchorPoint,anchorPointUnits:a.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:a.rotateClockwise,rotation:0,size:a.size,billboardMode3D:a.billboardMode3D,depth3D:a.depth3D,frame:a.frame,markerGraphics:[b],scaleSymbolsProportionally:a.scaleSymbolsProportionally,respectFrame:a.respectFrame,clippingPath:a.clippingPath,
effects:a.effects};for(var r=[],m=["Rotation","OffsetX","OffsetY"],r=d.filter(function(c){return c.primitiveName!==a.primitiveName||-1===m.indexOf(c.propertyName)}),p="",t=0;t<d.length;t++){var u=d[t];void 0!==u.value&&(p+="-"+u.primitiveName+"-"+u.propertyName+"-"+JSON.stringify(u.value))}u=c.CIMSymbolHelper.getTextureAnchor(b);d=u[0];var t=u[1],u=u[2],v=a.primitiveName,z=a.rotation||0,T=a.offsetX||0,E=a.offsetY||0,p=h.numericHash(JSON.stringify(b)+p).toString();e={type:"marker",templateHash:p,materialHash:0===
r.length?p:R(p,e,r,f),cim:b,materialOverrides:r,colorLocked:a.colorLocked,effects:a.effects,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:l,anchorPoint:{x:d,y:t},isAbsoluteAnchorPoint:!1,size:a.size,rotation:I(v,e,"Rotation",f,z),offsetX:I(v,e,"OffsetX",f,T),offsetY:I(v,e,"OffsetY",f,E),color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:n,rotateClockwise:a.rotateClockwise,referenceSize:q,sizeRatio:u/k.pt2px(a.size),markerPlacement:a.markerPlacement};
g.push(e)}function N(a){return a&&0===a.indexOf("Level_")?parseInt(a.substr(6),10):0}function M(a){if(!a||0===a.length)return null;a=(new n(a)).toRgba();return{r:a[0],g:a[1],b:a[2],a:a[3]}}function I(a,c,b,e,d,f,h){if(a=c[a]){var q=a[b];if("string"===typeof q||"number"===typeof q||q instanceof Array)return f?f.call(null,q,h):q;if(null!=q&&q instanceof l.default)return function(a,c,b){a=g.callWithFeature(q,a,{$view:b},e.geometryType,c);null!==a&&f&&(a=f.call(null,a,h));return null!==a?a:d}}return d}
function R(a,b,e,d){for(var f=function(a){if(a.valueExpressionInfo){var c=b[a.primitiveName]&&b[a.primitiveName][a.propertyName];c instanceof l.default&&(a.fn=function(a,b,e){return g.callWithFeature(c,a,{$view:e},d.geometryType,b)})}},q=0;q<e.length;q++)f(e[q]);return function(b,d,f){for(var g=0;g<e.length;g++){var l=e[g];l.fn&&(l.value=l.fn(b,d,f))}return h.numericHash(a+c.OverrideHelper.buildOverrideKey(e)).toString()}}Object.defineProperty(b,"__esModule",{value:!0});var Q=p.getLogger("esri.symbols.cim.cimAnalyzer");
b.analyzeCIMSymbol=function(a,c,b,e){return d.__awaiter(this,void 0,void 0,function(){var f,g,h,q,k,n,r,p,t;return d.__generator(this,function(d){switch(d.label){case 0:f=b?b:[];if(!a)return[2,f];q={};if("CIMSymbolReference"!==a.type)return[3,3];g=a.symbol;h=a.primitiveOverrides;if(!h)return[3,2];k=[];n=function(a){var b=a.valueExpressionInfo;b?(b=l.createRendererExpression(b.expression,c.spatialReference,c.fields).then(function(c){c&&v(q,a.primitiveName,a.propertyName,c)}),k.push(b)):null!=a.value&&
v(q,a.primitiveName,a.propertyName,a.value)};r=0;for(p=h;r<p.length;r++)t=p[r],n(t);return[4,m.all(k)];case 1:d.sent(),d.label=2;case 2:return[3,4];case 3:return Q.error("Expect cim type to be 'CIMSymbolReference'"),[2,f];case 4:switch(g.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":y(g,h,q,c,f,e)}return[2,f]}})})};b.analyzeCIMResource=function(a,b){if(!b||0===b.length)return a;a=JSON.parse(JSON.stringify(a));c.OverrideHelper.applyOverrides(a,b);return a}})},"esri/core/screenUtils":function(){define(["require",
"exports","./compilerUtils"],function(a,b,d){function n(a){return a?72*a/96:0}function p(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return{x:a,y:c}}function m(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return[a,c]}function k(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return{x:a,y:c}}function h(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return[a,c]}function l(a,c){return c?(c[0]=a.x,c[1]=a.y,2<c.length&&(c[2]=0),c):[a.x,a.y]}function c(a){return p(a.x,a.y)}function e(a,c){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();
return p(c.clientX-a.left,c.clientY-a.top)}Object.defineProperty(b,"__esModule",{value:!0});var r=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.pt2px=function(a){return a?a/72*96:0};b.px2pt=n;b.toPt=function(a){if("string"===typeof a){if(r.test(a)){var c=a.match(r),b=Number(c[1]),c=c[3]&&c[3].toLowerCase();a="-"===a.charAt(0);b="px"===c?n(b):b;return a?-b:b}console.warn("screenUtils.toPt: input not recognized!");return null}return a};b.createScreenPoint=p;b.createScreenPointArray=m;b.createRenderScreenPoint=
k;b.createRenderScreenPointArray=h;b.createRenderScreenPointArray3=function(a,c,b){void 0===a&&(a=0);void 0===c&&(c=0);void 0===b&&(b=0);return[a,c,b]};b.castRenderScreenPointArray=function(a){return a};b.castRenderScreenPointArray3=function(a){return a};b.castScreenPointArray=function(a){return a};b.screenToRender=function(a,c,b){var e,d;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=c.x*a;d=c.y*a;break;case "3d":l(c,q),a.state.camera.screenToRender(q,g),e=g[0],d=g[1]}return b?(b.x=e,b.y=
d,b):k(e,d)};b.renderToScreen=function(a,c,b){var e,d;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=c.x/a;d=c.y/a;break;case "3d":l(c,g),a.state.camera.renderToScreen(g,q),e=q[0],d=q[1]}return b?(b.x=e,b.y=d,b):p(e,d)};b.screenArrayToRender=function(a,c,b){var e,d;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=c[0]*a;d=c[1]*a;break;case "3d":a.state.camera.screenToRender(c,g),e=g[0],d=g[1]}return b?(b[0]=e,b[1]=d,2<b.length&&(b[2]=0),b):h(e,d)};b.renderArrayToScreen=function(a,
c,b){var e,d;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=c[0]/a;d=c[0]/a;break;case "3d":a.state.camera.renderToScreen(c,q),e=q[0],d=q[1]}return b?(b[0]=e,b[1]=d,b):m(e,d)};b.screenPointArrayToObject=function(a,c){return c?(c.x=a[0],c.y=a[1],c):{x:a[0],y:a[1]}};b.screenPointObjectToArray=l;b.createScreenPointFromEvent=c;b.createScreenPointFromNativeEvent=e;b.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?e(a,b):c(b)};b.isSupportedScreenPointEvent=function(a){if(a instanceof
Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0;case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:d.neverReachedSilent(a)}return!1};var g=h(),q=m()})},"esri/symbols/cim/CIMSymbolHelper":function(){define("require exports tslib ../../Color ../../core/Logger ../cim/CIMPlacements ./CIMSymbolDrawHelper ./packingUtils".split(" "),
function(a,b,d,n,p,m,k,h){function l(a,c){switch(c.type){case "CIMSymbolReference":var b={type:"point",x:0,y:0};a.drawSymbol(c.symbol,b);break;case "CIMPointSymbol":b={type:"point",x:0,y:0};a.drawSymbol(c,b);break;case "CIMVectorMarker":b=new m.Placement,a.drawMarker(c,b)}return a.envelope()}Object.defineProperty(b,"__esModule",{value:!0});var c=Math.PI,e=c/2,r=p.getLogger("esri.symbols.cim.CIMSymbolHelper");a=function(){function a(){}a.getEnvelope=function(a){var c=new k.EnvDrawHelper;if(Array.isArray(a)){for(var b=
void 0,e=0;e<a.length;e++){var d=a[e];b?b.union(l(c,d)):b=l(c,d)}return b}return l(c,a)};a.getTextureAnchor=function(a){a=this.getEnvelope(a);if(!a||0>=a.width||0>=a.height)return[0,0,0];var c=96/72,b=a.height*c+2;return[(a.x+.5*a.width)*c/(a.width*c+2),-(a.y+.5*a.height)*c/b,b]};a.rasterize=function(a,c,b,e){void 0===e&&(e=!0);var d=b||this.getEnvelope(c);if(!d||0>=d.width||0>=d.height)return[null,0,0,0,0];var f=96/72,g=(d.x+.5*d.width)*f,l=(d.y+.5*d.height)*f;a.width=d.width*f;a.height=d.height*
f;b||(a.width+=2,a.height+=2);b=a.getContext("2d");f=k.Transformation.createScale(f,-f);f.translate(.5*a.width-g,.5*a.height+l);f=new k.CanvasDrawHelper(b,f);switch(c.type){case "CIMPointSymbol":f.drawSymbol(c,{type:"point",x:0,y:0});break;case "CIMVectorMarker":d=new m.Placement,f.drawMarker(c,d)}c=b.getImageData(0,0,a.width,a.height);c=new Uint8Array(c.data);if(e)for(e=void 0,b=0;b<c.length;b+=4)e=c[b+3]/255,c[b]*=e,c[b+1]*=e,c[b+2]*=e;return[c,a.width,a.height,-g/a.width,-l/a.height]};a.fromSimpleMarker=
function(a){var b,d,g=a.style;if("circle"===g||"esriSMSCircle"===g){b=Math.acos(.995);d=Math.ceil(c/b/4);0===d&&(d=1);b=e/d;d*=4;g=[];g.push([50,0]);for(var l=1;l<d;l++)g.push([50*Math.cos(l*b),-50*Math.sin(l*b)]);g.push([50,0]);b={rings:[g]};d={xmin:-50,ymin:-50,xmax:50,ymax:50}}else if("cross"===g||"esriSMSCross"===g)b=0,b={rings:[[[b,50],[b,b],[50,b],[50,-b],[b,-b],[b,-50],[-b,-50],[-b,-b],[-50,-b],[-50,b],[-b,b],[-b,50],[b,50]]]},d={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("diamond"===g||"esriSMSDiamond"===
g)b={rings:[[[-50,0],[0,50],[50,0],[0,-50],[-50,0]]]},d={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("square"===g||"esriSMSSquare"===g)b={rings:[[[-50,-50],[-50,50],[50,50],[50,-50],[-50,-50]]]},d={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("x"===g||"esriSMSX"===g)b=0,b={rings:[[[0,b],[50-b,50],[50,50-b],[b,0],[50,b-50],[50-b,-50],[0,-b],[b-50,-50],[-50,b-50],[-b,0],[-50,50-b],[b-50,50],[0,b]]]},d={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("triangle"===g||"esriSMSTriangle"===g)d=2/3*100,g=d-100,b=
{rings:[[[-57.735026918962575,g],[0,d],[57.735026918962575,g],[-57.735026918962575,g]]]},d={xmin:-57.735026918962575,ymin:g,xmax:57.735026918962575,ymax:d};else if("arrow"===g||"esriSMSArrow"===g)b={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},d={xmin:-50,ymin:-50,xmax:50,ymax:50};var h;b&&d&&(h=[{type:"CIMSolidFill",enable:!0,color:a.color}],a.outline&&h.push({type:"CIMSolidStroke",enable:!0,width:a.outline.width,color:a.outline.color}),h={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",
enable:!0,rotation:a.angle,size:a.size,offsetX:a.xoffset,offsetY:a.yoffset,frame:d,markerGraphics:[{type:"CIMMarkerGraphic",geometry:b,symbol:{type:"CIMPolygonSymbol",symbolLayers:h}}]}]});return h};a.fromCIMHatchFill=function(a){for(var c=void 0!==a.separation?a.separation:4,b=c/2,e=this._getLineSymbolPeriod(a.lineSymbol)||4;4>e;)e*=2;e/=2;return{type:"CIMVectorMarker",frame:{xmin:-e,xmax:e,ymin:-b,ymax:b},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[-e,0],[e,0]]]},symbol:a.lineSymbol}],
size:c}};a._getLineSymbolPeriod=function(a){if(a){var c=this._getEffectsRepeat(a.effects);if(c)return c;if(a.symbolLayers)for(c=0,a=a.symbolLayers;c<a.length;c++){var b=a[c],e=this._getEffectsRepeat(b.effects);if(e)return e;if(b&&(b=this._getPlacementRepeat(b.markerPlacement)))return b}}return 0};a._getEffectsRepeat=function(a){if(a)for(var c=0;c<a.length;c++){var b=a[c];if(b)switch(b.type){case "CIMGeometricEffectDashes":if((b=b.dashTemplate)&&b.length){for(var c=a=0,e=b;c<e.length;c++)a+=e[c];b.length&
1&&(a*=2);return a}break;case "CIMGeometricEffectWave":return b.period;default:r.error("unsupported geometric effect type "+b.type)}}return 0};a._getPlacementRepeat=function(a){if(a)switch(a.type){case "CIMMarkerPlacementAlongLineSameSize":case "CIMMarkerPlacementAlongLineRandomSize":case "CIMMarkerPlacementAlongLineVariableSize":if((a=a.placementTemplate)&&a.length){for(var c=0,b=0;b<a.length;b++)c+=a[b];a.length&1&&(c*=2);return c}}return 0};a.fromCIMInsidePolygon=function(a){var c=a.markerPlacement,
b=c.stepX/2,e=c.stepY/2,b={xmin:-b,xmax:b,ymin:-e,ymax:e};a=d.__assign({type:a.type},a);a.markerPlacement=null;a.anchorPoint=null;return{type:"CIMVectorMarker",frame:b,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMPointSymbol",symbolLayers:[a]}}],size:c.stepY}};a.getFillColor=function(c){if(!c)return null;switch(c.type){case "CIMPolygonSymbol":if(c.symbolLayers){var b=0;for(c=c.symbolLayers;b<c.length;b++){var e=a.getFillColor(c[b]);if(null!=e)return e}}break;case "CIMTextSymbol":return a.getFillColor(c.symbol);
case "CIMSolidFill":return c.color}};a.getStrokeColor=function(c){if(c)switch(c.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(c.symbolLayers){var b=0;for(c=c.symbolLayers;b<c.length;b++){var e=a.getStrokeColor(c[b]);if(void 0!==e)return e}}break;case "CIMTextSymbol":return a.getStrokeColor(c.symbol);case "CIMSolidStroke":return c.color}};a.getStrokeWidth=function(c){if(c)switch(c.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(c.symbolLayers){var b=0;for(c=c.symbolLayers;b<c.length;b++){var e=
a.getStrokeWidth(c[b]);if(void 0!==e)return e}}break;case "CIMTextSymbol":return a.getStrokeWidth(c.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return c.width}};a.getSize=function(c){if(c)switch(c.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var b=0;if(c.symbolLayers){var e=0;for(c=c.symbolLayers;e<c.length;e++){var d=a.getSize(c[e]);d>b&&(b=d)}}return b;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":return c.width;
case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":return c.size}};a.getMarkerScaleRatio=function(a){if(a)switch(a.type){case "CIMVectorMarker":if(!1!==a.scaleSymbolsProportionally&&a.frame)return a.size/(a.frame.ymax-a.frame.ymin)}return 1};return a}();b.CIMSymbolHelper=a;a=function(){function a(){}a.rasterizeSimpleFill=function(a,c){"solid"!==c&&"none"!==c&&"esriSFSSolid"!==c&&"esriSFSNull"!==c||console.error("Unexpected: style does not require rasterization");a.width=8;a.height=
8;var b=a.getContext("2d");b.strokeStyle="#FFFFFF";b.lineWidth=1;b.beginPath();if("vertical"===c||"cross"===c||"esriSFSCross"===c||"esriSFSVertical"===c)b.moveTo(0,0),b.lineTo(0,8);if("horizontal"===c||"cross"===c||"esriSFSCross"===c||"esriSFSHorizontal"===c)b.moveTo(0,0),b.lineTo(8,0);if("forward-diagonal"===c||"diagonal-cross"===c||"esriSFSDiagonalCross"===c||"esriSFSForwardDiagonal"===c)b.moveTo(0,0),b.lineTo(8,8);if("backward-diagonal"===c||"diagonal-cross"===c||"esriSFSBackwardDiagonal"===c||
"esriSFSDiagonalCross"===c)b.moveTo(8,0),b.lineTo(0,8);b.stroke();c=b.getImageData(0,0,a.width,a.height);c=new Uint8Array(c.data);for(var e=0;e<c.length;e+=4)b=c[e+3]/255,c[e]*=b,c[e+1]*=b,c[e+2]*=b;return[c,a.width,a.height]};a.rasterizeSimpleLine=function(a,c){switch(c){case "butt":c="Butt";break;case "square":c="Square";break;default:c="Round"}var b="Butt"===c;switch(a){case "dash":case "esriSLSDash":a=b?[4,3]:[3,4];break;case "dash-dot":case "esriSLSDashDot":a=b?[4,3,1,3]:[3,4,0,4];break;case "dot":case "esriSLSDot":a=
b?[1,3]:[0,4];break;case "long-dash":case "esriSLSLongDash":a=b?[8,3]:[7,4];break;case "long-dash-dot":case "esriSLSLongDashDot":a=b?[8,3,1,3]:[7,4,0,4];break;case "long-dash-dot-dot":case "esriSLSDashDotDot":a=b?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case "short-dash":case "esriSLSShortDash":a=b?[4,1]:[3,2];break;case "short-dash-dot":case "esriSLSShortDashDot":a=b?[4,1,1,1]:[3,2,0,2];break;case "short-dash-dot-dot":case "esriSLSShortDashDotDot":a=b?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case "short-dot":case "esriSLSShortDot":a=
b?[1,1]:[0,2];break;case "solid":case "esriSLSSolid":case "none":r.error("Unexpected: style does not require rasterization");a=[0,0];break;default:r.error("Tried to rasterize SLS, but found an unexpected style: "+a+"!"),a=[0,0]}return this.rasterizeDash(a,c)};a.rasterizeDash=function(a,c){var b="Butt"===c,e="Square"===c;c=!b&&!e;for(var d=0,f=0;f<a.length;f++)var g=a[f],d=d+g;for(var d=15*d,l=31*d,f=new Float32Array(l),k=c?225:15,g=0;g<l;++g)f[g]=k;for(var k=l=0,q=!0,r=0;r<a.length;r++){for(var g=
a[r],l=k,k=k+15*g,n=l;n<k;){for(var p=0;31>p;){var g=p*d+n,m=c?(p-15)*(p-15):Math.abs(p-15);f[g]=q?b?Math.max(Math.max(l+7.5-n,m),Math.max(n-k+7.5,m)):m:c?Math.min((n-l)*(n-l)+m,(n-k)*(n-k)+m):e?Math.min(Math.max(n-l,m),Math.max(k-n,m)):Math.min(Math.max(n-l+7.5,m),Math.max(k+7.5-n,m));p++}n++}q=!q}a=f.length;b=new Uint8Array(4*a);for(g=0;g<a;++g)h.packFloatRGBA((c?Math.sqrt(f[g]):f[g])/15,b,4*g);return[b,d,31]};return a}();b.SymbolHelper=a;a=function(){function a(){}a.findApplicableOverrides=function(c,
b,e){if(b){if(c.primitiveName){for(var d=!1,f=0;f<e.length;f++){var g=e[f];if(g.primitiveName===c.primitiveName){d=!0;break}}if(!d)for(d=0;d<b.length;d++)g=b[d],g.primitiveName===c.primitiveName&&e.push(g)}switch(c.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(c.effects)for(d=0,f=c.effects;d<f.length;d++)g=f[d],a.findApplicableOverrides(g,b,e);if(c.symbolLayers)for(g=0,c=c.symbolLayers;g<c.length;g++)a.findApplicableOverrides(c[g],b,e);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(c.effects)for(d=
0,f=c.effects;d<f.length;d++)g=f[d],a.findApplicableOverrides(g,b,e);c.markerPlacement&&a.findApplicableOverrides(c.markerPlacement,b,e);if("CIMVectorMarker"===c.type){if(c.markerGraphics)for(g=0,c=c.markerGraphics;g<c.length;g++)d=c[g],a.findApplicableOverrides(d,b,e),a.findApplicableOverrides(d.symbol,b,e)}else"CIMCharacterMarker"===c.type?a.findApplicableOverrides(c.symbol,b,e):"CIMHatchFill"===c.type&&a.findApplicableOverrides(c.lineSymbol,b,e)}}};a.applyOverrides=function(c,b,e,d){if(b){if(c.primitiveName)for(var f=
0;f<b.length;f++){var g=b[f];if(g.primitiveName===c.primitiveName){var l;l=(l=g.propertyName)?l.charAt(0).toLowerCase()+l.substr(1):l;d&&d.push({cim:c,nocapPropertyName:l,value:c[l]});g.expression&&(g.value=a.toValue(g.propertyName,g.expression));if(e){for(var h=!1,k=0,q=e;k<q.length;k++)q[k].primitiveName===c.primitiveName&&(h=!0);h||e.push(g)}c[l]=g.value}}switch(c.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(c.effects)for(g=0,l=c.effects;g<l.length;g++)f=l[g],a.applyOverrides(f,
b,e,d);if(c.symbolLayers)for(f=0,c=c.symbolLayers;f<c.length;f++)a.applyOverrides(c[f],b,e,d);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(c.effects)for(g=0,l=c.effects;g<l.length;g++)f=l[g],a.applyOverrides(f,b,e,d);if("CIMVectorMarker"===c.type&&c.markerGraphics)for(f=0,c=c.markerGraphics;f<c.length;f++)g=c[f],a.applyOverrides(g,b,e,d),a.applyOverrides(g.symbol,b,e,d)}}};a.restoreOverrides=function(a){for(var c=0;c<a.length;c++){var b=a[c];b.cim[b.nocapPropertyName]=
b.value}};a.buildOverrideKey=function(a){for(var c="",b=0;b<a.length;b++){var e=a[b];void 0!==e.value&&(c+=""+e.primitiveName+e.propertyName+JSON.stringify(e.value))}return c};a.toValue=function(a,c){return"DashTemplate"===a?c.split(" ").map(function(a){return Number(a)}):"Color"===a?(a=(new n(c)).toRgba(),a[3]*=255,a):c};return a}();b.OverrideHelper=a})},"esri/symbols/cim/CIMPlacements":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this.setIdentity()}
a.prototype.getAngle=function(){if(null==this.rz||0===this.rz&&1!==this.rz_c&&0!==this.rz_s)this.rz=Math.atan2(this.rz_s,this.rz_c);return this.rz};a.prototype.setIdentity=function(){this.tz=this.ty=this.tx=0;this.s=1;this.rz=this.ry=this.rx=0;this.rz_c=1;this.rz_s=0};a.prototype.setTranslate=function(a,b){this.tx=a;this.ty=b};a.prototype.setTranslateZ=function(a){this.tz=a};a.prototype.setRotateCS=function(a,b){this.rz=void 0;this.rz_c=a;this.rz_s=b};a.prototype.setRotate=function(a){this.rz=a;this.rz_s=
this.rz_c=void 0};a.prototype.setRotateY=function(a){this.ry=a};a.prototype.setScale=function(a){this.s=a};a.prototype.setMeasure=function(a){this.m=a};return a}();b.Placement=a;a=function(){function a(){}a.prototype.next=function(){return null};return a}();b.EmptyPlacementCursor=a})},"esri/symbols/cim/CIMSymbolDrawHelper":function(){define("require exports tslib ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./Rect".split(" "),function(a,
b,d,n,p,m,k,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.C_DEG_TO_RAD=Math.PI/180;var c=n.getLogger("esri.symbols.cim.CIMSymbolDrawHelper"),e=function(){function a(a){this._t=a}a.createIdentity=function(){return new a([1,0,0,0,1,0])};a.prototype.clone=function(){return new a(this._t.slice())};a.prototype.transform=function(a){var c=this._t;return[c[0]*a[0]+c[1]*a[1]+c[2],c[3]*a[0]+c[4]*a[1]+c[5]]};a.createScale=function(c,b){return new a([c,0,0,0,b,0])};a.prototype.scale=function(a,c){var b=
this._t;b[0]*=a;b[1]*=a;b[2]*=a;b[3]*=c;b[4]*=c;b[5]*=c;return this};a.prototype.scaleRatio=function(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])};a.createTranslate=function(c,b){return new a([0,0,c,0,0,b])};a.prototype.translate=function(a,c){var b=this._t;b[2]+=a;b[5]+=c;return this};a.createRotate=function(c){var b=Math.cos(c);c=Math.sin(c);return new a([b,-c,0,c,b,0])};a.prototype.rotate=function(c){return this.multiply(a.createRotate(c))};a.prototype.multiply=function(a){var c=
this._t;a=a._t;var b=c[1]*a[0]+c[4]*a[1],e=c[2]*a[0]+c[5]*a[1]+a[2],d=c[0]*a[3]+c[3]*a[4],g=c[1]*a[3]+c[4]*a[4],l=c[2]*a[3]+c[5]*a[4]+a[5];c[0]=c[0]*a[0]+c[3]*a[1];c[1]=b;c[2]=e;c[3]=d;c[4]=g;c[5]=l;return this};return a}();b.Transformation=e;a=function(){function a(a){this._transfos=[];this._sizeTransfos=[];this._transfos.push(a||e.createIdentity());this._sizeTransfos.push(a?a.scaleRatio():1)}a.prototype.transformPt=function(a){return this._transfos[this._transfos.length-1].transform(a)};a.prototype.transformSize=
function(a){return a*this._sizeTransfos[this._sizeTransfos.length-1]};a.prototype.back=function(){return this._transfos[this._transfos.length-1]};a.prototype.push=function(a,c){c=c?a.scaleRatio():1;a.multiply(this.back());this._transfos.push(a);this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*c)};a.prototype.pop=function(){this._transfos.splice(-1,1);this._sizeTransfos.splice(-1,1)};a.prototype.drawSymbol=function(a,c){if(a)switch(a.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":this.drawMultiLayerSymbol(a,
c)}};a.prototype.drawMultiLayerSymbol=function(a,c){if(a){var b=a.symbolLayers;if(b)if(a=a.effects){if(c=this.executeEffects(a,c))for(a=c.next();a;)this.drawSymbolLayers(b,a),a=c.next()}else this.drawSymbolLayers(b,c)}};a.prototype.executeEffects=function(a,c){c=new m.SimpleGeometryCursor(c);for(var b=0;b<a.length;b++){var e=a[b],d=k.getEffectOperator(e);d&&(c=d.execute(c,e,1))}return c};a.prototype.drawSymbolLayers=function(a,c){for(var b=a.length;b--;){var e=a[b];if(e&&!1!==e.enable){var d=e.effects;
if(d){if(d=this.executeEffects(d,c))for(var g=d.next();g;)this.drawSymbolLayer(e,g),g=d.next()}else this.drawSymbolLayer(e,c)}}};a.prototype.drawSymbolLayer=function(a,c){switch(a.type){case "CIMSolidFill":this.drawSolidFill(c,a.color);break;case "CIMSolidStroke":this.drawSolidStroke(c,a.color,a.width,a.capStyle,a.joinStyle,a.miterLimit);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":this.drawMarkerLayer(a,c)}};a.prototype.drawMarkerLayer=function(a,c){var b=a.markerPlacement;
if(b){var e=k.getPlacementOperator(b);if(e&&(c=e.execute(c,b,1)))for(b=c.next();b;)this.drawMarker(a,b),b=c.next()}else b=new h.Placement,b.tx=c.x,b.ty=c.y,this.drawMarker(a,b)};a.prototype.drawMarker=function(a,c){switch(a.type){case "CIMCharacterMarker":case "CIMPictureMarker":this.drawPictureMarker(a,c);break;case "CIMVectorMarker":this.drawVectorMarker(a,c)}};a.prototype.drawPictureMarker=function(a,c){};a.prototype.drawVectorMarker=function(a,d){if(a){var f=a.markerGraphics;if(f){var g=a.size,
l=a.frame,h=l?l.ymax-l.ymin:0,g=g&&h?g/h:1,h=e.createIdentity();l&&h.translate(.5*-(l.xmax+l.xmin),.5*-(l.ymax+l.ymin));var k=a.anchorPoint;if(k){var q=k.x,k=k.y;"Absolute"!==a.anchorPointUnits&&l&&(q*=l.xmax-l.xmin,k*=l.ymax-l.ymin);h.translate(-q,-k)}1!==g&&h.scale(g,g);a.rotation&&h.rotate(a.rotation*b.C_DEG_TO_RAD);h.translate(a.offsetX||0,a.offsetY||0);h.translate(d.tx,d.ty);this.push(h,a.scaleSymbolsProportionally);for(a=0;a<f.length;a++)(d=f[a])&&d.symbol&&d.geometry||c.error("Invalid marker graphic",
d),this.drawSymbol(d.symbol,d.geometry);this.pop()}}};return a}();b.CIMSymbolDrawHelper=a;n=function(a){function c(){var c=a.call(this)||this;c.reset();return c}d.__extends(c,a);c.prototype.reset=function(){this._xmin=this._ymin=Infinity;this._xmax=this._ymax=-Infinity};c.prototype.envelope=function(){return new l.default(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)};c.prototype._merge=function(a,c){a[0]-c<this._xmin&&(this._xmin=a[0]-c);a[0]+c>this._xmax&&(this._xmax=a[0]+c);
a[1]-c<this._ymin&&(this._ymin=a[1]-c);a[1]+c>this._ymax&&(this._ymax=a[1]+c)};c.prototype.drawSolidFill=function(a){if(a&&a.rings){var c=0;for(a=a.rings;c<a.length;c++){var b=a[c],e=b?b.length:0;if(2<e){this._merge(this.transformPt(b[0]),0);for(var d=1;d<e;++d)this._merge(this.transformPt(b[d]),0)}}}};c.prototype.drawSolidStroke=function(a,c,b){c=.5*this.transformSize(b);if(a=p.isPolygon(a)?a.rings:a.paths)for(b=0;b<a.length;b++){var e=a[b],d=e?e.length:0;if(1<d){this._merge(this.transformPt(e[0]),
c);for(var f=1;f<d;++f)this._merge(this.transformPt(e[f]),c)}}};return c}(a);b.EnvDrawHelper=n;a=function(a){function c(c,b){b=a.call(this,b)||this;b._ctx=c;return b}d.__extends(c,a);c.prototype.drawSolidFill=function(a,c){if(a&&a.rings){var b=this._ctx;b.fillStyle="string"===typeof c?c:"rgba("+Math.round(c[0])+","+Math.round(c[1])+","+Math.round(c[2])+","+c[3]/255+")";b.beginPath();c=0;for(a=a.rings;c<a.length;c++){var e=a[c],d=e?e.length:0;if(2<d){var f=this.transformPt(e[0]);b.moveTo(f[0],f[1]);
for(var g=1;g<d;++g)f=this.transformPt(e[g]),b.lineTo(f[0],f[1]);b.closePath()}}b.fill("evenodd")}};c.prototype.drawSolidStroke=function(a,c,b,e,d,g){if(c&&0!==b){var f=this._ctx;f.strokeStyle="string"===typeof c?c:"rgba("+Math.round(c[0])+","+Math.round(c[1])+","+Math.round(c[2])+","+c[3]/255+")";f.lineWidth=this.transformSize(b)+.5;this._setCapStyle(e);this._setJoinStyle(d);f.miterLimit=g;f.beginPath();c=!1;p.isPolygon(a)?(b=a.rings,c=!0):b=a.paths;for(a=0;a<b.length;a++)if(d=(e=b[a])?e.length:
0,1<d){g=this.transformPt(e[0]);f.moveTo(g[0],g[1]);for(var l=1;l<d;++l)g=this.transformPt(e[l]),f.lineTo(g[0],g[1]);c&&f.closePath()}f.stroke()}};c.prototype._setCapStyle=function(a){switch(a){case "Butt":this._ctx.lineCap="butt";break;case "Round":this._ctx.lineCap="round";break;case "Square":this._ctx.lineCap="square"}};c.prototype._setJoinStyle=function(a){switch(a){case "Bevel":this._ctx.lineJoin="bevel";break;case "Round":this._ctx.lineJoin="round";break;case "Miter":this._ctx.lineJoin="miter"}};
return c}(a);b.CanvasDrawHelper=a})},"esri/symbols/cim/CIMEffects":function(){define(["require","exports","../../core/lang"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a){this._geometry=a}a.prototype.next=function(){var a=this._geometry;this._geometry=null;return a};return a}();b.SimpleGeometryCursor=a;b.clone=function(a){return d.clone(a)}})},"esri/symbols/cim/CIMOperators":function(){define("require exports ./effects/EffectAddControlPoints ./effects/EffectArrow ./effects/EffectBuffer ./effects/EffectCut ./effects/EffectDashes ./effects/EffectDonut ./effects/EffectJog ./effects/EffectMove ./effects/EffectOffset ./effects/EffectReverse ./effects/EffectRotate ./effects/EffectScale ./effects/EffectWave ./placements/PlacementAlongLineSameSize ./placements/PlacementAtExtremities ./placements/PlacementAtRatioPositions ./placements/PlacementOnLine ./placements/PlacementOnVertices ./placements/PlacementPolygonCenter".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g,q,f,t,u,z,v,B,y){Object.defineProperty(b,"__esModule",{value:!0});b.getEffectOperator=function(a){if(!a)return null;switch(a.type){case "CIMGeometricEffectAddControlPoints":return d.EffectAddControlPoints.local();case "CIMGeometricEffectArrow":return n.EffectArrow.local();case "CIMGeometricEffectBuffer":return p.EffectBuffer.local();case "CIMGeometricEffectCut":return m.EffectCut.local();case "CIMGeometricEffectDashes":return k.EffectDashes.local();case "CIMGeometricEffectDonut":return h.EffectDonut.local();
case "CIMGeometricEffectJog":return l.EffectJog.local();case "CIMGeometricEffectMove":return c.EffectMove.local();case "CIMGeometricEffectOffset":return e.EffectOffset.local();case "CIMGeometricEffectReverse":return r.EffectReverse.local();case "CIMGeometricEffectRotate":return g.EffectRotate.local();case "CIMGeometricEffectScale":return q.EffectScale.local();case "CIMGeometricEffectWave":return f.EffectWave.local()}return null};b.getPlacementOperator=function(a){if(!a)return null;switch(a.type){case "CIMMarkerPlacementAlongLineSameSize":return t.PlacementAlongLineSameSize.local();
case "CIMMarkerPlacementAtExtremities":return u.PlacementAtExtremities.local();case "CIMMarkerPlacementAtRatioPositions":return z.PlacementAtRatioPositions.local();case "CIMMarkerPlacementOnLine":return v.PlacementOnLine.local();case "CIMMarkerPlacementOnVertices":return B.PlacementOnVertices.local();case "CIMMarkerPlacementPolygonCenter":return y.PlacementPolygonCenter.local()}return null}})},"esri/symbols/cim/effects/EffectAddControlPoints":function(){define(["require","exports","../../../core/lang",
"../../../geometry/support/jsonUtils","../CIMCursor"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,c){return new m(a,b,c)};a.instance=null;return a}();b.EffectAddControlPoints=a;var m=function(){function a(a,b,c){this._inputGeometries=a;this._angleTolerance=void 0!==b.angleTolerance?b.angleTolerance:120;this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/
180)*Math.PI)}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(n.isPolygon(a))return this._isClosed=!0,a=d.clone(a),this._processMultipath(a.rings),a;if(n.isPolyline(a))return this._isClosed=!1,a=d.clone(a),this._processMultipath(a.paths),a;if(n.isExtent(a)){if(this._maxCosAngle)return a;this._isClosed=!0;a=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];this._processPath(a);return{rings:[a]}}a=this._inputGeometries.next()}return null};a.prototype._processMultipath=
function(a){if(a)for(var b=0;b<a.length;b++)this._processPath(a[b])};a.prototype._processPath=function(a){if(a){var b=a.length,c=a[0],e=void 0,d=void 0,g=void 0,h=void 0,f=void 0,k=void 0;this._isClosed&&++b;for(var n=1;n<b;++n){var m=void 0,m=this._isClosed&&n===b-1?a[0]:a[n],v=m[0]-c[0],B=m[1]-c[1],y=Math.sqrt(v*v+B*B);1<n&&0<y&&0<g&&(e*v+d*B)/y/g<=this._maxCosAngle&&p.setId(c,1);1===n&&(h=v,f=B,k=y);0<y&&(c=m,e=v,d=B,g=y)}this._isClosed&&0<g&&0<k&&(e*h+d*f)/k/g<=this._maxCosAngle&&p.setId(a[0],
1)}};return a}()})},"esri/symbols/cim/CIMCursor":function(){define(["require","exports","../../core/lang","../../geometry/support/jsonUtils","./CIMPlacements"],function(a,b,d,n,p){function m(a){if(a)for(var c=a.length-1;0<c;--c)a[c][0]-=a[c-1][0],a[c][1]-=a[c-1][1]}function k(a){if(a)for(var c=0;c<a.length;c++)m(a[c])}function h(a){if(a)for(var c=a.length,b=1;b<c;++b)a[b][0]+=a[b-1][0],a[b][1]+=a[b-1][1]}function l(a){if(a)for(var c=0;c<a.length;c++)h(a[c])}function c(a){a&&(n.isPolygon(a)?l(a.rings):
n.isPolyline(a)?l(a.paths):n.isMultipoint(a)&&h(a.points))}function e(a){a&&a.reverse()}function r(a){return{rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]}}Object.defineProperty(b,"__esModule",{value:!0});b.cloneAndDecodeGeometry=function(a){a=d.clone(a);c(a);return a};b.deltaDecodeGeometry=c;b.deltaEncodeGeometry=function(a){a&&(n.isPolygon(a)?k(a.rings):n.isPolyline(a)?k(a.paths):n.isMultipoint(a)&&m(a.points))};b.reverseMultipath=function(a){if(a)for(var c=
0;c<a.length;c++)e(a[c])};b.reversePath=e;b.getCoord2D=function(a,c,b){return[a[0]+(c[0]-a[0])*b,a[1]+(c[1]-a[1])*b]};b.isClosedPath=function(a){return a&&0!==a.length?a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]:!1};b.getId=function(a){return a[4]};b.setId=function(a,c){a[4]=c};a=function(){function a(a,c,b,e){this.acceptPolygon=c;this.acceptPolyline=b;this.geomUnitsPerPoint=e;this.pathIndex=this.pathCount=-1;this.iteratePath=!1;a&&(n.isPolygon(a)?c&&(this.multiPath=a.rings,this.isClosed=
!0):n.isPolyline(a)?b&&(this.multiPath=a.paths,this.isClosed=!1):n.isExtent(a)&&c&&(this.multiPath=r(a).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length));this.internalPlacement=new p.Placement}a.prototype.next=function(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var a=this.processPath(this.multiPath[this.pathIndex]);if(a)return a}this.pathIndex=this.pathCount=-1;return this.multiPath=null};
return a}();b.PathTransformationCursor=a;a=function(){function a(a,c,b,e){this.inputGeometries=a;this.acceptPolygon=c;this.acceptPolyline=b;this.geomUnitsPerPoint=e;this.pathIndex=this.pathCount=-1;this.iteratePath=!1}a.prototype.next=function(){for(;;){if(!this.multiPath){for(var a=this.inputGeometries.next();a;)if(n.isPolygon(a)?this.acceptPolygon&&(this.multiPath=a.rings,this.isClosed=!0):n.isPolyline(a)?this.acceptPolyline&&(this.multiPath=a.paths,this.isClosed=!1):n.isExtent(a)&&this.acceptPolygon&&
(this.multiPath=r(a).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length;this.pathIndex=-1;break}else a=this.inputGeometries.next();if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;)if(this.iteratePath||this.pathIndex++,a=this.processPath(this.multiPath[this.pathIndex]))return a;this.pathIndex=this.pathCount=-1;this.multiPath=null}};return a}();b.PathGeometryCursor=a})},"esri/symbols/cim/effects/EffectArrow":function(){define(["require",
"exports","tslib","../CIMCursor","../CurveHelper"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,c){return new m(a,b,c)};a.instance=null;return a}();b.EffectArrow=a;var m=function(a){function b(b,c,e){b=a.call(this,b,!1,!0)||this;b._curveHelper=new p.CurveHelper;b._width=(void 0!==c.width?c.width:5)*e;b._arrowType=c.geometricEffectArrowType;
b._offsetFlattenError=p.PIXEL_TOLERANCE*e;return b}d.__extends(b,a);b.prototype.processPath=function(a){switch(this._arrowType){default:return this._constructSimpleArrow(a,!0);case "Block":return this._constructSimpleArrow(a,!1);case "Crossed":return this._constructCrossedArrow(a)}};b.prototype._constructSimpleArrow=function(a,c){var b=this._curveHelper.calculatePathLength(a),d=this._width;b<2*d&&(d=b/2);b=this._curveHelper.getSubCurve(a,0,b-d);if(!b)return null;var l=d/2;if(this._curveHelper.isEmpty(b,
!1))return null;d=this._constructOffset(b,-l);if(!d)return null;b=this._constructOffset(b,l);if(!b)return null;var h=this._constructArrowBasePoint(d,-l);if(!h)return null;l=this._constructArrowBasePoint(b,l);if(!l)return null;a=a[a.length-1];c||(this._makeControlPoint(b,!0),this._makeControlPoint(d,!0));var f=new p.PathHelper;f.addPath(b,!0);f.lineTo(l);this._makeControlPoint(f.path());f.lineTo(a);this._makeControlPoint(f.path());f.lineTo(h);this._makeControlPoint(f.path());f.addPath(d,!1);return c?
{paths:[f.path()]}:(f.close(),{rings:[f.path()]})};b.prototype._constructCrossedArrow=function(a){var c=this._curveHelper.calculatePathLength(a),b=this._width;c<3.732050807568877*b&&(b=c/3.732050807568877);var d=this._curveHelper.getSubCurve(a,0,c-2.732050807568877*b);if(!d)return null;var l=b/2;if(this._curveHelper.isEmpty(d,!1))return null;var h=this._constructOffset(d,l);if(!h)return null;d=this._constructOffset(d,-l);if(!d)return null;c=this._curveHelper.getSubCurve(a,0,c-b);if(!c||this._curveHelper.isEmpty(c,
!1))return null;b=this._constructOffset(c,l);if(!b)return null;var f=this._constructOffset(c,-l);if(!f)return null;c=b[b.length-1];b=this._constructArrowBasePoint(b,l);if(!b)return null;var k=f[f.length-1],l=this._constructArrowBasePoint(f,-l);if(!l)return null;a=a[a.length-1];this._makeControlPoint(h,!1);this._makeControlPoint(d,!1);f=new p.PathHelper;f.addPath(h,!0);this._makeControlPoint(f.path());f.lineTo(k);f.lineTo(l);this._makeControlPoint(f.path());f.lineTo(a);this._makeControlPoint(f.path());
f.lineTo(b);this._makeControlPoint(f.path());f.lineTo(c);this._makeControlPoint(f.path());f.addPath(d,!1);return{paths:[f.path()]}};b.prototype._constructOffset=function(a,c){return this._curveHelper.offset(a,c,"Rounded",4,this._offsetFlattenError)};b.prototype._constructArrowBasePoint=function(a,c){if(!a||2>a.length)return null;var b=a[a.length-2];a=a[a.length-1];b=[a[0]-b[0],a[1]-b[1]];this._curveHelper.normalize(b);return[a[0]+b[1]*c,a[1]-b[0]*c]};b.prototype._makeControlPoint=function(a,c){void 0===
c&&(c=!1);c?n.setId(a[0],1):n.setId(a[a.length-1],1)};return b}(n.PathGeometryCursor)})},"esri/symbols/cim/CurveHelper":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.PIXEL_TOLERANCE=.03;a=function(){function a(){this._path=[]}a.prototype.path=function(){return this._path};a.prototype.addPath=function(a,b){b||a.reverse();Array.prototype.push.apply(this._path,a);b||a.reverse()};a.mergePath=function(a,b){b&&Array.prototype.push.apply(a,b)};a.prototype.startPath=
function(a){this._path.push(a)};a.prototype.lineTo=function(a){this._path.push(a)};a.prototype.close=function(){var a=this._path;1<a.length&&(a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]||a.push([a[0][0],a[0][1]]))};return a}();b.PathHelper=a;a=function(){function a(a,b){void 0===a&&(a=0);void 0===b&&(b=!1)}a.prototype.normalize=function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);a[0]/=b;a[1]/=b};a.prototype.calculateLength=function(a,b){var d=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(d*d+a*a)};
a.prototype.calculateSegLength=function(a,b){return this.calculateLength(a[b],a[b+1])};a.prototype.calculatePathLength=function(a){for(var b=0,d=a?a.length:0,k=0;k<d-1;++k)b+=this.calculateSegLength(a,k);return b};a.prototype.calculatePathArea=function(a){for(var b=0,d=a?a.length:0,k=0;k<d-1;++k)b+=(a[k+1][0]-a[k][0])*(a[k+1][1]+a[k][1]);return b/2};a.prototype.getCoord2D=function(a,b,d){return[a[0]+(b[0]-a[0])*d,a[1]+(b[1]-a[1])*d]};a.prototype.getSegCoord2D=function(a,b,d){return this.getCoord2D(a[b],
a[b+1],d)};a.prototype.getAngle=function(a,b,d){return Math.atan2(b[1]-a[1],b[0]-a[0])};a.prototype.getSegAngle=function(a,b,d){return this.getAngle(a[b],a[b+1],d)};a.prototype.getAngleCS=function(a,b,d){d=b[0]-a[0];a=b[1]-a[1];b=Math.sqrt(d*d+a*a);return 0<b?[d/b,a/b]:[1,0]};a.prototype.getSegAngleCS=function(a,b,d){return this.getAngleCS(a[b],a[b+1],d)};a.prototype.cut=function(a,b,d,k){d=0>=d?a[b]:this.getSegCoord2D(a,b,d);a=1<=k?a[b+1]:this.getSegCoord2D(a,b,k);return[d,a]};a.prototype.addSegment=
function(a,b,d){d&&a.push(b[0]);a.push(b[1])};a.prototype.getSubCurve=function(a,b,d){var k=[];return this.appendSubCurve(k,a,b,d)?k:null};a.prototype.appendSubCurve=function(a,b,d,k){for(var h=b?b.length-1:0,l=0,c=!0,e=0;e<h;){var r=this.calculateSegLength(b,e);if(0!==r){if(c){if(l+r>d){var g=(d-l)/r,q=1,f=!1;l+r>=k&&(q=(k-l)/r,f=!0);(g=this.cut(b,e,g,q))&&this.addSegment(a,g,c);if(f)break;c=!1}}else{if(l+r>k){(g=this.cut(b,e,0,(k-l)/r))&&this.addSegment(a,g,c);break}this.addSegment(a,[b[e],b[e+
1]],c)}l+=r}++e}return!0};a.prototype.getCIMPointAlong=function(a,b){for(var d=a?a.length-1:0,k=0,h=-1;h<d;){++h;var l=this.calculateSegLength(a,h);if(0!==l){if(k+l>b)return this.getCoord2D(a[h],a[h+1],(b-k)/l);k+=l}}return null};a.prototype.isEmpty=function(a,b){if(!a||1>=a.length)return!0;for(var d=a?a.length-1:0,k=-1;k<d;)if(++k,a[k+1][0]!==a[k][0]||a[k+1][1]!==a[k][1]||b&&a[k+1][2]!==a[k][2])return!1;return!0};a.prototype.offset=function(a,b,d,k,h){h;if(!a||2>a.length)return null;h=a.length;var l=
a[0][0]===a[h-1][0]&&a[0][1]===a[h-1][1];if(l){if(3>a.length)return null;--h}for(var c=[],e=l?a[h-1]:null,r=a[0],g=0;g<h;g++){var q=g===h-1?l?a[0]:null:a[g+1];if(e)if(q){var f=[q[0]-r[0],q[1]-r[1]];this.normalize(f);e=[r[0]-e[0],r[1]-e[1]];this.normalize(e);var m=e[0]*f[1]-e[1]*f[0],n=e[0]*f[0]+e[1]*f[1];if(0<=m===0>=b)m=[f[0]-e[0],f[1]-e[1]],this.normalize(m),n=Math.sqrt((1+n)/2),f=-Math.abs(b)/n,c.push([r[0]-m[0]*f,r[1]-m[1]*f]);else switch(d){case "Mitered":if(n=Math.sqrt((1+n)/2),0<n&&1/n<k){m=
[f[0]-e[0],f[1]-e[1]];this.normalize(m);f=Math.abs(b)/n;c.push([r[0]-m[0]*f,r[1]-m[1]*f]);break}case "Bevelled":c.push([r[0]+e[1]*b,r[1]-e[0]*b]);c.push([r[0]+f[1]*b,r[1]-f[0]*b]);break;case "Rounded":c.push([r[0]+e[1]*b,r[1]-e[0]*b]);for(var n=.2,p=1;5>p;p++,n+=.2)m=[e[1]*(1-n)+f[1]*n,-e[0]*(1-n)-f[0]*n],this.normalize(m),c.push([r[0]+m[0]*b,r[1]+m[1]*b]);c.push([r[0]+f[1]*b,r[1]-f[0]*b]);break;default:0>m?(c.push([r[0]+(e[1]+e[0])*b,r[1]+(e[1]-e[0])*b]),c.push([r[0]+(f[1]-f[0])*b,r[1]-(f[0]+f[1])*
b])):(n=Math.sqrt((1+Math.abs(n))/2),m=[f[0]-e[0],f[1]-e[1]],this.normalize(m),f=b/n,c.push([r[0]-m[0]*f,r[1]-m[1]*f]))}}else m=[r[0]-e[0],r[1]-e[1]],this.normalize(m),c.push([r[0]+m[1]*b,r[1]-m[0]*b]);else m=[q[0]-r[0],q[1]-r[1]],this.normalize(m),c.push([r[0]+m[1]*b,r[1]-m[0]*b]);e=r;r=q}l&&c.push([c[0][0],c[0][1]]);return c};return a}();b.CurveHelper=a})},"esri/symbols/cim/effects/EffectBuffer":function(){define(["require","exports","../../../geometry/support/jsonUtils","../CurveHelper"],function(a,
b,d,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,d){return new p(a,b,d)};a.instance=null;return a}();b.EffectBuffer=a;var p=function(){function a(a,b,d){this._inputGeometries=a;this._curveHelper=new n.CurveHelper;this._size=(void 0!==b.size?b.size:1)*d;this._offsetFlattenError=n.PIXEL_TOLERANCE*d}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(d.isExtent(a))if(0<
this._size){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(b=this._curveHelper.offset(b,this._size,"Rounded",4,this._offsetFlattenError))return{rings:[b]}}else if(0>this._size){if(0<Math.min(a.xmax-a.xmin,a.ymax-a.ymin)+2*this._size)return{xmin:a.xmin-this._size,xmax:a.xmax+this._size,ymin:a.ymin-this._size,ymax:a.ymax+this._size}}else return a;if(d.isPolygon(a)){if(0===this._size)return a;for(var l=[],c=0,e=a.rings;c<e.length;c++)b=e[c],(b=this._curveHelper.offset(b,
this._size,"Rounded",4,this._offsetFlattenError))&&l.push(b);if(l.length)return{rings:l}}if(d.isPolyline(a)&&0<this._size){l=[];c=0;for(e=a.paths;c<e.length;c++){var r=e[c];if(r&&1<r.length&&(b=this._curveHelper.offset(r,this._size,"Rounded",4,this._offsetFlattenError),r=this._curveHelper.offset(r,-this._size,"Rounded",4,this._offsetFlattenError),b&&r)){for(var g=r.length-1;0<=g;g--)b.push(r[g]);b.push([b[0][0],b[0][1]]);l.push(b)}}if(l.length)return{rings:l}}d.isPoint(a);a=this._inputGeometries.next()}return null};
return a}()})},"esri/symbols/cim/effects/EffectCut":function(){define(["require","exports","tslib","../CIMCursor","../CurveHelper"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,c){return new m(a,b,c)};a.instance=null;return a}();b.EffectCut=a;var m=function(a){function b(b,c,e){b=a.call(this,b,!0,!0)||this;b._curveHelper=new p.CurveHelper;
b._beginCut=(void 0!==c.beginCut?c.beginCut:1)*e;b._endCut=(void 0!==c.endCut?c.endCut:1)*e;b._middleCut=(void 0!==c.middleCut?c.middleCut:0)*e;b._invert=void 0!==c.invert?c.invert:!1;0>b._beginCut&&(b._beginCut=0);0>b._endCut&&(b._endCut=0);0>b._middleCut&&(b._middleCut=0);return b}d.__extends(b,a);b.prototype.processPath=function(a){var c=this._beginCut,b=this._endCut,d=this._middleCut,l=this._curveHelper.calculatePathLength(a),h=[];if(!this._invert)0===c&&0===b&&0===d?h.push(a):c+b+d>=l||(0===
d?c=this._curveHelper.getSubCurve(a,c,l-b):((c=this._curveHelper.getSubCurve(a,c,.5*(l-d)))&&h.push(c),c=this._curveHelper.getSubCurve(a,.5*(l+d),l-b)),c&&h.push(c));else if(0!==c||0!==b||0!==d)c+b+d>=l?h.push(a):((c=this._curveHelper.getSubCurve(a,0,c))&&h.push(c),(c=this._curveHelper.getSubCurve(a,.5*(l-d),.5*(l+d)))&&h.push(c),(c=this._curveHelper.getSubCurve(a,l-b,b))&&h.push(c));return 0===h.length?null:{paths:h}};return b}(n.PathGeometryCursor)})},"esri/symbols/cim/effects/EffectDashes":function(){define("require exports tslib ../CIMCursor ../CurveHelper ../GeometryWalker".split(" "),
function(a,b,d,n,p,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,c,b){return new k(a,c,b)};a.instance=null;return a}();b.EffectDashes=a;var k=function(a){function b(c,b,d){c=a.call(this,c,!0,!0)||this;c._walker=new m.GeometryWalker;c._walker.updateTolerance(d);c._endings=b.lineDashEnding;c._customDashPos=void 0!==b.offsetAlongLine?b.offsetAlongLine*d:0;c._offsetAtEnd=
void 0!==b.customEndingOffset?b.customEndingOffset*d:0;c._pattern=new m.DashPattern;c._pattern.init(b.dashTemplate,!0);c._pattern.scale(d);return c}d.__extends(b,a);b.prototype.processPath=function(a){if(0===this._pattern.length())return this.iteratePath=!1,{paths:[a]};if(!this.iteratePath){var c=!0;switch(this._endings){default:this._pattern.extPtGap=0;break;case "FullPattern":this.isClosed||(this._pattern.extPtGap=.5*this._pattern.firstValue());break;case "FullGap":this.isClosed||(this._pattern.extPtGap=
.5*this._pattern.lastValue());break;case "NoConstraint":this.isClosed||(c=!1);break;case "Custom":this.isClosed||(this._pattern.extPtGap=.5*this._offsetAtEnd)}var b=this._walker.calculatePathLength(a);if(this._pattern.isEmpty()||b<.1*this._pattern.length()||!this._walker.init(a,this._pattern,c))return{paths:[a]}}if(this.iteratePath)a=this._pattern.nextValue();else{c=void 0;switch(this._endings){default:c=.5*this._pattern.firstValue();break;case "HalfGap":c=.5*-this._pattern.lastValue();break;case "FullGap":c=
-this._pattern.lastValue();break;case "FullPattern":c=0;break;case "NoConstraint":case "Custom":c=-this._customDashPos}a=c/this._pattern.length();a-=Math.floor(a);c=a*this._pattern.length();this._pattern.reset();a=this._pattern.nextValue();for(b=!1;c>=a;)c-=a,a=this._pattern.nextValue(),b=!b;a-=c;b?(this._walker.nextPosition(a),a=this._pattern.nextValue()):this.isClosed&&(this._firstCurve=this._walker.nextCurve(a),a=this._pattern.nextValue(),this._walker.nextPosition(a),a=this._pattern.nextValue())}(c=
this._walker.nextCurve(a))?this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(this._firstCurve.splice(0,1),p.PathHelper.mergePath(c,this._firstCurve),this._firstCurve=null)):(a=this._pattern.nextValue(),!this._walker.nextPosition(a)||this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(c=this._firstCurve,this._firstCurve=null)):this.iteratePath=!0):(this.iteratePath=!1,c=this._firstCurve,this._firstCurve=null);return{paths:[c]}};return b}(n.PathGeometryCursor)})},"esri/symbols/cim/GeometryWalker":function(){define(["require",
"exports","tslib","./CIMCursor","./CurveHelper"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this._values=[];this._currentValue=this._length=this.ctrlPtGap=this.extPtGap=0}a.prototype.isEmpty=function(){return 0===this._values.length};a.prototype.size=function(){return this._values.length};a.prototype.init=function(a,b,c){void 0===c&&(c=!0);this._setEmpty();if(!a||0===a.length)return!1;for(var e=0;e<a.length;e++){var d=Math.abs(a[e]);c&&1E-7>d&&(d=
1E-7);this._values.push(d);this._length+=d}b&&a.length&1&&(this._length*=2);if(0===this._length)return!1;this.ctrlPtGap=this.extPtGap=0;this._currentValue=-1;return!0};a.prototype.scale=function(a){for(var b=this._values?this._values.length:0,c=0;c<b;++c)this._values[c]*=a;this._length*=a;this.extPtGap*=a;this.ctrlPtGap*=a};a.prototype.addValue=function(a){this._length+=a;this._values.push(a)};a.prototype.firstValue=function(){return this._values[0]};a.prototype.lastValue=function(){return this._values[this._values.length-
1]};a.prototype.nextValue=function(){this._currentValue++;this._currentValue===this._values.length&&(this._currentValue=0);return this._values[this._currentValue]};a.prototype.reset=function(){this._currentValue=-1};a.prototype.length=function(){return this._length};a.prototype._setEmpty=function(){this.extPtGap=this.ctrlPtGap=this._length=0;this._currentValue=-1;this._values.length=0};return a}();b.DashPattern=a;var m=function(){function a(){this.reset()}a.prototype.reset=function(){this.segment=
-1;this.abscissa=this.segmentLength=0;this.isPartEnd=this.isPathEnd=!1};a.prototype.isValid=function(){return-1!==this.segment};a.prototype.copyTo=function(a){a.segment=this.segment;a.segmentLength=this.segmentLength;a.abscissa=this.abscissa;a.isPathEnd=this.isPathEnd;a.isPartEnd=this.isPartEnd};return a}();a=function(a){function b(b,c){void 0===b&&(b=0);void 0===c&&(c=!1);b=a.call(this,b,c)||this;b._tolerance=p.PIXEL_TOLERANCE;b._currentPosition=new m;return b}d.__extends(b,a);b.prototype.updateTolerance=
function(a){this._tolerance=p.PIXEL_TOLERANCE*a};b.prototype.init=function(a,c,b){void 0===b&&(b=!0);b?(this._patternLength=c.length(),this._partExtPtGap=c.extPtGap,this._partCtrlPtGap=c.ctrlPtGap):this._partCtrlPtGap=this._partExtPtGap=this._patternLength=0;this._currentPosition.reset();this._partSegCount=0;this._path=a;this._seg=-1;return this.setPosAtNextPart()};b.prototype.curPositionIsValid=function(){return this._currentPosition.isValid()};b.prototype.nextPosition=function(a,c){void 0===c&&
(c=0);var b=new m;if(!this._nextPosition(a,b,null,c))return!1;b.copyTo(this._currentPosition);return!0};b.prototype.curPointAndAngle=function(a){a.pt=this._getPoint(this._currentPosition);var c=this._getAngle(this._currentPosition),b=c[1];a.ca=c[0];a.sa=b};b.prototype.nextPointAndAngle=function(a,c,b){void 0===b&&(b=0);var e=new m;if(!this._nextPosition(a,e,null,b))return!1;e.copyTo(this._currentPosition);c.pt=this._getPoint(e);a=this._getAngle(e);b=a[1];c.ca=a[0];c.sa=b;return!0};b.prototype.nextCurve=
function(a){if(0===a)return null;var c=[],b=new m;if(!this._nextPosition(a,b,c,1))return null;b.copyTo(this._currentPosition);return c};b.prototype.isPathEnd=function(){return this._currentPosition.isPathEnd};b.prototype.getPathEnd=function(){if(-1===this._currentPosition.segment)throw Error("missing segment");return this._path[this._currentPosition.segment+1]};b.prototype._nextPosition=function(a,c,b,d){if(this._currentPosition.isPathEnd)return!1;var e=this._currentPosition.abscissa;0<this._currentPosition.segmentLength&&
(e/=this._currentPosition.segmentLength);for(this._currentPosition.copyTo(c);c.abscissa+a*this._partLengthRatio>c.segmentLength+this._tolerance;)if(b&&(0===b.length&&(0===e?(e=this._path[c.segment],b.push([e[0],e[1]])):b.push(this.getSegCoord2D(this._path,c.segment,e))),e=this._path[c.segment+1],b.push([e[0],e[1]])),e=0,a-=(c.segmentLength-c.abscissa)/this._partLengthRatio,this._partSegCount)c.segment=this.nextSegment(),c.segmentLength=this.calculateSegLength(this._path,c.segment),c.abscissa=0,this._partSegCount--;
else{if(!this.setPosAtNextPart()){if(0===d)return!1;c.segmentLength=this.calculateSegLength(this._path,c.segment);c.isPartEnd=!0;1===d?(c.abscissa=c.segmentLength,c.isPathEnd=!0):c.abscissa=c.segmentLength+a;return!0}this._currentPosition.copyTo(c)}c.abscissa+=a*this._partLengthRatio;b&&(0===b.length&&(0===e?(e=this._path[c.segment],b.push([e[0],e[1]])):b.push(this.getSegCoord2D(this._path,c.segment,e))),a=c.abscissa/c.segmentLength,1===a?(e=this._path[c.segment+1],b.push([e[0],e[1]])):b.push(this.getSegCoord2D(this._path,
c.segment,a)));!this._partSegCount&&Math.abs(c.abscissa-c.segmentLength)<this._tolerance&&(c.isPathEnd=this._partIsLast,c.isPartEnd=!0);return!0};b.prototype._getPoint=function(a){if(-1===a.segment)throw Error("missing segment");return this.getSegCoord2D(this._path,a.segment,0>=a.segmentLength?0:a.abscissa/a.segmentLength)};b.prototype._getAngle=function(a){if(-1===a.segment)throw Error("missing segment");return this.getSegAngleCS(this._path,a.segment,0>=a.segmentLength?0:a.abscissa/a.segmentLength)};
b.prototype.setPosAtNextPart=function(){for(;this._partSegCount;)this.hasNextSegment()&&this.nextSegment(),this._partSegCount--;if(!this.hasNextSegment())return!1;this._partLength=0;this._partIsLast=!0;for(this._partSegCount=0;this.hasNextSegment();)if(this._partLength+=this.calculateSegLength(this._path,this.nextSegment()),this._partSegCount++,1===n.getId(this._path[this.getEndPointIndex()])){this._partIsLast=!this.hasNextSegment();break}for(var a=this._partSegCount;a;)this.previousSegment(),--a;
this._currentPosition.segment=this.nextSegment();this._currentPosition.segmentLength=this.calculateSegLength(this._path,this._currentPosition.segment);this._currentPosition.abscissa=0;this._currentPosition.isPathEnd=this._currentPosition.isPartEnd=!1;--this._partSegCount;a=this.getStartPointIndex();this._ctrlPtBegin=1===n.getId(this._path[a]);a=a+this._partSegCount+1;a>=this._path.length&&(a=0);this._ctrlPtEnd=1===n.getId(this._path[a]);if(0<this._patternLength){var a=this._ctrlPtBegin?this._partCtrlPtGap:
this._partExtPtGap,c=this._ctrlPtEnd?this._partCtrlPtGap:this._partExtPtGap,b=Math.round((this._partLength-(a+c))/this._patternLength);0>=b&&(b=0<a+c?0:1);this._partLengthRatio=this._partLength/(a+c+b*this._patternLength);.01>this._partLengthRatio&&(this._partLengthRatio=1)}else this._partLengthRatio=1;return!0};b.prototype.hasNextSegment=function(){return this._seg<this._path.length-2};b.prototype.previousSegment=function(){return--this._seg};b.prototype.nextSegment=function(){return++this._seg};
b.prototype.getStartPointIndex=function(){return this._seg};b.prototype.getEndPointIndex=function(){return this._seg+1};return b}(p.CurveHelper);b.GeometryWalker=a})},"esri/symbols/cim/effects/EffectDonut":function(){define(["require","exports","../../../geometry/support/jsonUtils","../CurveHelper"],function(a,b,d,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,
b,d){return new p(a,b,d)};a.instance=null;return a}();b.EffectDonut=a;var p=function(){function a(a,b,d){this._inputGeometries=a;this._curveHelper=new n.CurveHelper;this._width=(void 0!==b.width?b.width:2)*d;switch(b.method){default:this._method="Mitered";break;case "Bevelled":this._method="Bevelled";break;case "Rounded":case "TrueBuffer":this._method="Rounded";break;case "Square":this._method="Square"}this._option=b.option;this._offsetFlattenError=n.PIXEL_TOLERANCE*d;this._option}a.prototype.next=
function(){for(var a=this._inputGeometries.next();a;){if(d.isExtent(a)&&0<this._width){if(0>Math.min(a.xmax-a.xmin,a.ymax-a.ymin)-2*this._width)return a;var b=[];b.push([[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]);b.push([[a.xmin+this._width,a.ymin+this._width],[a.xmax-this._width,a.ymin+this._width],[a.xmax-this._width,a.ymax-this._width],[a.xmin+this._width,a.ymax-this._width],[a.xmin+this._width,a.ymin+this._width]]);return{rings:b}}if(d.isPolygon(a)&&0<this._width){for(var l=
[],b=[],c=0,a=a.rings;c<a.length;c++){var e=a[c],r=this._curveHelper.calculatePathLength(e);0<r&&l.push(e);var g=this._curveHelper.offset(e,this._width,this._method,4,this._offsetFlattenError);g&&(0>r&&g.reverse(),b.push(g));0>r&&l.push(e)}if(b.length)return{rings:b}}a=this._inputGeometries.next()}return null};return a}()})},"esri/symbols/cim/effects/EffectJog":function(){define(["require","exports","tslib","../CIMCursor","../CurveHelper"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",
{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,c){return new m(a,b,c)};a.instance=null;return a}();b.EffectJog=a;var m=function(a){function b(b,c,e){b=a.call(this,b,!1,!0)||this;b._curveHelper=new p.CurveHelper;b._length=(void 0!==c.length?c.length:20)*e;b._angle=void 0!==c.angle?c.angle:225;b._position=void 0!==c.position?c.position:50;0>b._length&&(b._length=-b._length);20>b._position&&(b._position=
20);80<b._position&&(b._position=80);b._mirror=!1;return b}d.__extends(b,a);b.prototype.processPath=function(a){if(this._curveHelper.isEmpty(a,!1))return null;var c=a[0];a=a[a.length-1];this._curveHelper.normalize([a[0]-c[0],a[1]-c[1]]);var b=[c[0]+(a[0]-c[0])*this._position/100,c[1]+(a[1]-c[1])*this._position/100],d=Math.cos((90-this._angle)/180*Math.PI),g=Math.sin((90-this._angle)/180*Math.PI);this._mirror&&(g=-g);this._mirror=!this._mirror;return{paths:[[c,[b[0]-this._length/2*d,b[1]-this._length/
2*g],[b[0]+this._length/2*d,b[1]+this._length/2*g],a]]}};return b}(n.PathGeometryCursor)})},"esri/symbols/cim/effects/EffectMove":function(){define(["require","exports","../../../core/lang","../../../geometry/support/jsonUtils"],function(a,b,d,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,d){return new p(a,b,d)};a.instance=null;return a}();b.EffectMove=a;var p=
function(){function a(a,b,d){this._inputGeometries=a;this._offsetX=void 0!==b.offsetX?b.offsetX*d:0;this._offsetY=void 0!==b.offsetY?-b.offsetY*d:0}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(n.isExtent(a))return{xmin:a.xmin+this._offsetX,xmax:a.xmax+this._offsetX,ymin:a.ymin+this._offsetY,ymax:a.ymax+this._offsetY};if(n.isPolygon(a))return a=d.clone(a),this._moveMultipath(a.rings,this._offsetX,this._offsetY),a;if(n.isPolyline(a))return a=d.clone(a),this._moveMultipath(a.paths,
this._offsetX,this._offsetY),a;if(n.isMultipoint(a))return a=d.clone(a),this._movePath(a.points,this._offsetX,this._offsetY),a;if(n.isPoint(a))return{x:a.x+this._offsetX,y:a.y+this._offsetY};a=this._inputGeometries.next()}return null};a.prototype._moveMultipath=function(a,b,d){if(a)for(var c=0;c<a.length;c++)this._movePath(a[c],b,d)};a.prototype._movePath=function(a,b,d){if(a)for(var c=0;c<a.length;c++){var e=a[c];e[0]+=b;e[1]+=d}};return a}()})},"esri/symbols/cim/effects/EffectOffset":function(){define(["require",
"exports","../../../geometry/support/jsonUtils","../CurveHelper"],function(a,b,d,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,d){return new p(a,b,d)};a.instance=null;return a}();b.EffectOffset=a;var p=function(){function a(a,b,d){this._inputGeometries=a;this._curveHelper=new n.CurveHelper;this._offset=(void 0!==b.offset?b.offset:1)*d;this._method=b.method;
this._option=b.option;this._offsetFlattenError=n.PIXEL_TOLERANCE*d;this._option}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(0===this._offset)return a;if(d.isExtent(a)){if("Rounded"===this._method&&0<this._offset){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];return(b=this._curveHelper.offset(b,this._offset,this._method,4,this._offsetFlattenError))?{rings:[b]}:null}if(0<Math.min(a.xmax-a.xmin,a.ymax-a.ymin)+2*this._offset)return{xmin:a.xmin-
this._offset,xmax:a.xmax+this._offset,ymin:a.ymin-this._offset,ymax:a.ymax+this._offset}}if(d.isPolygon(a)){for(var l=[],c=0,e=a.rings;c<e.length;c++)b=e[c],(b=this._curveHelper.offset(b,this._offset,this._method,4,this._offsetFlattenError))&&l.push(b);if(l.length)return{rings:l}}if(d.isPolyline(a)){l=[];c=0;for(a=a.paths;c<a.length;c++)(e=this._curveHelper.offset(a[c],this._offset,this._method,4,this._offsetFlattenError))&&l.push(e);if(l.length)return{paths:l}}a=this._inputGeometries.next()}return null};
return a}()})},"esri/symbols/cim/effects/EffectReverse":function(){define(["require","exports","../../../core/lang","../../../geometry/support/jsonUtils","../CIMCursor"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,c){return new m(a,b,c)};a.instance=null;return a}();b.EffectReverse=a;var m=function(){function a(a,b,c){this._inputGeometries=
a;this._reverse=void 0!==b.reverse?b.reverse:!0;c}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(!this._reverse)return a;if(n.isPolyline(a))return a=d.clone(a),p.reverseMultipath(a.paths),a;a=this._inputGeometries.next()}return null};return a}()})},"esri/symbols/cim/effects/EffectRotate":function(){define("require exports ../../../core/lang ../../../geometry/support/aaBoundingRect ../../../geometry/support/boundsUtils ../../../geometry/support/jsonUtils".split(" "),function(a,
b,d,n,p,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,e){return new k(a,b,e)};a.instance=null;return a}();b.EffectRotate=a;var k=function(){function a(a,b,e){this._inputGeometries=a;this._rotateAngle=void 0!==b.angle?-b.angle*Math.PI/180:0;e}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(0===this._rotateAngle)return a;var b=n.create();
p.getBoundsXY(b,a);var e=(b[2]+b[0])/2,b=(b[3]+b[1])/2;if(m.isExtent(a))return a={rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]},this._rotateMultipath(a.rings,e,b),a;if(m.isPolygon(a))return a=d.clone(a),this._rotateMultipath(a.rings,e,b),a;if(m.isPolyline(a))return a=d.clone(a),this._rotateMultipath(a.paths,e,b),a;if(m.isMultipoint(a))return a=d.clone(a),this._rotatePath(a.points,e,b),a;if(m.isPoint(a))return a;a=this._inputGeometries.next()}return null};
a.prototype._rotateMultipath=function(a,b,e){if(a)for(var c=0;c<a.length;c++)this._rotatePath(a[c],b,e)};a.prototype._rotatePath=function(a,b,e){if(a)for(var c=Math.cos(this._rotateAngle),d=Math.sin(this._rotateAngle),l=0;l<a.length;l++){var f=a[l],h=f[0]-b,k=f[1]-e;f[0]=b+h*c-k*d;f[1]=e+h*d+k*c}};return a}()})},"esri/symbols/cim/effects/EffectScale":function(){define("require exports ../../../core/lang ../../../geometry/support/aaBoundingRect ../../../geometry/support/boundsUtils ../../../geometry/support/jsonUtils".split(" "),
function(a,b,d,n,p,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,e){return new k(a,b,e)};a.instance=null;return a}();b.EffectScale=a;var k=function(){function a(a,b,e){this._inputGeometries=a;this._xFactor=void 0!==b.xScaleFactor?b.xScaleFactor:1.15;this._yFactor=void 0!==b.yScaleFactor?b.yScaleFactor:1.15;e}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(1===
this._xFactor&&1===this._yFactor)return a;var b=n.create();p.getBoundsXY(b,a);var e=(b[2]+b[0])/2,b=(b[3]+b[1])/2;if(m.isExtent(a))return a={rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]},this._scaleMultipath(a.rings,e,b),a;if(m.isPolygon(a))return a=d.clone(a),this._scaleMultipath(a.rings,e,b),a;if(m.isPolyline(a))return a=d.clone(a),this._scaleMultipath(a.paths,e,b),a;if(m.isMultipoint(a))return a=d.clone(a),this._scalePath(a.points,e,b),a;if(m.isPoint(a))return a;
a=this._inputGeometries.next()}return null};a.prototype._scaleMultipath=function(a,b,e){if(a)for(var c=0;c<a.length;c++)this._scalePath(a[c],b,e)};a.prototype._scalePath=function(a,b,e){if(a)for(var c=0;c<a.length;c++){var d=a[c],l=(d[1]-e)*this._yFactor;d[0]=b+(d[0]-b)*this._xFactor;d[1]=e+l}};return a}()})},"esri/symbols/cim/effects/EffectWave":function(){define(["require","exports","../../../geometry/support/jsonUtils","../CurveHelper","../GeometryWalker"],function(a,b,d,n,p){Object.defineProperty(b,
"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,c){return new m(a,b,c)};a.instance=null;return a}();b.EffectWave=a;var m=function(){function a(a,b,c){this._inputGeometries=a;this._height=(void 0!==b.amplitude?b.amplitude:2)*c;this._period=(void 0!==b.period?b.period:3)*c;this._style=b.waveform;0>=this._height&&(this._height=Math.abs(this._height));0>=this._period&&(this._period=Math.abs(this._period));
this._pattern=new p.DashPattern;this._pattern.addValue(this._period);this._pattern.addValue(this._period);this._walker=new p.GeometryWalker;this._walker.updateTolerance(c)}a.prototype.next=function(){for(var a=this._inputGeometries.next();a;){if(0===this._height||0===this._period)return a;if(d.isPolyline(a)){var b=this._processGeom(a.paths);if(b.length)return{paths:b}}if(d.isPolygon(a)&&(a=this._processGeom(a.rings),a.length))return{rings:a};a=this._inputGeometries.next()}return null};a.prototype._processGeom=
function(a){for(var b=[],c=0;c<a.length;c++){var e=a[c];if(this._walker.init(e,this._pattern))switch(this._style){default:b.push(this._constructCurve(e,!1));break;case "Square":b.push(this._constructSquare(e));break;case "Triangle":b.push(this._constructTriangle(e));break;case "Random":b.push(this._constructCurve(e,!0))}else b.push(e)}return b};a.prototype._constructCurve=function(a,b){var c=new n.PathHelper,e=this._walker.calculatePathLength(a),d=Math.round(e/this._period);0===d&&(d=1);var g=this._period/
16,l=1/(16*d+1),e=2*Math.PI*e/(e/d),d=2*Math.PI*Math.random(),f=2*Math.PI*Math.random(),h=2*Math.PI*Math.random(),k=.75-Math.random()/2,m=.75-Math.random()/2,p={};this._walker.curPointAndAngle(p);c.startPath(p.pt);for(var B=0;;)if(this._walker.nextPointAndAngle(g,p)){var y=B,B=B+l,x=void 0;if(b)var w=this._height/2*(1+.3*Math.sin(k*e*y+d)),x=w*Math.sin(e*y+f),x=x+w*Math.sin(m*e*y+h),x=x/2;else x=.5*this._height*Math.sin(.5*e*y);c.lineTo([p.pt[0]-x*p.sa,p.pt[1]+x*p.ca])}else{c.lineTo(a[a.length-1]);
break}return c.path()};a.prototype._constructSquare=function(a){var b=new n.PathHelper;a=this._walker.calculatePathLength(a);a=Math.round(a/this._period);0===a&&(a=1);for(a=!0;;){var c=!1;if(this._walker.curPositionIsValid()){var e={};this._walker.curPointAndAngle(e);var d={};if(this._walker.nextPointAndAngle(this._period,d)){var g={};this._walker.nextPointAndAngle(this._period,g)&&(a?(b.startPath(e.pt),a=!1):b.lineTo(e.pt),b.lineTo([e.pt[0]-this._height/2*e.sa,e.pt[1]+this._height/2*e.ca]),b.lineTo([d.pt[0]-
this._height/2*d.sa,d.pt[1]+this._height/2*d.ca]),b.lineTo([d.pt[0]+this._height/2*d.sa,d.pt[1]-this._height/2*d.ca]),b.lineTo([g.pt[0]+this._height/2*g.sa,g.pt[1]-this._height/2*g.ca]),c=!0)}}if(!c){b.lineTo(this._walker.getPathEnd());break}}return b.path()};a.prototype._constructTriangle=function(a){var b=new n.PathHelper;a=this._walker.calculatePathLength(a);a=Math.round(a/this._period);0===a&&(a=1);for(a=!0;;){var c=!1;if(this._walker.curPositionIsValid()){var e={};this._walker.curPointAndAngle(e);
var d={};if(this._walker.nextPointAndAngle(this._period/2,d)){var g={};this._walker.nextPointAndAngle(this._period,g)&&(this._walker.nextPosition(this._period/2)&&(a?(b.startPath(e.pt),a=!1):b.lineTo(e.pt),b.lineTo([d.pt[0]-this._height/2*d.sa,d.pt[1]+this._height/2*d.ca]),b.lineTo([g.pt[0]+this._height/2*g.sa,g.pt[1]-this._height/2*g.ca])),c=!0)}}if(!c){b.lineTo(this._walker.getPathEnd());break}}return b.path()};return a}()})},"esri/symbols/cim/placements/PlacementAlongLineSameSize":function(){define("require exports tslib ../CIMCursor ../enums ../GeometryWalker".split(" "),
function(a,b,d,n,p,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,e){return new k(a,b,e)};a.instance=null;return a}();b.PlacementAlongLineSameSize=a;var k=function(a){function b(b,e,d){b=a.call(this,b,!0,!0)||this;b._grometryWalker=new m.GeometryWalker;b._grometryWalker.updateTolerance(d);b._angleToLine=void 0!==e.angleToLine?e.angleToLine:!0;b._offset=void 0!==
e.offset?e.offset*d:0;b._originalEndings=e.endings;b._offsetAtEnd=void 0!==e.customEndingOffset?e.customEndingOffset*d:0;b._position=void 0!==e.offsetAlongLine?e.offsetAlongLine*d:0;b._pattern=new m.DashPattern;b._pattern.init(e.placementTemplate,!1);b._pattern.scale(d);b._endings=b._originalEndings;return b}d.__extends(b,a);b.prototype.processPath=function(a){if(this._pattern.isEmpty())return null;var b;if(this.iteratePath)b=this._pattern.nextValue();else{this._endings=this._originalEndings===p.PlacementEndings.WithFullGap&&
this.isClosed?p.PlacementEndings.WithMarkers:this._originalEndings;this._pattern.extPtGap=0;var c=!0;b=void 0;switch(this._endings){case p.PlacementEndings.NoConstraint:b=-this._position;b=this._adjustPosition(b);c=!1;break;default:b=-this._pattern.lastValue()/2;break;case p.PlacementEndings.WithFullGap:b=-this._pattern.lastValue();this._pattern.extPtGap=this._pattern.lastValue();break;case p.PlacementEndings.WithMarkers:b=0;break;case p.PlacementEndings.Custom:b=-this._position,b=this._adjustPosition(b),
this._pattern.extPtGap=.5*this._offsetAtEnd}if(!this._grometryWalker.init(a,this._pattern,c))return null;this._pattern.reset();for(a=0;b>a;)b-=a,a=this._pattern.nextValue();b=a-b;this.iteratePath=!0}a={};if(!this._grometryWalker.nextPointAndAngle(b,a)||this._endings===p.PlacementEndings.WithFullGap&&this._grometryWalker.isPathEnd())return this.iteratePath=!1,null;if(this._endings===p.PlacementEndings.WithMarkers&&this._grometryWalker.isPathEnd()&&(this.iteratePath=!1,this.isClosed))return null;this.internalPlacement.setTranslate(a.pt[0]+
this._offset*a.sa,a.pt[1]-this._offset*a.ca);this._angleToLine&&this.internalPlacement.setRotateCS(a.ca,a.sa);return this.internalPlacement};b.prototype._adjustPosition=function(a){a/=this._pattern.length();a-=Math.floor(a);return a*this._pattern.length()};return b}(n.PathTransformationCursor)})},"esri/symbols/cim/enums":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=b.PlacementEndings||(b.PlacementEndings={});a.NoConstraint="NoConstraint";
a.WithMarkers="WithMarkers";a.WithFullGap="WithFullGap";a.WithHalfGap="WithHalfGap";a.Custom="Custom"})},"esri/symbols/cim/placements/PlacementAtExtremities":function(){define(["require","exports","tslib","../CIMCursor","../CurveHelper"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,c){return new m(a,b,c)};a.instance=null;return a}();b.PlacementAtExtremities=
a;var m=function(a){function b(b,c,e){b=a.call(this,b,!1,!0)||this;b._curveHelper=new p.CurveHelper;b._angleToLine=void 0!==c.angleToLine?c.angleToLine:!0;b._offset=void 0!==c.offset?c.offset*e:0;b._type=c.extremityPlacement;b._position=void 0!==c.offsetAlongLine?c.offsetAlongLine*e:0;b._beginProcessed=!1;return b}d.__extends(b,a);b.prototype.processPath=function(a){var b;switch(this._type){default:this._beginProcessed?(n.reversePath(a),b=this._atExtremities(a,this._position),n.reversePath(a),this.iteratePath=
this._beginProcessed=!1):(b=this._atExtremities(a,this._position),this.iteratePath=this._beginProcessed=!0);break;case "JustBegin":b=this._atExtremities(a,this._position);break;case "JustEnd":n.reversePath(a),b=this._atExtremities(a,this._position),n.reversePath(a);case "None":}return b};b.prototype._atExtremities=function(a,b){for(var c=a.length,d=0,g,l=a[0],f=1;f<c;++f){g=l;var l=a[f],h=this._curveHelper.calculateLength(g,l);if(d+h>b)return b=(b-d)/h,c=this._curveHelper.getAngleCS(g,l,b),a=c[0],
c=c[1],g=n.getCoord2D(g,l,b),this.internalPlacement.setTranslate(g[0]-this._offset*c,g[1]+this._offset*a),this._angleToLine&&this.internalPlacement.setRotateCS(-a,-c),this.internalPlacement;d+=h}return null};return b}(n.PathTransformationCursor)})},"esri/symbols/cim/placements/PlacementAtRatioPositions":function(){define(["require","exports","tslib","../CIMCursor","../GeometryWalker"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===
a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,c){return new m(a,b,c)};a.instance=null;return a}();b.PlacementAtRatioPositions=a;var m=function(a){function b(b,c,e){b=a.call(this,b,!0,!0)||this;b._walker=new p.GeometryWalker;b._walker.updateTolerance(e);b._angleToLine=void 0!==c.angleToLine?c.angleToLine:!0;b._offset=void 0!==c.offset?c.offset*e:0;b._beginGap=void 0!==c.beginPosition?c.beginPosition*e:0;b._endGap=void 0!==c.endPosition?c.endPosition*e:0;b._flipFirst=
void 0!==c.flipFirst?c.flipFirst:!0;b._pattern=new p.DashPattern;b._pattern.init(c.positionArray,!1,!1);b._subPathLen=0;b._posCount=b._pattern.size();b._isFirst=!0;b._prevPos=0;return b}d.__extends(b,a);b.prototype.processPath=function(a){if(this._pattern.isEmpty())return null;var b;if(this.iteratePath)a=this._pattern.nextValue()*this._subPathLen,a=this._beginGap+a,b=a-this._prevPos,this._prevPos=a;else{this._posCount=this._pattern.size();this._isFirst=!0;this._prevPos=0;this._subPathLen=this._walker.calculatePathLength(a)-
this._beginGap-this._endGap;if(0>this._subPathLen)return this.iteratePath=!1,null;if(!this._walker.init(a,this._pattern,!1))return null;this._pattern.reset();a=this._pattern.nextValue()*this._subPathLen;a=this._beginGap+a;b=a-this._prevPos;this._prevPos=a;this.iteratePath=!0}a={};if(!this._walker.nextPointAndAngle(b,a,1))return this.iteratePath=!1,null;this.internalPlacement.setTranslate(a.pt[0]+this._offset*a.sa,a.pt[1]-this._offset*a.ca);b=this._isFirst&&this._flipFirst;var e;this._angleToLine?
(e=a.ca,a=a.sa):(e=1,a=0);b&&(e=-e,a=-a);this.internalPlacement.setRotateCS(e,a);this._isFirst=!1;this._posCount--;0===this._posCount&&(this.iteratePath=!1);return this.internalPlacement};return b}(n.PathTransformationCursor)})},"esri/symbols/cim/placements/PlacementOnLine":function(){define(["require","exports","tslib","../CIMCursor","../CurveHelper"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=
new a);return a.instance};a.prototype.execute=function(a,b,c){return new m(a,b,c)};a.instance=null;return a}();b.PlacementOnLine=a;var m=function(a){function b(b,c,e){b=a.call(this,b,!0,!0)||this;b._curveHelper=new p.CurveHelper;b._angleToLine=void 0!==c.angleToLine?c.angleToLine:!0;b._offset=void 0!==c.offset?c.offset*e:0;b._relativeTo=c.relativeTo;b._position=void 0!==c.startPointOffset?c.startPointOffset*e:0;b._epsilon=.001*e;return b}d.__extends(b,a);b.prototype.processPath=function(a){var b=
this._position;if("SegmentMidpoint"===this._relativeTo){this.iteratePath||(this._segmentCount=a.length,this._curSegment=1,this.iteratePath=!0);for(;this._curSegment<this._segmentCount;){var e=this._curSegment;this._curSegment++;var b=a[e-1],e=a[e],d=this._curveHelper.calculateLength(b,e);if(!(d<this._epsilon)){var d=.5+this._position/d,g=this._curveHelper.getAngleCS(b,e,d);a=g[0];g=g[1];b=n.getCoord2D(b,e,d);this.internalPlacement.setTranslate(b[0]-this._offset*g,b[1]+this._offset*a);this._angleToLine&&
this.internalPlacement.setRotateCS(a,g);return this.internalPlacement}}this.iteratePath=!1;return null}"LineEnd"===this._relativeTo&&n.reversePath(a);b=this.onLine(a,b);"LineEnd"===this._relativeTo&&n.reversePath(a);return b};b.prototype.onLine=function(a,b){var c,d=!1;switch(this._relativeTo){default:c=this._curveHelper.calculatePathLength(a)/2+b;break;case "LineBeginning":c=b;break;case "LineEnd":c=b,d=!0}for(var g=a.length,h=0,f=a[0],l=1;l<g;++l){b=f;var f=a[l],k=this._curveHelper.calculateLength(b,
f);if(h+k>c)return c=(c-h)/k,g=this._curveHelper.getAngleCS(b,f,c),a=g[0],g=g[1],b=n.getCoord2D(b,f,c),this.internalPlacement.setTranslate(b[0]-this._offset*g,b[1]+this._offset*a),this._angleToLine&&(d?this.internalPlacement.setRotateCS(-a,-g):this.internalPlacement.setRotateCS(a,g)),this.internalPlacement;h+=k}return null};return b}(n.PathTransformationCursor)})},"esri/symbols/cim/placements/PlacementOnVertices":function(){define(["require","exports","tslib","../CIMCursor","../CurveHelper"],function(a,
b,d,n,p){function m(a,b){for(var c=Math.PI;Math.abs(b-a)>c+2E-15;)b=b-a>c?b-2*c:b+2*c;return(a+b)/2}Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,e){return new k(a,b,e)};a.instance=null;return a}();b.PlacementOnVertices=a;var k=function(a){function b(b,e,d){b=a.call(this,b,!0,!0)||this;b._curveHelper=new p.CurveHelper;b._angleToLine=void 0!==e.angleToLine?e.angleToLine:
!0;b._offset=void 0!==e.offset?e.offset*d:0;b._endPoints=void 0!==e.placeOnEndPoints?e.placeOnEndPoints:!0;b._controlPoints=void 0!==e.placeOnControlPoints?e.placeOnControlPoints:!0;b._regularVertices=void 0!==e.placeOnRegularVertices?e.placeOnRegularVertices:!0;b._tags=[];b._tagIterator=0;return b}d.__extends(b,a);b.prototype.processPath=function(a){this.iteratePath||(this._preparePath(a),this.iteratePath=!0);if(this._tagIterator>=this._tags.length)return this._tagIterator=this._tags.length=0,this.iteratePath=
!1,null;a=this._tags[this._tagIterator];this._angleToLine&&this.internalPlacement.setRotate(a[2]);var b=a[0],c=a[1];if(0!==this._offset)var d=Math.cos(a[2]),b=b-this._offset*Math.sin(a[2]),c=c+this._offset*d;this.internalPlacement.setTranslate(b,c);this._tagIterator++;return this.internalPlacement};b.prototype._preparePath=function(a){this._tagIterator=this._tags.length=0;for(var b=n.isClosedPath(a),c=a.length-1,d=0,h=0,f=0,l=0,k=0,p,v;d<c;){d++;p=a[d-1];v=a[d];var B=n.getId(p),y=n.getId(v);if(this._angleToLine||
0!==this._offset)l=this._curveHelper.getAngle(p,v,0);1===d?b?(h=l,f=B):this._endPoints&&this._tags.push([p[0],p[1],l]):1===B?this._controlPoints&&this._tags.push([p[0],p[1],m(k,l)]):this._regularVertices&&this._tags.push([p[0],p[1],m(k,l)]);if(this._angleToLine||0!==this._offset)k=this._curveHelper.getAngle(p,v,1);d===c&&(b?1===y||1===f?this._controlPoints&&this._tags.push([v[0],v[1],m(k,h)]):this._regularVertices&&this._tags.push([v[0],v[1],m(k,h)]):this._endPoints&&this._tags.push([v[0],v[1],k]))}this._tagIterator=
0};return b}(n.PathTransformationCursor)})},"esri/symbols/cim/placements/PlacementPolygonCenter":function(){define(["require","exports","../../../geometry/support/aaBoundingRect","../../../geometry/support/boundsUtils","../CIMPlacements"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.execute=function(a,b,c){return new m(a,b,c)};a.instance=null;return a}();b.PlacementPolygonCenter=
a;var m=function(){function a(a,b,c){this._geometry=a;this._offsetX=void 0!==b.offsetX?b.offsetX*c:0;this._offsetY=void 0!==b.offsetY?b.offsetY*c:0;this._method=b.method;this._clipping=b.clipAtBoundary;this._internalPlacement=new p.Placement;this._clipping}a.prototype.next=function(){var a=this._geometry;this._geometry=null;return a&&void 0!==a.rings?this._polygonCenter(a):null};a.prototype._polygonCenter=function(a){switch(this._method){default:case "CenterOfMass":case "BoundingBoxCenter":var b=
d.create();n.getBoundsXY(b,a);this._internalPlacement.setTranslate((b[2]+b[0])/2+this._offsetX,(b[3]+b[1])/2-this._offsetY)}return this._internalPlacement};return a}()})},"esri/symbols/cim/Rect":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a,b,d,k){void 0===a&&(a=0);void 0===b&&(b=0);void 0===d&&(d=0);void 0===k&&(k=0);this.x=a;this.y=b;this.width=d;this.height=k}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=
this.width||0>=this.height},enumerable:!0,configurable:!0});a.prototype.union=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.width=Math.max(this.width,a.width);this.height=Math.max(this.height,a.height)};return a}();b.default=a})},"esri/symbols/cim/packingUtils":function(){define(["require","exports"],function(a,b){function d(a){return a-Math.floor(a)}Object.defineProperty(b,"__esModule",{value:!0});var n=[1,256,65536,16777216],p=[1/256,1/65536,1/16777216,1/4294967296],m=
function(a,b){void 0===b&&(b=0);for(var d=0,c=0;4>c;c++)d+=a[b+c]*p[c];return d}(new Uint8ClampedArray([255,255,255,255]));b.packFloatRGBA=function(a,b,l){void 0===l&&(l=0);a=0>a?0:a>m?m:a;for(var c=0;4>c;c++)b[l+c]=Math.floor(256*d(a*n[c]))}})},"esri/symbols/cim/SDFHelper":function(){define(["require","exports","../../geometry/support/jsonUtils","./packingUtils","./Rect"],function(a,b,d,n,p){function m(a){if(!a)return null;switch(a.type){case "CIMPointSymbol":a=a.symbolLayers;if(!a||1!==a.length)break;
return m(a[0]);case "CIMVectorMarker":a=a.markerGraphics;if(!a||1!==a.length)break;var b=a[0];if(!b)break;a=b.geometry;if(!a)break;b=b.symbol;if(!b||"CIMPolygonSymbol"!==b.type&&"CIMLineSymbol"!==b.type)break;return{geom:a,asFill:"CIMPolygonSymbol"===b.type};case "sdf":return{geom:a.geom,asFill:a.asFill}}return null}function k(a){for(var b=Infinity,c=-Infinity,e=Infinity,d=-Infinity,g=0;g<a.length;g++)for(var h=0,f=a[g];h<f.length;h++){var k=f[h];k[0]<b&&(b=k[0]);k[0]>c&&(c=k[0]);k[1]<e&&(e=k[1]);
k[1]>d&&(d=k[1])}return[b,e,c,d]}Object.defineProperty(b,"__esModule",{value:!0});b.getSDFInfo=m;b.getSDFSymbol=function(a){a=a.markerGraphics;if(!a||1!==a.length)return null;a=a[0];if(!a)return null;a=a.symbol;return!a||"CIMPolygonSymbol"!==a.type&&"CIMLineSymbol"!==a.type?null:a};b.getExtent=function(a){return a?a.rings?k(a.rings):a.paths?k(a.paths):d.isExtent(a)?[a.xmin,a.ymin,a.xmax,a.ymax]:null:null};b.getSDFMetrics=function(a,b,c,e,d){var g=a[0],l=a[1],f=a[2];a=a[3];if(f<g||a<l)return[0,0,0];
var h=f-g,k=a-l,f=Math.floor(31.5);a=(128-2*(f+1))/Math.max(h,k);var h=Math.round(h*a),k=Math.round(k*a)+2*f,n=1;b&&(n=k/a/(b.ymax-b.ymin));var m=0,p=0;e&&(d?b&&c&&0<b.ymax-b.ymin&&(m=e.x/((b.xmax-b.xmin)/(b.ymax-b.ymin)*c),p=e.y/c):(m=e.x,p=e.y));m=.5*(b.xmax+b.xmin)+m*(b.xmax-b.xmin);p=.5*(b.ymax+b.ymin)+p*(b.ymax-b.ymin);m=(m-g)*a+f;p=(p-l)*a+f;return[n,m/(h+2*f)-.5,-(p/k-.5)]};b.buildSDF=function(a){var b,c=a.geom;b=c?c.rings?c.rings:c.paths?c.paths:void 0!==c.xmin&&void 0!==c.ymin&&void 0!==
c.xmax&&void 0!==c.ymax?[[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]]]:null:null;var e,c=Infinity,d=-Infinity,g=Infinity,h=-Infinity;for(e=0;e<b.length;e++)for(var f=0,k=b[e];f<k.length;f++){var m=k[f];m[0]<c&&(c=m[0]);m[0]>d&&(d=m[0]);m[1]<g&&(g=m[1]);m[1]>h&&(h=m[1])}e=new p.default(c,g,d-c,h-g);g=Math.floor(31.5);f=(128-2*(g+1))/Math.max(e.width,e.height);c=Math.round(e.width*f)+2*g;d=Math.round(e.height*f)+2*g;h=[];for(k=0;k<b.length;k++){var z=b[k];if(z&&
1<z.length){for(var m=[],v=0;v<z.length;v++){var B=z[v],y=B[0],B=B[1],y=y-e.x,B=B-e.y,y=y*f,B=B*f,y=y+(g-.5),B=B+(g-.5);m.push([y,B])}a.asFill&&(v=m.length-1,m[0][0]===m[v][0]&&m[0][1]===m[v][1]||m.push(m[0]));h.push(m)}}e=c*d;b=Array(e);k=g*g+1;for(f=0;f<e;++f)b[f]=k;for(k=0;k<h.length;k++)for(m=h[k],v=m.length,f=1;f<v;++f){var z=m[f-1],y=m[f],x=void 0,B=void 0;z[0]<y[0]?(x=z[0],B=y[0]):(x=y[0],B=z[0]);var w=void 0,A=void 0;z[1]<y[1]?(w=z[1],A=y[1]):(w=y[1],A=z[1]);var D=Math.floor(x)-g,B=Math.floor(B)+
g,w=Math.floor(w)-g,A=Math.floor(A)+g;0>D&&(D=0);B>c&&(B=c);0>w&&(w=0);A>d&&(A=d);for(var x=y[0]-z[0],C=y[1]-z[1],F=x*x+C*C;D<B;D++)for(var E=w;E<A;E++){var G=(D-z[0])*x+(E-z[1])*C,J=void 0,H=void 0;0>G?(J=z[0],H=z[1]):G>F?(J=y[0],H=y[1]):(G/=F,J=z[0]+G*x,H=z[1]+G*C);G=(D-J)*(D-J)+(E-H)*(E-H);J=(d-E-1)*c+D;G<b[J]&&(b[J]=G)}}for(f=0;f<e;++f)b[f]=Math.sqrt(b[f]);if(a.asFill)for(a=0;a<h.length;a++)for(e=h[a],f=e.length,k=1;k<f;++k)for(m=e[k-1],v=e[k],y=z=void 0,m[0]<v[0]?(z=m[0],y=v[0]):(z=v[0],y=m[0]),
B=w=void 0,m[1]<v[1]?(w=m[1],B=v[1]):(w=v[1],B=m[1]),z=Math.floor(z),y=Math.floor(y)+1,w=Math.floor(w),B=Math.floor(B)+1,z<g&&(z=g),y>c-g&&(y=c-g),w<g&&(w=g),B>d-g&&(B=d-g);w<B;++w)if(m[1]>w!==v[1]>w){A=(d-w-1)*c;for(x=z;x<y;++x)x<(v[0]-m[0])*(w-m[1])/(v[1]-m[1])+m[0]&&(b[A+x]=-b[A+x]);for(x=g;x<z;++x)b[A+x]=-b[A+x]}g*=2;h=b.length;a=new Uint8Array(4*h);for(e=0;e<h;++e)n.packFloatRGBA(.5-b[e]/g,a,4*e);return[a,c,d]}})},"esri/symbols/cim/utils":function(){define(["require","exports"],function(a,b){function d(a,
b){"string"!==typeof a&&(a=String(a));switch(b){case "LowerCase":return a.toLowerCase();case "Allcaps":return a.toUpperCase();default:return a}}Object.defineProperty(b,"__esModule",{value:!0});b.evaluateValueOrFunction=function(a,b,d,k){return"function"===typeof a?a(b,d,k):a};b.colorToArray=function(a){return[a.r,a.g,a.b,a.a]};b.createLabelOverrideFunction=function(a,b,m){var k=function(a){for(var b=a.length;b--;)if(-1===" /-,\n".indexOf(a.charAt(b)))return!1;return!0},h=[],l=0,c=-1;do c=b.indexOf("[",
l),c>=l&&(c>l&&(l=b.substr(l,c-l),h.push([l,null,k(l)])),l=c+1,c=b.indexOf("]",l),c>=l&&(c>l&&(l=b.substr(l,c-l),(l=a[l])&&h.push([null,l,!1])),l=c+1));while(-1!==c);l<b.length-1&&(l=b.substr(l),h.push([l,null,k(l)]));return function(a){for(var b="",c=null,e=0;e<h.length;e++){var f=h[e],l=f[0],k=f[1],f=f[2];if(l)f?c=l:(c&&(b+=c,c=null),b+=l);else if(l=a.attributes[k])c&&(b+=c,c=null),b+=l}return d(b,m)}};b._adjustTextCase=d;b.resampleHermite=function(a,b,d,k,h,l,c){void 0===c&&(c=!0);var e=b/h;d/=
l;for(var m=Math.ceil(e/2),g=Math.ceil(d/2),n=0;n<l;n++)for(var f=0;f<h;f++){for(var p=4*(f+(c?l-n-1:n)*h),u=0,z=0,v=0,B=0,y=0,x=0,w=0,A=(n+.5)*d,D=Math.floor(n*d);D<(n+1)*d;D++)for(var C=Math.abs(A-(D+.5))/g,F=(f+.5)*e,C=C*C,E=Math.floor(f*e);E<(f+1)*e;E++){var G=Math.abs(F-(E+.5))/m,u=Math.sqrt(C+G*G);-1<=u&&1>=u&&(u=2*u*u*u-3*u*u+1,0<u&&(G=4*(E+D*b),w+=u*a[G+3],v+=u,255>a[G+3]&&(u=u*a[G+3]/250),B+=u*a[G],y+=u*a[G+1],x+=u*a[G+2],z+=u))}k[p]=B/z;k[p+1]=y/z;k[p+2]=x/z;k[p+3]=w/v}};b.fromCIMColor=
function(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}};b.toCIMSymbolJSON=function(a){var b;return null===(b=a.data)||void 0===b?void 0:b.symbol};b.isCIMMarker=function(a){return"CIMVectorMarker"===a.type||"CIMPictureMarker"===a.type||"CIMBarChartMarker"===a.type||"CIMCharacterMarker"===a.type||"CIMPieChartMarker"===a.type||"CIMStackedBarChartMarker"===a.type};b.isCIMStroke=function(a){return"CIMGradientStroke"===a.type||"CIMPictureStroke"===a.type||"CIMSolidStroke"===a.type};b.isCIMFill=
function(a){return"CIMGradientFill"===a.type||"CIMHatchFill"===a.type||"CIMPictureFill"===a.type||"CIMSolidFill"===a.type||"CIMWaterFill"===a.type};b.isCIMMarkerStrokePlacement=function(a){return"CIMMarkerPlacementAlongLineRandomSize"===a.type||"CIMMarkerPlacementAlongLineSameSize"===a.type||"CIMMarkerPlacementAlongLineVariableSize"===a.type||"CIMMarkerPlacementAtExtremities"===a.type||"CIMMarkerPlacementAtMeasuredUnits"===a.type||"CIMMarkerPlacementAtRatioPositions"===a.type||"CIMMarkerPlacementOnLine"===
a.type||"CIMMarkerPlacementOnVertices"===a.type}})},"esri/views/2d/arcade/utils":function(){define("require exports tslib @dojo/framework/shim/WeakMap ../../../core/Error ../../../core/Logger ../../../geometry/support/quantizationUtils ../../../layers/graphics/featureConversionUtils".split(" "),function(a,b,d,n,p,m,k,h){function l(a,b,e,l){var f=l.transform,g=l.hasZ;l=l.hasM;r.has(a)||r.set(a,c(e));a=r.get(a)(b.geometry,f,g,l);return d.__assign(d.__assign({},b),{geometry:a})}function c(a){var b={};
switch(a){case "esriGeometryPoint":return function(a,c,e,d){return k.hydratePoint(c,b,a,e,d)};case "esriGeometryPolygon":return function(a,c,e,d){return k.hydratePolygon(c,b,a,e,d)};case "esriGeometryPolyline":return function(a,c,e,d){return k.hydratePolyline(c,b,a,e,d)};case "esriGeometryMultipoint":return function(a,c,e,d){return k.hydrateMultipoint(c,b,a,e,d)};default:return e.error(new p("mapview-arcade","Unable to handle geometryType: "+a)),function(a){return a}}}Object.defineProperty(b,"__esModule",
{value:!0});var e=m.getLogger("esri.views.2d.support.arcadeOnDemand");b.callWithOptimizedFeature=function(a,b,c,k,m){var f=k.geometryType,g=k.hasZ;k=k.hasM;b=a.referencesGeometry()?m?l(a,h.convertToFeature(b,f,g,k),f,m):h.convertToFeature(b,f,g,k):b;b=a.repurposeFeature(b);try{return a.evaluate(d.__assign(d.__assign({},c),{$feature:b}))}catch(B){return e.warn("Feature arcade evaluation failed:",B),null}};b.callWithFeature=function(a,b,c,h,k){b=a.referencesGeometry()&&k?l(a,b,h,k):b;b=a.repurposeFeature(b);
try{return a.evaluate(d.__assign(d.__assign({},c),{$feature:b}))}catch(z){return e.warn("Feature arcade evaluation failed:",z),null}};var r=new n.default;b.createHydrateFactory=c})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(a,b,d){function n(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function p(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function m(a,b,c){for(var e=[],d,f,g,l,h=0;h<c.length;h++){var k=c[h];if(0<h){if(g=
n(a,k[0]),l=p(a,k[1]),g!==d||l!==f)e.push(b(k,g-d,l-f)),d=g,f=l}else d=n(a,k[0]),f=p(a,k[1]),e.push(b(k,d,f))}return 0<e.length?e:null}function k(a,b,c,e){return m(a,c?e?C:D:e?D:A,b)}function h(a,b,c,e){var d=[];c=c?e?C:D:e?D:A;for(e=0;e<b.length;e++){var f=m(a,c,b[e]);f&&3<=f.length&&d.push(f)}return d.length?d:null}function l(a,b,c,e){var d=[];c=c?e?C:D:e?D:A;for(e=0;e<b.length;e++){var f=m(a,c,b[e]);f&&2<=f.length&&d.push(f)}return d.length?d:null}function c(a,b){return b*a.scale[0]+a.translate[0]}
function e(a,b){return a.translate[1]-b*a.scale[1]}function r(a,b,d){var f=Array(d.length);if(!d.length)return f;var g=a.scale,l=g[0],g=g[1],h=c(a,d[0][0]);a=e(a,d[0][1]);f[0]=b(d[0],h,a);for(var k=1;k<d.length;k++){var m=d[k],h=h+m[0]*l;a-=m[1]*g;f[k]=b(m,h,a)}return f}function g(a,b,c){for(var e=Array(c.length),d=0;d<c.length;d++)e[d]=r(a,b,c[d]);return e}function q(a,b,c,e){return r(a,c?e?C:D:e?D:A,b)}function f(a,b,c,e){return g(a,c?e?C:D:e?D:A,b)}function t(a,b,c,e){return g(a,c?e?C:D:e?D:A,
b)}function u(a,b,c){var e=c[0],d=e[0],e=e[1],f=Math.min(d,b[0]),g=Math.min(e,b[1]),l=Math.max(d,b[2]);b=Math.max(e,b[3]);for(var h=1;h<c.length;h++){var k=c[h],m=k[0],k=k[1],d=d+m,e=e+k;0>m&&(f=Math.min(f,d));0<m&&(l=Math.max(l,d));0>k?g=Math.min(g,e):0<k&&(b=Math.max(b,e))}a[0]=f;a[1]=g;a[2]=l;a[3]=b;return a}function z(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var c=0;c<b.length;c++)u(a,a,b[c]);return a}function v(a,b,c,e,d){b.xmin=
n(a,c.xmin);b.ymin=p(a,c.ymin);b.xmax=n(a,c.xmax);b.ymax=p(a,c.ymax);b!==c&&(e&&(b.zmin=c.zmin,b.zmax=c.zmax),d&&(b.mmin=c.mmin,b.mmax=c.mmax));return b}function B(a,b,c,e,d){b.points=k(a,c.points,e,d);return b}function y(a,b,c,e,d){b.x=n(a,c.x);b.y=p(a,c.y);b!==c&&(e&&(b.z=c.z),d&&(b.m=c.m));return b}function x(a,b,c,e,d){a=h(a,c.rings,e,d);if(!a)return null;b.rings=a;return b}function w(a,b,c,e,d){a=l(a,c.paths,e,d);if(!a)return null;b.paths=a;return b}Object.defineProperty(b,"__esModule",{value:!0});
var A=function(a,b,c){return[b,c]},D=function(a,b,c){return[b,c,a[2]]},C=function(a,b,c){return[b,c,a[2],a[3]]};b.toQuantizationTransform=function(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};b.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==b)return!1;var c,e,d,f;a&&"upperLeft"===a.originPosition?(c=a.translate[0],
e=a.translate[1],a=a.scale[0]):(c=a.extent.xmin,e=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(d=b.translate[0],f=b.translate[1],b=b.scale[0]):(d=b.extent.xmin,f=b.extent.ymax,b=b.tolerance);return c===d&&e===f&&a===b};b.quantizeX=n;b.quantizeY=p;b.quantizeBounds=function(a,b,c){b[0]=n(a,c[0]);b[3]=p(a,c[1]);b[2]=n(a,c[2]);b[1]=p(a,c[3]);return b};b.quantizePoints=k;b.quantizeRings=h;b.quantizePaths=l;b.hydrateX=c;b.hydrateY=e;b.hydrateCoordsArray=r;b.hydrateCoordsArrayArray=g;
b.hydrateBounds=function(a,b,d){return d?(b[0]=c(a,d[0]),b[1]=e(a,d[3]),b[2]=c(a,d[2]),b[3]=e(a,d[1]),b):[c(a,b[0]),e(a,b[3]),c(a,b[2]),e(a,b[1])]};b.hydratePoints=q;b.hydratePaths=f;b.hydrateRings=t;b.getQuantizedBoundsCoordsArray=u;b.getQuantizedBoundsCoordsArrayArray=z;b.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return u(b,b,a)};b.getQuantizedBoundsPaths=function(a){return z([0,0,0,0],a)};b.getQuantizedBoundsRings=
function(a){return z([0,0,0,0],a)};b.quantizeExtent=v;b.quantizeMultipoint=B;b.quantizePoint=y;b.quantizePolygon=x;b.quantizePolyline=w;b.quantizeGeometry=function(a,b){return a&&b?d.isPoint(b)?y(a,{},b,!1,!1):d.isPolyline(b)?w(a,{},b,!1,!1):d.isPolygon(b)?x(a,{},b,!1,!1):d.isMultipoint(b)?B(a,{},b,!1,!1):d.isExtent(b)?v(a,{},b,!1,!1):null:null};b.hydrateExtent=function(a,b,d,f,g){b.xmin=c(a,d.xmin);b.ymin=e(a,d.ymin);b.xmax=c(a,d.xmax);b.ymax=e(a,d.ymax);b!==d&&(f&&(b.zmin=d.zmin,b.zmax=d.zmax),
g&&(b.mmin=d.mmin,b.mmax=d.mmax));return b};b.hydrateMultipoint=function(a,b,c,e,d){b.points=q(a,c.points,e,d);return b};b.hydratePoint=function(a,b,d,f,g){b.x=c(a,d.x);b.y=e(a,d.y);b!==d&&(f&&(b.z=d.z),g&&(b.m=d.m));return b};b.hydratePolygon=function(a,b,c,e,d){b.rings=t(a,c.rings,e,d);return b};b.hydratePolyline=function(a,b,c,e,d){b.paths=f(a,c.paths,e,d);return b}})},"esri/layers/graphics/featureConversionUtils":function(){define("require exports ../../core/Error ../../core/Logger ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(a,b,d,n,p,m,k,h){function l(a,b){return a?b?4:3:b?3:2}function c(a,b,c,e){if(a){if(c)return b&&e?V:L;if(b&&e)return U}else if(b&&e)return L;return P}function e(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function r(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function g(a,b){return b*a.scale[0]+a.translate[0]}function q(a,b){return a.translate[1]-b*a.scale[1]}function f(a){a=a.coords;return{x:a[0],y:a[1]}}function t(a,b){a.coords[0]=b.x;a.coords[1]=b.y;return a}function u(a){a=
a.coords;return{x:a[0],y:a[1],z:a[2]}}function z(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;return a}function v(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function B(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.m;return a}function y(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function x(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;a.coords[3]=b.m;return a}function w(a,b){return a&&b?x:a?z:b?B:t}function A(a,b,c){if(!a)return null;for(var e=l(b,c),d=[],f=0;f<a.coords.length;f+=
e){for(var g=[],h=0;h<e;h++)g.push(a.coords[f+h]);d.push(g)}return b?c?{points:d,hasZ:b,hasM:c}:{points:d,hasZ:b}:c?{points:d,hasM:c}:{points:d}}function D(a,b,c){void 0===c&&(c=l(b.hasZ,b.hasM));a.lengths[0]=b.points.length;var e=a.coords,d=0,f=0;for(b=b.points;f<b.length;f++)for(var g=b[f],h=0;h<c;h++)e[d++]=g[h];return a}function C(a,b,c){if(!a)return null;var e=l(b,c),d=a.coords,f=[],g=0,h=0;for(a=a.lengths;h<a.length;h++){for(var k=a[h],m=[],n=0;n<k;n++){for(var p=[],q=0;q<e;q++)p.push(d[g++]);
m.push(p)}f.push(m)}return b?c?{paths:f,hasZ:b,hasM:c}:{paths:f,hasZ:b}:c?{paths:f,hasM:c}:{paths:f}}function F(a,b,c){void 0===c&&(c=l(b.hasZ,b.hasM));var e=a.lengths,d=a.coords,f=0,g=0;for(b=b.paths;g<b.length;g++){for(var h=b[g],k=0,m=h;k<m.length;k++)for(var n=m[k],p=0;p<c;p++)d[f++]=n[p];e.push(h.length)}return a}function E(a,b,c){if(!a)return null;var e=l(b,c),d=a.coords,f=[],g=0,h=0;for(a=a.lengths;h<a.length;h++){for(var k=a[h],m=[],p=0;p<k;p++){for(var n=[],q=0;q<e;q++)n.push(d[g++]);m.push(n)}f.push(m)}return b?
c?{rings:f,hasZ:b,hasM:c}:{rings:f,hasZ:b}:c?{rings:f,hasM:c}:{rings:f}}function G(a,b,c,e){void 0===c&&(c=b.hasZ);void 0===e&&(e=b.hasM);J(a,b.rings,c,e);return a}function J(a,b,c,e){c=l(c,e);e=a.lengths;for(var d=a.coords,f=0,g=e.length=d.length=0;g<b.length;g++){for(var h=b[g],k=0,m=h;k<m.length;k++)for(var p=m[k],n=0;n<c;n++)d[f++]=p[n];e.push(h.length)}return a}function H(a,b,c,e,f,g){a.length=0;if(!c){for(e=0;e<b.length;e++)f=b[e],a.push(new m.default(null,f.attributes,null,f.attributes[g]));
return a}switch(c){case "esriGeometryPoint":e=w(e,f);for(f=0;f<b.length;f++){var k=b[f];c=k.geometry;var k=k.attributes,n=void 0;c&&(n=e(new h.default,c));a.push(new m.default(n,k,null,k[g]))}break;case "esriGeometryMultipoint":e=l(e,f);for(f=0;f<b.length;f++)k=b[f],c=k.geometry,k=k.attributes,n=void 0,c&&(n=D(new h.default,c,e)),a.push(new m.default(n,k,null,k[g]));break;case "esriGeometryPolyline":e=l(e,f);for(f=0;f<b.length;f++)k=b[f],c=k.geometry,k=k.attributes,n=void 0,c&&(n=F(new h.default,
c,e)),a.push(new m.default(n,k,null,k[g]));break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var p=b[c],k=p.geometry,n=p.centroid,p=p.attributes,q=void 0;k&&(q=G(new h.default,k,e,f));n?a.push(new m.default(q,p,t(new h.default,n),p[g])):a.push(new m.default(q,p,null,p[g]))}break;default:Q.error("convertToFeatureSet:unknown-geometry",new d("Unable to parse unknown geometry type '"+c+"'")),a.length=0}return a}function N(a,b,c,e,g){a.length=0;switch(c){case "esriGeometryPoint":c=f;e&&g?c=y:e?
c=u:g&&(c=v);for(e=0;e<b.length;e++){var h=b[e];g=h.geometry;h=h.attributes;g=g?c(g):null;a.push({attributes:h,geometry:g})}break;case "esriGeometryMultipoint":for(c=0;c<b.length;c++){var l=b[c],h=l.geometry,l=l.attributes,k=void 0;h&&(k=A(h,e,g));a.push({attributes:l,geometry:k})}break;case "esriGeometryPolyline":for(c=0;c<b.length;c++)l=b[c],h=l.geometry,l=l.attributes,k=void 0,h&&(k=C(h,e,g)),a.push({attributes:l,geometry:k});break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var k=b[c],
l=k.geometry,h=k.attributes,m=k.centroid,k=void 0;l&&(k=E(l,e,g));m?(l=f(m),a.push({attributes:h,centroid:l,geometry:k})):a.push({attributes:h,geometry:k})}break;default:Q.error("convertToFeatureSet:unknown-geometry",new d("Unable to parse unknown geometry type '"+c+"'"))}return a}function M(a,b,d,f,g,h,k,m){void 0===k&&(k=d);void 0===m&&(m=f);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!b||!b.coords.length)return null;g=O[g];var n=b.coords;b=b.lengths;var p=l(d,
f),q=l(d&&k,f&&m);d=c(d,f,k,m);if(!b.length)return d(a.coords,n,0,0,e(h,n[0]),r(h,n[1])),a.lengths.length&&(a.lengths.length=0),a.coords.length=p,a;for(var t,u=0,v,x=0,z=0;z<b.length;z++){var w=b[z];if(!(w<g)){var B=0;v=x;m=f=e(h,n[u]);t=k=r(h,n[u+1]);d(a.coords,n,v,u,m,t);B++;u+=p;v+=q;for(var y=1;y<w;y++,u+=p)if(m=e(h,n[u]),t=r(h,n[u+1]),m!==f||t!==k)d(a.coords,n,v,u,m-f,t-k),v+=q,B++,f=m,k=t;B>=g&&(a.lengths.push(B),x=v)}}a.coords.length=x;return a.coords.length?a:null}function I(a,b,c,e,d,f,g){for(var h=
e,l=0,k,m=f+c;m<g;m+=c){k=b[m];var n=b[m+1],p=b[g],q=b[g+1],r=b[f],t=b[f+1],u=p-r,v=q-t;if(0!==u||0!==v){var x=((k-r)*u+(n-t)*v)/(u*u+v*v);1<x?(r=p,t=q):0<x&&(r+=u*x,t+=v*x)}u=k-r;v=n-t;k=u*u+v*v;k>h&&(l=m,h=k)}h>e&&(l-f>c&&I(a,b,c,e,d,f,l),d(a,b,a.length,l,b[l],b[l+1]),g-l>c&&I(a,b,c,e,d,l,g))}function R(a,b,c,e,d){var f=b.coords,h=b.lengths,k=c?e?V:L:e?L:P;c=l(c,e);if(!f.length)return a!==b&&(a.lengths.length=0,a.coords.length=0),a;if(!h.length)return k(a.coords,f,0,0,g(d,f[0]),q(d,f[1])),a!==b&&
(a.lengths.length=0,a.coords.length=c),a;var m=d.scale;e=m[0];for(var m=m[1],n=0,p=0;p<h.length;p++){var r=h[p];a.lengths[p]=r;var t=g(d,f[n]),u=q(d,f[n+1]);k(a.coords,f,n,n,t,u);for(var n=n+c,v=1;v<r;v++,n+=c)t+=f[n]*e,u-=f[n+1]*m,k(a.coords,f,n,n,t,u)}a!==b&&(a.lengths.length=h.length,a.coords.length=f.length);return a}Object.defineProperty(b,"__esModule",{value:!0});var Q=n.getLogger("esri.tasks.support.optimizedFeatureSet"),O={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},
P=function(a,b,c,e,d,f){a[c]=d;a[c+1]=f},L=function(a,b,c,e,d,f){a[c]=d;a[c+1]=f;a[c+2]=b[e+2]},U=function(a,b,c,e,d,f){a[c]=d;a[c+1]=f;a[c+2]=b[e+3]},V=function(a,b,c,e,d,f){a[c]=d;a[c+1]=f;a[c+2]=b[e+2];a[c+3]=b[e+3]};b.quantizeX=e;b.quantizeY=r;b.hydrateX=g;b.hydrateY=q;b.convertToPoint=function(a,b,c){return a?b?c?y(a):u(a):c?v(a):f(a):null};b.convertFromPoint=function(a,b,c){void 0===c&&(c=w(null!=b.z,null!=b.m));return c(a,b)};b.convertToMultipoint=A;b.convertFromMultipoint=D;b.convertToPolyline=
C;b.convertFromPolyline=F;b.convertToPolygon=E;b.convertFromPolygon=G;b.convertFromNestedArray=J;var S=[],W=[];b.convertFromFeature=function(a,b,c,e,d){S[0]=a;a=H(W,S,b,c,e,d)[0];S.length=W.length=0;return a};b.convertFromFeatures=H;b.convertToFeature=function(a,b,c,e){W[0]=a;N(S,W,b,c,e);a=S[0];S.length=W.length=0;return a};b.convertFromGeometry=function(a,b,c){if(!a)return null;var e=new h.default;"hasZ"in a&&null==b&&(b=a.hasZ);"hasM"in a&&null==c&&(c=a.hasM);if(p.isPoint(a))return w(null!=b?b:
null!=a.z,null!=c?c:null!=a.m)(e,a);if(p.isPolygon(a))return G(e,a,b,c);if(p.isPolyline(a))return F(e,a,l(b,c));if(p.isMultipoint(a))return D(e,a,l(b,c));Q.error("convertFromGeometry:unknown-geometry",new d("Unable to parse unknown geometry type '"+a+"'"))};b.convertToGeometry=function(a,b,c,e){a=a&&("coords"in a?a:a.geometry);if(!a)return null;switch(b){case "esriGeometryPoint":return b=f,c&&e?b=y:c?b=u:e&&(b=v),b(a);case "esriGeometryMultipoint":return A(a,c,e);case "esriGeometryPolyline":return C(a,
c,e);case "esriGeometryPolygon":return E(a,c,e);default:Q.error("convertToGeometry:unknown-geometry",new d("Unable to parse unknown geometry type '"+b+"'"))}};b.convertToFeatures=N;b.convertToFeatureSet=function(a){var b=a.objectIdFieldName,c=a.spatialReference,e=a.transform,d=a.fields,f=a.hasM,g=a.hasZ,h=a.geometryType,l=a.exceededTransferLimit;a={features:N([],a.features,h,g,f),fields:d,geometryType:h,objectIdFieldName:b,spatialReference:c};e&&(a.transform=e);l&&(a.exceededTransferLimit=l);f&&(a.hasM=
f);g&&(a.hasZ=g);return a};b.convertFromFeatureSet=function(a,b){var c=new k.default,e=a.hasM,f=a.hasZ,g=a.features,h=a.objectIdFieldName,l=a.spatialReference,m=a.geometryType,n=a.exceededTransferLimit,p=a.transform;c.fields=a.fields;c.geometryType=m;c.objectIdFieldName=h||b;c.spatialReference=l;if(!c.objectIdFieldName)return Q.error(new d("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),c;g&&H(c.features,g,m,f,e,c.objectIdFieldName);n&&(c.exceededTransferLimit=n);e&&
(c.hasM=e);f&&(c.hasZ=f);p&&(c.transform=p);return c};b.hydrateOptimizedFeatureSet=function(a){var b=a.transform,c=a.hasM,e=a.hasZ;if(!b)return a;for(var d=0,f=a.features;d<f.length;d++){var g=f[d];g.geometry&&R(g.geometry,g.geometry,c,e,b);g.centroid&&R(g.centroid,g.centroid,c,e,b)}a.transform=null;return a};b.quantizeOptimizedFeatureSet=function(a,b){var c=b.geometryType,e=b.features,d=b.hasM,f=b.hasZ;if(!a)return b;for(var g=0;g<e.length;g++){var l=e[g],k=new m.default(new h.default,l.attributes);
M(k.geometry,l.geometry,d,f,c,a);l.centroid&&(k.centroid=new h.default,M(k.centroid,l.centroid,d,f,"esriGeometryPoint",a));e[g]=k}b.transform=a;return b};b.quantizeOptimizedGeometry=M;b.generalizeOptimizedGeometry=function(a,b,e,d,f,g,h,k){void 0===h&&(h=e);void 0===k&&(k=d);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!b||!b.coords.length)return null;f=O[f];var m=b.coords;b=b.lengths;var n=l(e,d),p=l(e&&h,d&&k);e=c(e,d,h,k);if(!b.length)return e(a.coords,m,0,0,m[0],
m[1]),a.lengths.length&&(a.lengths.length=0),a.coords.length=n,a;d=0;g*=g;for(h=0;h<b.length;h++){k=b[h];if(!(k<f)){var q=a.coords.length/p,r=d,t=d+(k-1)*n;e(a.coords,m,a.coords.length,r,m[r],m[r+1]);I(a.coords,m,n,g,e,r,t);e(a.coords,m,a.coords.length,t,m[t],m[t+1]);r=a.coords.length/p-q;r>=f?a.lengths.push(r):a.coords.length=q*p}d+=k*n}return a.coords.length?a:null};b.getBoundsOptimizedGeometry=function(a,b,c,e){c=l(c,e);var d=e=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,g=Number.NEGATIVE_INFINITY;
if(b&&b.coords){b=b.coords;for(var h=0;h<b.length;h+=c){var k=b[h],m=b[h+1];e=Math.min(e,k);f=Math.max(f,k);d=Math.min(d,m);g=Math.max(g,m)}}a[0]=e;a[1]=d;a[2]=f;a[3]=g;return a};b.getQuantizedBoundsOptimizedGeometry=function(a,b,c,e){c=l(c,e);e=b.coords;var d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,k=0,m=0;for(b=b.lengths;m<b.length;m++)for(var n=b[m],p=e[k],q=e[k+1],d=Math.min(p,d),f=Math.min(q,f),g=Math.max(p,g),h=Math.max(q,h),
k=k+c,r=1;r<n;r++,k+=c){var t=e[k],u=e[k+1],p=p+t,q=q+u;0>t&&(d=Math.min(d,p));0<t&&(g=Math.max(g,p));0>u?f=Math.min(f,q):0<u&&(h=Math.max(h,q))}a[0]=d;a[1]=f;a[2]=g;a[3]=h;return a};b.hydrateOptimizedGeometry=R;b.removeZMValues=function(a,b,e,d,f,g){var h,k=l(e,d);e=c(e,d,f,g);d=b.coords;a.coords.length=0;a.lengths.length=0;(h=a.lengths).push.apply(h,b.lengths);for(b=0;b<d.length;b+=k)e(a.coords,d,a.coords.length,b,d[b],d[b+1]);return a};b.removeCollinearVectices=function(a,b,e,d,f){if(!b||!b.coords||
!b.coords.length)return null;e=O[e];var g=b.coords;b=b.lengths;var h=c(d,f,d,f);d=l(d,f);for(var k=f=0,m=0,n=0,p=0;p<b.length;p++){var q=b[p],k=n;h(a.coords,g,k,f,g[f],g[f+1]);f+=d;var r=g[f],t=g[f+1],u=r,v=t,x=t/r,k=k+d;h(a.coords,g,k,f,u,v);f+=d;for(var z=2;z<q;z++){var r=g[f],t=g[f+1],w=t/r,B=x===w||!isFinite(x)&&!isFinite(w),x=B&&isFinite(w)?0<=x&&0<=w||0>=x&&0>=w:0<=v&&0<=t||0>=v&&0>=t;B&&x?(u+=r,v+=t):(u=r,v=t,k+=d);h(a.coords,g,k,f,u,v);f+=d;x=w}k+=d;q=(k-n)/d;q>=e&&(a.lengths[m]=q,n=k,m++)}a.coords.length>
n&&(a.coords.length=n);a.lengths.length>m&&(a.lengths.length=m);return a.coords.length&&a.lengths.length?a:null}})},"esri/layers/graphics/OptimizedFeature":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(a,b,p,m){void 0===a&&(a=null);void 0===b&&(b={});this.localId=0;this.geohashIndexed=!1;this.geohashY=this.geohashX=0;this.geometry=a;b&&(this.attributes=b);p&&(this.centroid=p);null!=m&&(this.objectId=m)}}();b.default=
a})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1}}();b.default=a})},"esri/layers/graphics/OptimizedGeometry":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(a,b){void 0===a&&(a=[]);void 0===b&&(b=[]);this.lengths=a;this.coords=b}}();b.default=a})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,b,d,n,p,m,k,h){return function(a){function b(b){b=a.call(this,b)||this;b.type="extrude";b.size=void 0;
b.material=null;b.castShadows=!0;b.edges=null;return b}d.__extends(b,a);e=b;b.prototype.clone=function(){return new e({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var e;d.__decorate([p.enumeration({Extrude:"extrude"})],b.prototype,"type",void 0);d.__decorate([p.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);d.__decorate([p.property({type:h.default,json:{write:!0}})],
b.prototype,"material",void 0);d.__decorate([p.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);d.__decorate([p.property(k.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=e=d.__decorate([p.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(m)})},"esri/symbols/Symbol3DLayer":function(){define("require exports tslib ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,b,d,n,p,m){var k=n.strict()({Icon:"icon",
Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text",Water:"water"});a=function(a){function b(b){b=a.call(this,b)||this;b.enabled=!0;b.type=null;return b}d.__extends(b,a);b.prototype.writeEnabled=function(a,b,d){a||(b[d]=a)};d.__decorate([m.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);d.__decorate([m.writer("enabled")],b.prototype,"writeEnabled",null);d.__decorate([m.property({type:k.apiValues,readOnly:!0,
json:{read:!1,write:{ignoreOrigin:!0,writer:k.write}}})],b.prototype,"type",void 0);return b=d.__decorate([m.subclass("esri.symbols.Symbol3DLayer")],b)}(p.JSONSupport);(a||(a={})).typeJSONDictionary=k;return a})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,d,n,p){function m(a,b,d){if(!a)return a;switch(a.type){case "solid":return b=new p,b.read(a,d),b;case "sketch":return b=new n,b.read(a,d),b}}Object.defineProperty(b,
"__esModule",{value:!0});b.read=m;b.symbol3dEdgesProperty={types:{key:"type",base:d,typeMap:{solid:p,sketch:n}},json:{read:m,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(a,b,d,n,p,m,k,h,l){return function(a){function b(b){b=a.call(this,b)||this;b.color=new n([0,0,0,1]);b.extensionLength=0;b.size=k.px2pt(1);
return b}d.__extends(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=d.__assign({},a),delete a.type);return a};b.prototype.clone=function(){};b.prototype.cloneProperties=function(){return{color:m.clone(this.color),size:this.size,extensionLength:this.extensionLength}};d.__decorate([h.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);d.__decorate([h.property(l.colorAndTransparencyProperty)],b.prototype,"color",void 0);d.__decorate([h.property(d.__assign(d.__assign({},
l.screenSizeProperty),{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],b.prototype,"extensionLength",void 0);d.__decorate([h.property(l.screenSizeProperty)],b.prototype,"size",void 0);return b=d.__decorate([h.subclass("esri.symbols.edges.Edges3D")],b)}(p.JSONSupport)})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),function(a,b,d,n,p,m){Object.defineProperty(b,
"__esModule",{value:!0});b.colorAndTransparencyProperty={type:d,json:{type:[p.Integer],default:null,read:{source:["color","transparency"],reader:function(a,b){a=null!=b.transparency?m.transparencyToOpacity(b.transparency):1;return(b=b.color)&&Array.isArray(b)?new d([b[0]||0,b[1]||0,b[2]||0,a]):null}},write:{target:{color:{type:[p.Integer]},transparency:{type:p.Integer}},writer:function(a,b){b.color=a.toJSON().slice(0,3);a=m.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}}}};b.screenSizeProperty=
{type:Number,cast:n.toPt,json:{write:!0}};b.stipplePatternProperty={type:[Number],cast:function(a){return null!=a?a:Array.isArray(a)?a.map(n.toPt):null},json:{read:!1,write:!1}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.opacityToTransparency=function(a){a=d.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};b.transparencyToOpacity=function(a){return Math.max(0,
Math.min(1-a/100,1))}})},"esri/symbols/edges/SketchEdges3D":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Edges3D"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.type="sketch";return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h(this.cloneProperties())};var h;d.__decorate([n.property({type:["sketch"]})],b.prototype,"type",void 0);return b=h=d.__decorate([n.subclass("esri.symbols.edges.SketchEdges3D")],b)}(p)})},
"esri/symbols/edges/SolidEdges3D":function(){define(["require","exports","tslib","../../core/accessorSupport/decorators","./Edges3D"],function(a,b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.type="solid";return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h(this.cloneProperties())};var h;d.__decorate([n.property({type:["solid"]})],b.prototype,"type",void 0);return b=h=d.__decorate([n.subclass("esri.symbols.support.SolidEdges3D")],b)}(p)})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports tslib ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,d,n,p,m,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=null;return b}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({color:p.isSome(this.color)?this.color.clone():null})};var c;d.__decorate([m.property(k.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=d.__decorate([m.subclass("esri.symbols.support.Symbol3DMaterial")],b)}(n.JSONSupport);b.Symbol3DMaterial=a;b.default=
a})},"esri/symbols/FillSymbol":function(){define("require exports tslib ../core/jsonMap ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),function(a,b,d,n,p,m,k){var h=new n.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}d.__extends(b,a);b.prototype.hash=function(){return this.type+"."+(this.outline&&this.outline.hash())};d.__decorate([p.property({type:m,json:{default:null,
write:!0}})],b.prototype,"outline",void 0);d.__decorate([p.property({type:h.apiValues,readOnly:!0,json:{type:h.jsonValues}})],b.prototype,"type",void 0);return b=d.__decorate([p.subclass("esri.symbols.FillSymbol")],b)}(k)})},"esri/symbols/SimpleLineSymbol":function(){define("require exports tslib ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol ./LineSymbolMarker".split(" "),function(a,b,d,n,p,m,k,h,l){var c=new n.default({esriSLSSolid:"solid",esriSLSDash:"dash",
esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.type="simple-line";b.style="solid";b.cap="round";
b.join="round";b.marker=null;b.miterLimit=2;return b}d.__extends(b,a);e=b;b.prototype.normalizeCtorArgs=function(a,b,c,e,d,g){if(a&&"string"!==typeof a)return a;var f={};null!=a&&(f.style=a);null!=b&&(f.color=b);null!=c&&(f.width=m.toPt(c));null!=e&&(f.cap=e);null!=d&&(f.join=d);null!=g&&(f.miterLimit=m.toPt(g));return f};b.prototype.clone=function(){var a;return new e({color:p.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null===
(a=this.marker)||void 0===a?void 0:a.clone()})};b.prototype.hash=function(){var b,c;return a.prototype.hash.call(this)+"."+(null===(b=this.color)||void 0===b?void 0:b.hash())+"."+this.style+"."+this.cap+"."+this.join+"."+this.miterLimit+"."+(null===(c=this.marker)||void 0===c?void 0:c.hash())};var e;d.__decorate([k.enumeration({esriSLS:"simple-line"})],b.prototype,"type",void 0);d.__decorate([k.property({type:c.apiValues,json:{read:c.read,write:c.write}})],b.prototype,"style",void 0);d.__decorate([k.property({type:["butt",
"round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"cap",void 0);d.__decorate([k.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"join",void 0);d.__decorate([k.property({type:l,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"marker",void 0);d.__decorate([k.property({type:Number,json:{read:!1,
write:!1}})],b.prototype,"miterLimit",void 0);return b=e=d.__decorate([k.subclass("esri.symbols.SimpleLineSymbol")],b)}(h)})},"esri/symbols/LineSymbol":function(){define("require exports tslib ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,b,d,n,p,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="simple-line";b.width=.75;return b}d.__extends(b,a);b.prototype.hash=function(){return this.type+"."+this.width};d.__decorate([p.enumeration({esriSLS:"simple-line"})],
b.prototype,"type",void 0);d.__decorate([p.property({type:Number,cast:n.toPt,json:{write:!0}})],b.prototype,"width",void 0);return b=d.__decorate([p.subclass("esri.symbols.LineSymbol")],b)}(m)})},"esri/symbols/LineSymbolMarker":function(){define("require exports tslib ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators".split(" "),function(a,b,d,n,p,m,k){return function(a){function b(b){b=a.call(this,b)||this;b.placement="begin-end";b.type="line-marker";b.style="arrow";return b}
d.__extends(b,a);c=b;b.prototype.writeType=function(a,b,c,d){"web-map"!==(null===d||void 0===d?void 0:d.origin)&&(b[c]=a)};b.prototype.writeStyle=function(a,b,c,d){b[c]="web-map"===(null===d||void 0===d?void 0:d.origin)?"arrow":a};Object.defineProperty(b.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});b.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};b.prototype.writeColor=function(a,b,c,d){"web-map"!==(null===d||void 0===
d?void 0:d.origin)&&(b[c]=a)};b.prototype.clone=function(){return new c({color:m.clone(this.color),placement:this.placement,style:this.style})};b.prototype.hash=function(){var a;return this.placement+"."+(null===(a=this.color)||void 0===a?void 0:a.hash())+"."+this.style};var c;d.__decorate([k.property({type:["begin","end","begin-end"],json:{default:"begin-end",write:!0}})],b.prototype,"placement",void 0);d.__decorate([k.property({type:String,readOnly:!0})],b.prototype,"type",void 0);d.__decorate([k.writer("type")],
b.prototype,"writeType",null);d.__decorate([k.property({type:"arrow circle square diamond cross x".split(" ")})],b.prototype,"style",void 0);d.__decorate([k.writer("style")],b.prototype,"writeStyle",null);d.__decorate([k.property({type:n,value:null,json:{write:{allowNull:!0}}})],b.prototype,"color",null);d.__decorate([k.reader("color")],b.prototype,"readColor",null);d.__decorate([k.writer("color")],b.prototype,"writeColor",null);return b=c=d.__decorate([k.subclass("esri.symbols.LineSymbolMarker")],
b)}(p.JSONSupport)})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(a,b,d,n,p,m,k,h,l,c){return function(a){function b(b){b=a.call(this,b)||this;b.type="fill";b.material=null;b.castShadows=!0;b.outline=null;b.edges=null;return b}d.__extends(b,a);e=b;b.prototype.clone=function(){return new e({edges:n.isSome(this.edges)?
this.edges.clone():null,enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,outline:n.isSome(this.outline)?this.outline.clone():null})};b.fromSimpleFillSymbol=function(a){return new e({material:{color:(a.color||h.transparentWhite).clone()},outline:a.outline?new c.default({size:a.outline.width||0,color:(a.outline.color||h.white).clone()}):null})};var e;d.__decorate([p.enumeration({Fill:"fill"})],b.prototype,"type",void 0);d.__decorate([p.property({type:l.default,
json:{write:!0}})],b.prototype,"material",void 0);d.__decorate([p.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);d.__decorate([p.property({type:c.default,json:{write:!0}})],b.prototype,"outline",void 0);d.__decorate([p.property(k.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=e=d.__decorate([p.subclass("esri.symbols.FillSymbol3DLayer")],b)}(m)})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],
function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.white=new d("white");b.black=new d("black");b.transparentWhite=new d([255,255,255,0]);b.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports tslib ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),function(a,b,d,n,p,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,
arguments)||this}d.__extends(b,a);k=b;b.prototype.clone=function(){return new k({color:n.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var k;d.__decorate([p.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],b.prototype,"colorMixMode",void 0);return b=k=d.__decorate([p.subclass("esri.symbols.support.Symbol3DFillMaterial")],b)}(m.default);b.Symbol3DFillMaterial=a;b.default=a})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,d,n,p,m,k,h,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new n([0,0,0,1]);b.size=k.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({color:m.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():
null})};var c;d.__decorate([h.property(l.colorAndTransparencyProperty)],b.prototype,"color",void 0);d.__decorate([h.property(l.screenSizeProperty)],b.prototype,"size",void 0);d.__decorate([h.property(l.stipplePatternProperty)],b.prototype,"stipplePattern",void 0);d.__decorate([h.property({type:n})],b.prototype,"stippleOffColor",void 0);return b=c=d.__decorate([h.subclass("esri.symbols.support.Symbol3DOutline")],b)}(p.JSONSupport);b.Symbol3DOutline=a;b.default=a})},"esri/symbols/Font":function(){define("require exports tslib ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),
function(a,b,d,n,p,m){return function(a){function b(b){b=a.call(this,b)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}d.__extends(b,a);k=b;b.prototype.castSize=function(a){return p.toPt(a)};b.prototype.clone=function(){return new k({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};b.prototype.hash=function(){return this.decoration+"."+this.family+"."+this.size+"."+this.style+"."+this.weight};
var k;d.__decorate([m.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],b.prototype,"decoration",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);d.__decorate([m.property({type:Number,json:{write:{overridePolicy:function(a,b,d){return{enabled:!d||!d.textSymbol3D}}}}})],b.prototype,"size",void 0);d.__decorate([m.cast("size")],b.prototype,"castSize",null);d.__decorate([m.property({type:["normal","italic","oblique"],json:{default:"normal",
write:!0}})],b.prototype,"style",void 0);d.__decorate([m.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],b.prototype,"weight",void 0);return b=k=d.__decorate([m.subclass("esri.symbols.Font")],b)}(n.JSONSupport)})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports tslib ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g,q){function f(a){var b="width"in a?a.width:a.size,c="height"in a?a.height:a.size,e=t(a.xoffset);a=t(a.yoffset);return(e||a)&&b&&c?{x:-e/b,y:a/c}:null}function t(a){return isFinite(a)?a:0}var u=n.getLogger("esri.symbols.IconSymbol3DLayer"),z={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor="center";
b.anchorPosition=void 0;b.outline=void 0;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:p.isSome(this.material)?this.material.clone():null,outline:p.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};b.fromSimpleMarkerSymbol=function(a){var b=a.color||l.white,c=f(a),e=a.outline&&0<a.outline.width?{size:a.outline.width,
color:(a.outline.color||l.white).clone()}:null,d=h,g=a.size;a=a.style;var k=z[a];k?a=k:(u.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),a="circle");return new d({size:g,resource:{primitive:a},material:{color:b},outline:e,anchor:c?"relative":void 0,anchorPosition:c})};b.fromPictureMarkerSymbol=function(a){var b=!a.color||l.isBlack(a.color)?l.white:a.color,c=f(a);return new h({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:b.clone()},anchor:c?"relative":
void 0,anchorPosition:c})};b.fromCIMSymbol=function(a){return new h({resource:{href:m.makeData({mediaType:"application/json",data:JSON.stringify(a.data)})}})};var h;d.__decorate([k.property({type:g.default,json:{write:!0}})],b.prototype,"material",void 0);d.__decorate([k.property({type:c.default,json:{write:!0}})],b.prototype,"resource",void 0);d.__decorate([k.enumeration({Icon:"icon"})],b.prototype,"type",void 0);d.__decorate([k.property(e.screenSizeProperty)],b.prototype,"size",void 0);d.__decorate([k.enumeration({center:"center",
left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),k.property({json:{default:"center"}})],b.prototype,"anchor",void 0);d.__decorate([k.property({type:r.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new r.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===
this.anchor}}}}})],b.prototype,"anchorPosition",void 0);d.__decorate([k.property({type:q.default,json:{write:!0}})],b.prototype,"outline",void 0);return b=h=d.__decorate([k.subclass("esri.symbols.IconSymbol3DLayer")],b)}(h)})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators ../../support/persistableUrlUtils".split(" "),function(a,b,d,n,p,m,k,h){Object.defineProperty(b,
"__esModule",{value:!0});var l=n.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a=function(a){function b(b){return a.call(this,b)||this}d.__extends(b,a);c=b;b.prototype.readHref=function(a,b,c){return a?h.fromJSON(a,c):b.dataURI};b.prototype.writeHref=function(a,b,c,e){a&&(m.isDataProtocol(a)?b.dataURI=a:(b.href=h.toJSON(a,e),m.isAbsolute(b.href)&&(b.href=m.normalize(b.href))))};b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};
var c;d.__decorate([k.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);d.__decorate([k.reader("href")],b.prototype,"readHref",null);d.__decorate([k.writer("href",{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);d.__decorate([k.enumeration(l)],b.prototype,"primitive",void 0);return b=c=d.__decorate([k.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(p.JSONSupport);b.IconSymbol3DLayerResource=a;b.defaultPrimitive=
"circle";b.default=a})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({x:this.x,y:this.y})};var h;d.__decorate([p.property({type:Number})],b.prototype,"x",void 0);
d.__decorate([p.property({type:Number})],b.prototype,"y",void 0);return b=h=d.__decorate([p.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],b)}(n);b.Symbol3DAnchorPosition2D=a;b.default=a})},"esri/symbols/LabelSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,d,n,p,m,k,h,l,c){var e=n.ofType({base:null,key:"type",
typeMap:{text:h}});return function(a){function b(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new e;b.type="label-3d";return b}d.__extends(b,a);k=b;b.prototype.supportsCallout=function(){return!0};b.prototype.hasVisibleCallout=function(){return l.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return l.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new k({styleOrigin:p.clone(this.styleOrigin),symbolLayers:p.clone(this.symbolLayers),
thumbnail:p.clone(this.thumbnail),callout:p.clone(this.callout),verticalOffset:p.clone(this.verticalOffset)})};b.fromTextSymbol=function(a){return new k({symbolLayers:[h.fromTextSymbol(a)]})};var k;d.__decorate([m.property({type:c.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);d.__decorate([m.property(l.calloutProperty)],b.prototype,"callout",void 0);d.__decorate([m.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);d.__decorate([m.property({type:e})],b.prototype,
"symbolLayers",void 0);d.__decorate([m.enumeration({LabelSymbol3D:"label-3d"})],b.prototype,"type",void 0);return b=k=d.__decorate([m.subclass("esri.symbols.LabelSymbol3D")],b)}(k)})},"esri/symbols/Symbol3D":function(){define("require exports tslib ../core/Collection ../core/collectionUtils ../core/jsonMap ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ../support/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g,q,f,t,u,z,v,B,y,x,w,A){var D={icon:f,object:u,line:t,path:z,fill:q,extrude:g,text:y,water:x},C=n.ofType({base:B,key:"type",typeMap:D}),F=m.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),E=k.getLogger("esri.symbols.Symbol3D");return function(a){function b(b){b=a.call(this,b)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&
b.__accessor__.metadatas.symbolLayers;b._set("symbolLayers",new (c&&c.type||n));return b}d.__extends(b,a);Object.defineProperty(b.prototype,"color",{get:function(){return null},set:function(a){E.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbolLayers",{set:function(a){p.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});
b.prototype.readSymbolLayers=function(a,b,c){b=[];for(var e=0;e<a.length;e++){var d=a[e],f=B.typeJSONDictionary.read(d.type),g=f&&D[f];g?(d=new g,d.read(a[e],c),b.push(d)):(E.warn("Unknown symbol layer type: "+f),c&&c.messages&&c.messages.push(new l("symbol-layer:unsupported","Symbol layers of type '"+(f||d.type||"unknown")+"' are not supported",{definition:d,context:c})))}return b};b.prototype.readStyleOrigin=function(a,b,c){if(a.styleUrl&&a.name)return b=r.fromJSON(a.styleUrl,c),new w({styleUrl:b,
name:a.name});if(a.styleName&&a.name)return new w({portal:c&&c.portal||e.getDefault(),styleName:a.styleName,name:a.name});c&&c.messages&&c.messages.push(new l("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:c,definition:a}))};b.prototype.writeStyleOrigin=function(a,b,c,e){a.styleUrl&&a.name?(c=r.toJSON(a.styleUrl,e),h.isAbsolute(c)&&(c=h.normalize(c)),b.styleOrigin={styleUrl:c,name:a.name}):a.styleName&&a.name&&(a.portal&&
e&&e.portal&&!h.hasSamePortal(a.portal.restUrl,e.portal.restUrl)?e&&e.messages&&e.messages.push(new l("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};b.prototype.normalizeCtorArgs=function(a){return a instanceof B||a&&D[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};d.__decorate([c.property({json:{read:!1,write:!1}})],
b.prototype,"color",null);d.__decorate([c.property({type:C,nonNullable:!0,json:{write:!0}}),c.cast(p.castForReferenceSetter)],b.prototype,"symbolLayers",null);d.__decorate([c.reader("symbolLayers")],b.prototype,"readSymbolLayers",null);d.__decorate([c.property({type:w})],b.prototype,"styleOrigin",void 0);d.__decorate([c.reader("styleOrigin")],b.prototype,"readStyleOrigin",null);d.__decorate([c.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],
b.prototype,"writeStyleOrigin",null);d.__decorate([c.property({type:A.default,json:{read:!1}})],b.prototype,"thumbnail",void 0);d.__decorate([c.property({type:F.apiValues,readOnly:!0,json:{type:F.jsonValues,read:!1}})],b.prototype,"type",void 0);return b=d.__decorate([c.subclass("esri.symbols.Symbol3D")],b)}(v)})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.referenceSetter=function(a,b,m){void 0===
m&&(m=d);b||(b=new m);if(b===a)return b;b.removeAll();a&&(Array.isArray(a)||"items"in a&&Array.isArray(a.items))?b.addMany(a):a&&b.add(a);return b};b.castForReferenceSetter=function(a){return a}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports tslib ../Color ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(a,b,d,n,p,m,k,h,l,c,e){return function(a){function b(b){b=
a.call(this,b)||this;b.material=null;b.type="line";b.join="miter";b.cap="butt";b.size=m.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({enabled:this.enabled,material:p.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};b.fromSimpleLineSymbol=
function(a){return new h({size:a.width||1,cap:a.cap||"butt",join:a.join||"miter",material:{color:(a.color||l.white).clone()}})};var h;d.__decorate([k.property({type:e.default,json:{write:!0}})],b.prototype,"material",void 0);d.__decorate([k.enumeration({Line:"line"})],b.prototype,"type",void 0);d.__decorate([k.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);d.__decorate([k.property({type:["butt","square","round"],json:{write:!0,default:"butt"}})],
b.prototype,"cap",void 0);d.__decorate([k.property(c.screenSizeProperty)],b.prototype,"size",void 0);d.__decorate([k.property(c.stipplePatternProperty)],b.prototype,"stipplePattern",void 0);d.__decorate([k.property({type:n})],b.prototype,"stippleOffColor",void 0);return b=h=d.__decorate([k.subclass("esri.symbols.LineSymbol3DLayer")],b)}(h)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,d,n,p,m,k,h,l){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,
enabled:this.enabled,height:this.height,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var c;d.__decorate([p.property({type:l.default,json:{write:!0}})],b.prototype,"material",void 0);d.__decorate([p.property({type:Boolean,nonNullable:!0,
json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);d.__decorate([p.property({type:k.default,json:{write:!0}})],b.prototype,"resource",void 0);d.__decorate([p.enumeration({Object:"object"})],b.prototype,"type",void 0);d.__decorate([p.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);d.__decorate([p.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);d.__decorate([p.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);d.__decorate([p.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),p.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);d.__decorate([p.property({type:h.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new h.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);d.__decorate([p.property({type:Number,
json:{write:!0}})],b.prototype,"heading",void 0);d.__decorate([p.property({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0);d.__decorate([p.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);d.__decorate([p.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=c=d.__decorate([p.subclass("esri.symbols.ObjectSymbol3DLayer")],b)}(m)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../support/persistableUrlUtils".split(" "),
function(a,b,d,n,p,m,k){Object.defineProperty(b,"__esModule",{value:!0});var h=n.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}d.__extends(b,a);e=b;b.prototype.clone=function(){return new e({href:this.href,primitive:this.primitive})};var e;d.__decorate([m.property({type:String,json:{read:k.read,write:k.write}})],b.prototype,"href",
void 0);d.__decorate([m.enumeration(h)],b.prototype,"primitive",void 0);return b=e=d.__decorate([m.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(p.JSONSupport);b.ObjectSymbol3DLayerResource=a;b.defaultPrimitive="sphere";b.default=a})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=
null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;b.z=0;return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({x:this.x,y:this.y,z:this.z})};var h;d.__decorate([p.property({type:Number})],b.prototype,"x",void 0);d.__decorate([p.property({type:Number})],b.prototype,"y",void 0);d.__decorate([p.property({type:Number})],b.prototype,"z",void 0);return b=h=d.__decorate([p.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],b)}(n);b.Symbol3DAnchorPosition3D=a;b.default=a})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports tslib ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),
function(a,b,d,n,p,m,k){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.type="path";b.profile="circle";b.join="miter";b.cap="butt";b.width=void 0;b.height=void 0;b.anchor="center";b.profileRotation="all";return b}d.__extends(b,a);c=b;Object.defineProperty(b.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=
this.width=a},enumerable:!0,configurable:!0});b.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};b.prototype.clone=function(){return new c({enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var c;d.__decorate([p.property({type:k.default,json:{write:!0}})],b.prototype,
"material",void 0);d.__decorate([p.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);d.__decorate([p.enumeration({Path:"path"})],b.prototype,"type",void 0);d.__decorate([p.property({type:Number})],b.prototype,"size",null);d.__decorate([p.reader("size")],b.prototype,"readSize",null);d.__decorate([p.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0);d.__decorate([p.property({type:["miter","bevel","round"],
json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);d.__decorate([p.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);d.__decorate([p.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],b.prototype,"width",void 0);d.__decorate([p.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);d.__decorate([p.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],
b.prototype,"anchor",void 0);d.__decorate([p.property({type:["heading","all"],json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);return b=c=d.__decorate([p.subclass("esri.symbols.PathSymbol3DLayer")],b)}(m)})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports tslib ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),function(a,b,d,n,p,m,k,h,l,
c,e){return function(a){function b(b){b=a.call(this,b)||this;b._userSize=void 0;b.halo=null;b.material=null;b.text=void 0;b.type="text";return b}d.__extends(b,a);h=b;Object.defineProperty(b.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});b.prototype.writeFont=function(a,b,c,e){c=d.__assign(d.__assign({},e),{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(b.prototype,
"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new h({enabled:this.enabled,font:this.font&&n.clone(this.font),halo:this.halo&&n.clone(this.halo),material:p.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};b.fromTextSymbol=function(a){var b;
b=a.haloColor;var c=a.haloSize;b=b&&0<c?{color:n.clone(b),size:c}:null;c=a.font?a.font.clone():new k;return new h({size:c.size,font:c,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var h;d.__decorate([m.property({type:k,json:{write:!0}})],b.prototype,"font",null);d.__decorate([m.writer("font")],b.prototype,"writeFont",null);d.__decorate([m.property({type:c.default,json:{write:!0}})],b.prototype,"halo",void 0);d.__decorate([m.property({type:e.default,json:{write:!0}})],b.prototype,
"material",void 0);d.__decorate([m.property(l.screenSizeProperty),m.property({dependsOn:["font.size"]})],b.prototype,"size",null);d.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);d.__decorate([m.enumeration({Text:"text"})],b.prototype,"type",void 0);return b=h=d.__decorate([m.subclass("esri.symbols.TextSymbol3DLayer")],b)}(h)})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,d,n,p,m,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new n([0,0,0,1]);b.size=0;return b}d.__extends(b,a);e=b;b.prototype.clone=function(){return new e({color:m.clone(this.color),size:this.size})};var e;d.__decorate([k.property(h.colorAndTransparencyProperty)],b.prototype,"color",void 0);d.__decorate([k.property(h.screenSizeProperty)],b.prototype,"size",void 0);return b=e=d.__decorate([k.subclass("esri.symbols.support.Symbol3DHalo")],
b)}(p.JSONSupport);b.Symbol3DHalo=a;b.default=a})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports tslib ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(a,b,d,n,p,m,k,h){a=function(a){function b(b){b=a.call(this,b)||this;b.color=l.clone();b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({color:p.clone(this.color),
waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var c;d.__decorate([m.property({type:n,nonNullable:!0,json:{type:[k.Integer],write:function(a,b,c){return b[c]=a.toArray(1)},default:function(){return l.clone()},defaultEquals:function(a){return a.toCss(!0)===l.toCss(!0)}}})],b.prototype,"color",void 0);d.__decorate([m.enumeration({Water:"water"})],b.prototype,"type",void 0);d.__decorate([m.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],
b.prototype,"waterbodySize",void 0);d.__decorate([m.property({type:Number,json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);d.__decorate([m.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);return b=c=d.__decorate([m.subclass("esri.symbols.WaterSymbol3DLayer")],b)}(h);var l=new n([0,119,190]);return a})},"esri/symbols/support/StyleOrigin":function(){define("require exports tslib ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(a,b,d,n,p,m){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}d.__extends(b,a);k=b;b.prototype.clone=function(){return new k({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var k;d.__decorate([p.property({type:String})],b.prototype,"name",void 0);d.__decorate([p.property({type:String})],b.prototype,"styleUrl",void 0);d.__decorate([p.property({type:String})],b.prototype,"styleName",void 0);d.__decorate([p.property({type:m})],
b.prototype,"portal",void 0);return b=k=d.__decorate([p.subclass("esri.symbols.support.StyleOrigin")],b)}(n)})},"esri/symbols/support/Thumbnail":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(a,b,d,n,p){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({url:this.url})};var h;d.__decorate([p.property({type:String})],
b.prototype,"url",void 0);return b=h=d.__decorate([p.subclass("esri.symbols.support.Thumbnail")],b)}(n);b.Thumbnail=a;b.default=a})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(a,b,d,n){function p(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function m(a,b,d){if(!a)return a;switch(a.type){case "line":return b=new n,b.read(a,d),b}}Object.defineProperty(b,"__esModule",{value:!0});
b.hasVisibleVerticalOffset=p;b.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?p(a)?!0:!1:!1};b.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};b.read=m;b.calloutProperty={types:{key:"type",base:d,typeMap:{line:n}},json:{read:m,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define(["require","exports","tslib","../../core/JSONSupport","../../core/accessorSupport/decorators"],function(a,
b,d,n,p){return function(a){function b(b){b=a.call(this,b)||this;b.visible=!0;return b}d.__extends(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=d.__assign({},a),delete a.type);return a};b.prototype.clone=function(){};d.__decorate([p.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);d.__decorate([p.property({readOnly:!0})],b.prototype,"visible",void 0);return b=d.__decorate([p.subclass("esri.symbols.callouts.Callout3D")],b)}(n.JSONSupport)})},
"esri/symbols/callouts/LineCallout3D":function(){define("require exports tslib ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),function(a,b,d,n,p,m,k,h,l,c,e){return function(a){function b(b){b=a.call(this,b)||this;b.type="line";b.color=new n([0,0,0,1]);b.size=k.px2pt(1);b.border=null;return b}d.__extends(b,a);l=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<
this.size&&m.isSome(this.color)&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new l({color:p.clone(this.color),size:this.size,border:p.clone(this.border)})};var l;d.__decorate([h.property({type:["line"]})],b.prototype,"type",void 0);d.__decorate([h.property(e.colorAndTransparencyProperty)],b.prototype,"color",void 0);d.__decorate([h.property(e.screenSizeProperty)],b.prototype,"size",void 0);d.__decorate([h.property({type:c.default,json:{write:!0}})],b.prototype,
"border",void 0);d.__decorate([h.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=l=d.__decorate([h.subclass("esri.symbols.callouts.LineCallout3D")],b)}(l)})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports tslib ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(a,b,d,n,p,m,k,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=
null!==a&&a.apply(this,arguments)||this;b.color=new n("white");return b}d.__extends(b,a);e=b;b.prototype.clone=function(){return new e({color:m.clone(this.color)})};var e;d.__decorate([k.property(h.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=e=d.__decorate([k.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(p.JSONSupport);b.LineCallout3DBorder=a;b.default=a})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports tslib ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,d,n,p,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}d.__extends(b,a);k=b;b.prototype.clone=function(){return new k({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var k;d.__decorate([p.property(m.screenSizeProperty)],b.prototype,"screenLength",void 0);d.__decorate([p.property({type:Number,json:{write:!0,default:0}})],
b.prototype,"minWorldLength",void 0);d.__decorate([p.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=k=d.__decorate([p.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)}(n.JSONSupport);b.Symbol3DVerticalOffset=a;b.default=a})},"esri/symbols/LineSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(a,b,d,n,p,m,k,h,l){var c=
n.ofType({base:null,key:"type",typeMap:{line:k,path:h}}),e=n.ofType({base:null,key:"type",typeMap:{line:k,path:h}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new c;b.type="line-3d";return b}d.__extends(b,a);h=b;b.prototype.clone=function(){return new h({styleOrigin:p.clone(this.styleOrigin),symbolLayers:p.clone(this.symbolLayers),thumbnail:p.clone(this.thumbnail)})};b.fromSimpleLineSymbol=function(a){return new h({symbolLayers:[k.fromSimpleLineSymbol(a)]})};var h;d.__decorate([m.property({type:c,
json:{type:e}})],b.prototype,"symbolLayers",void 0);d.__decorate([m.enumeration({LineSymbol3D:"line-3d"})],b.prototype,"type",void 0);return b=h=d.__decorate([m.subclass("esri.symbols.LineSymbol3D")],b)}(l)})},"esri/symbols/MarkerSymbol":function(){define("require exports tslib ../core/jsonMap ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,b,d,n,p,m,k){var h=new n.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=
a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}d.__extends(b,a);b.prototype.hash=function(){return this.type+"."+this.angle+"."+this.size+"."+this.xoffset+"."+this.yoffset};d.__decorate([m.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);d.__decorate([m.property({type:h.apiValues,readOnly:!0,json:{type:h.jsonValues}})],b.prototype,"type",void 0);d.__decorate([m.property({type:Number,
cast:p.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);d.__decorate([m.property({type:Number,cast:p.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);d.__decorate([m.property({type:Number,cast:function(a){return"auto"===a?a:p.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=d.__decorate([m.subclass("esri.symbols.MarkerSymbol")],b)}(k)})},"esri/symbols/MeshSymbol3D":function(){define("require exports tslib ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,d,n,p,m,k,h){var l=n.ofType({base:null,key:"type",typeMap:{fill:k}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new l;b.type="mesh-3d";return b}d.__extends(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:p.clone(this.styleOrigin),symbolLayers:p.clone(this.symbolLayers),thumbnail:p.clone(this.thumbnail)})};var c;d.__decorate([m.property({type:l})],b.prototype,"symbolLayers",void 0);d.__decorate([m.enumeration({MeshSymbol3D:"mesh-3d"})],b.prototype,
"type",void 0);return b=c=d.__decorate([m.subclass("esri.symbols.MeshSymbol3D")],b)}(h)})},"esri/symbols/PictureFillSymbol":function(){define("require exports tslib ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(a,b,d,n,p,m,k,h){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=1;b.width=12;b.height=12;b.xoffset=
0;b.yoffset=0;b.source=null;return b}d.__extends(b,a);e=b;b.prototype.normalizeCtorArgs=function(a,b,c,e){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);b&&(d.outline=b);null!=c&&(d.width=p.toPt(c));null!=e&&(d.height=p.toPt(e));return d};b.prototype.clone=function(){var a=new e({color:n.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});
a._set("source",n.clone(this.source));return a};b.prototype.hash=function(){return a.prototype.hash.call(this)+"."+this.color.hash()+"."+this.height+"."+this.url+"."+this.width+"."+this.xoffset+"."+this.xscale+"."+this.yoffset+"."+this.yscale};var e;d.__decorate([m.enumeration({esriPFS:"picture-fill"})],b.prototype,"type",void 0);d.__decorate([m.property(h.urlPropertyDefinition)],b.prototype,"url",void 0);d.__decorate([m.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);d.__decorate([m.property({type:Number,
json:{write:!0}})],b.prototype,"yscale",void 0);d.__decorate([m.property({type:Number,cast:p.toPt,json:{write:!0}})],b.prototype,"width",void 0);d.__decorate([m.property({type:Number,cast:p.toPt,json:{write:!0}})],b.prototype,"height",void 0);d.__decorate([m.property({type:Number,cast:p.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);d.__decorate([m.property({type:Number,cast:p.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);d.__decorate([m.property(h.sourcePropertyDefinition)],b.prototype,
"source",void 0);return b=e=d.__decorate([m.subclass("esri.symbols.PictureFillSymbol")],b)}(k)})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils","../../support/persistableUrlUtils"],function(a,b,d,n){function p(a,b,c){return b.imageData?d.makeData({mediaType:b.contentType||"image/png",isBase64:!0,data:b.imageData}):m(b.url,c)}function m(a,b){return!b||"service"!==b.origin&&"portal-item"!==b.origin||!b.layer||"feature"!==b.layer.type&&"stream"!==b.layer.type||
d.isAbsolute(a)||!b.layer.parsedUrl?n.fromJSON(a,b):d.join(b.layer.parsedUrl.path,"images",a)}function k(a,b,c,e){d.isDataProtocol(a)?(a=d.dataComponents(a),b.contentType=a.mediaType,b.imageData=a.data,c&&c.imageData===b.imageData&&c.url&&n.write(c.url,b,"url",e)):n.write(a,b,"url",e)}Object.defineProperty(b,"__esModule",{value:!0});b.readImageDataOrUrl=p;b.read=m;b.writeImageDataAndUrl=k;b.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:p},write:{writer:function(a,b,c,e){k(a,
b,this.source,e)}}}};b.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,b,c){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=m(b.url,c));return a}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports tslib ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(a,b,d,n,p,m,k,h){return function(a){function b(){for(var b=
[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.color=null;b.type="picture-marker";b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}d.__extends(b,a);e=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var e={};a&&(e.url=a);null!=b&&(e.width=p.toPt(b));null!=c&&(e.height=p.toPt(c));return e};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=
function(){var a=new e({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});a._set("source",n.clone(this.source));return a};b.prototype.hash=function(){return a.prototype.hash.call(this)+"."+this.height+"."+this.url+"."+this.width};var e;d.__decorate([m.property({json:{write:!1}})],b.prototype,"color",void 0);d.__decorate([m.enumeration({esriPMS:"picture-marker"})],b.prototype,"type",void 0);d.__decorate([m.property(h.urlPropertyDefinition)],
b.prototype,"url",void 0);d.__decorate([m.property(h.sourcePropertyDefinition)],b.prototype,"source",void 0);d.__decorate([m.property({type:Number,cast:p.toPt,json:{write:!0}})],b.prototype,"height",void 0);d.__decorate([m.reader("height",["height","size"])],b.prototype,"readHeight",null);d.__decorate([m.property({type:Number,cast:p.toPt,json:{write:!0}})],b.prototype,"width",void 0);d.__decorate([m.property({json:{write:!1}})],b.prototype,"size",void 0);return b=e=d.__decorate([m.subclass("esri.symbols.PictureMarkerSymbol")],
b)}(k)})},"esri/symbols/PointSymbol3D":function(){define("require exports tslib ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,d,n,p,m,k,h,l,c,e,r,g){var q=n.ofType({base:null,key:"type",typeMap:{icon:h,object:l,text:e}}),f=n.ofType({base:null,key:"type",typeMap:{icon:h,object:l}});return function(a){function b(b){b=
a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new q;b.type="point-3d";return b}d.__extends(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,e){var d=a.filter(function(a){return"text"!==a.type});e&&e.messages&&d.length<a.length&&(a=a.find(function(a){return"text"===a.type}),e.messages.push(new p("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=d.map(function(a){return a.write({},e)}).toArray()};b.prototype.supportsCallout=
function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return r.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return r.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:m.clone(this.verticalOffset),callout:m.clone(this.callout),styleOrigin:m.clone(this.styleOrigin),
symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromSimpleMarkerSymbol=function(a){return new c({symbolLayers:[h.fromSimpleMarkerSymbol(a)]})};b.fromPictureMarkerSymbol=function(a){return new c({symbolLayers:[h.fromPictureMarkerSymbol(a)]})};b.fromCIMSymbol=function(a){return new c({symbolLayers:[h.fromCIMSymbol(a)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})};b.fromTextSymbol=function(a){return new c({symbolLayers:[e.fromTextSymbol(a)]})};
var c;d.__decorate([k.property({type:g.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);d.__decorate([k.property(r.calloutProperty)],b.prototype,"callout",void 0);d.__decorate([k.property({type:q,json:{type:f,origins:{"web-scene":{type:f}}}})],b.prototype,"symbolLayers",void 0);d.__decorate([k.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);d.__decorate([k.enumeration({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=d.__decorate([k.subclass("esri.symbols.PointSymbol3D")],
b)}(c)})},"esri/symbols/PolygonSymbol3D":function(){define("require exports tslib ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),function(a,b,d,n,p,m,k,h,l,c,e,r,g,q,f,t){var u=n.ofType({base:null,key:"type",typeMap:{extrude:l,fill:c,icon:e,line:r,object:g,text:f,water:t}}),z=n.ofType({base:null,
key:"type",typeMap:{extrude:l,fill:c,icon:e,line:r,object:g,water:t}});return function(a){function b(b){b=a.call(this,b)||this;b.type="polygon-3d";return b}d.__extends(b,a);e=b;b.prototype.writeSymbolLayers=function(a,b,c,e){var d=a.filter(function(a){return"text"!==a.type});e&&e.messages&&d.length<a.length&&(a=a.find(function(a){return"text"===a.type}),e.messages.push(new p("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=d.map(function(a){return a.write({},
e)}).toArray()};b.prototype.clone=function(){return new e({styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new e;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var c=b.symbolLayers.getItemAt(0),d=b.symbolLayers.getItemAt(1);!d.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(c.outline={size:d.size,
color:k.isSome(d.material)?d.material.color:null});b.symbolLayers.removeAt(1)}return b};b.fromSimpleFillSymbol=function(a){return new e({symbolLayers:[c.fromSimpleFillSymbol(a)]})};var e;d.__decorate([h.property({type:u,json:{type:z}})],b.prototype,"symbolLayers",void 0);d.__decorate([h.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);d.__decorate([h.enumeration({PolygonSymbol3D:"polygon-3d"})],b.prototype,"type",void 0);return b=e=d.__decorate([h.subclass("esri.symbols.PolygonSymbol3D")],
b)}(q)})},"esri/symbols/SimpleFillSymbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(a,b,d,n,p,m,k,h,l){var c=new p.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function b(){for(var b=
[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.color=new n([0,0,0,.25]);b.outline=new l;b.type="simple-fill";b.style="solid";return b}d.__extends(b,a);e=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var e={};a&&(e.style=a);b&&(e.outline=b);c&&(e.color=c);return e};b.prototype.clone=function(){return new e({color:m.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};b.prototype.hash=function(){return""+a.prototype.hash.call(this)+
this.style+"."+(this.color&&this.color.hash())};var e;d.__decorate([k.property()],b.prototype,"color",void 0);d.__decorate([k.property()],b.prototype,"outline",void 0);d.__decorate([k.enumeration({esriSFS:"simple-fill"})],b.prototype,"type",void 0);d.__decorate([k.property({type:c.apiValues,json:{read:c.read,write:c.write}})],b.prototype,"style",void 0);return b=e=d.__decorate([k.subclass("esri.symbols.SimpleFillSymbol")],b)}(h)})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports tslib ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,d,n,p,m,k,h,l,c){var e=new p.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(a){function b(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];b=a.apply(this,b)||this;b.color=new n([255,255,255,.25]);b.type="simple-marker";b.size=12;b.style="circle";b.outline=new c;return b}d.__extends(b,a);l=b;b.prototype.normalizeCtorArgs=function(a,b,c,e){if(a&&
"string"!==typeof a)return a;var d={};a&&(d.style=a);null!=b&&(d.size=k.toPt(b));c&&(d.outline=c);e&&(d.color=e);return d};b.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON());null===a&&(b.color=null)};Object.defineProperty(b.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new l({angle:this.angle,color:m.clone(this.color),outline:this.outline&&this.outline.clone(),
path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){var b;return a.prototype.hash.call(this)+"."+(this.color&&this.color.hash())+"."+this.path+"."+this.style+"."+(null===(b=this.outline)||void 0===b?void 0:b.hash())};var l;d.__decorate([h.property()],b.prototype,"color",void 0);d.__decorate([h.writer("color")],b.prototype,"writeColor",null);d.__decorate([h.enumeration({esriSMS:"simple-marker"})],b.prototype,"type",void 0);d.__decorate([h.property()],
b.prototype,"size",void 0);d.__decorate([h.property({type:e.apiValues,json:{read:e.read,write:e.write}})],b.prototype,"style",void 0);d.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"path",null);d.__decorate([h.property({type:c,json:{default:null,write:!0}})],b.prototype,"outline",void 0);return b=l=d.__decorate([h.subclass("esri.symbols.SimpleMarkerSymbol")],b)}(l)})},"esri/symbols/TextSymbol":function(){define("require exports tslib ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),
function(a,b,d,n,p,m,k,h,l){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new h;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;b.lineWidth=192;b.lineHeight=1;return b}d.__extends(b,a);c=b;b.prototype.normalizeCtorArgs=
function(a,b,c){if(a&&"string"!==typeof a)return a;var e={};a&&(e.text=a);b&&(e.font=b);c&&(e.color=c);return e};b.prototype.writeLineWidth=function(a,b,c,e){e&&"string"!==typeof e||(b[c]=a)};b.prototype.castLineWidth=function(a){return m.toPt(a)};b.prototype.writeLineHeight=function(a,b,c,e){e&&"string"!==typeof e||(b[c]=a)};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:p.clone(this.backgroundColor),borderLineColor:p.clone(this.borderLineColor),borderLineSize:this.borderLineSize,
color:p.clone(this.color),font:this.font&&this.font.clone(),haloColor:p.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){return(this.backgroundColor&&this.backgroundColor.hash())+"."+this.borderLineColor+
"."+this.borderLineSize+"."+this.color.hash()+"."+(this.font&&this.font.hash())+"."+(this.haloColor&&this.haloColor.hash())+"."+this.haloSize+"."+this.horizontalAlignment+"."+this.kerning+"."+this.rightToLeft+"."+this.rotated+"."+this.text+"."+this.verticalAlignment+"."+this.width+"."+this.xoffset+"."+this.yoffset+"."+this.lineHeight+"."+this.lineWidth+"."+this.angle};var c;d.__decorate([k.property({type:n,json:{write:!0}})],b.prototype,"backgroundColor",void 0);d.__decorate([k.property({type:n,json:{write:!0}})],
b.prototype,"borderLineColor",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"borderLineSize",void 0);d.__decorate([k.property({type:h,json:{write:!0}})],b.prototype,"font",void 0);d.__decorate([k.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);d.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);d.__decorate([k.property({type:n,json:{write:!0}})],b.prototype,"haloColor",
void 0);d.__decorate([k.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);d.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"rightToLeft",void 0);d.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);d.__decorate([k.property({type:String,readOnly:!0})],b.prototype,"type",void 0);d.__decorate([k.property({type:["baseline","top",
"middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0);d.__decorate([k.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);d.__decorate([k.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);d.__decorate([k.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);d.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"width",
void 0);d.__decorate([k.property({type:Number})],b.prototype,"lineWidth",void 0);d.__decorate([k.writer("lineWidth")],b.prototype,"writeLineWidth",null);d.__decorate([k.cast("lineWidth")],b.prototype,"castLineWidth",null);d.__decorate([k.property({type:Number})],b.prototype,"lineHeight",void 0);d.__decorate([k.writer("lineHeight")],b.prototype,"writeLineHeight",null);return b=c=d.__decorate([k.subclass("esri.symbols.TextSymbol")],b)}(l)})},"esri/symbols/WebStyleSymbol":function(){define("require exports tslib ../core/jsonMap ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators ../portal/Portal ../support/persistableUrlUtils ./Symbol ./support/Thumbnail @dojo/framework/shim/Promise".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e){function r(){return new Promise(function(b,c){a(["./support/styleUtils"],b,c)})}var g=p.getLogger("esri.symbols.WebStyleSymbol"),q=n.strict()({styleSymbolReference:"web-style"});return function(a){function b(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}d.__extends(b,a);c=b;b.prototype.read=function(b,c){this.portal=c?c.portal:void 0;a.prototype.read.call(this,b,c)};b.prototype.clone=
function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};b.prototype.fetchSymbol=function(a){return this._fetchSymbol("webRef",a)};b.prototype.fetchCIMSymbol=function(a){return this._fetchSymbol("cimRef",a)};b.prototype._fetchSymbol=function(a,b){return d.__awaiter(this,void 0,void 0,function(){var c,e;return d.__generator(this,function(d){switch(d.label){case 0:return[4,r()];case 1:return c=d.sent(),m.throwIfAborted(b),e=c.resolveWebStyleSymbol(this,
{portal:this.portal},a,b),e.catch(function(a){g.error("#fetchSymbol()","Failed to create symbol from style",a)}),[2,e]}})})};var c;d.__decorate([k.property({json:{write:!1}})],b.prototype,"color",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"styleName",void 0);d.__decorate([k.property({type:h,json:{write:!1}})],b.prototype,"portal",void 0);d.__decorate([k.property({type:String,json:{read:l.read,write:l.write}})],b.prototype,"styleUrl",void 0);d.__decorate([k.property({type:e.default,
json:{read:!1}})],b.prototype,"thumbnail",void 0);d.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);d.__decorate([k.property({type:q.apiValues,readOnly:!0,json:{type:q.jsonValues,read:!1,write:q.write}})],b.prototype,"type",void 0);return b=c=d.__decorate([k.subclass("esri.symbols.WebStyleSymbol")],b)}(c)})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Logger ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(a,b,d,n,p,m,k,h,l,c,e,r,g,q,f,t,u,z,v,B,y){function x(a,b,c){b=a?A[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;a&&(b="Symbols of type '"+(a.type||"unknown")+"' are not supported",c&&c.messages&&c.messages.push(new p("symbol:unsupported",b,{definition:a,context:c})),D.error(b));return null}function w(a,b,c){if(!a)return null;if(!(!c||"web-scene"!==c.origin||a instanceof u||a instanceof v)){var e="cim"!==a.type?y.to3D(a):{symbol:null,error:new d("symbol-conversion:unsupported-cim-symbol",
"CIM symbol is unsupported in web scenes",{symbol:a})};if(e.symbol)return e.symbol.write(b,c);c.messages&&c.messages.push(new d("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:e.error}));return null}return c&&"web-map"===c.origin&&"web-style"===a.type?(c.messages&&c.messages.push(new d("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.",
{symbol:a,context:c})),null):a.write(b,c)}Object.defineProperty(b,"__esModule",{value:!0});var A={esriSMS:t,esriPMS:e,esriTS:z,esriSLS:f,esriSFS:q,esriPFS:c,PointSymbol3D:r,LineSymbol3D:h,PolygonSymbol3D:g,MeshSymbol3D:l,LabelSymbol3D:k,styleSymbolReference:v,CIMSymbolReference:m},D=n.getLogger("esri.symbols.support.jsonUtils");b.read=x;b.writeTarget=function(a,b,c,e){(a=w(a,{},e))&&(b[c]=a)};b.write=w;b.fromJSON=function(a,b){return x(a,null,b)};b.readCallout3D=function(a,b){if(!a||!a.type)return null;
var c=null;switch(a.type){case "line":c=new B}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],function(a,b,d,n){Object.defineProperty(b,"__esModule",{value:!0});b.to3D=function(a,b,k,h){void 0===b&&(b=!1);void 0===k&&(k=!1);void 0===h&&(h=!0);if(!a)return{symbol:null};if(d.isSymbol3D(a)||a instanceof d.WebStyleSymbol)h=a.clone();else if("cim"===a.type)h=d.PointSymbol3D.fromCIMSymbol(a);else if(a instanceof
d.SimpleLineSymbol)h=d.LineSymbol3D.fromSimpleLineSymbol(a);else if(a instanceof d.SimpleMarkerSymbol)h=d.PointSymbol3D.fromSimpleMarkerSymbol(a);else if(a instanceof d.PictureMarkerSymbol)h=d.PointSymbol3D.fromPictureMarkerSymbol(a);else if(a instanceof d.SimpleFillSymbol)h=d.PolygonSymbol3D.fromSimpleFillSymbol(a);else if(a instanceof d.TextSymbol)h=h?d.LabelSymbol3D.fromTextSymbol(a):d.PointSymbol3D.fromTextSymbol(a);else return{error:new n("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+
(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};b&&(h.id=a.id);if(k&&d.isSymbol3D(h))for(a=0;a<h.symbolLayers.length;++a)h.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:h}}})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../../core/maybe","../Extent","./aaBoundingRect"],function(a,b,d,n,p){function m(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3],a[4],a[5]]}function k(a,b,c,e,d,g,h){void 0===h&&(h=m());h[0]=a;h[1]=b;h[2]=c;h[3]=e;
h[4]=d;h[5]=g;return h}function h(a){return a[0]>=a[3]?0:a[3]-a[0]}function l(a){return a[1]>=a[4]?0:a[4]-a[1]}function c(a){return a[2]>=a[5]?0:a[5]-a[2]}function e(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])}function r(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function g(a){return 6===a.length}Object.defineProperty(b,"__esModule",{value:!0});b.create=m;b.fromValues=k;b.fromExtent=
function(a,b){void 0===b&&(b=m());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};b.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new n({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new n({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};b.fromMinMax=function(a,b,c){void 0===c&&(c=m());c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=b[0];c[4]=b[1];c[5]=b[2];return c};b.expandPointInPlace=function(a,b){b[0]<a[0]&&
(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};b.expand=function(a,b,c){void 0===c&&(c=a);g(b)?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.min(a[2],b[2]),c[3]=Math.max(a[3],b[3]),c[4]=Math.max(a[4],b[4]),c[5]=Math.max(a[5],b[5])):p.is(b)?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[3]=Math.max(a[3],b[2]),c[4]=Math.max(a[4],b[3])):2===b.length?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),
c[3]=Math.max(a[3],b[0]),c[4]=Math.max(a[4],b[1])):3===b.length&&(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.min(a[2],b[2]),c[3]=Math.max(a[3],b[0]),c[4]=Math.max(a[4],b[1]),c[5]=Math.max(a[5],b[2]));return c};b.expandWithBuffer=function(a,b,c,e,d){void 0===c&&(c=0);void 0===e&&(e=b.length/3);void 0===d&&(d=a);var f=a[0],g=a[1],h=a[2],k=a[3],l=a[4];a=a[5];for(var m=0;m<e;m++)f=Math.min(f,b[c+3*m]),g=Math.min(g,b[c+3*m+1]),h=Math.min(h,b[c+3*m+2]),k=Math.max(k,b[c+3*m]),l=Math.max(l,
b[c+3*m+1]),a=Math.max(a,b[c+3*m+2]);d[0]=f;d[1]=g;d[2]=h;d[3]=k;d[4]=l;d[5]=a;return d};b.expandWithOffset=function(a,b,c,e,d){void 0===d&&(d=a);d[0]=Math.min(a[0],a[0]+b);d[3]=Math.max(a[3],a[3]+b);d[1]=Math.min(a[1],a[1]+c);d[4]=Math.max(a[4],a[4]+c);d[2]=Math.min(a[2],a[2]+e);d[5]=Math.max(a[5],a[5]+e);return d};b.expandWithNestedArray=function(a,b,c,e){void 0===e&&(e=a);var d=b.length,f=a[0],g=a[1],h=a[2],k=a[3],l=a[4];a=a[5];if(c)for(c=0;c<d;c++){var m=b[c],f=Math.min(f,m[0]),g=Math.min(g,m[1]),
h=Math.min(h,m[2]),k=Math.max(k,m[0]),l=Math.max(l,m[1]);a=Math.max(a,m[2])}else for(c=0;c<d;c++)m=b[c],f=Math.min(f,m[0]),g=Math.min(g,m[1]),k=Math.max(k,m[0]),l=Math.max(l,m[1]);e[0]=f;e[1]=g;e[2]=h;e[3]=k;e[4]=l;e[5]=a;return e};b.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=h;b.depth=l;b.height=c;b.diameter=function(a){var b=h(a),e=c(a);a=l(a);return Math.sqrt(b*b+e*e+a*a)};b.center=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+h(a)/2;b[1]=a[1]+l(a)/
2;b[2]=a[2]+c(a)/2;return b};b.size=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=h(a);b[1]=l(a);b[2]=c(a);return b};b.maximumDimension=function(a){return Math.max(h(a),c(a),l(a))};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};b.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[2]>=a[2]-c&&b[0]<=a[3]+c&&b[1]<=a[4]+c&&b[2]<=a[5]+c};b.contains=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=
a[4]&&b[5]<=a[5]};b.intersects=e;b.intersectsClippingArea=function(a,b){return d.isNone(b)?!0:e(a,b)};b.offset=function(a,b,c,e,d){void 0===d&&(d=a);d[0]=a[0]+b;d[1]=a[1]+c;d[2]=a[2]+e;d[3]=a[3]+b;d[4]=a[4]+c;d[5]=a[5]+e;return d};b.getMin=function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};b.getMax=function(a,b){b[0]=a[3];b[1]=a[4];b[2]=a[5];return b};b.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c[2]=b[2];c!==a&&(c[3]=a[3],c[4]=a[4],c[5]=a[5]);return c};b.setMax=function(a,b,
c){void 0===c&&(c=a);c[3]=b[0];c[4]=b[1];c[5]=b[2];c!==a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return a};b.set=r;b.empty=function(a){return a?r(a,b.NEGATIVE_INFINITY):m(b.NEGATIVE_INFINITY)};b.toRect=function(a,b){b||(b=p.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];return b};b.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=b[2];a[4]=b[3];a[5]=Number.POSITIVE_INFINITY;return a};b.is=g;b.isPoint=function(a){return 0===h(a)&&0===l(a)&&0===c(a)};b.equals=function(a,b,c){if(d.isNone(a)||
d.isNone(b))return a===b;if(!g(a)||!g(b))return!1;if(c)for(var e=0;e<a.length;e++){if(!c(a[e],b[e]))return!1}else for(e=0;e<a.length;e++)if(a[e]!==b[e])return!1;return!0};b.wrap=function(a,b,c,e,d,g){return k(a,b,c,e,d,g,q)};b.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0,0,0];var q=m()})},"esri/layers/support/Field":function(){define("require exports tslib ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),
function(a,b,d,n,p,m,k,h,l){var c=new n.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(a){function b(b){b=a.call(this,b)||this;b.alias=null;
b.defaultValue=void 0;b.description=null;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;b.valueType=null;return b}d.__extends(b,a);e=b;b.prototype.readDescription=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(u){}return c?c.value:null};b.prototype.readValueType=function(a,b){a=b.description;var e;try{e=JSON.parse(a)}catch(u){}return e?c.fromJSON(e.fieldValueType):null};b.prototype.clone=function(){return new e({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};var e;d.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);d.__decorate([m.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);d.__decorate([m.property()],b.prototype,"description",void 0);d.__decorate([m.reader("description")],
b.prototype,"readDescription",null);d.__decorate([m.property({types:h.types,json:{read:{reader:h.fromJSON},write:!0}})],b.prototype,"domain",void 0);d.__decorate([m.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);d.__decorate([m.property({type:k.Integer,json:{write:!0}})],b.prototype,"length",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);d.__decorate([m.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);d.__decorate([m.enumeration(l.kebabDict)],
b.prototype,"type",void 0);d.__decorate([m.property()],b.prototype,"valueType",void 0);d.__decorate([m.reader("valueType",["description"])],b.prototype,"readValueType",null);return b=e=d.__decorate([m.subclass("esri.layers.support.Field")],b)}(p.JSONSupport)})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/jsonMap"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.kebabDict=new d.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",
esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["require","exports","../../core/compilerUtils","../../core/maybe"],function(a,b,d,n){function p(a,
b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++){var e=a[c],d=b[c];if(e.length!==d.length)return!1;for(var f=0;f<e.length;f++)if(e[f]!==d[f])return!1}return!0}function m(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!p(a[c],b[c]))return!1;return!0}function k(a,b){return a===b||a&&b&&a.equals(b)}function h(a,b){if(a===b)return!0;if(n.isNone(a)||n.isNone(b)||a.type!==b.type)return!1;switch(a.type){case "point":return a=
k(a.spatialReference,b.spatialReference)?a.x===b.x&&a.y===b.y&&a.z===b.z&&a.m===b.m:!1,a;case "extent":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:k(a.spatialReference,b.spatialReference)?a.xmin===b.xmin&&a.ymin===b.ymin&&a.zmin===b.zmin&&a.xmax===b.xmax&&a.ymax===b.ymax&&a.zmax===b.zmax:!1,a;case "polyline":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:k(a.spatialReference,b.spatialReference)?m(a.paths,b.paths):!1,a;case "polygon":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:k(a.spatialReference,
b.spatialReference)?m(a.rings,b.rings):!1,a;case "multipoint":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:k(a.spatialReference,b.spatialReference)?p(a.points,b.points):!1,a;case "mesh":return!1;default:d.neverReached(a)}}function l(a,b){if(a===b)return!0;if(!a||!b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(a[e]!==b[e])return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.equals=function(a,b){return a===b?!0:
null!=a&&null!=b&&a.objectId===b.objectId&&h(a.geometry,b.geometry)&&l(a.attributes,b.attributes)?!0:!1}})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../core/mathUtils ../../../core/wgs84Constants ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ./projectionUtils".split(" "),function(a,b,d,n,p,m,k,h){function l(a,c,e,h){var f,g;a instanceof k&&c instanceof k&&(e=c.longitude,h=c.latitude,g=a.latitude,f=a.longitude);
a=d.deg2rad(g);h=d.deg2rad(h);f=d.deg2rad(f);c=d.deg2rad(e);e=Math.sin((a-h)/2);f=Math.sin((f-c)/2);e=2*d.asinClamped(Math.sqrt(e*e+Math.cos(a)*Math.cos(h)*f*f))*b.earthRadius;return Math.round(1E4*e)/1E4}function c(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(b,"__esModule",{value:!0});b.earthRadius=n.wgs84Radius;b.halfEarthRadius=b.earthRadius/2;b.halfEarthCircumference=Math.PI*b.earthRadius;b.earthCircumference=2*b.halfEarthCircumference;b.metersPerDegree=b.halfEarthCircumference/
180;b.getGreatCircleDistance=l;b.getGreatCircleSpanAt=function(a,b,c){var d=b.spatialReference,e=new k(b.x,a.y,d),f=new k(c.x,a.y,d);b=new k(a.x,b.y,d);a=new k(a.x,c.y,d);return{lon:l(e,f),lat:l(b,a)}};b.getLonDeltaForDistance=function(a,c){c/=b.earthRadius;a=d.deg2rad(a);c=Math.sin(c/2);a=Math.cos(a);a=2*d.asinClamped(Math.sqrt(c*c/(a*a)));return d.rad2deg(a)};b.getLatDeltaForDistance=function(a){return d.rad2deg(a/b.earthRadius)};b.getMaxCameraAltitude=function(a){a=d.deg2rad(a/2);return(1-Math.sin(a))*
b.earthRadius/Math.sin(a)};b.getViewExtentDistance=function(a,c){c=d.deg2rad(c/2);return 2*d.acosClamped((Math.pow(a+b.earthRadius,2)+Math.pow(b.earthRadius,2)-Math.pow((a+b.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(a+b.earthRadius),2)-a*a-2*a*b.earthRadius),2))/(2*(a+b.earthRadius)*b.earthRadius))*b.earthRadius};b.computeCartesianDistance=function(a,b){a=h.wgs84ComparableLonLatToECEF(e,a.longitude,a.latitude,a.z||0);b=h.wgs84ComparableLonLatToECEF(r,b.longitude,b.latitude,b.z||0);
b=[b[0]-a[0],b[1]-a[1],b[2]-a[2]];return Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])};b.longitudeToTimezone=c;b.positionToTimezone=function(a,b){b||(b={hours:0,minutes:0,seconds:0});b.hours=c(a[0],!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};b.distanceToIdealHorizon=function(a,c){c=c||b.earthRadius;a=p.vec3.dot(a,a);return Math.sqrt(Math.abs(a-c*c))};var e=m.vec3f64.create(),r=m.vec3f64.create()})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});(function(a){a.length=function(a,b){var d=a[b],k=a[b+1];a=a[b+2];return Math.sqrt(d*d+k*k+a*a)};a.normalize=function(a,b){var d=a[b],k=a[b+1],h=a[b+2],d=1/Math.sqrt(d*d+k*k+h*h);a[b]*=d;a[b+1]*=d;a[b+2]*=d};a.scale=function(a,b,d){a[b]*=d;a[b+1]*=d;a[b+2]*=d};a.add=function(a,b,d,k,h,l){void 0===l&&(l=b);h=h||a;h[l]=a[b]+d[k];h[l+1]=a[b+1]+d[k+1];h[l+2]=a[b+2]+d[k+2]};a.subtract=function(a,b,d,k,h,l){void 0===l&&(l=b);h=h||
a;h[l]=a[b]-d[k];h[l+1]=a[b+1]-d[k+1];h[l+2]=a[b+2]-d[k+2]}})(b.Vec3Compact||(b.Vec3Compact={}))})},"*noref":1}});
define("require exports ../../../core/maybe ../../../core/promiseUtils ../../../core/typedArrayUtil ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f32 ../../../geometry/SpatialReference ./i3s/PointCloudWorkerUtil ../support/projectionUtils".split(" "),function(a,b,d,n,p,m,k,h,l,c,e,r){Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(){}a.prototype.transform=function(a){a=
this._transform(a);var b=[a.points.buffer,a.rgb.buffer];d.isSome(a.pointIdFilterMap)&&b.push(a.pointIdFilterMap.buffer);for(var c=0,e=a.attributes;c<e.length;c++){var f=e[c];"buffer"in f.values&&p.isArrayBuffer(f.values.buffer)&&f.values.buffer!==a.rgb.buffer&&b.push(f.values.buffer)}return n.resolve({result:a,transferList:b})};a.prototype._transform=function(a){var b=e.readGeometry(a.schema,a.geometryBuffer),f=b.length/3,g=null,h=[],k=e.getAttributeValues(a.primaryAttributeData,b,f);d.isSome(a.primaryAttributeData)&&
k&&h.push({attributeInfo:a.primaryAttributeData.attributeInfo,values:k});var l=e.getAttributeValues(a.modulationAttributeData,b,f);d.isSome(a.modulationAttributeData)&&l&&h.push({attributeInfo:a.modulationAttributeData.attributeInfo,values:l});k=e.evaluateRenderer(a.rendererInfo,k,l,f);a.filterInfo&&0<a.filterInfo.length&&d.isSome(a.filterAttributesData)&&(l=a.filterAttributesData.map(function(a){var c=e.getAttributeValues(a,b,f);a={attributeInfo:a.attributeInfo,values:c};h.push(a);return a}),g=new Uint32Array(f),
f=e.filterInPlace(b,k,g,a.filterInfo,l));for(var l=0,m=a.userAttributesData;l<m.length;l++){var n=m[l],p=e.getAttributeValues(n,b,f);h.push({attributeInfo:n.attributeInfo,values:p})}3*f<k.length&&(k=new Uint8Array(k.buffer.slice(0,3*f)));this._applyElevationOffsetInPlace(b,f,a.elevationOffset);l=this._transformCoordinates(b,f,a.obb,c.fromJSON(a.inSR),c.fromJSON(a.outSR));return{obb:a.obb,points:l,rgb:k,attributes:h,pointIdFilterMap:g}};a.prototype._transformCoordinates=function(a,b,c,d,e){if(!r.bufferToBuffer(a,
d,0,a,e,0,b))throw Error("Can't reproject");d=l.vec3f32.fromValues(c.center[0],c.center[1],c.center[2]);e=l.vec3f32.create();var f=l.vec3f32.create();m.quat.conjugate(q,c.quaternion);for(var g=new Float32Array(3*b),k=0;k<b;k++)e[0]=a[3*k]-d[0],e[1]=a[3*k+1]-d[1],e[2]=a[3*k+2]-d[2],h.vec3.transformQuat(f,e,q),c.halfSize[0]=Math.max(c.halfSize[0],Math.abs(f[0])),c.halfSize[1]=Math.max(c.halfSize[1],Math.abs(f[1])),c.halfSize[2]=Math.max(c.halfSize[2],Math.abs(f[2])),g[3*k]=e[0],g[3*k+1]=e[1],g[3*k+
2]=e[2];return g};a.prototype._applyElevationOffsetInPlace=function(a,b,c){if(0!==c)for(var d=0;d<b;d++)a[3*d+2]+=c};return a}(),q=k.quatf32.create();b.default=function(){return new g}});